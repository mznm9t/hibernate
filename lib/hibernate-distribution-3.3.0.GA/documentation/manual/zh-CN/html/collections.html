<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>&#31532;&nbsp;6&nbsp;&#31456;&nbsp;&#38598;&#21512;&#31867;(Collections)&#26144;&#23556;</title>
      <link rel="stylesheet" href="css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="index.html" title="HIBERNATE - &#31526;&#21512;Java&#20064;&#24815;&#30340;&#20851;&#31995;&#25968;&#25454;&#24211;&#25345;&#20037;&#21270;">
      <link rel="up" href="index.html" title="HIBERNATE - &#31526;&#21512;Java&#20064;&#24815;&#30340;&#20851;&#31995;&#25968;&#25454;&#24211;&#25345;&#20037;&#21270;">
      <link rel="prev" href="mapping-database-object.html" title="5.7.&nbsp;&#36741;&#21161;&#25968;&#25454;&#24211;&#23545;&#35937;(Auxiliary Database Objects)">
      <link rel="next" href="collections-mapping.html" title="6.2.&nbsp;&#38598;&#21512;&#26144;&#23556;&#65288; Collection mappings &#65289;">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">&#31532;&nbsp;6&nbsp;&#31456;&nbsp;&#38598;&#21512;&#31867;(Collections)&#26144;&#23556;</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="mapping-database-object.html">&#19978;&#19968;&#39029;</a>&nbsp;
               </td>
               <th width="60%" align="center">&nbsp;</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="collections-mapping.html">&#19979;&#19968;&#39029;</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="chapter" lang="zh-CN">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title"><a name="collections"></a>&#31532;&nbsp;6&nbsp;&#31456;&nbsp;&#38598;&#21512;&#31867;(Collections)&#26144;&#23556;
                  </h2>
               </div>
            </div>
         </div>
         <div class="sect1" lang="zh-CN">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="collections-persistent"></a>6.1.&nbsp;&#25345;&#20037;&#21270;&#38598;&#21512;&#31867;(Persistent collections)
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&#35201;&#27714;&#25345;&#20037;&#21270;&#38598;&#21512;&#20540;&#23383;&#27573;&#24517;&#39035;&#22768;&#26126;&#20026;&#25509;&#21475;&#65292;&#27604;&#22914;&#65306;(&#35793;&#32773;&#27880;&#65306;&#22312;&#38405;&#35835;&#26412;&#31456;&#30340;&#26102;&#20505;&#65292;&#20197;&#21518;&#25972;&#20010;&#25163;&#20876;&#30340;&#38405;&#35835;&#36807;&#31243;&#20013;&#65292;&#25105;&#20204;&#37117;&#20250;&#38754;&#20020;&#19968;&#20010;&#21517;&#35789;&#26041;&#38754;&#30340;&#38382;&#39064;&#65292;&#37027;&#23601;&#26159;&#8220;&#38598;&#21512;&#8221;&#12290;"Collections"&#21644;"Set"&#22312;&#20013;&#25991;&#37324;&#23545;&#24212;&#37117;&#34987;&#32763;&#35793;&#20026;&#8220;&#38598;&#21512;&#8221;&#65292;&#20294;&#26159;&#20182;&#20204;&#30340;&#21547;&#20041;&#24456;&#19981;&#19968;&#26679;&#12290;Collections&#26159;&#19968;&#20010;&#36229;&#38598;&#65292;Set&#26159;&#20854;&#20013;&#30340;&#19968;&#31181;&#12290;&#22823;&#37096;&#20998;&#24773;&#20917;&#19979;&#65292;&#26412;&#35793;&#31295;&#20013;&#27867;&#25351;&#30340;&#26410;&#21152;&#33521;&#25991;&#27880;&#26126;&#30340;&#8220;&#38598;&#21512;&#8221;&#65292;&#37117;&#24212;&#24403;&#29702;&#35299;&#20026;&#8220;Collections&#8221;&#12290;&#22312;&#26377;&#20123;&#20108;&#32773;&#21516;&#26102;&#20986;&#29616;&#65292;&#21487;&#33021;&#36896;&#25104;&#28151;&#28102;&#30340;&#22320;&#26041;&#65292;&#25105;&#20204;&#29992;&#8220;&#38598;&#21512;&#31867;&#8221;&#26469;&#29305;&#25351;&#8220;Collecions&#8221;,&#8220;&#38598;&#21512;(Set)&#8221;&#26469;&#25351;"Set"&#65292;&#19968;&#33324;&#37117;&#20250;&#22312;&#21518;&#38754;&#30340;&#25324;&#21495;&#20013;&#32473;&#20986;&#33521;&#25991;&#12290;&#24076;&#26395;&#22823;&#23478;&#22312;&#38405;&#35835;&#26102;&#32852;&#31995;&#19978;&#19979;&#25991;&#29702;&#35299;&#65292;&#19981;&#35201;&#36896;&#25104;&#35823;&#35299;&#12290;
               &#19982;&#27492;&#21516;&#26102;&#65292;&#8220;&#20803;&#32032;&#8221;&#19968;&#35789;&#23545;&#24212;&#30340;&#33521;&#25991;&#8220;element&#8221;&#65292;&#20063;&#26377;&#20004;&#20010;&#19981;&#21516;&#30340;&#21547;&#20041;&#12290;&#20854;&#19968;&#20026;&#38598;&#21512;&#30340;&#20803;&#32032;&#65292;&#26159;&#20869;&#23384;&#20013;&#30340;&#19968;&#20010;&#21464;&#37327;&#65307;&#21478;&#19968;&#21547;&#20041;&#21017;&#26159;XML&#25991;&#26723;&#20013;&#30340;&#19968;&#20010;&#26631;&#31614;&#25152;&#20195;&#34920;&#30340;&#20803;&#32032;&#12290;&#20063;&#35831;&#27880;&#24847;&#21306;&#21035;&#12290; &#26412;&#31456;&#20013;,&#29305;&#21035;&#26159;&#21518;&#21322;&#37096;&#20998;&#26159;&#38656;&#35201;&#21453;&#22797;&#38405;&#35835;&#25165;&#33021;&#29702;&#35299;&#28165;&#26970;&#30340;&#12290;&#22914;&#26524;&#36935;&#21040;&#20219;&#20309;&#30097;&#38382;,&#35831;&#35760;&#20303;,&#33521;&#25991;&#29256;&#26412;&#30340;reference&#26159;&#24799;&#19968;&#26631;&#20934;&#30340;&#21442;&#32771;&#36164;&#26009;&#12290;)
               
            </p><pre class="programlisting">public class Product {
    private String serialNumber;
    private Set parts = new HashSet();
    
    public Set getParts() { return parts; }
    void setParts(Set parts) { this.parts = parts; }
    public String getSerialNumber() { return serialNumber; }
    void setSerialNumber(String sn) { serialNumber = sn; }
}</pre><p>&#23454;&#38469;&#30340;&#25509;&#21475;&#21487;&#33021;&#26159;<code class="literal">java.util.Set</code>, <code class="literal">java.util.Collection</code>, <code class="literal">java.util.List</code>, <code class="literal">java.util.Map</code>, <code class="literal">java.util.SortedSet</code>, <code class="literal">java.util.SortedMap</code> &#25110;&#32773;...&#20219;&#20309;&#20320;&#21916;&#27426;&#30340;&#31867;&#22411;&#65281;("&#20219;&#20309;&#20320;&#21916;&#27426;&#30340;&#31867;&#22411;" &#20195;&#34920;&#20320;&#38656;&#35201;&#32534;&#20889; <code class="literal">org.hibernate.usertype.UserCollectionType</code>&#30340;&#23454;&#29616;.) 
            </p>
            <p>&#27880;&#24847;&#25105;&#20204;&#26159;&#22914;&#20309;&#29992;&#19968;&#20010;<code class="literal">HashSet</code>&#23454;&#20363;&#26469;&#21021;&#22987;&#21270;&#23454;&#20363;&#21464;&#37327;&#30340;.&#36825;&#26159;&#29992;&#20110;&#21021;&#22987;&#21270;&#26032;&#21019;&#24314;(&#23578;&#26410;&#25345;&#20037;&#21270;)&#30340;&#31867;&#23454;&#20363;&#20013;&#38598;&#21512;&#20540;&#23646;&#24615;&#30340;&#26368;&#20339;&#26041;&#27861;&#12290;&#24403;&#20320;&#25345;&#20037;&#21270;&#36825;&#20010;&#23454;&#20363;&#26102;&#8212;&#8212;&#27604;&#22914;&#36890;&#36807;&#35843;&#29992;<code class="literal">persist()</code>&#8212;&#8212;Hibernate &#20250;&#33258;&#21160;&#25226;<code class="literal">HashSet</code>&#26367;&#25442;&#20026;Hibernate&#33258;&#24049;&#30340;<code class="literal">Set</code>&#23454;&#29616;&#12290;&#35266;&#23519;&#19979;&#38754;&#30340;&#38169;&#35823;&#65306; 
            </p><pre class="programlisting">Cat cat = new DomesticCat();
Cat kitten = new DomesticCat();
....
Set kittens = new HashSet();
kittens.add(kitten);
cat.setKittens(kittens);
session.persist(cat);
kittens = cat.getKittens(); // Okay, kittens collection is a Set
(HashSet) cat.getKittens(); // Error!</pre><p>&#26681;&#25454;&#19981;&#21516;&#30340;&#25509;&#21475;&#31867;&#22411;&#65292;&#34987;Hibernate&#27880;&#23556;&#30340;&#25345;&#20037;&#21270;&#38598;&#21512;&#31867;&#30340;&#34920;&#29616;&#31867;&#20284;<code class="literal">HashMap</code>, <code class="literal">HashSet</code>, <code class="literal">TreeMap</code>, <code class="literal">TreeSet</code> or <code class="literal">ArrayList</code>&#12290; 
            </p>
            <p>&#38598;&#21512;&#31867;&#23454;&#20363;&#20855;&#26377;&#20540;&#31867;&#22411;&#30340;&#36890;&#24120;&#34892;&#20026;&#12290;&#24403;&#34987;&#25345;&#20037;&#21270;&#23545;&#35937;&#24341;&#29992;&#21518;&#65292;&#20182;&#20204;&#20250;&#33258;&#21160;&#34987;&#25345;&#20037;&#21270;&#65292;&#24403;&#19981;&#20877;&#34987;&#24341;&#29992;&#21518;&#65292;&#33258;&#21160;&#34987;&#21024;&#38500;&#12290;&#20551;&#33509;&#23454;&#20363;&#34987;&#20174;&#19968;&#20010;&#25345;&#20037;&#21270;&#23545;&#35937;&#20256;&#36882;&#21040;&#21478;&#19968;&#20010;&#65292;&#23427;&#30340;&#20803;&#32032;&#21487;&#33021;&#20174;&#19968;&#20010;&#34920;&#36716;&#31227;&#21040;&#21478;&#19968;&#20010;&#34920;&#12290;&#20004;&#20010;&#23454;&#20307;&#19981;&#33021;&#20849;&#20139;&#21516;&#19968;&#20010;&#38598;&#21512;&#31867;&#23454;&#20363;&#30340;&#24341;&#29992;&#12290;&#22240;&#20026;&#24213;&#23618;&#20851;&#31995;&#25968;&#25454;&#24211;&#27169;&#22411;&#30340;&#21407;&#22240;&#65292;&#38598;&#21512;&#20540;&#23646;&#24615;&#26080;&#27861;&#25903;&#25345;&#31354;&#20540;&#35821;&#20041;&#65307;Hibernate&#23545;&#31354;&#30340;&#38598;&#21512;&#24341;&#29992;&#21644;&#31354;&#38598;&#21512;&#19981;&#21152;&#21306;&#21035;&#12290;
               
            </p>
            <p>&#20320;&#19981;&#38656;&#35201;&#36807;&#22810;&#30340;&#20026;&#27492;&#25285;&#24515;&#12290;&#23601;&#22914;&#21516;&#20320;&#24179;&#26102;&#20351;&#29992;&#26222;&#36890;&#30340;Java&#38598;&#21512;&#31867;&#19968;&#26679;&#26469;&#20351;&#29992;&#25345;&#20037;&#21270;&#38598;&#21512;&#31867;&#12290;&#21482;&#26159;&#35201;&#30830;&#35748;&#20320;&#29702;&#35299;&#20102;&#21452;&#21521;&#20851;&#32852;&#30340;&#35821;&#20041;&#65288;&#21518;&#25991;&#35752;&#35770;&#65289;&#12290; </p>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="mapping-database-object.html">&#19978;&#19968;&#39029;</a>&nbsp;
               </td>
               <td width="20%" align="center">&nbsp;</td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="collections-mapping.html">&#19979;&#19968;&#39029;</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">5.7.&nbsp;&#36741;&#21161;&#25968;&#25454;&#24211;&#23545;&#35937;(Auxiliary Database Objects)&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td>
               <td width="40%" align="right" valign="top">&nbsp;6.2.&nbsp;&#38598;&#21512;&#26144;&#23556;&#65288; Collection mappings &#65289;</td>
            </tr>
         </table>
      </div>
   </body>
</html>