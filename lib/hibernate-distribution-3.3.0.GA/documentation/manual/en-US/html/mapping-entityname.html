<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>5.3.&nbsp;Mapping a class more than once</title>
      <link rel="stylesheet" href="css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="index.html" title="HIBERNATE - Relational Persistence for Idiomatic Java">
      <link rel="up" href="mapping.html" title="Chapter&nbsp;5.&nbsp;Basic O/R Mapping">
      <link rel="prev" href="mapping-types.html" title="5.2.&nbsp;Hibernate Types">
      <link rel="next" href="mapping-quotedidentifiers.html" title="5.4.&nbsp;SQL quoted identifiers">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">5.3.&nbsp;Mapping a class more than once</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="mapping-types.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Chapter&nbsp;5.&nbsp;Basic O/R Mapping</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="mapping-quotedidentifiers.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="sect1" lang="en-US">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="mapping-entityname"></a>5.3.&nbsp;Mapping a class more than once
                  </h2>
               </div>
            </div>
         </div>
         <p>
                        It is possible to provide more than one mapping for a particular persistent class. In this
                        case you must specify an <span class="emphasis"><em>entity name</em></span> do disambiguate between instances
                        of the two mapped entities. (By default, the entity name is the same as the class name.)
                        Hibernate lets you specify the entity name when working with persistent objects, when writing
                        queries, or when mapping associations to the named entity.
                    
         </p><pre class="programlisting">&lt;class name="Contract" table="Contracts"
        entity-name="CurrentContract"&gt;
    ...
    &lt;set name="history" inverse="true"
            order-by="effectiveEndDate desc"&gt;
        &lt;key column="currentContractId"/&gt;
        &lt;one-to-many entity-name="HistoricalContract"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Contract" table="ContractHistory"
        entity-name="HistoricalContract"&gt;
    ...
    &lt;many-to-one name="currentContract"
            column="currentContractId"
            entity-name="CurrentContract"/&gt;
&lt;/class&gt;</pre><p>
                        Notice how associations are now specified using <code class="literal">entity-name</code> instead of
                        <code class="literal">class</code>.
                    
         </p>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="mapping-types.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="mapping.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="mapping-quotedidentifiers.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">5.2.&nbsp;Hibernate Types&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;5.4.&nbsp;SQL quoted identifiers</td>
            </tr>
         </table>
      </div>
   </body>
</html>