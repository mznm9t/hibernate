<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>HIBERNATE - Relational Persistence for Idiomatic Java</title>
      <link rel="stylesheet" href="css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="book" lang="ja-JP">
         <div class="titlepage">
            <div>
               <div>
                  <h1 class="title"><a name="d0e2"></a>HIBERNATE - Relational Persistence for Idiomatic Java
                  </h1>
               </div>
               <div>
                  <h2 class="subtitle">Hibernate Reference Documentation</h2>
               </div>
               <div>
                  <p class="releaseinfo">3.3.0.GA</p>
               </div>
               <div>
                  <p class="copyright">&#35069;&#20316;&#33879;&#20316; &copy; 2004 Red Hat Middleware, LLC.</p>
               </div>
               <div>
                  <div class="legalnotice"><a name="Legal_Notice"></a><p class="legalnotice-title"><b>Legal Notice</b></p>
                     <p>
                                
                     </p>
                     <div class="address">
                        <p><span class="street">1801&nbsp;Varsity&nbsp;Drive</span>&nbsp;<span class="city">Raleigh</span>,&nbsp;<span class="state">NC</span><span class="postcode">27606-2072</span><span class="country">USA</span>&nbsp;<span class="phone">Phone:&nbsp;+1&nbsp;919&nbsp;754&nbsp;3700</span>&nbsp;<span class="phone">Phone:&nbsp;888&nbsp;733&nbsp;4281</span>&nbsp;<span class="fax">Fax:&nbsp;+1&nbsp;919&nbsp;754&nbsp;3701</span>&nbsp;<span class="pob">PO&nbsp;Box&nbsp;13588</span><span class="city">Research&nbsp;Triangle&nbsp;Park</span>,&nbsp;<span class="state">NC</span><span class="postcode">27709</span><span class="country">USA</span>&nbsp;
                        </p>
                     </div>
                     <p>
                            
                     </p>
                     <p>Copyright <span class="trademark"></span>&copy; 2007 by Red Hat, Inc. This copyrighted material is made available to anyone wishing to use, modify, copy, or redistribute
                        it subject to the terms and conditions of the GNU <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.gnu.org/licenses/lgpl-2.1.html" target="_top">Lesser General Public License</a>, as published by the Free Software Foundation. 
                     </p>
                     <p>Red Hat and the Red Hat "Shadow Man" logo are registered trademarks of Red Hat, Inc. in the United States and other countries.
                        
                     </p>
                     <p>All other trademarks referenced herein are the property of their respective owners. </p>
                     <p>The GPG fingerprint of the security@redhat.com key is: </p>
                     <p>CA 20 86 86 2B D6 9D FC 65 F6 EC C4 21 91 80 CD DB 42 A6 0E </p>
                  </div>
               </div>
            </div>
            <hr>
         </div>
         <div class="toc">
            <dl>
               <dt><span class="preface"><a href="#preface">&#21069;&#26360;&#12365;</a></span></dt>
               <dt><span class="chapter"><a href="#tutorial">1.  Hibernate&#12398;&#23566;&#20837;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#tutorial-intro">1.1.  &#21069;&#26360;&#12365;</a></span></dt>
                     <dt><span class="sect1"><a href="#tutorial-firstapp">1.2.  &#12497;&#12540;&#12488;1 - &#21021;&#12417;&#12390;&#12398;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#tutorial-firstapp-firstclass">1.2.1.  &#26368;&#21021;&#12398;&#12463;&#12521;&#12473;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-firstapp-mapping">1.2.2.  &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-firstapp-configuration">1.2.3.  Hibernate&#12398;&#35373;&#23450;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-firstapp-ant">1.2.4.  Ant&#12395;&#12424;&#12427;&#12499;&#12523;&#12489;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-firstapp-helpers">1.2.5.  &#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12392;&#12504;&#12523;&#12497;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-firstapp-workingpersistence">1.2.6.  &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12525;&#12540;&#12489;&#12392;&#26684;&#32013;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#tutorial-associations">1.3.  &#12497;&#12540;&#12488;2 - &#38306;&#36899;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#tutorial-associations-mappinguser">1.3.1.  Person&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-associations-unidirset">1.3.2.  &#21336;&#26041;&#21521;Set&#12505;&#12540;&#12473;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-associations-working">1.3.3.  &#38306;&#36899;&#12434;&#20685;&#12363;&#12379;&#12427;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-associations-valuecollections">1.3.4.  &#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-associations-bidirectional">1.3.5.  &#21452;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-associations-usingbidir">1.3.6.  &#21452;&#26041;&#21521;&#12522;&#12531;&#12463;&#12398;&#21205;&#20316;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#tutorial-webapp">1.4.  &#12497;&#12540;&#12488;3 - EventManager Web&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#tutorial-webapp-servlet">1.4.1.  &#22522;&#26412;&#30340;&#12394;Servlet&#12398;&#35352;&#36848;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-webapp-processing">1.4.2.  &#20966;&#29702;&#12392;&#25551;&#30011;</a></span></dt>
                           <dt><span class="sect2"><a href="#tutorial-webapp-deploy">1.4.3.  &#12487;&#12503;&#12525;&#12452;&#12392;&#12486;&#12473;&#12488;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#tutorial-summary">1.5.  &#35201;&#32004;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#architecture">2.  &#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#architecture-overview">2.1.  &#27010;&#35251;</a></span></dt>
                     <dt><span class="sect1"><a href="#architecture-states">2.2.  &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#29366;&#24907;</a></span></dt>
                     <dt><span class="sect1"><a href="#architecture-jmx">2.3.  JMX&#12392;&#12398;&#32113;&#21512;</a></span></dt>
                     <dt><span class="sect1"><a href="#architecture-jca">2.4.  JCA &#12469;&#12509;&#12540;&#12488;</a></span></dt>
                     <dt><span class="sect1"><a href="#architecture-current-session">2.5.  &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#session-configuration">3.  &#35373;&#23450;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#configuration-programmatic">3.1.  &#12503;&#12525;&#12464;&#12521;&#12512;&#19978;&#12398;&#35373;&#23450;</a></span></dt>
                     <dt><span class="sect1"><a href="#configuration-sessionfactory">3.2.  SessionFactory&#12434;&#21462;&#24471;&#12377;&#12427;</a></span></dt>
                     <dt><span class="sect1"><a href="#configuration-hibernatejdbc">3.3.  JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;</a></span></dt>
                     <dt><span class="sect1"><a href="#configuration-optional">3.4.  &#12458;&#12503;&#12471;&#12519;&#12531;&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#configuration-optional-dialects">3.4.1.  SQL &#26041;&#35328;&#65288;Dialect&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-optional-outerjoin">3.4.2.  &#22806;&#37096;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-optional-binarystreams">3.4.3.  &#12496;&#12452;&#12490;&#12522;&#12473;&#12488;&#12522;&#12540;&#12512;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-optional-cacheprovider">3.4.4.  2&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12392;&#12463;&#12456;&#12522;&#12540;&#12461;&#12515;&#12483;&#12471;&#12517;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-optional-querysubstitution">3.4.5.  &#12463;&#12456;&#12522;&#12540;&#35328;&#35486;&#12398;&#32622;&#12365;&#25563;&#12360;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-optional-statistics">3.4.6.  Hibernate &#32113;&#35336;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#configuration-logging">3.5.  &#12525;&#12462;&#12531;&#12464;</a></span></dt>
                     <dt><span class="sect1"><a href="#configuration-namingstrategy">3.6.  <code class="literal">NamingStrategy</code> &#12398;&#23455;&#35013;</a></span></dt>
                     <dt><span class="sect1"><a href="#configuration-xmlconfig">3.7.  XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;</a></span></dt>
                     <dt><span class="sect1"><a href="#configuration-j2ee">3.8.  J2EE&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12392;&#12398;&#32113;&#21512;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#configuration-optional-transactionstrategy">3.8.1.  &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#25126;&#30053;&#35373;&#23450;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-optional-jndi">3.8.2.  <code class="literal">SessionFactory</code> &#12398;JNDI&#12408;&#12398;&#30331;&#37682;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-j2ee-currentsession">3.8.3.  JTA&#12395;&#12424;&#12427;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12510;&#12493;&#12540;&#12472;&#12513;&#12531;&#12488;</a></span></dt>
                           <dt><span class="sect2"><a href="#configuration-j2ee-jmx">3.8.4.  JMX&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;</a></span></dt>
                        </dl>
                     </dd>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#persistent-classes">4.  &#27704;&#32154;&#12463;&#12521;&#12473;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#persistent-classes-pojo">4.1.  &#21336;&#32020;&#12394;POJO&#12398;&#20363;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#persistent-classes-pojo-constructor">4.1.1.  &#24341;&#25968;&#12398;&#12394;&#12356;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#23455;&#35013;&#12377;&#12427;</a></span></dt>
                           <dt><span class="sect2"><a href="#persistent-classes-pojo-identifier">4.1.2.  &#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#29992;&#24847;&#12377;&#12427;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#persistent-classes-pojo-final">4.1.3.  final&#12463;&#12521;&#12473;&#12395;&#12375;&#12394;&#12356;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#persistent-classes-pojo-accessors">4.1.4.  &#27704;&#32154;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#23550;&#12377;&#12427;&#12450;&#12463;&#12475;&#12469;&#12392;&#12511;&#12517;&#12540;&#12486;&#12540;&#12479;&#12434;&#23450;&#32681;&#12377;&#12427;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#persistent-classes-inheritance">4.2.  &#32153;&#25215;&#12398;&#23455;&#35013;</a></span></dt>
                     <dt><span class="sect1"><a href="#persistent-classes-equalshashcode">4.3.  <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12398;&#23455;&#35013;</a></span></dt>
                     <dt><span class="sect1"><a href="#persistent-classes-dynamicmodels">4.4.  &#21205;&#30340;&#12514;&#12487;&#12523;</a></span></dt>
                     <dt><span class="sect1"><a href="#persistent-classes-tuplizers">4.5.  Tuplizer</a></span></dt>
                     <dt><span class="sect1"><a href="#persistent-classes-extensions">4.6.  Extentsions</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#mapping">5.  &#22522;&#26412;&#30340;&#12394;O/R&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#mapping-declaration">5.1.  &#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#mapping-declaration-doctype">5.1.1.  Doctype</a></span></dt>
                           <dd>
                              <dl>
                                 <dt><span class="sect3"><a href="#mapping-declaration-entity-resolution">5.1.1.1.  &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12539;&#12522;&#12478;&#12523;&#12496;</a></span></dt>
                              </dl>
                           </dd>
                           <dt><span class="sect2"><a href="#mapping-declaration-mapping">5.1.2.  hibernate-mapping</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-class">5.1.3.  class</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-id">5.1.4.  id</a></span></dt>
                           <dd>
                              <dl>
                                 <dt><span class="sect3"><a href="#mapping-declaration-id-generator">5.1.4.1.  &#12472;&#12455;&#12493;&#12524;&#12540;&#12479;</a></span></dt>
                                 <dt><span class="sect3"><a href="#mapping-declaration-id-hilo">5.1.4.2.  Hi/lo &#12450;&#12523;&#12468;&#12522;&#12474;&#12512;</a></span></dt>
                                 <dt><span class="sect3"><a href="#mapping-declaration-id-uuid">5.1.4.3.  UUID &#12450;&#12523;&#12468;&#12522;&#12474;&#12512;</a></span></dt>
                                 <dt><span class="sect3"><a href="#mapping-declaration-id-sequences">5.1.4.4.  &#35672;&#21029;&#23376;&#12459;&#12521;&#12512;&#12392;&#12471;&#12540;&#12465;&#12531;&#12473;</a></span></dt>
                                 <dt><span class="sect3"><a href="#mapping-declaration-id-assigned">5.1.4.5.  &#35672;&#21029;&#23376;&#12398;&#21106;&#12426;&#24403;&#12390;</a></span></dt>
                                 <dt><span class="sect3"><a href="#mapping-declaration-id-select">5.1.4.6.  &#12488;&#12522;&#12460;&#12395;&#12424;&#12426;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12383;&#20027;&#12461;&#12540;</a></span></dt>
                              </dl>
                           </dd>
                           <dt><span class="sect2"><a href="#mapping-declaration-id-enhanced">5.1.5.  Enhanced identifier generators</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-id-enhanced-optimizers">5.1.6.  Identifier generator optimization</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-compositeid">5.1.7.  composite-id</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-discriminator">5.1.8.  discriminator</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-version">5.1.9.  version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-timestamp">5.1.10.  timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-property">5.1.11.  property</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-manytoone">5.1.12.  many-to-one</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-onetoone">5.1.13.  one-to-one</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-naturalid">5.1.14.  natural-id</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-component">5.1.15.  component, dynamic-component</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-properties">5.1.16.  properties</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-subclass">5.1.17.  subclass</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-joinedsubclass">5.1.18.  joined-subclass</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-unionsubclass">5.1.19.  union-subclass</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-join">5.1.20.  join</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-key">5.1.21.  key</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-column">5.1.22.  column &#12392; formula &#35201;&#32032;</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-declaration-import">5.1.23.  import</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-types-anymapping">5.1.24.  any</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#mapping-types">5.2.  Hibernate&#12398;&#22411;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#mapping-types-entitiesvalues">5.2.1.  &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#20516;</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-types-basictypes">5.2.2.  &#22522;&#26412;&#30340;&#12394;&#22411;</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-types-custom">5.2.3.  &#12459;&#12473;&#12479;&#12512;&#22411;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#mapping-entityname">5.3.  &#65297;&#12388;&#12398;&#12463;&#12521;&#12473;&#12395;&#65297;&#12388;&#20197;&#19978;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                     <dt><span class="sect1"><a href="#mapping-quotedidentifiers">5.4.  &#12496;&#12483;&#12463;&#12463;&#12457;&#12540;&#12488;&#12391;&#22258;&#12435;&#12384; SQL &#35672;&#21029;&#23376;</a></span></dt>
                     <dt><span class="sect1"><a href="#mapping-alternatives">5.5.  &#12513;&#12479;&#12487;&#12540;&#12479;&#12398;&#20195;&#26367;&#25163;&#27573;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#mapping-xdoclet">5.5.1.  XDoclet &#12510;&#12540;&#12463;&#12450;&#12483;&#12503;&#12398;&#20351;&#29992;</a></span></dt>
                           <dt><span class="sect2"><a href="#mapping-annotations">5.5.2.  JDK 5.0 &#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12398;&#20351;&#29992;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#mapping-generated">5.6.  &#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;</a></span></dt>
                     <dt><span class="sect1"><a href="#mapping-database-object">5.7.  &#35036;&#21161;&#30340;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#collections">6.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#collections-persistent">6.1.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#27704;&#32154;&#21270;</a></span></dt>
                     <dt><span class="sect1"><a href="#collections-mapping">6.2.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#collections-foreignkeys">6.2.1.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#22806;&#37096;&#12461;&#12540;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-elements">6.2.2.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-indexed">6.2.3.  &#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-ofvalues">6.2.4.  &#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#22810;&#23550;&#22810;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-onetomany">6.2.5.  &#19968;&#23550;&#22810;&#38306;&#36899;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#collections-advancedmappings">6.3.  &#39640;&#24230;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65381;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#collections-sorted">6.3.1.  &#12477;&#12540;&#12488;&#12373;&#12428;&#12383;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-bidirectional">6.3.2.  &#21452;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-indexedbidirectional">6.3.3.  &#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#21452;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-ternary">6.3.4.  3&#38917;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#collections-idbag">6.3.5.  <code class="literal"><code class="literal">&lt;idbag&gt;</code>&#12398;&#20351;&#29992;</code></a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#collections-example">6.4.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#20363;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#associations">7.  &#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#assoc-intro">7.1.  &#12452;&#12531;&#12488;&#12525;&#12480;&#12463;&#12471;&#12519;&#12531;</a></span></dt>
                     <dt><span class="sect1"><a href="#assoc-unidirectional">7.2.  &#21336;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-m21">7.2.1.  &#22810;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-121">7.2.2.  &#19968;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-12m">7.2.3.  &#19968;&#23550;&#22810;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#assoc-unidirectional-join">7.3.  &#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12387;&#12383;&#21336;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-join-12m">7.3.1.  &#19968;&#23550;&#22810;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-join-m21">7.3.2.  &#22810;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-join-121">7.3.3.  &#19968;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-unidirectional-join-m2m">7.3.4.  &#22810;&#23550;&#22810;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#assoc-bidirectional">7.4.  &#21452;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#assoc-bidirectional-m21">7.4.1.  &#19968;&#23550;&#22810;/&#22810;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-bidirectional-121">7.4.2.  &#19968;&#23550;&#19968;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#assoc-bidirectional-join">7.5.  &#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12387;&#12383;&#21452;&#26041;&#21521;&#38306;&#36899;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#assoc-bidirectional-join-12m">7.5.1.  &#19968;&#23550;&#22810;/&#22810;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-bidirectional-join-121">7.5.2.  &#19968;&#23550;&#19968;</a></span></dt>
                           <dt><span class="sect2"><a href="#assoc-bidirectional-join-m2m">7.5.3.  &#22810;&#23550;&#22810;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#assoc-complex">7.6.  &#12424;&#12426;&#35079;&#38609;&#12394;&#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#components">8.  &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#components-dependentobjects">8.1.  &#20381;&#23384;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;</a></span></dt>
                     <dt><span class="sect1"><a href="#components-incollections">8.2.  &#24467;&#23646;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;</a></span></dt>
                     <dt><span class="sect1"><a href="#components-asmapindex">8.3.  Map&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12392;&#12375;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;</a></span></dt>
                     <dt><span class="sect1"><a href="#components-compositeid">8.4.  &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;</a></span></dt>
                     <dt><span class="sect1"><a href="#components-dynamic">8.5.  &#21205;&#30340;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#inheritance">9.  &#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#inheritance-strategies">9.1.  3&#12388;&#12398;&#25126;&#30053;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#inheritance-tableperclass">9.1.1.  &#12463;&#12521;&#12473;&#38542;&#23652;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-class-hierarchy&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#inheritance-tablepersubclass">9.1.2.  &#12469;&#12502;&#12463;&#12521;&#12473;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-subclass&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#inheritance-tablepersubclass-discriminator">9.1.3.  &#24321;&#21029;&#23376;&#12434;&#29992;&#12356;&#12383; table-per-subclass</a></span></dt>
                           <dt><span class="sect2"><a href="#inheritance-mixing-tableperclass-tablepersubclass">9.1.4.  table-per-subclass &#12392; table-per-class-hierarchy &#12398;&#28151;&#21512;</a></span></dt>
                           <dt><span class="sect2"><a href="#inheritance-tableperconcrete">9.1.5.  &#20855;&#35937;&#12463;&#12521;&#12473;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-concrete-class&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#inheritance-tableperconcreate-polymorphism">9.1.6.  &#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#29992;&#12356;&#12383; table-per-concrete-class</a></span></dt>
                           <dt><span class="sect2"><a href="#inheritace-mixingpolymorphism">9.1.7.  &#20182;&#12398;&#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;&#12392;&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12398;&#32068;&#12415;&#21512;&#12431;&#12379;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#inheritance-limitations">9.2.  &#21046;&#38480;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#objectstate">10.  &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25201;&#12358;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#objectstate-overview">10.1.  Hibernate&#12395;&#12362;&#12369;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-makingpersistent">10.2.  &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#27704;&#32154;&#29366;&#24907;&#12395;&#12377;&#12427;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-loading">10.3.  &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12525;&#12540;&#12489;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-querying">10.4.  &#12463;&#12456;&#12522;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#objectstate-querying-executing">10.4.1.  &#12463;&#12456;&#12522;&#12398;&#23455;&#34892;</a></span></dt>
                           <dd>
                              <dl>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-iterate">10.4.1.1.  &#32080;&#26524;&#12434;&#12452;&#12486;&#12524;&#12540;&#12488;&#12377;&#12427;</a></span></dt>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-tuples">10.4.1.2.  &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#32068;&#65288;tuple&#65289;&#12434;&#36820;&#12377;&#12463;&#12456;&#12522;</a></span></dt>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-scalar">10.4.1.3.  &#12473;&#12459;&#12521;&#12540;&#12398;&#32080;&#26524;</a></span></dt>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-parameters">10.4.1.4.  &#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#12496;&#12452;&#12531;&#12489;</a></span></dt>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-pagination">10.4.1.5.  &#12506;&#12540;&#12472;&#20998;&#12369;</a></span></dt>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-scrolling">10.4.1.6.  &#12473;&#12463;&#12525;&#12540;&#12523;&#21487;&#33021;&#12394;&#12452;&#12486;&#12524;&#12540;&#12471;&#12519;&#12531;</a></span></dt>
                                 <dt><span class="sect3"><a href="#objectstate-querying-executing-named">10.4.1.7.  &#21517;&#21069;&#20184;&#12365;&#12463;&#12456;&#12522;&#12398;&#22806;&#20986;&#12375;</a></span></dt>
                              </dl>
                           </dd>
                           <dt><span class="sect2"><a href="#objectstate-filtering">10.4.2.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12501;&#12451;&#12523;&#12479;&#12522;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#objecstate-querying-criteria">10.4.3.  &#12463;&#12521;&#12452;&#12486;&#12522;&#12450;&#12398;&#12463;&#12456;&#12522;</a></span></dt>
                           <dt><span class="sect2"><a href="#objectstate-querying-nativesql">10.4.4.  &#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12398;&#12463;&#12456;&#12522;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#objectstate-modifying">10.5.  &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20462;&#27491;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-detached">10.6.  &#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20462;&#27491;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-saveorupdate">10.7.  &#33258;&#21205;&#30340;&#12394;&#29366;&#24907;&#26908;&#20986;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-deleting">10.8.  &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#21066;&#38500;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-replicating">10.9.  &#30064;&#12394;&#12427;&#20108;&#12388;&#12398;&#12487;&#12540;&#12479;&#12473;&#12488;&#12450;&#38291;&#12391;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12524;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-flushing">10.10.  &#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-transitive">10.11.  &#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-metadata">10.12.  &#12513;&#12479;&#12487;&#12540;&#12479;&#12398;&#20351;&#29992;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#transactions">11.  &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#transactions-basics">11.1.  session&#12473;&#12467;&#12540;&#12503;&#12392;transaction&#12473;&#12467;&#12540;&#12503;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#transactions-basics-uow">11.1.1.  &#20316;&#26989;&#21336;&#20301;&#65288;Unit of work&#65289;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-basics-apptx">11.1.2.  &#38263;&#12356;&#23550;&#35441;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-basics-identity">11.1.3.  &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#35672;&#21029;&#23376;&#12434;&#32771;&#12360;&#12427;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-basics-issues">11.1.4.  &#19968;&#33324;&#30340;&#12394;&#21839;&#38988;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#transactions-demarcation">11.2.  &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#transactions-demarcation-nonmanaged">11.2.1.  &#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29872;&#22659;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-demarcation-jta">11.2.2.  JTA&#12434;&#20351;&#29992;&#12377;&#12427;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-demarcation-exceptions">11.2.3.  &#20363;&#22806;&#12495;&#12531;&#12489;&#12522;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-demarcation-timeout">11.2.4.  &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12479;&#12452;&#12512;&#12450;&#12454;&#12488;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#transactions-optimistic">11.3.  &#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#transactions-optimistic-manual">11.3.1.  &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12427;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-optimistic-longsession">11.3.2.  &#25313;&#24373;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-optimistic-detached">11.3.3.  &#12487;&#12479;&#12483;&#12481;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#transactions-optimistic-customizing">11.3.4.  &#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#transactions-locking">11.4.  &#24754;&#35251;&#30340;&#12525;&#12483;&#12463;</a></span></dt>
                     <dt><span class="sect1"><a href="#transactions-connection-release">11.5.  &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#38283;&#25918;&#12514;&#12540;&#12489;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#events">12.  &#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12392;&#12452;&#12505;&#12531;&#12488;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#objectstate-interceptors">12.1.  &#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-events">12.2.  &#12452;&#12505;&#12531;&#12488;&#12471;&#12473;&#12486;&#12512;</a></span></dt>
                     <dt><span class="sect1"><a href="#objectstate-decl-security">12.3.  Hibernate&#12398;&#23459;&#35328;&#30340;&#12394;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#batch">13.  &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#batch-inserts">13.1.  &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aelig;&#140;&iquest;&aring;&#133;&yen;</a></span></dt>
                     <dt><span class="sect1"><a href="#batch-update">13.2.  &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aelig;&#155;&acute;&aelig;&#150;&deg;</a></span></dt>
                     <dt><span class="sect1"><a href="#batch-statelesssession">13.3.  StatelessSession&atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&iquest;&atilde;&#131;&frac14;&atilde;&#131;&#149;&atilde;&#130;&sect;&atilde;&#130;&curren;&atilde;&#130;&sup1;</a></span></dt>
                     <dt><span class="sect1"><a href="#batch-direct">13.4.  DML&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#130;&curren;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aelig;&#147;&#141;&auml;&frac12;&#156;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#queryhql">14.  HQL: The Hibernate Query Language</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#queryhql-casesensitivity">14.1.  &#22823;&#25991;&#23383;&#12392;&#23567;&#25991;&#23383;&#12398;&#21306;&#21029;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-from">14.2.  from&#31680;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-joins">14.3.  &#38306;&#36899;&#12392;&#32080;&#21512;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-joins-forms">14.4.  &#32080;&#21512;&#27083;&#25991;&#12398;&#24418;&#24335;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-identifier-property">14.5.  Refering to identifier property</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-select">14.6.  Select&#31680;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-aggregation">14.7.  &#38598;&#32004;&#38306;&#25968;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-polymorphism">14.8.  &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#12463;&#12456;&#12522;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-where">14.9.  where&#31680;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-expressions">14.10.  Expressions &#24335;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-ordering">14.11.  order by&#31680;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-grouping">14.12.  group by&#31680;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-subqueries">14.13.  &#21103;&#21839;&#12356;&#21512;&#12431;&#12379;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-examples">14.14.  HQL&#12398;&#20363;</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-bulk">14.15.  &#22823;&#37327;&#12398;UPDATE&#12392;DELETE</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-tipstricks">14.16.  Tips &amp; Tricks</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-components">14.17.  translator-credits</a></span></dt>
                     <dt><span class="sect1"><a href="#queryhql-tuple">14.18.  Row value constructor syntax</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#querycriteria">15.  Criteria&#12463;&#12456;&#12522;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#querycriteria-creating">15.1.  <code class="literal">Criteria</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#20316;&#25104;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-narrowing">15.2.  &#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12398;&#32094;&#36796;&#12415;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-ordering">15.3.  &#32080;&#26524;&#12398;&#25972;&#21015;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-associations">15.4.  &#38306;&#36899;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-dynamicfetching">15.5.  &#38306;&#36899;&#12398;&#21205;&#30340;&#12501;&#12455;&#12483;&#12481;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-examples">15.6.  &#12463;&#12456;&#12522;&#12398;&#20363;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-projection">15.7.  &#23556;&#24433;&#12289;&#38598;&#32004;&#12289;&#12464;&#12523;&#12540;&#12503;&#21270;</a></span></dt>
                     <dt><span class="sect1"><a href="#querycriteria-detachedqueries">15.8.  &#12463;&#12456;&#12522;&#12362;&#12424;&#12403;&#12469;&#12502;&#12463;&#12456;&#12522;&#12398;&#20998;&#38626;</a></span></dt>
                     <dt><span class="sect1"><a href="#query-criteria-naturalid">15.9.  &#33258;&#28982;&#35672;&#21029;&#23376;&#12395;&#12424;&#12427;&#12463;&#12456;&#12522;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#querysql">16.  &#12493;&#12452;&#12486;&#12451;&#12502;SQL</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#querysql-creating">16.1.  <code class="literal">SQLQuery</code> &#12398;&#20351;&#29992;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#d0e13065">16.1.1.  &#12473;&#12459;&#12521;&#12540;&#12398;&#12463;&#12456;&#12522;</a></span></dt>
                           <dt><span class="sect2"><a href="#d0e13114">16.1.2.  &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12463;&#12456;&#12522;</a></span></dt>
                           <dt><span class="sect2"><a href="#d0e13150">16.1.3.  &#38306;&#36899;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#25805;&#20316;</a></span></dt>
                           <dt><span class="sect2"><a href="#d0e13181">16.1.4.  &#35079;&#25968;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21462;&#24471;</a></span></dt>
                           <dd>
                              <dl>
                                 <dt><span class="sect3"><a href="#querysql-aliasreferences">16.1.4.1.  &#21029;&#21517;&#12392;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;</a></span></dt>
                              </dl>
                           </dd>
                           <dt><span class="sect2"><a href="#d0e13322">16.1.5.  &#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21462;&#24471;</a></span></dt>
                           <dt><span class="sect2"><a href="#d0e13343">16.1.6.  &#32153;&#25215;&#12398;&#21046;&#24481;</a></span></dt>
                           <dt><span class="sect2"><a href="#d0e13348">16.1.7.  &#12497;&#12521;&#12513;&#12540;&#12479;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#querysql-namedqueries">16.2.  &#21517;&#21069;&#20184;&#12365;SQL&#12463;&#12456;&#12522;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#propertyresults">16.2.1.  &#21015;&#12392;&#21015;&#12398;&#21029;&#21517;&#12434;&#26126;&#31034;&#30340;&#12395;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395; return-property &#12434;&#20351;&#12358;</a></span></dt>
                           <dt><span class="sect2"><a href="#sp_query">16.2.2.  &#21839;&#12356;&#21512;&#12431;&#12379;&#12377;&#12427;&#12383;&#12417;&#12395;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#12358;</a></span></dt>
                           <dd>
                              <dl>
                                 <dt><span class="sect3"><a href="#querysql-limits-storedprocedures">16.2.2.1.  &#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#12358;&#19978;&#12391;&#12398;&#12523;&#12540;&#12523;&#12392;&#21046;&#38480;</a></span></dt>
                              </dl>
                           </dd>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#querysql-cud">16.3.  &#20316;&#25104;&#12289;&#26356;&#26032;&#12289;&#21066;&#38500;&#12398;&#12383;&#12417;&#12398;&#12459;&#12473;&#12479;&#12512;SQL</a></span></dt>
                     <dt><span class="sect1"><a href="#querysql-load">16.4.  &#12525;&#12540;&#12489;&#12398;&#12383;&#12417;&#12398;&#12459;&#12473;&#12479;&#12512;SQL</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#filters">17.  &#12487;&#12540;&#12479;&#12398;&#12501;&#12451;&#12523;&#12479;&#12522;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#objectstate-filters">17.1.  Hibernate&#12398;&#12501;&#12451;&#12523;&#12479;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#xml">18.  XML&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#xml-intro">18.1.  XML&#12487;&#12540;&#12479;&#12391;&#12398;&#20316;&#26989;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#xml-intro-mapping">18.1.1.  XML&#12392;&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#21516;&#26178;&#12395;&#25351;&#23450;&#12377;&#12427;</a></span></dt>
                           <dt><span class="sect2"><a href="#xml-onlyxml">18.1.2.  XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12384;&#12369;&#12434;&#25351;&#23450;&#12377;&#12427;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#xml-mapping">18.2.  XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;</a></span></dt>
                     <dt><span class="sect1"><a href="#xml-manipulation">18.3.  XML&#12487;&#12540;&#12479;&#12434;&#25201;&#12358;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#performance">19.  &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#25913;&#21892;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#performance-fetching">19.1.  &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#performance-fetching-lazy">19.1.1.  &#36933;&#24310;&#38306;&#36899;&#12398;&#20685;&#12365;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-fetching-custom">19.1.2.  &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12398;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-fetching-proxies">19.1.3.  &#21336;&#19968;&#31471;&#38306;&#36899;&#12503;&#12525;&#12461;&#12471;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-fetching-initialization">19.1.4.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#12503;&#12525;&#12461;&#12471;&#12398;&#21021;&#26399;&#21270;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-fetching-batch">19.1.5.  &#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12398;&#20351;&#29992;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-fetching-subselect">19.1.6.  &#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#12398;&#20351;&#29992;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-fetching-lazyproperties">19.1.7.  &#36933;&#24310;&#12503;&#12525;&#12497;&#12486;&#12451;&#12501;&#12455;&#12483;&#12481;&#12398;&#20351;&#29992;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#performance-cache">19.2.  &#31532;2&#12524;&#12505;&#12523;&#12461;&#12515;&#12483;&#12471;&#12517;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#performance-cache-mapping">19.2.1.  &#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-cache-readonly">19.2.2.  read only&#25126;&#30053;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-cache-readwrite">19.2.3.  read/write&#25126;&#30053;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-cache-nonstrict">19.2.4.  &#21427;&#23494;&#12391;&#12399;&#12394;&#12356;read/write&#25126;&#30053;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-cache-transactional">19.2.5.  transactional&#25126;&#30053;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-cache-compat-matrix">19.2.6.  Cache-provider/concurrency-strategy compatibility</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#performance-sessioncache">19.3.  &#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#31649;&#29702;</a></span></dt>
                     <dt><span class="sect1"><a href="#performance-querycache">19.4.  &#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;</a></span></dt>
                     <dt><span class="sect1"><a href="#performance-collections">19.5.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#29702;&#35299;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#performance-collections-taxonomy">19.5.1.  &#20998;&#39006;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-collections-mostefficientupdate">19.5.2.  &#26356;&#26032;&#12395;&#12418;&#12387;&#12392;&#12418;&#21177;&#29575;&#30340;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531; list&#12289;map&#12289;idbag&#12289;set</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-collections-mostefficentinverse">19.5.3.  inverse&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12418;&#12387;&#12392;&#12418;&#26368;&#36969;&#12394;bag&#12392;list</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-collections-oneshotdelete">19.5.4.  &#19968;&#25324;&#21066;&#38500;</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="#performance-monitoring">19.6.  &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#12514;&#12491;&#12479;&#12522;&#12531;&#12464;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#performance-monitoring-sf">19.6.1.  SessionFactory&#12398;&#12514;&#12491;&#12479;&#12522;&#12531;&#12464;</a></span></dt>
                           <dt><span class="sect2"><a href="#performance-monitoring-metrics">19.6.2.  &#12513;&#12488;&#12522;&#12463;&#12473;</a></span></dt>
                        </dl>
                     </dd>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#toolsetguide">20.  Toolset Guide &#12484;&#12540;&#12523;&#12475;&#12483;&#12488;&#12460;&#12452;&#12489;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#toolsetguide-s1">20.1.  &#12473;&#12461;&#12540;&#12510;&#12398;&#33258;&#21205;&#29983;&#25104;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-2">20.1.1.  &#12473;&#12461;&#12540;&#12510;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-3">20.1.2.  &#12484;&#12540;&#12523;&#12398;&#23455;&#34892;</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-4">20.1.3.  &#12503;&#12525;&#12497;&#12486;&#12451;</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-5">20.1.4.  Ant&#12434;&#20351;&#29992;&#12377;&#12427;</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-6">20.1.5.  &#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12479;&#12523;&#12394;&#12473;&#12461;&#12540;&#12510;&#26356;&#26032;</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-7">20.1.6.  &#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12479;&#12523;&#12394;&#12473;&#12461;&#12540;&#12510;&#26356;&#26032;&#12395;&#23550;&#12377;&#12427;Ant&#12398;&#20351;&#29992;</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-8">20.1.7.  Schema validation</a></span></dt>
                           <dt><span class="sect2"><a href="#toolsetguide-s1-9">20.1.8.  &#12473;&#12461;&#12540;&#12510;&#12398;&#12496;&#12522;&#12487;&#12540;&#12471;&#12519;&#12531;&#12395;Ant&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;</a></span></dt>
                        </dl>
                     </dd>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#example-parentchild">21.  &#20363;&#65306;&#35242;/&#23376;&#20379;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#example-parentchild-collections">21.1.  &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#38306;&#12377;&#12427;&#27880;&#24847;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-parentchild-bidir">21.2.  &#21452;&#26041;&#21521;&#19968;&#23550;&#22810;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-parentchild-cascades">21.3.  &#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-parentchild-update">21.4.  &#12459;&#12473;&#12465;&#12540;&#12489;&#12392; <code class="literal">unsaved-value</code></a></span></dt>
                     <dt><span class="sect1"><a href="#example-parentchild-conclusion">21.5.  &#32080;&#35542;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#example-weblog">22.  &#20363;: Weblog&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#example-weblog-classes">22.1.  &#27704;&#32154;&#12463;&#12521;&#12473;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-weblog-mappings">22.2.  Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-weblog-code">22.3.  Hibernate&#12398;&#12467;&#12540;&#12489;</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#example-mappings">23.  &#20363;&#65306;&#12356;&#12429;&#12356;&#12429;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect1"><a href="#example-mappings-emp">23.1.  &#38599;&#29992;&#32773;/&#24467;&#26989;&#21729;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-mappings-authorwork">23.2.  &#20316;&#32773;/&#20316;&#21697;</a></span></dt>
                     <dt><span class="sect1"><a href="#example-mappings-customerorderproduct">23.3.  &#39015;&#23458;/&#27880;&#25991;/&#35069;&#21697;</a></span></dt>
                     <dt><span class="sect1"><a href="#misc">23.4.  &#31278;&#12293;&#38609;&#22810;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#20363;</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="#example-mappings-typed-onetone">23.4.1.  &#12300;&#22411;&#20184;&#12369;&#12373;&#12428;&#12383;&#12301;&#19968;&#23550;&#19968;&#38306;&#36899;</a></span></dt>
                           <dt><span class="sect2"><a href="#example-mappings-composite-key">23.4.2.  &#35079;&#21512;&#12461;&#12540;&#12398;&#20363;</a></span></dt>
                           <dt><span class="sect2"><a href="#example-mappings-composite-key-manytomany">23.4.3.  &#35079;&#21512;&#12461;&#12540;&#23646;&#24615;&#12434;&#20849;&#26377;&#12377;&#12427;&#22810;&#23550;&#22810;</a></span></dt>
                           <dt><span class="sect2"><a href="#example-mappings-content-discrimination">23.4.4.  discrimination&#12395;&#22522;&#12389;&#12367;&#20869;&#23481;</a></span></dt>
                           <dt><span class="sect2"><a href="#example-mappings-association-alternatekeys">23.4.5.  &#20195;&#26367;&#12461;&#12540;&#12398;&#38306;&#36899;</a></span></dt>
                        </dl>
                     </dd>
                  </dl>
               </dd>
               <dt><span class="chapter"><a href="#best-practices">24.  &#12505;&#12473;&#12488;&#12503;&#12521;&#12463;&#12486;&#12451;&#12473;</a></span></dt>
            </dl>
         </div>
         <div class="preface" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="preface"></a>&#21069;&#26360;&#12365;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#20170;&#26085;&#12398;&#20225;&#26989;&#29872;&#22659;&#12395;&#12362;&#12356;&#12390;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12392;&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#38306;&#12431;&#12427;&#20316;&#26989;&#12399; &#29033;&#38609;&#12391;&#33192;&#22823;&#12394;&#26178;&#38291;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; Hibernate&#12399;Java&#29872;&#22659;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;/&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12510;&#12483;&#12500;&#12531;&#12464;&#12484;&#12540;&#12523;&#12391;&#12377;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;/&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12510;&#12483;&#12500;&#12531;&#12464;&#65288;ORM&#65289;&#12392;&#12399;&#12289;
               &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12514;&#12487;&#12523;&#12363;&#12425;SQL&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12398;&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12487;&#12540;&#12479;&#12514;&#12487;&#12523;&#12408;&#12392;&#12289; &#12487;&#12540;&#12479;&#34920;&#29694;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#65288;&#23550;&#24540;&#20184;&#12369;&#12427;&#65289;&#25216;&#34899;&#12398;&#12371;&#12392;&#12391;&#12377;&#12290; 
            </p>
            <p>Hibernate&#12399;Java&#12463;&#12521;&#12473;&#12363;&#12425;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12408;&#65288;&#12381;&#12375;&#12390;Java&#12487;&#12540;&#12479;&#22411;&#12363;&#12425;SQL&#12487;&#12540;&#12479;&#22411;&#12408;&#65289; &#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#20966;&#29702;&#12377;&#12427;&#12384;&#12369;&#12391;&#12399;&#12394;&#12367;&#12289;&#12487;&#12540;&#12479;&#12398;&#12463;&#12456;&#12522;&#12392;&#24489;&#20803;&#12398;&#20181;&#32068;&#12415;&#12418;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12362;&#12363;&#12370;&#12391;SQL&#12392;JDBC&#12434;&#20351;&#12387;&#12383;&#25163;&#20316;&#26989;&#12391;&#12398;&#12487;&#12540;&#12479;&#20966;&#29702;&#12395;&#36027;&#12420;&#12373;&#12428;&#12390;&#12356;&#12383;&#38283;&#30330;&#26178;&#38291;&#12434;&#22823;&#24133;&#12395;&#21066;&#28187;&#12391;&#12365;&#12414;&#12377;&#12290;
               
            </p>
            <p>Hibernate&#12398;&#26368;&#32066;&#30446;&#27161;&#12399;&#12289;&#12487;&#12540;&#12479;&#12398;&#27704;&#32154;&#21270;&#12395;&#38306;&#12431;&#12427;&#19968;&#33324;&#30340;&#12394;&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#20316;&#26989;&#12398;95&#65285;&#12363;&#12425;&#38283;&#30330;&#32773;&#12434;&#35299;&#25918;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; Hibernate&#12399;&#12499;&#12472;&#12493;&#12473;&#12525;&#12472;&#12483;&#12463;&#12398;&#23455;&#35013;&#12395;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#12358; &#12487;&#12540;&#12479;&#20013;&#24515;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#12398;&#12505;&#12473;&#12488;&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12391;&#12354;&#12427;&#12395;&#30041;&#12414;&#12426;&#12414;&#12379;&#12435;&#12290;
               &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12489;&#12513;&#12452;&#12531;&#12514;&#12487;&#12523;&#12392;Java&#12505;&#12540;&#12473;&#12398;&#20013;&#38291;&#23652;&#12391;&#12398;&#12499;&#12472;&#12493;&#12473;&#12525;&#12472;&#12483;&#12463;&#12395;&#23550;&#12375;&#12390;&#26368;&#12418;&#24441;&#12395;&#31435;&#12385;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;Hibernate&#12399;&#12505;&#12531;&#12480;&#22266;&#26377;&#12398;SQL&#12467;&#12540;&#12489;&#12434;&#21066;&#28187;&#12414;&#12383;&#12399;&#12459;&#12503;&#12475;&#12523;&#21270;&#12375;&#12383;&#12426;&#12289; &#34920;&#24418;&#24335;&#12363;&#12425;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12464;&#12521;&#12501;&#12408;&#12392;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12434;&#22793;&#25563;&#12377;&#12427;&#12394;&#12393;&#12398;&#12289;
               &#19968;&#33324;&#30340;&#12394;&#12479;&#12473;&#12463;&#12395;&#12418;&#24441;&#31435;&#12388;&#12391;&#12375;&#12423;&#12358;&#12290; 
            </p>
            <p>Hibernate&#12420;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;/&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12510;&#12483;&#12500;&#12531;&#12464;&#12289; &#12373;&#12425;&#12395;&#12399;Java&#12364;&#21021;&#12417;&#12390;&#12398;&#26041;&#12399;&#12289;&#20197;&#19979;&#12398;&#12473;&#12486;&#12483;&#12503;&#12395;&#24467;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#65306; </p>
            <div class="orderedlist">
               <ol type="1">
                  <li>
                     <p><a href="#tutorial" title="&#31532;1&#31456; Hibernate&#12398;&#23566;&#20837;">&#31456;&nbsp;1. <i xmlns:xlink="http://www.w3.org/1999/xlink">Hibernate&#12398;&#23566;&#20837;</i></a> &#12434;&#35501;&#12435;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290; &#27573;&#38542;&#30340;&#12395;&#35299;&#35500;&#12375;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290; &#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12398;&#12477;&#12540;&#12473;&#12467;&#12540;&#12489;&#12399;&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398; <code class="literal">doc/reference/tutorial</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#21547;&#12414;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
                     </p>
                  </li>
                  <li>
                     <p><a href="#architecture" title="&#31532;2&#31456; &#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;">&#31456;&nbsp;2. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;</i></a> &#12434;&#35501;&#12435;&#12391;&#12289;Hibernate&#12364;&#21033;&#29992;&#21487;&#33021;&#12394;&#29872;&#22659;&#12434;&#29702;&#35299;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </li>
                  <li>
                     <p>Hibernate&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398; <code class="literal">eg/</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#31777;&#21336;&#12394;&#12473;&#12479;&#12531;&#12489;&#12450;&#12525;&#12540;&#12531;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; JDBC&#12489;&#12521;&#12452;&#12496;&#12434; <code class="literal">lib/</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#12467;&#12500;&#12540;&#12375;&#12390;&#12289; &#33258;&#20998;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#21512;&#12358;&#27491;&#12375;&#12356;&#20516;&#12434;&#25351;&#23450;&#12377;&#12427;&#12424;&#12358;&#12395; <code class="literal">etc/hibernate.properties</code> &#12434;&#32232;&#38598;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12363;&#12425;&#12289;&#12467;&#12510;&#12531;&#12489;&#12503;&#12525;&#12531;&#12503;&#12488;&#12391; <code class="literal">ant eg</code> &#12392;&#12479;&#12452;&#12503;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65288;Ant&#12434;&#20351;&#12356;&#12414;&#12377;&#65289;&#12290; &#12414;&#12383;Windows&#29872;&#22659;&#12391;&#12399; <code class="literal">build eg</code> &#12392;&#12479;&#12452;&#12503;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </li>
                  <li>
                     <p>&#12371;&#12398;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#31532;&#19968;&#12398;&#24773;&#22577;&#28304;&#12392;&#12375;&#12390;&#21033;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#35373;&#35336;&#12395;&#12388;&#12356;&#12390;&#12398;&#12373;&#12425;&#12394;&#12427;&#24773;&#22577;&#12420;&#27573;&#38542;&#30340;&#12394;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12434;&#25506;&#12375;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289; <span class="emphasis"><em>Java Persistence with Hibernate</em></span>&#65288;http://www.manning.com/bauer2&#65289; &#12434;&#12362;&#12377;&#12377;&#12417;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;http://caveatemptor.hibernate.org&#12363;&#12425; Java Persistence with Hibernate&#12398;&#20363;&#38988;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12391;&#12365;&#12414;&#12377;&#12290;
                        
                     </p>
                  </li>
                  <li>
                     <p>FAQ&#12399;Hibernate&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12395;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
                  </li>
                  <li>
                     <p>&#12469;&#12540;&#12489;&#12497;&#12540;&#12486;&#12451;&#12398;&#12487;&#12514;&#12289;&#20363;&#12289;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12399;Hibernate&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12395;&#12522;&#12531;&#12463;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
                  </li>
                  <li>
                     <p>Hibernate&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12398;&#12467;&#12511;&#12517;&#12491;&#12486;&#12451;&#12456;&#12522;&#12450;&#12399;&#12289;&#12487;&#12470;&#12452;&#12531;&#12497;&#12479;&#12540;&#12531;&#12420;&#12373;&#12414;&#12374;&#12414;&#12394;&#32113;&#21512;&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531; &#65288;Tomcat, JBoss AS, Struts, EJB, &#31561;&#65289;&#12395;&#12388;&#12356;&#12390;&#12398;&#12424;&#12356;&#24773;&#22577;&#28304;&#12391;&#12377;&#12290; </p>
                  </li>
               </ol>
            </div>
            <p>&#36074;&#21839;&#12364;&#12354;&#12428;&#12400;Hibernate&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12398;&#12518;&#12540;&#12470;&#12501;&#12457;&#12540;&#12521;&#12512;&#12434;&#27963;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12414;&#12383;&#12496;&#12464;&#12524;&#12509;&#12540;&#12488;&#12392;&#12501;&#12451;&#12540;&#12481;&#12515;&#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#12383;&#12417;JIRA&#35506;&#38988;&#36861;&#36321;&#12471;&#12473;&#12486;&#12512;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; Hibernate&#12398;&#38283;&#30330;&#12395;&#33288;&#21619;&#12364;&#12354;&#12428;&#12400;&#12289;&#38283;&#30330;&#32773;&#12513;&#12540;&#12522;&#12531;&#12464;&#12522;&#12473;&#12488;&#12395;&#21442;&#21152;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
               &#12371;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#12354;&#12394;&#12383;&#12398;&#22269;&#12398;&#35328;&#33865;&#12395;&#32763;&#35379;&#12375;&#12383;&#12356;&#22580;&#21512;&#12399;&#12289; &#38283;&#30330;&#32773;&#12513;&#12540;&#12522;&#12531;&#12464;&#12522;&#12473;&#12488;&#12391;&#31169;&#12383;&#12385;&#12395;&#12467;&#12531;&#12479;&#12463;&#12488;&#12434;&#21462;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
            </p>
            <p>&#21830;&#29992;&#38283;&#30330;&#12398;&#12469;&#12509;&#12540;&#12488;&#12289;&#35069;&#21697;&#12398;&#12469;&#12509;&#12540;&#12488;&#12289;Hibernate&#12398;&#12488;&#12524;&#12540;&#12491;&#12531;&#12464;&#12399;JBoss Inc.&#12364;&#25552;&#20379;&#12375;&#12390;&#12356;&#12414;&#12377; &#65288;http://www.hibernate.org/SupportTraining/&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; Hibernate&#12399;Professional
               Open Source&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12289; &#12381;&#12375;&#12390;JBoss Enterprise Middleware System&#65288;JEMS&#65289;&#12503;&#12525;&#12480;&#12463;&#12488;&#12473;&#12452;&#12540;&#12488;&#12398;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12391;&#12377;&#12290; 
            </p>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="tutorial"></a>&#31532;1&#31456; Hibernate&#12398;&#23566;&#20837;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="tutorial-intro"></a>1.1. &#21069;&#26360;&#12365;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>This chapter is an introduction to Hibernate by way of a tutorial, intended for new users of Hibernate. We start with a simple
                  application using an in-memory database. We build the application in small, easy to understand steps. The tutorial is based
                  on another, earlier one developed by Michael Gloegl. All code is contained in the <code class="filename">tutorials/web</code> directory of the project source. 
               </p>
            </div>
            <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">&#37325;&#35201;&#38917;&#30446;</h3>
               <p>This tutorial expects the user have knowledge of both Java and SQL. If you are new or uncomfortable with either, it is advised
                  that you start with a good introduction to that technology prior to attempting to learn Hibernate. It will save time and effort
                  in the long run. 
               </p>
            </div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">&#27880;&#24847;</h3>
               <p>There is another tutorial/example application in the <code class="filename">/tutorials/eg</code> directory of the project source. That example is console based and as such would not have the dependency on a servlet container
                  to execute. The basic setup is the same as the instructions below. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="tutorial-firstapp"></a>1.2. &#12497;&#12540;&#12488;1 - &#21021;&#12417;&#12390;&#12398;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Let's assume we need a small database application that can store events we want to attend, and information about the host(s)
                  of these events. We will use an in-memory, Java database named HSQLDB to avoid describing installation/setup of any particular
                  database servers. Feel free to tweak this tutorial to use whatever database you feel comfortable using. 
               </p>
               <p>The first thing we need to do is set up our development environment, and specifically to setup all the required dependencies
                  to Hibernate as well as other libraries. Hibernate is built using Maven which amongst other features provides <code class="literal">dependecy management</code>; moreover it provides <span class="emphasis"><em>transitive</em></span> <code class="literal">dependecy management</code> which simply means that to use Hibernate we can simply define our dependency on Hibernate, Hibernate itself defines the dependencies
                  it needs which then become transitive dependencies of our project. 
               </p><pre class="programlisting">.
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;

    ...

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId
&gt;${groupId}&lt;/groupId&gt;
            &lt;artifactId
&gt;hibernate-core&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- Because this is a web app, we also have a dependency on the servlet api. --&gt;
        &lt;dependency&gt;
            &lt;groupId
&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId
&gt;servlet-api&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project
&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">&#27880;&#24847;</h3>
                  <p>Essentially we are describing here the <code class="filename">/tutorials/web/pom.xml</code> file. See the <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://maven.org" target="_top">Maven</a> site for more information. 
                  </p>
               </div>
               <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">&#12486;&#12451;&#12483;&#12503;</h3>
                  <p>While not strictly necessary, most IDEs have integration with Maven to read these POM files and automatically set up a project
                     for you which can save lots of time and effort. 
                  </p>
               </div>
               <p>&#27425;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#26684;&#32013;&#12377;&#12427;&#12452;&#12505;&#12531;&#12488;&#12434;&#34920;&#12377;&#12463;&#12521;&#12473;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-firstapp-firstclass"></a>1.2.1. &#26368;&#21021;&#12398;&#12463;&#12521;&#12473;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26368;&#21021;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12399;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12356;&#12367;&#12388;&#12363;&#25345;&#12388;&#12471;&#12531;&#12503;&#12523;&#12394;JavaBean&#12391;&#12377;&#65306; </p><pre class="programlisting">package org.hibernate.tutorial.domain;

import java.util.Date;

public class Event {
    private Long id;

    private String title;
    private Date date;

    public Event() {}

    public Long getId() {
        return id;
    }

    private void setId(Long id) {
        this.id = id;
    }

    public Date getDate() {
        return date;
    }

    public void setDate(Date date) {
        this.date = date;
    }

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }
}</pre><p>&#12372;&#35239;&#12398;&#12392;&#12362;&#12426;&#12289;&#12371;&#12398;&#12463;&#12521;&#12473;&#12399;&#12501;&#12451;&#12540;&#12523;&#12489;&#12364;private&#12398;&#21487;&#35222;&#24615;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12398;&#12392;&#21516;&#26178;&#12395;&#12289; JavaBean&#27161;&#28310;&#12398;&#12466;&#12483;&#12479;&#12540;&#12289;&#12475;&#12483;&#12479;&#12540;&#12513;&#12477;&#12483;&#12489;&#12398;&#21629;&#21517;&#35215;&#32004;&#12395;&#24467;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#12424;&#12358;&#12394;&#35373;&#35336;&#12399;&#25512;&#22888;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12364;&#24517;&#38920;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12450;&#12463;&#12475;&#12469;&#12513;&#12477;&#12483;&#12489;&#12434;&#35373;&#12369;&#12427;&#12398;&#12399;&#12522;&#12501;&#12449;&#12463;&#12479;&#12522;&#12531;&#12464;&#12434;&#32771;&#12360;&#12383;&#38929;&#20581;&#24615;&#12398;&#12383;&#12417;&#12391;&#12289;
                     Hibernate&#12399;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#30452;&#25509;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; &#24341;&#25968;&#12398;&#12394;&#12356;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12399;&#12289;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12391;&#12371;&#12398;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20316;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395; &#24517;&#35201;&#12391;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">id</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12289;&#12354;&#12427;&#29305;&#23450;&#12398;&#12452;&#12505;&#12531;&#12488;&#12395;&#23550;&#12377;&#12427;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12398;&#20516;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; Hibernate&#12398;&#23436;&#20840;&#12394;&#27231;&#33021;&#12434;&#20351;&#12356;&#12383;&#12369;&#12428;&#12400;&#12289;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473; &#65288;&#12381;&#12428;&#12411;&#12393;&#37325;&#35201;&#12391;&#12399;&#12394;&#12356;&#20381;&#23384;&#12463;&#12521;&#12473;&#12392;&#12356;&#12358;&#12418;&#12398;&#12418;&#12354;&#12426;&#12414;&#12377;&#65289; &#12395;&#12371;&#12398;&#12424;&#12358;&#12394;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;
                     &#20107;&#23455;&#19978;&#12411;&#12392;&#12435;&#12393;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#65288;&#29305;&#12395;web&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#65289;&#12391;&#12399;&#12289; &#35672;&#21029;&#23376;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21306;&#21029;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12383;&#12417;&#12289;&#12371;&#12428;&#12399;&#21046;&#38480;&#12392;&#12356;&#12358;&#12424;&#12426;&#12418;&#29305;&#24500;&#12391;&#12354;&#12427;&#12392;&#32771;&#12360;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#36890;&#24120;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;ID&#12434;&#25805;&#20316;&#12377;&#12427;&#12424;&#12358;&#12394;&#12371;&#12392;&#12399;&#12375;&#12414;&#12379;&#12435;&#12290; &#12381;&#12398;&#12383;&#12417;&#12475;&#12483;&#12479;&#12540;&#12513;&#12477;&#12483;&#12489;&#12399;private&#12395;&#12377;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290;
                     Hibernate&#12384;&#12369;&#12364;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12475;&#12540;&#12502;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#35672;&#21029;&#23376;&#12408;&#20516;&#12434;&#20195;&#20837;&#12375;&#12414;&#12377;&#12290; Hibernate&#12364;&#65288;public, private, protected&#65289;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#30452;&#25509;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12427;&#12398;&#12392;&#21516;&#27096;&#12395;&#12289; public, private, protected&#12398;&#12450;&#12463;&#12475;&#12469;&#12513;&#12477;&#12483;&#12489;&#12395;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12364;&#12431;&#12363;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290;
                     &#36984;&#25246;&#12399;&#12354;&#12394;&#12383;&#12395;&#20219;&#12373;&#12428;&#12390;&#12356;&#12427;&#12398;&#12391;&#12289;&#12354;&#12394;&#12383;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#35373;&#35336;&#12395;&#21512;&#12431;&#12379;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#24341;&#25968;&#12398;&#12394;&#12356;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12399;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#24517;&#38920;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;Hibernate&#12364;Java&#12398;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20316;&#25104;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12383;&#12417;&#12391;&#12377;&#12290; &#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;private&#12395;&#12377;&#12427;&#12371;&#12392;&#12399;&#21487;&#33021;&#12391;&#12377;&#12364;&#12289; &#23455;&#34892;&#26178;&#12398;&#12503;&#12525;&#12461;&#12471;&#29983;&#25104;&#12392;&#12289;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#25805;&#20316;&#12394;&#12375;&#12398;&#21177;&#29575;&#30340;&#12394;&#12487;&#12540;&#12479;&#12398;&#25277;&#20986;&#12395;&#12399;&#12289;
                     package&#21487;&#35222;&#24615;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#38283;&#30330;&#12501;&#12457;&#12523;&#12480;&#12398; <code class="literal">src</code> &#12392;&#12356;&#12358;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#36969;&#20999;&#12394;&#12497;&#12483;&#12465;&#12540;&#12472;&#12395;&#12289; &#12371;&#12398;Java&#12477;&#12540;&#12473;&#12501;&#12449;&#12452;&#12523;&#12434;&#37197;&#32622;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12398;&#26178;&#28857;&#12391;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12399;&#12378;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">.
+lib
  &lt;Hibernate and third-party libraries&gt;
+src
  +events
    Event.java</pre><p>&#27425;&#12398;&#12473;&#12486;&#12483;&#12503;&#12391;&#12399;&#12289;Hibernate&#12395;&#12371;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#24773;&#22577;&#12434;&#25945;&#12360;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-firstapp-mapping"></a>1.2.2. &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12399;&#12289;&#12393;&#12398;&#12424;&#12358;&#12395;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12540;&#12489;&#12375;&#26684;&#32013;&#12377;&#12428;&#12400;&#12424;&#12356;&#12363;&#12434;&#30693;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12371;&#12391;Hibernate&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12364;&#30331;&#22580;&#12375;&#12414;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#20869;&#12398;&#12393;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12363;&#12289;
                     &#12381;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#12393;&#12398;&#12459;&#12521;&#12512;&#12434;&#20351;&#12358;&#12409;&#12365;&#12363;&#12434;&#12289;Hibernate&#12395;&#25945;&#12360;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12398;&#22522;&#26412;&#30340;&#12394;&#27083;&#36896;&#12399;&#12371;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#65306; </p><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;

&lt;hibernate-mapping&gt;
[...]
&lt;/hibernate-mapping&gt;</pre><p>Hibernate DTD&#12364;&#38750;&#24120;&#12395;&#27927;&#32244;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#30446;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12398;DTD&#12399;&#12289;&#12456;&#12487;&#12451;&#12479;&#12420;IDE&#12391;&#12398;XML&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12392;&#23646;&#24615;&#12398;&#12458;&#12540;&#12488;&#12467;&#12531;&#12503;&#12522;&#12540;&#12471;&#12519;&#12531;&#27231;&#33021;&#12395;&#21033;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#12414;&#12383;DTD&#12501;&#12449;&#12452;&#12523;&#12434;&#12486;&#12461;&#12473;&#12488;&#12456;&#12487;&#12451;&#12479;&#12391;&#38283;&#12369;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12392;&#12356;&#12358;&#12398;&#12418;&#12289;&#12377;&#12409;&#12390;&#12398;&#35201;&#32032;&#12392;&#23646;&#24615;&#12434;&#27010;&#35251;&#12375;&#12289;
                     &#12467;&#12513;&#12531;&#12488;&#12420;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#20516;&#12434;&#35211;&#12427;&#12395;&#12399;&#19968;&#30058;&#31777;&#21336;&#12394;&#26041;&#27861;&#12384;&#12363;&#12425;&#12391;&#12377;&#12290; Hibernate&#12399;&#12289;web&#12363;&#12425;DTD&#12501;&#12449;&#12452;&#12523;&#12434;&#12525;&#12540;&#12489;&#12379;&#12378;&#12395;&#12289; &#12414;&#12378;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12463;&#12521;&#12473;&#12497;&#12473;&#12363;&#12425;&#12371;&#12428;&#12434;&#25506;&#12375;&#20986;&#12381;&#12358;&#12392;&#12377;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; DTD&#12501;&#12449;&#12452;&#12523;&#12399;Hibernate&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398;
                     <code class="literal">src/</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12392;&#21516;&#27096;&#12289;<code class="literal">hibernate3.jar</code> &#12395;&#12418;&#21547;&#12414;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#20197;&#38477;&#12398;&#20363;&#12391;&#12399;&#12467;&#12540;&#12489;&#12434;&#30701;&#12367;&#12377;&#12427;&#12383;&#12417;&#12395;DTD&#23459;&#35328;&#12434;&#30465;&#30053;&#12375;&#12414;&#12377;&#12290; &#24403;&#28982;&#12391;&#12377;&#12364;&#12371;&#12428;&#12399;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; </p>
                  <p>2&#12388;&#12398; <code class="literal">hibernate-mapping</code> &#12479;&#12464;&#12398;&#38291;&#12395; <code class="literal">class</code> &#35201;&#32032;&#12434;&#21547;&#12417;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#65288;&#24565;&#12434;&#25276;&#12375;&#12414;&#12377;&#12364;&#12289; &#12501;&#12449;&#12540;&#12473;&#12488;&#12463;&#12521;&#12473;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12399;&#12394;&#12356;&#20381;&#23384;&#12463;&#12521;&#12473;&#12392;&#12356;&#12358;&#12418;&#12398;&#12364;&#24460;&#12411;&#12393;&#30331;&#22580;&#12375;&#12414;&#12377;&#65289; &#12399;SQL&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#20869;&#12398;&#12486;&#12540;&#12502;&#12523;&#12408;&#12398;&#12371;&#12398;&#12424;&#12358;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="events.Event" table="EVENTS"&gt;

    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#12371;&#12428;&#12414;&#12391;&#31169;&#12383;&#12385;&#12399;&#12289;<code class="literal">Event</code> &#12463;&#12521;&#12473;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">EVENTS</code> &#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12375;&#12390;&#12289;&#12393;&#12398;&#12424;&#12358;&#12395;&#27704;&#32154;&#21270;&#12375;&#12383;&#12426;&#12525;&#12540;&#12489;&#12375;&#12383;&#12426;&#12377;&#12427;&#12398;&#12363;&#12434; Hibernate&#12395;&#25945;&#12360;&#12390;&#12365;&#12414;&#12375;&#12383;&#12290;&#12381;&#12375;&#12390;&#20491;&#12293;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12486;&#12540;&#12502;&#12523;&#12398;&#34892;&#12392;&#12375;&#12390;&#34920;&#29694;&#12373;&#12428;&#12414;&#12377;&#12290; &#12381;&#12428;&#12391;&#12399;&#24341;&#12365;&#32154;&#12365;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12395;&#23550;&#12377;&#12427;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290;
                     &#12373;&#12425;&#12395;&#12289;&#12371;&#12398;&#35672;&#21029;&#23376;&#12398;&#25201;&#12356;&#12395;&#27671;&#12434;&#20351;&#12356;&#12383;&#12367;&#12394;&#12363;&#12387;&#12383;&#12398;&#12392;&#21516;&#27096;&#12395;&#12289; &#20195;&#29702;&#12398;&#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12395;&#23550;&#12377;&#12427;Hibernate&#12398;&#35672;&#21029;&#23376;&#29983;&#25104;&#25126;&#30053;&#12434;&#35373;&#23450;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="events.Event" table="EVENTS"&gt;
        &lt;id name="id" column="EVENT_ID"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>The <code class="literal">id</code> element is the declaration of the identifier property, <code class="literal">name="id"</code> declares the name of the Java property - Hibernate will use the getter and setter methods to access the property. The column
                     attribute tells Hibernate which column of the <code class="literal">EVENTS</code> table we use for this primary key. The nested <code class="literal">generator</code> element specifies the identifier generation strategy, in this case we used <code class="literal">native</code>, which picks the best strategy depending on the configured database (dialect). Hibernate supports database generated, globally
                     unique, as well as application assigned identifiers (or any strategy you have written an extension for). 
                  </p>
                  <p>&#26368;&#24460;&#12395;&#12463;&#12521;&#12473;&#12398;&#27704;&#32154;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#23459;&#35328;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12395;&#21547;&#12417;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#27704;&#32154;&#12392;&#35211;&#12394;&#12373;&#12428;&#12414;&#12379;&#12435;&#65306; </p><pre class="programlisting">
&lt;hibernate-mapping&gt;

    &lt;class name="events.Event" table="EVENTS"&gt;
        &lt;id name="id" column="EVENT_ID"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;property name="date" type="timestamp" column="EVENT_DATE"/&gt;
        &lt;property name="title"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p><code class="literal">id</code> &#35201;&#32032;&#12398;&#22580;&#21512;&#12392;&#21516;&#27096;&#12395;&#12289; <code class="literal">property</code> &#35201;&#32032;&#12398; <code class="literal">name</code> &#23646;&#24615;&#12391;&#12289;&#12393;&#12398;&#12466;&#12483;&#12479;&#12540;&#12392;&#12475;&#12483;&#12479;&#12540;&#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12358;&#12409;&#12365;&#12363;&#12434;Hibernate&#12395;&#25945;&#12360;&#12414;&#12377;&#12290; &#12371;&#12398;&#20363;&#12391;&#12399;&#12289;Hibernate&#12399; <code class="literal">getDate()/setDate()</code> &#12392; <code class="literal">getTitle()/setTitle()</code> &#12434; &#25506;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12394;&#12380; <code class="literal">date</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399; <code class="literal">column</code> &#23646;&#24615;&#12364;&#12354;&#12426;&#12289;<code class="literal">title</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#12399;&#12394;&#12356;&#12398;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; <code class="literal">column</code> &#23646;&#24615;&#12364;&#12394;&#12369;&#12428;&#12400;&#12289;Hibernate&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12434;&#12459;&#12521;&#12512;&#21517;&#12392;&#12375;&#12390;&#20351;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399; <code class="literal">title</code> &#12391;&#12399;&#19978;&#25163;&#12367;&#34892;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375; <code class="literal">date</code> &#12399;&#12411;&#12392;&#12435;&#12393;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12391;&#20104;&#32004;&#35486;&#12394;&#12398;&#12391;&#12289; &#36949;&#12358;&#21517;&#21069;&#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#26041;&#12364;&#12424;&#12356;&#12398;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#27425;&#12395;&#33288;&#21619;&#28145;&#12356;&#12398;&#12399; <code class="literal">title</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12364; <code class="literal">type</code> &#23646;&#24615;&#12434;&#12418;&#27424;&#12356;&#12390;&#12356;&#12427;&#28857;&#12391;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#23459;&#35328;&#12375;&#12390;&#20351;&#12358;type&#12399;&#12289;&#12362;&#12431;&#12363;&#12426;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12364;Java&#12398;&#12487;&#12540;&#12479;&#22411;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; SQL&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#22411;&#12391;&#12418;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12428;&#12399; <span class="emphasis"><em>Hibernate&#12510;&#12483;&#12500;&#12531;&#12464;&#22411;</em></span> &#12392;&#21628;&#12400;&#12428;&#12427;&#12289; Java&#12363;&#12425;SQL&#12487;&#12540;&#12479;&#12398;&#22411;&#12408;&#12414;&#12383;&#12399;SQL&#12363;&#12425;Java&#12487;&#12540;&#12479;&#22411;&#12408;&#32763;&#35379;&#12377;&#12427;&#12467;&#12531;&#12496;&#12540;&#12479;&#12391;&#12377;&#12290; &#32368;&#12426;&#36820;&#12375;&#12395;&#12394;&#12426;&#12414;&#12377;&#12364;&#12289;Hibernate&#12399; <code class="literal">type</code> &#23646;&#24615;&#12364;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#20869;&#12395;&#12394;&#12369;&#12428;&#12400;&#12289; &#27491;&#12375;&#12356;&#12467;&#12531;&#12496;&#12540;&#12472;&#12519;&#12531;&#12392;&#12510;&#12483;&#12500;&#12531;&#12464;&#22411;&#12434;&#33258;&#20998;&#12391;&#35299;&#27770;&#12375;&#12424;&#12358;&#12392;&#12375;&#12414;&#12377;&#12290; &#65288;Java&#12463;&#12521;&#12473;&#12398;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12383;&#65289;&#12371;&#12398;&#33258;&#21205;&#26908;&#30693;&#12399;&#12289; &#22580;&#21512;&#12395;&#12424;&#12387;&#12390;&#12399;&#12354;&#12394;&#12383;&#12364;&#26399;&#24453;&#12414;&#12383;&#12399;&#24517;&#35201;&#12392;&#12377;&#12427;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12395;&#12394;&#12425;&#12394;&#12356;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;
                     <code class="literal">date</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#22580;&#21512;&#12364;&#12381;&#12358;&#12391;&#12375;&#12383;&#12290; Hibernate&#12399;&#12371;&#12398;&#65288; <code class="literal">java.util.Date</code> &#12398;&#65289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434; SQL&#12398; <code class="literal">date</code> , <code class="literal">timestamp</code> , <code class="literal">time</code> &#12398;&#12358;&#12385;&#12289;&#12393;&#12398;&#12459;&#12521;&#12512;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12409;&#12365;&#12394;&#12398;&#12363;&#12431;&#12363;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">timestamp</code> &#12467;&#12531;&#12496;&#12540;&#12479;&#12391;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;&#12289;&#23436;&#20840;&#12394;&#26085;&#26178;&#12434;&#20445;&#23384;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12399;&#12289;<code class="literal">Event.hbm.xml</code> &#12392;&#12375;&#12390; <code class="literal">Event</code> Java&#12463;&#12521;&#12473;&#12477;&#12540;&#12473;&#12501;&#12449;&#12452;&#12523;&#12398;&#12377;&#12368;&#38563;&#12395;&#12475;&#12540;&#12502;&#12377;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12398;&#21629;&#21517;&#26041;&#27861;&#12399;&#20219;&#24847;&#12391;&#12377;&#12364;&#12289;<code class="literal">hbm.xml</code> &#12469;&#12501;&#12451;&#12483;&#12463;&#12473;&#12364;Hibernate&#12398;&#38283;&#30330;&#32773;&#12398;&#12467;&#12511;&#12517;&#12491;&#12486;&#12451;&#20869;&#12391;&#12398;&#32722;&#24931;&#12392;&#12394;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#29694;&#22312;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#27083;&#36896;&#12399;&#12371;&#12398;&#12424;&#12358;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12399;&#12378;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">.
+lib
  &lt;Hibernate and third-party libraries&gt;
+src
  +events
    Event.java
    Event.hbm.xml</pre><p>Hibernate&#12398;&#20027;&#35201;&#12394;&#35373;&#23450;&#12434;&#32154;&#12369;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-firstapp-configuration"></a>1.2.3. Hibernate&#12398;&#35373;&#23450;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12371;&#12414;&#12391;&#12391;&#27704;&#32154;&#12463;&#12521;&#12473;&#12392;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12364;&#25539;&#12356;&#12414;&#12375;&#12383;&#12290;&#12371;&#12428;&#12363;&#12425;Hibernate&#12398;&#35373;&#23450;&#12434;&#34892;&#12356;&#12414;&#12377;&#12364;&#12289; &#12381;&#12398;&#21069;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; HSQL DB&#12399;Java&#12505;&#12540;&#12473;&#12398;&#12452;&#12531;&#12513;&#12514;&#12522;SQL DBMS&#12391;&#12354;&#12426;&#12289;HSQL DB&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12363;&#12425;&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12391;&#12365;&#12414;&#12377;&#12290;
                     &#23455;&#38555;&#12395;&#12399;&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12375;&#12383;&#20013;&#12398; <code class="literal">hsqldb.jar</code> &#12384;&#12369;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; &#12371;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#38283;&#30330;&#12501;&#12457;&#12523;&#12480;&#12398; <code class="literal">lib/</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#37197;&#32622;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">data</code> &#12392;&#12356;&#12358;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12434;&#38283;&#30330;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12523;&#12540;&#12488;&#12395;&#20316;&#25104;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; HSQL DB&#12399;&#12371;&#12371;&#12395;&#12487;&#12540;&#12479;&#12501;&#12449;&#12452;&#12523;&#12434;&#26684;&#32013;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12487;&#12540;&#12479;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#12362;&#12356;&#12390; <code class="literal">java -classpath lib/hsqldb.jar org.hsqldb.Server</code> &#12434;&#23455;&#34892;&#12375;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#36215;&#21205;&#12373;&#12379;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#21205;&#20316;&#12398;&#38283;&#22987;&#12392;&#12289;TCP/IP&#12477;&#12465;&#12483;&#12488;&#12398;&#12496;&#12452;&#12531;&#12489;&#12364;&#30906;&#35469;&#12391;&#12365;&#12414;&#12377;&#12290; &#24460;&#12411;&#12393;&#20316;&#25104;&#12377;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12371;&#12371;&#12395;&#25509;&#32154;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375;&#12371;&#12398;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#20013;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#21021;&#26399;&#21270;&#12375;&#12383;&#12369;&#12428;&#12400;&#12289; HSQL DB&#12434;&#12471;&#12515;&#12483;&#12488;&#12480;&#12454;&#12531;&#12375;&#12390;&#65288;&#20316;&#26989;&#12454;&#12451;&#12531;&#12489;&#12454;&#12391;
                     <code class="literal">CTRL + C</code> &#12434;&#25276;&#12375;&#12414;&#12377;&#65289; <code class="literal">data/</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#20869;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#20840;&#12390;&#28040;&#21435;&#12375;&#12383;&#24460;&#12289; HSQL DB&#12434;&#20877;&#36215;&#21205;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>Hibernate&#12399;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#25509;&#32154;&#12377;&#12427;&#23652;&#12394;&#12398;&#12391;&#12289; &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12398;&#24773;&#22577;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12399;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12434;&#36890;&#12376;&#12390;&#34892;&#12431;&#12428;&#12414;&#12377;&#12364;&#12289;&#12371;&#12428;&#12418;&#35373;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12395;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#12458;&#12540;&#12503;&#12531;&#12477;&#12540;&#12473;&#12398;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12484;&#12540;&#12523;&#12364;&#21547;&#12414;&#12428;&#12390;&#12356;&#12414;&#12377;&#12364;&#12289;
                     &#12371;&#12398;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12391;&#12399;Hibernate&#12395;&#32068;&#12415;&#36796;&#12414;&#12428;&#12383;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12418;&#12375;&#35069;&#21697;&#12524;&#12505;&#12523;&#12398;&#21697;&#36074;&#12398;&#12469;&#12540;&#12489;&#12497;&#12540;&#12486;&#12451;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12477;&#12501;&#12488;&#12454;&#12455;&#12450;&#12434;&#20351;&#12356;&#12383;&#12369;&#12428;&#12400;&#12289; &#12463;&#12521;&#12473;&#12497;&#12473;&#12395;&#24517;&#35201;&#12394;&#12521;&#12452;&#12502;&#12521;&#12522;&#12434;&#12467;&#12500;&#12540;&#12375;&#12390;&#12289;&#30064;&#12394;&#12427;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12434;&#35373;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;
                     &#12394;&#12425;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p>Hibernate&#12398;&#35373;&#23450;&#12391;&#12399;&#12289;&#21336;&#32020;&#12394; <code class="literal">hibernate.properties</code> &#12501;&#12449;&#12452;&#12523;&#12289; &#12381;&#12428;&#12424;&#12426;&#23569;&#12375;&#27927;&#32244;&#12373;&#12428;&#12390;&#12356;&#12427; <code class="literal">hibernate.cfg.xml</code> &#12501;&#12449;&#12452;&#12523;&#12289; &#12414;&#12383;&#12399;&#23436;&#20840;&#12395;&#12503;&#12525;&#12464;&#12521;&#12512;&#19978;&#12391;&#12475;&#12483;&#12488;&#12450;&#12483;&#12503;&#12377;&#12427;&#26041;&#27861;&#12364;&#21033;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#12518;&#12540;&#12470;&#12364;&#22909;&#12416;&#12398;&#12399;XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;

&lt;hibernate-configuration&gt;

    &lt;session-factory&gt;

        &lt;!-- Database connection settings --&gt;
        &lt;property name="connection.driver_class"&gt;org.hsqldb.jdbcDriver&lt;/property&gt;
        &lt;property name="connection.url"&gt;jdbc:hsqldb:hsql://localhost&lt;/property&gt;
        &lt;property name="connection.username"&gt;sa&lt;/property&gt;
        &lt;property name="connection.password"&gt;&lt;/property&gt;

        &lt;!-- JDBC connection pool (use the built-in) --&gt;
        &lt;property name="connection.pool_size"&gt;1&lt;/property&gt;

        &lt;!-- SQL dialect --&gt;
        &lt;property name="dialect"&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;

        &lt;!-- Enable Hibernate's automatic session context management --&gt;
        &lt;property name="current_session_context_class"&gt;thread&lt;/property&gt;

        &lt;!-- Disable the second-level cache  --&gt;
        &lt;property name="cache.provider_class"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;

        &lt;!-- Echo all executed SQL to stdout --&gt;
        &lt;property name="show_sql"&gt;true&lt;/property&gt;

        &lt;!-- Drop and re-create the database schema on startup --&gt;
        &lt;property name="hbm2ddl.auto"&gt;create&lt;/property&gt;

        &lt;mapping resource="events/Event.hbm.xml"/&gt;

    &lt;/session-factory&gt;

&lt;/hibernate-configuration&gt;</pre><p>&#12371;&#12398;XML&#12398;&#35373;&#23450;&#12364;&#30064;&#12394;&#12427;DTD&#12434;&#20351;&#12358;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#29305;&#23450;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#21463;&#12369;&#25345;&#12388;&#12464;&#12525;&#12540;&#12496;&#12523;&#12501;&#12449;&#12463;&#12488;&#12522;&#12391;&#12354;&#12427;Hibernate&#12398; <code class="literal">SessionFactory</code> &#12434;&#35373;&#23450;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375;&#35079;&#25968;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#12354;&#12427;&#22580;&#21512;&#12395;&#12399;&#12289; &#65288;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12434;&#31777;&#21336;&#12395;&#12377;&#12427;&#12383;&#12417;&#65289;&#36890;&#24120;&#12356;&#12367;&#12388;&#12363;&#12398;&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#20869;&#12391;&#12289; &#12356;&#12367;&#12388;&#12363;&#12398; <code class="literal">&lt;session-factory&gt;</code> &#12434;&#20351;&#12358;&#35373;&#23450;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p>&#26368;&#21021;&#12398;4&#12388;&#12398; <code class="literal">property</code> &#35201;&#32032;&#12399;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12395;&#24517;&#35201;&#12394;&#35373;&#23450;&#12434;&#21547;&#12435;&#12391;&#12356;&#12414;&#12377;&#12290; dialect&#12392;&#12356;&#12358;&#21517;&#21069;&#12398; <code class="literal">property</code> &#35201;&#32032;&#12399;&#12289;Hibernate&#12364;&#29983;&#25104;&#12377;&#12427;&#29305;&#23450;&#12398;SQL&#26041;&#35328;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#27704;&#32154;&#30340;&#12394;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12395;&#23550;&#12377;&#12427;Hibernate&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#33258;&#21205;&#31649;&#29702;&#12399;&#12289;&#24460;&#12398;&#20363;&#12391;&#12377;&#12368;&#12395;&#12431;&#12363;&#12427;&#12424;&#12358;&#12395;&#12289;&#24441;&#12395;&#31435;&#12388;&#12371;&#12392;&#12391;&#12375;&#12423;&#12358;&#12290; <code class="literal">hbm2ddl.auto</code> &#12458;&#12503;&#12471;&#12519;&#12531;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12398;&#33258;&#21205;&#29983;&#25104;&#12434;on&#12395;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#30452;&#25509;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23550;&#12375;&#12390;&#29983;&#25104;&#12373;&#12428;&#12414;&#12377;&#12290; &#24403;&#28982;&#65288;config&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#21066;&#38500;&#12375;&#12390;&#65289;off&#12395;&#12375;&#12383;&#12426;&#12289; <code class="literal">SchemaExport</code> &#12392;&#12356;&#12358;Ant&#12479;&#12473;&#12463;&#12398;&#21161;&#12369;&#12434;&#20511;&#12426;&#12390;&#12501;&#12449;&#12452;&#12523;&#12395;&#12522;&#12480;&#12452;&#12524;&#12463;&#12488;&#12375;&#12383;&#12426;&#12391;&#12365;&#12414;&#12377;&#12290; &#26368;&#24460;&#12395;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12383;&#12417;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434;&#35373;&#23450;&#12395;&#36861;&#21152;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#12477;&#12540;&#12473;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#12467;&#12500;&#12540;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12377;&#12427;&#12392;&#12371;&#12428;&#12399;&#12463;&#12521;&#12473;&#12497;&#12473;&#12398;&#12523;&#12540;&#12488;&#12395;&#12354;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; Hibernate&#12399;&#12289;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#26178;&#12395;&#12463;&#12521;&#12473;&#12497;&#12473;&#12398;&#12523;&#12540;&#12488;&#12391; <code class="literal">hibernate.cfg.xml</code> &#12392;&#12356;&#12358;&#12501;&#12449;&#12452;&#12523;&#12434;&#33258;&#21205;&#30340;&#12395;&#25506;&#12375;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-firstapp-ant"></a>1.2.4. Ant&#12395;&#12424;&#12427;&#12499;&#12523;&#12489;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12381;&#12428;&#12391;&#12399;Ant&#12434;&#20351;&#12387;&#12390;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12434;&#12499;&#12523;&#12489;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12381;&#12428;&#12395;&#12399;Ant&#12364;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12373;&#12428;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://ant.apache.org/bindownload.cgi" target="_top">Ant&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12506;&#12540;&#12472;</a> &#12363;&#12425;&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; Ant&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#26041;&#27861;&#12399;&#12371;&#12371;&#12391;&#12399;&#35500;&#26126;&#12375;&#12414;&#12379;&#12435;&#12398;&#12391;&#12289; <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://ant.apache.org/manual/index.html" target="_top">Ant&#12510;&#12491;&#12517;&#12450;&#12523;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; Ant&#12434;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12377;&#12428;&#12400;&#12289;&#12499;&#12523;&#12489;&#12501;&#12449;&#12452;&#12523;&#12398;&#20316;&#25104;&#12434;&#38283;&#22987;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#12501;&#12449;&#12452;&#12523;&#12399; <code class="literal">build.xml</code> &#12392;&#21628;&#12400;&#12428;&#12289;&#38283;&#30330;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#30452;&#25509;&#37197;&#32622;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#22522;&#26412;&#30340;&#12394;&#12499;&#12523;&#12489;&#12501;&#12449;&#12452;&#12523;&#12399;&#12371;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#65306; </p><pre class="programlisting">&lt;project name="hibernate-tutorial" default="compile"&gt;

    &lt;property name="sourcedir" value="${basedir}/src"/&gt;
    &lt;property name="targetdir" value="${basedir}/bin"/&gt;
    &lt;property name="librarydir" value="${basedir}/lib"/&gt;

    &lt;path id="libraries"&gt;
        &lt;fileset dir="${librarydir}"&gt;
            &lt;include name="*.jar"/&gt;
        &lt;/fileset&gt;
    &lt;/path&gt;

    &lt;target name="clean"&gt;
        &lt;delete dir="${targetdir}"/&gt;
        &lt;mkdir dir="${targetdir}"/&gt;
    &lt;/target&gt;

    &lt;target name="compile" depends="clean, copy-resources"&gt;
      &lt;javac srcdir="${sourcedir}"
             destdir="${targetdir}"
             classpathref="libraries"/&gt;
    &lt;/target&gt;

    &lt;target name="copy-resources"&gt;
        &lt;copy todir="${targetdir}"&gt;
            &lt;fileset dir="${sourcedir}"&gt;
                &lt;exclude name="**/*.java"/&gt;
            &lt;/fileset&gt;
        &lt;/copy&gt;
    &lt;/target&gt;

&lt;/project&gt;</pre><p>&#12371;&#12428;&#12399; <code class="literal">.jar</code> &#12391;&#32066;&#12431;&#12427;lib&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398;&#12377;&#12409;&#12390;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#12289; &#12467;&#12531;&#12497;&#12452;&#12523;&#12395;&#20351;&#29992;&#12377;&#12427;&#12463;&#12521;&#12473;&#12497;&#12473;&#12395;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12434;Ant&#12395;&#25945;&#12360;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;Java&#12477;&#12540;&#12473;&#12501;&#12449;&#12452;&#12523;&#12391;&#12394;&#12356;&#12377;&#12409;&#12390;&#12398;&#12501;&#12449;&#12452;&#12523;&#12434;&#12479;&#12540;&#12466;&#12483;&#12488;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#12467;&#12500;&#12540;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12420;Hibernate&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12394;&#12393;&#12391;&#12377;&#12290;
                     &#20170;Ant&#12434;&#23455;&#34892;&#12377;&#12427;&#12392;&#12289;&#12371;&#12398;&#12424;&#12358;&#12394;&#20986;&#21147;&#12364;&#12354;&#12427;&#12399;&#12378;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">C:\hibernateTutorial\&gt;ant
Buildfile: build.xml

copy-resources:
     [copy] Copying 2 files to C:\hibernateTutorial\bin

compile:
    [javac] Compiling 1 source file to C:\hibernateTutorial\bin

BUILD SUCCESSFUL
Total time: 1 second </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-firstapp-helpers"></a>1.2.5. &#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12392;&#12504;&#12523;&#12497;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12373;&#12390; <code class="literal">Event</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12540;&#12489;&#12375;&#12383;&#12426;&#26684;&#32013;&#12375;&#12383;&#12426;&#12377;&#12427;&#28310;&#20633;&#12364;&#12391;&#12365;&#12414;&#12375;&#12383;&#12290; &#12375;&#12363;&#12375;&#12414;&#12378;&#12399;&#12452;&#12531;&#12501;&#12521;&#12473;&#12488;&#12521;&#12463;&#12481;&#12515;&#12398;&#12467;&#12540;&#12489;&#12434;&#26360;&#12356;&#12390;&#12289;&#12475;&#12483;&#12488;&#12450;&#12483;&#12503;&#12434;&#23436;&#20102;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12414;&#12378;&#12399;Hibernate&#12434;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12398;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12395;&#12399;&#12289;&#12464;&#12525;&#12540;&#12496;&#12523;&#12398;
                     <code class="literal">SessionFactory</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#29983;&#25104;&#12375;&#12390;&#12289; &#12381;&#12428;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12467;&#12540;&#12489;&#12391;&#12450;&#12463;&#12475;&#12473;&#12375;&#12420;&#12377;&#12356;&#22580;&#25152;&#12395;&#26684;&#32013;&#12377;&#12427;&#12371;&#12392;&#12364;&#21547;&#12414;&#12428;&#12414;&#12377;&#12290; <code class="literal">SessionFactory</code> &#12399;&#26032;&#12375;&#12367; <code class="literal">Session</code> &#12434;&#12458;&#12540;&#12503;&#12531;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">Session</code> &#12399;&#12471;&#12531;&#12464;&#12523;&#12473;&#12524;&#12483;&#12489;&#12398;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12434;&#34920;&#29694;&#12375;&#12414;&#12377;&#12290; &#12381;&#12428;&#12395;&#23550;&#12375;<code class="literal">SessionFactory</code> &#12399;&#12473;&#12524;&#12483;&#12489;&#12475;&#12540;&#12501;&#12398;&#12464;&#12525;&#12540;&#12496;&#12523;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#12354;&#12426;&#12289; &#19968;&#24230;&#12384;&#12369;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12371;&#12391;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12434;&#34892;&#12356;&#12289; &#20415;&#21033;&#12395; <code class="literal">SessionFactory</code> &#12408;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427; <code class="literal">HibernateUtil</code> &#12504;&#12523;&#12497;&#12463;&#12521;&#12473;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290; &#23455;&#35013;&#12434;&#35211;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#65306; 
                  </p><pre class="programlisting">package util;

import org.hibernate.*;
import org.hibernate.cfg.*;

public class HibernateUtil {

    private static final SessionFactory sessionFactory;

    static {
        try {
            // Create the SessionFactory from hibernate.cfg.xml
            sessionFactory = new Configuration().configure().buildSessionFactory();
        } catch (Throwable ex) {
            // Make sure you log the exception, as it might be swallowed
            System.err.println("Initial SessionFactory creation failed." + ex);
            throw new ExceptionInInitializerError(ex);
        }
    }

    public static SessionFactory getSessionFactory() {
        return sessionFactory;
    }

}</pre><p>&#12371;&#12398;&#12463;&#12521;&#12473;&#12399;&#38745;&#30340;&#21021;&#26399;&#21270;&#12502;&#12525;&#12483;&#12463;&#65288;&#12463;&#12521;&#12473;&#12364;&#12525;&#12540;&#12489;&#12373;&#12428;&#12427;&#12392;&#12365;&#12395;JVM&#12395;&#12424;&#12387;&#12390;&#19968;&#24230;&#12384;&#12369;&#21628;&#12400;&#12428;&#12427;&#65289; &#12391;&#12464;&#12525;&#12540;&#12496;&#12523;&#12398; <code class="literal">SessionFactory</code> &#12434;&#29983;&#25104;&#12377;&#12427;&#12384;&#12369;&#12391;&#12399;&#12394;&#12367;&#12289; &#38745;&#30340;&#12471;&#12531;&#12464;&#12523;&#12488;&#12531;&#12398;&#20351;&#29992;&#12434;&#38560;&#34109;&#12375;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#12398;JNDI&#12363;&#12425; <code class="literal">SessionFactory</code> &#12434; &#12523;&#12483;&#12463;&#12450;&#12483;&#12503;&#12377;&#12427;&#12398;&#12392;&#21516;&#27096;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#20869;&#12391; <code class="literal">SessionFactory</code> &#12395;&#21517;&#21069;&#12434;&#19982;&#12360;&#12427;&#12392;&#12289; Hibernate&#12399; <code class="literal">SessionFactory</code> &#27083;&#31689;&#24460;&#12395;JNDI&#12395;&#23550;&#12375;&#12496;&#12452;&#12531;&#12489;&#12434;&#34892;&#12362;&#12358;&#12392;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12467;&#12540;&#12489;&#12434;&#23436;&#20840;&#12395;&#25490;&#38500;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289; JMX&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12434;&#21033;&#29992;&#12375;&#12390; JMX&#12434;&#21033;&#29992;&#12391;&#12365;&#12427;&#12467;&#12531;&#12486;&#12490;&#12434;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12375;&#12289; <code class="literal">HibernateService</code> &#12434;JNDI&#12408;&#12496;&#12452;&#12531;&#12489;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12425;&#12398;&#39640;&#24230;&#12394;&#12458;&#12503;&#12471;&#12519;&#12531;&#12399;&#12289;Hibernate&#12398;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12391;&#35500;&#26126;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">HibernateUtil.java</code> &#12434;&#38283;&#30330;&#12477;&#12540;&#12473;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#12354;&#12427; <code class="literal">events</code> &#12497;&#12483;&#12465;&#12540;&#12472;&#12398; &#38563;&#12395;&#37197;&#32622;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">.
+lib
  &lt;Hibernate and third-party libraries&gt;
+src
  +events
    Event.java
    Event.hbm.xml
  +util
    HibernateUtil.java
  hibernate.cfg.xml
+data
build.xml</pre><p>&#12371;&#12428;&#12399;&#21839;&#38988;&#12394;&#12367;&#20877;&#12467;&#12531;&#12497;&#12452;&#12523;&#12391;&#12365;&#12427;&#12399;&#12378;&#12391;&#12377;&#12290; &#26368;&#24460;&#12395;&#12525;&#12462;&#12531;&#12464;&#12471;&#12473;&#12486;&#12512;&#12434;&#35373;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12399;commons logging&#12434;&#20351;&#12358;&#12383;&#12417;&#12289;Log4j&#12392;JDK 1.4 logging&#12398;&#36984;&#25246;&#12434;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#38283;&#30330;&#32773;&#12364;&#22909;&#12416;&#12398;&#12399;Log4j&#12391;&#12377;&#12290;
                     Hibernate&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#65288;&#12398;<code class="literal">etc/</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#65289;&#12363;&#12425; <code class="literal">log4j.properties</code> &#12434;&#12354;&#12394;&#12383;&#12398; <code class="literal">src</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#20869;&#12398; <code class="literal">hibernate.cfg.xml</code> &#12398;&#38563;&#12395;&#12467;&#12500;&#12540;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#35373;&#23450;&#20363;&#12434;&#35211;&#12390;&#12289;&#20887;&#38263;&#12394;&#20986;&#21147;&#12364;&#12424;&#12369;&#12428;&#12400;&#35373;&#23450;&#12434;&#22793;&#26356;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;Hibernate&#12398;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12513;&#12483;&#12475;&#12540;&#12472;&#12384;&#12369;&#12364;&#27161;&#28310;&#20986;&#21147;&#12395;&#34920;&#31034;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12398;&#12452;&#12531;&#12501;&#12521;&#12399;&#23436;&#20840;&#12391;&#12377;&#12290; Hibernate&#12434;&#20351;&#12387;&#12390;&#23455;&#38555;&#12398;&#20316;&#26989;&#12434;&#12377;&#12427;&#28310;&#20633;&#12364;&#25972;&#12356;&#12414;&#12375;&#12383;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-firstapp-workingpersistence"></a>1.2.6. &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12525;&#12540;&#12489;&#12392;&#26684;&#32013;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12388;&#12356;&#12395;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12525;&#12540;&#12489;&#12392;&#26684;&#32013;&#12395;Hibernate&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">main()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#25345;&#12388; <code class="literal">EventManager</code> &#12463;&#12521;&#12473;&#12434;&#26360;&#12365;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">package events;
import org.hibernate.Session;

import java.util.Date;

import util.HibernateUtil;

public class EventManager {

    public static void main(String[] args) {
        EventManager mgr = new EventManager();

        if (args[0].equals("store")) {
            mgr.createAndStoreEvent("My Event", new Date());
        }

        HibernateUtil.getSessionFactory().close();
    }

    private void createAndStoreEvent(String title, Date theDate) {

        Session session = HibernateUtil.getSessionFactory().getCurrentSession();

        session.beginTransaction();

        Event theEvent = new Event();
        theEvent.setTitle(title);
        theEvent.setDate(theDate);

        session.save(theEvent);

        session.getTransaction().commit();
    }

}</pre><p>&#26032;&#12375;&#12356; <code class="literal">Event</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#29983;&#25104;&#12375;&#12289;&#12381;&#12428;&#12434;Hibernate&#12395;&#28193;&#12375;&#12414;&#12377;&#12290; &#20170;&#12391;&#12399;Hibernate&#12364;SQL&#12434;&#20966;&#29702;&#12375;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12391; <code class="literal">INSERT</code> &#12434;&#23455;&#34892;&#12375;&#12414;&#12377;&#12290; &#23455;&#34892;&#21069;&#12395; <code class="literal">Session</code> &#12392; <code class="literal">Transaction</code> &#12434;&#20966;&#29702;&#12377;&#12427;&#12467;&#12540;&#12489;&#12434;&#30906;&#35469;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">Session</code> &#12399;1&#12388;&#12398;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12391;&#12377;&#12290; &#24403;&#20998;&#12398;&#38291;&#12289;&#35441;&#12434;&#31777;&#21336;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">Session</code> &#12392; <code class="literal">Transaction</code> &#12398;&#23550;&#24540;&#12434;&#19968;&#23550;&#19968;&#12392;&#20206;&#23450;&#12375;&#12414;&#12377;&#12290; &#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12539;&#12471;&#12473;&#12486;&#12512;&#65288;&#12371;&#12398;&#12465;&#12540;&#12473;&#12391;&#12399;JTA&#12392;&#20849;&#23384;&#12391;&#12365;&#12427;&#21336;&#32020;&#12394;JDBC&#65289;&#12363;&#12425;&#12467;&#12540;&#12489;&#12434;&#20445;&#35703;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; Hibernate <code class="literal">Session</code> &#19978;&#12391;&#21033;&#29992;&#21487;&#33021;&#12394; <code class="literal">Transaction</code> API&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">sessionFactory.getCurrentSession()</code> &#12399;&#12394;&#12395;&#12434;&#12377;&#12427;&#12398;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12414;&#12378;&#12289;&#12356;&#12387;&#12383;&#12435; <code class="literal">SessionFactory</code> &#12434;&#21462;&#24471;&#12375;&#20445;&#25345;&#12377;&#12428;&#12400; &#65288; <code class="literal">HibernateUtil</code> &#12398;&#12362;&#12363;&#12370;&#12391;&#31777;&#21336;&#12391;&#12377;&#65289;&#12289;&#12371;&#12398;&#12513;&#12477;&#12483;&#12489;&#12434;&#20309;&#24230;&#12391;&#12418;&#12289; &#12393;&#12371;&#12363;&#12425;&#12391;&#12418;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; <code class="literal">getCurrentSession()</code> &#12513;&#12477;&#12483;&#12489;&#12399;&#24120;&#12395;&#12300;&#29694;&#22312;&#12398;&#12301;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; <code class="literal">hibernate.cfg.xml</code> &#12398;&#12371;&#12398;&#27231;&#33021;&#12398;&#35373;&#23450;&#12391;&#12289;"thread"&#12434;&#25351;&#23450;&#12375;&#12383;&#12371;&#12392;&#12434;&#24605;&#12356;&#20986;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12398;&#12383;&#12417;&#29694;&#22312;&#12398;&#20316;&#26989;&#21336;&#20301;&#12398;&#12473;&#12467;&#12540;&#12503;&#12399;&#12289;&#12371;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#23455;&#34892;&#12377;&#12427;&#29694;&#22312;&#12398;Java&#12473;&#12524;&#12483;&#12489;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12371;&#12428;&#12391;&#20840;&#12390;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p><code class="literal">Session</code> &#12399;&#26368;&#21021;&#12395;&#24517;&#35201;&#12392;&#12394;&#12387;&#12383;&#12392;&#12365;&#12289;&#12388;&#12414;&#12426;&#26368;&#21021;&#12395; <code class="literal">getCurrentSession()</code> &#12364; &#21628;&#12400;&#12428;&#12383;&#12392;&#12365;&#12395;&#38283;&#22987;&#12375;&#12414;&#12377;&#12290; &#12381;&#12398;&#12392;&#12365;Hibernate&#12395;&#12424;&#12426;&#29694;&#22312;&#12398;&#12473;&#12524;&#12483;&#12489;&#12395;&#32080;&#12403;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#12290; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#32066;&#20102;&#65288;&#12467;&#12511;&#12483;&#12488;&#12418;&#12375;&#12367;&#12399;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#65289;&#12375;&#12383;&#12392;&#12365;&#12289; Hibernate&#12418;&#12473;&#12524;&#12483;&#12489;&#12363;&#12425; <code class="literal">Session</code> &#12434;&#20999;&#12426;&#38626;&#12375;&#12289;&#12463;&#12525;&#12540;&#12474;&#12375;&#12414;&#12377;&#12290; &#20877;&#12403; <code class="literal">getCurrentSession()</code> &#12434;&#21628;&#12406;&#12392;&#12289; &#26032;&#12375;&#12356; <code class="literal">Session</code> &#12434;&#21462;&#24471;&#12375;&#12390;&#26032;&#12375;&#12356;&#20316;&#26989;&#21336;&#20301;&#12434;&#12473;&#12479;&#12540;&#12488;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398; <span class="emphasis"><em>thread-bound</em></span> &#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#12539;&#12514;&#12487;&#12523;&#12399;Hibernate&#12434;&#21033;&#29992;&#12377;&#12427;&#19978;&#12391;&#26368;&#12418;&#20154;&#27671;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>Related to the unit of work scope, should the Hibernate <code class="literal">Session</code> be used to execute one or several database operations? The above example uses one <code class="literal">Session</code> for one operation. This is pure coincidence, the example is just not complex enough to show any other approach. The scope
                     of a Hibernate <code class="literal">Session</code> is flexible but you should never design your application to use a new Hibernate <code class="literal">Session</code> for <span class="emphasis"><em>every</em></span> database operation. So even if you see it a few more times in the following (very trivial) examples, consider <span class="emphasis"><em>session-per-operation</em></span> an anti-pattern. A real (web) application is shown later in this tutorial. 
                  </p>
                  <p>&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#25201;&#12356;&#12392;&#22659;&#30028;&#12398;&#35443;&#12375;&#12356;&#24773;&#22577;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289; <a href="#transactions" title="&#31532;11&#31456; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;">&#31456;&nbsp;11. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;</i></a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12398;&#20363;&#12391;&#12399;&#12456;&#12521;&#12540;&#20966;&#29702;&#12420;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12418;&#21106;&#24859;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12398;&#26368;&#21021;&#12398;&#12523;&#12540;&#12481;&#12531;&#12434;&#23455;&#34892;&#12377;&#12427;&#12395;&#12399;&#12289;Ant&#12398;&#12499;&#12523;&#12489;&#12501;&#12449;&#12452;&#12523;&#12395;&#21628;&#12403;&#20986;&#12375;&#21487;&#33021;&#12394;&#12479;&#12540;&#12466;&#12483;&#12488;&#12434; &#36861;&#21152;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#65306; </p><pre class="programlisting">&lt;target name="run" depends="compile"&gt;
    &lt;java fork="true" classname="events.EventManager" classpathref="libraries"&gt;
        &lt;classpath path="${targetdir}"/&gt;
        &lt;arg value="${action}"/&gt;
    &lt;/java&gt;
&lt;/target&gt;</pre><p><code class="literal">action</code> &#24341;&#25968;&#12398;&#20516;&#12399;&#12289;&#12479;&#12540;&#12466;&#12483;&#12488;&#12434;&#21628;&#12406;&#12392;&#12365;&#12395;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12391;&#35373;&#23450;&#12375;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">C:\hibernateTutorial\&gt;ant run -Daction=store</pre><p>&#12467;&#12531;&#12497;&#12452;&#12523;&#12377;&#12427;&#12392;&#12289;Hibernate&#12364;&#12473;&#12479;&#12540;&#12488;&#12375;&#12289;&#12354;&#12394;&#12383;&#12398;&#35373;&#23450;&#12395;&#12424;&#12426;&#12414;&#12377;&#12364;&#12289; &#22810;&#12367;&#12398;&#12525;&#12464;&#20986;&#21147;&#12364;&#12354;&#12427;&#12399;&#12378;&#12391;&#12377;&#12290; &#12381;&#12398;&#26368;&#24460;&#12395;&#12399;&#20197;&#19979;&#12398;&#34892;&#12364;&#12354;&#12427;&#12391;&#12375;&#12423;&#12358;&#65306; </p><pre class="programlisting">[java] Hibernate: insert into EVENTS (EVENT_DATE, title, EVENT_ID) values (?, ?, ?)</pre><p>&#12371;&#12428;&#12399;Hibernate&#12364;&#23455;&#34892;&#12377;&#12427; <code class="literal">INSERT</code> &#12391;&#12289; &#12463;&#12456;&#12473;&#12481;&#12519;&#12531;&#12510;&#12540;&#12463;&#12399;JDBC&#12496;&#12452;&#12531;&#12489;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#24341;&#25968;&#12392;&#12375;&#12390;&#12496;&#12452;&#12531;&#12489;&#12373;&#12428;&#12427;&#20516;&#12434;&#35211;&#12427;&#12383;&#12417;&#12289;&#12354;&#12427;&#12356;&#12399;&#12525;&#12464;&#12398;&#20887;&#38263;&#24615;&#12434;&#28187;&#12425;&#12377;&#12383;&#12417;&#12395;&#12399;&#12289; <code class="literal">log4j.properties</code> &#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p>&#12381;&#12428;&#12391;&#12399;&#21516;&#12376;&#12424;&#12358;&#12395;&#26684;&#32013;&#12373;&#12428;&#12383;&#12452;&#12505;&#12531;&#12488;&#12398;&#19968;&#35239;&#12434;&#35211;&#12424;&#12358;&#12392;&#24605;&#12356;&#12414;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12513;&#12452;&#12531;&#12513;&#12477;&#12483;&#12489;&#12395;&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#36861;&#21152;&#12375;&#12414;&#12377;&#65306; </p><pre class="programlisting">if (args[0].equals("store")) {
    mgr.createAndStoreEvent("My Event", new Date());
}
else if (args[0].equals("list")) {
    List events = mgr.listEvents();
    for (int i = 0; i &lt; events.size(); i++) {
        Event theEvent = (Event) events.get(i);
        System.out.println("Event: " + theEvent.getTitle() +
                           " Time: " + theEvent.getDate());
    }
}</pre><p>&#26032;&#12375;&#12356; <code class="literal">listEvents()&#12513;&#12477;&#12483;&#12489;</code> &#12418;&#36861;&#21152;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">private List listEvents() {

    Session session = HibernateUtil.getSessionFactory().getCurrentSession();

    session.beginTransaction();

    List result = session.createQuery("from Event").list();

    session.getTransaction().commit();

    return result;
}</pre><p>&#12371;&#12371;&#12391;&#12377;&#12427;&#12371;&#12392;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#23384;&#22312;&#12377;&#12427;&#12377;&#12409;&#12390;&#12398; <code class="literal">Event</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;HQL (Hibernate Query Language) &#12463;&#12456;&#12522;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; Hibernate&#12399;&#36969;&#20999;&#12394;SQL&#12434;&#29983;&#25104;&#12375;&#12289;&#12381;&#12428;&#12434;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#36865;&#12426;&#12289; &#12381;&#12398;&#12487;&#12540;&#12479;&#12434;&#20351;&#12387;&#12390; <code class="literal">Event</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#29983;&#25104;&#12375;&#12414;&#12377;&#12290; &#24403;&#28982;HQL&#12391;&#12373;&#12425;&#12395;&#35079;&#38609;&#12394;&#12463;&#12456;&#12522;&#12434;&#20316;&#25104;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#20197;&#19979;&#12398;&#12473;&#12486;&#12483;&#12503;&#12391;&#12289;&#12377;&#12409;&#12390;&#12398;&#23455;&#34892;&#12392;&#12486;&#12473;&#12488;&#12434;&#34892;&#12356;&#12414;&#12377;&#12290; </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>hbm2ddl&#12434;&#36890;&#12377;&#21069;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12487;&#12540;&#12479;&#12434;&#20316;&#25104;&#12375;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">ant run -Daction=store</code> &#12434;&#23455;&#34892;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>Now disable hbm2ddl by commenting out the property in your <code class="literal">hibernate.cfg.xml</code> file. Usually you only leave it turned on in continuous unit testing, but another run of hbm2ddl would <span class="emphasis"><em>drop</em></span> everything you have stored - the <code class="literal">create</code> configuration setting actually translates into "drop all tables from the schema, then re-create all tables, when the SessionFactory
                              is build". 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#20170; <code class="literal">-Daction=list</code> &#12392;&#25351;&#23450;&#12375;&#12390;Ant&#12434;&#21628;&#12406;&#12392;&#12289; &#12371;&#12428;&#12414;&#12391;&#26684;&#32013;&#12375;&#12383;&#12452;&#12505;&#12531;&#12488;&#12364;&#35211;&#12360;&#12427;&#12399;&#12378;&#12391;&#12377;&#12290; <code class="literal">store</code> &#12450;&#12463;&#12471;&#12519;&#12531;&#12434;&#25968;&#22238;&#20197;&#19978;&#21628;&#12406;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#27880;&#24847;&#65306;&#21021;&#12417;&#12390;Hibernate&#12395;&#35302;&#12428;&#12427;&#20154;&#12293;&#12398;&#22810;&#12367;&#12364;&#12371;&#12371;&#12391;&#22833;&#25943;&#12377;&#12427;&#12383;&#12417;&#12289;<span class="emphasis"><em>Table not found</em></span> &#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;&#12395; &#38306;&#12377;&#12427;&#36074;&#21839;&#12434;&#23450;&#26399;&#30340;&#12395;&#35211;&#12363;&#12369;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#19978;&#35352;&#12398;&#12473;&#12486;&#12483;&#12503;&#12395;&#24467;&#12360;&#12400;&#12289;hbm2ddl&#12364;&#26368;&#21021;&#12395;&#23455;&#34892;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12434;&#20316;&#25104;&#12375;&#12289; &#12381;&#12398;&#24460;&#12398;&#23455;&#34892;&#12395;&#12362;&#12356;&#12390;&#12418;&#12371;&#12398;&#12473;&#12461;&#12540;&#12510;&#12434;&#20351;&#29992;&#12377;&#12427;&#12398;&#12391;&#12289;&#21839;&#38988;&#12399;&#36215;&#12371;&#12425;&#12394;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12420;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12434;&#22793;&#26356;&#12375;&#12383;&#12392;&#12365;&#12399;&#12289;&#12418;&#12358;&#19968;&#24230;hbm2ddl&#12434;&#26377;&#21177;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
                     
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="tutorial-associations"></a>1.3. &#12497;&#12540;&#12488;2 - &#38306;&#36899;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27704;&#32154;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12434;&#12486;&#12540;&#12502;&#12523;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12375;&#12383;&#12290; &#12373;&#12425;&#12395;&#12371;&#12398;&#19978;&#12395;&#12356;&#12367;&#12388;&#12363;&#12398;&#12463;&#12521;&#12473;&#12398;&#38306;&#36899;&#12434;&#36861;&#21152;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12414;&#12378;&#21021;&#12417;&#12395;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#20154;&#12293;&#12434;&#36861;&#21152;&#12375;&#12289;&#24444;&#12425;&#12364;&#21442;&#21152;&#12377;&#12427;&#12452;&#12505;&#12531;&#12488;&#12398;&#12522;&#12473;&#12488;&#12434;&#26684;&#32013;&#12375;&#12414;&#12377;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-associations-mappinguser"></a>1.3.1. Person&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26368;&#21021;&#12398; <code class="literal">Person</code> &#12463;&#12521;&#12473;&#12399;&#21336;&#32020;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">package events;

public class Person {

    private Long id;
    private int age;
    private String firstname;
    private String lastname;

    public Person() {}

    // Accessor methods for all properties, private setter for 'id'

}</pre><p><code class="literal">Person.hbm.xml</code> &#12392;&#12356;&#12358;&#26032;&#12375;&#12356;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434;&#20316;&#25104;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356; &#65288;&#12501;&#12449;&#12452;&#12523;&#12398;&#26368;&#21021;&#12395;DTD&#12408;&#12398;&#21442;&#29031;&#12434;&#24536;&#12428;&#12378;&#12395;&#20837;&#12428;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#65306; 
                  </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="events.Person" table="PERSON"&gt;
        &lt;id name="id" column="PERSON_ID"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;property name="age"/&gt;
        &lt;property name="firstname"/&gt;
        &lt;property name="lastname"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#26368;&#24460;&#12395;Hibernate&#12398;&#35373;&#23450;&#12395;&#26032;&#12375;&#12356;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#36861;&#21152;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65306; </p><pre class="programlisting">&lt;mapping resource="events/Event.hbm.xml"/&gt;
&lt;mapping resource="events/Person.hbm.xml"/&gt;</pre><p>&#12381;&#12428;&#12391;&#12399;&#12371;&#12428;&#12425;2&#12388;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#38291;&#12398;&#38306;&#36899;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290; &#20154;&#12293;&#12364;&#12452;&#12505;&#12531;&#12488;&#12395;&#21442;&#21152;&#12391;&#12365;&#12289;&#12452;&#12505;&#12531;&#12488;&#12364;&#21442;&#21152;&#32773;&#12434;&#25345;&#12388;&#12398;&#12399;&#26126;&#12425;&#12363;&#12391;&#12377;&#12290; &#25201;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#35373;&#35336;&#12398;&#21839;&#38988;&#12399;&#12289;&#26041;&#21521;&#12289;&#22810;&#37325;&#24230;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#25391;&#12427;&#33310;&#12356;&#12391;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-associations-unidirset"></a>1.3.2. &#21336;&#26041;&#21521;Set&#12505;&#12540;&#12473;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12452;&#12505;&#12531;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434; <code class="literal">Person</code> &#12463;&#12521;&#12473;&#12395;&#36861;&#21152;&#12375;&#12414;&#12377;&#12290; &#12371;&#12358;&#12375;&#12390;&#12362;&#12367;&#12392;&#12289;&#26126;&#31034;&#30340;&#12394;&#12463;&#12456;&#12522;&#12289;&#12388;&#12414;&#12426;&#12431;&#12374;&#12431;&#12374;<code class="literal">aPerson.getEvents()</code>&#12434;&#21628;&#12403;&#20986;&#12373;&#12378;&#12395;&#12289; &#29305;&#23450;&#12398;&#20154;&#12395;&#32016;&#20184;&#12367;&#12452;&#12505;&#12531;&#12488;&#12434;&#31777;&#21336;&#12395;&#12490;&#12499;&#12466;&#12540;&#12488;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#31169;&#12383;&#12385;&#12399;Java&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;<code class="literal">Set</code> &#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#37325;&#35079;&#35201;&#32032;&#12434;&#25345;&#12383;&#12394;&#12356;&#12375;&#12289;&#38918;&#30058;&#12399;&#31169;&#12383;&#12385;&#12395;&#12399;&#24847;&#21619;&#12364;&#12394;&#12356;&#12363;&#12425;&#12391;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">Set</code> &#12391;&#23455;&#35013;&#12373;&#12428;&#12427;&#21336;&#26041;&#21521;&#12289;&#22810;&#20516;&#38306;&#36899;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; Java&#12463;&#12521;&#12473;&#20869;&#12395;&#23550;&#24540;&#12377;&#12427;&#12467;&#12540;&#12489;&#12434;&#26360;&#12356;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12375;&#12423;&#12358;&#65306; 
                  </p><pre class="programlisting">public class Person {

    private Set events = new HashSet();

    public Set getEvents() {
        return events;
    }

    public void setEvents(Set events) {
        this.events = events;
    }
}</pre><p>&#12371;&#12398;&#38306;&#36899;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#21069;&#12395;&#12289;&#21453;&#23550;&#20596;&#12395;&#12388;&#12356;&#12390;&#32771;&#12360;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#26126;&#12425;&#12363;&#12394;&#12371;&#12392;&#12391;&#12377;&#12364;&#12289;&#20170;&#12399;&#12371;&#12428;&#12434;&#21336;&#26041;&#21521;&#12395;&#12375;&#12383;&#12384;&#12369;&#12391;&#12377;&#12290; &#36870;&#12395;&#12289; <code class="literal">Event</code> &#20596;&#12395;&#12418;&#21029;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20316;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">anEvent.getParticipants()</code> &#12398;&#12424;&#12358;&#12395;&#12289; &#21452;&#26041;&#21521;&#12395;&#12490;&#12499;&#12466;&#12540;&#12488;&#12375;&#12383;&#12369;&#12428;&#12400;&#12289;&#12381;&#12358;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#27231;&#33021;&#30340;&#12395;&#12415;&#12390;&#24517;&#35201;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#29305;&#23450;&#12398;&#12452;&#12505;&#12531;&#12488;&#12395;&#38306;&#20418;&#12377;&#12427;&#12487;&#12540;&#12479;&#12434;&#21462;&#24471;&#12377;&#12427;&#26126;&#30906;&#12394;&#12463;&#12456;&#12522;&#12434;&#12289;&#12356;&#12388;&#12391;&#12418;&#23455;&#34892;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12375;&#12383;&#12290; &#12371;&#12398;&#35373;&#35336;&#12398;&#36984;&#25246;&#12399;&#38283;&#30330;&#32773;&#12395;&#20219;&#12373;&#12428;&#12390;&#12356;&#12390;&#12289;&#12371;&#12398;&#35696;&#35542;&#12395;&#12424;&#12426;&#26126;&#12425;&#12363;&#12394;&#12398;&#12399;&#38306;&#36899;&#12398;&#22810;&#37325;&#24230;&#12391;&#12377;&#12290;
                     &#12388;&#12414;&#12426;&#20001;&#20596;&#12434;&#12300;&#22810;&#12301;&#20516;&#12395;&#12377;&#12427;&#12289; <span class="emphasis"><em>&#22810;&#23550;&#22810;</em></span> &#12392;&#21628;&#12400;&#12428;&#12427;&#38306;&#36899;&#12391;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;Hibernate&#12398;many-to-many&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#20351;&#12356;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;class name="events.Person" table="PERSON"&gt;
    &lt;id name="id" column="PERSON_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;property name="age"/&gt;
    &lt;property name="firstname"/&gt;
    &lt;property name="lastname"/&gt;

    &lt;set name="events" table="PERSON_EVENT"&gt;
        &lt;key column="PERSON_ID"/&gt;
        &lt;many-to-many column="EVENT_ID" class="events.Event"/&gt;
    &lt;/set&gt;

&lt;/class&gt;</pre><p>Hibernate&#12399;&#12354;&#12426;&#12392;&#12354;&#12425;&#12422;&#12427;&#31278;&#39006;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12364;&#12289; &#26368;&#12418;&#19968;&#33324;&#30340;&#12394;&#12418;&#12398;&#12364; <code class="literal">&lt;set&gt;</code> &#12391;&#12377;&#12290; &#22810;&#23550;&#22810;&#38306;&#36899;&#65288;&#12414;&#12383;&#12399; <span class="emphasis"><em>n:m</em></span> &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12522;&#12524;&#12540;&#12471;&#12519;&#12531;&#12471;&#12483;&#12503;&#65289;&#12395;&#12399;&#12289; &#38306;&#36899;&#12486;&#12540;&#12502;&#12523;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; &#12371;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#12381;&#12428;&#12382;&#12428;&#12398;&#34892;&#12399;&#12289;&#20154;&#12392;&#12452;&#12505;&#12531;&#12488;&#38291;&#12398;&#12522;&#12531;&#12463;&#12434;&#34920;&#29694;&#12375;&#12414;&#12377;&#12290; &#12486;&#12540;&#12502;&#12523;&#21517;&#12399; <code class="literal">set</code> &#35201;&#32032;&#12398; <code class="literal">table</code> &#23646;&#24615;&#12391;&#35373;&#23450;&#12375;&#12414;&#12377;&#12290; &#20154;&#20596;&#12398;&#38306;&#36899;&#12398;&#35672;&#21029;&#23376;&#12459;&#12521;&#12512;&#21517;&#12399; <code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12391;&#12289; &#12452;&#12505;&#12531;&#12488;&#20596;&#12398;&#12459;&#12521;&#12512;&#21517;&#12399; <code class="literal">&lt;many-to-many&gt;</code> &#12398; <code class="literal">column</code> &#23646;&#24615;&#12391;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; Hibernate&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12463;&#12521;&#12473; &#65288;&#27491;&#30906;&#12395;&#12399;&#12289;&#21442;&#29031;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#21453;&#23550;&#20596;&#12398;&#12463;&#12521;&#12473;&#65289;&#12434;&#25945;&#12360;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>&#12381;&#12398;&#12383;&#12417;&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;&#65306; </p><pre class="programlisting">
    _____________        __________________
   |             |      |                  |       _____________
   |   EVENTS    |      |   PERSON_EVENT   |      |             |
   |_____________|      |__________________|      |    PERSON   |
   |             |      |                  |      |_____________|
   | *EVENT_ID   | &lt;--&gt; | *EVENT_ID        |      |             |
   |  EVENT_DATE |      | *PERSON_ID       | &lt;--&gt; | *PERSON_ID  |
   |  TITLE      |      |__________________|      |  AGE        |
   |_____________|                                |  FIRSTNAME  |
                                                  |  LASTNAME   |
                                                  |_____________|
 </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-associations-working"></a>1.3.3. &#38306;&#36899;&#12434;&#20685;&#12363;&#12379;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">EventManager</code> &#12398;&#26032;&#12375;&#12356;&#12513;&#12477;&#12483;&#12489;&#12391;&#20154;&#12293;&#12392;&#12452;&#12505;&#12531;&#12488;&#12434;&#19968;&#32210;&#12395;&#12375;&#12414;&#12375;&#12423;&#12358;&#65306; 
                  </p><pre class="programlisting">private void addPersonToEvent(Long personId, Long eventId) {

    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    session.beginTransaction();

    Person aPerson = (Person) session.load(Person.class, personId);
    Event anEvent = (Event) session.load(Event.class, eventId);

    aPerson.getEvents().add(anEvent);

    session.getTransaction().commit();
}</pre><p><code class="literal">Person</code> &#12392; <code class="literal">Event</code> &#12434;&#12525;&#12540;&#12489;&#12375;&#12383;&#24460;&#12289; &#26222;&#36890;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12387;&#12390;&#21336;&#32020;&#12395;&#12381;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20462;&#27491;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12372;&#35239;&#12398;&#12392;&#12362;&#12426; <code class="literal">update()</code> &#12420; <code class="literal">save()</code> &#12398;&#26126;&#31034;&#30340;&#12394;&#21628;&#12403;&#20986;&#12375;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399;&#12289;&#20462;&#27491;&#12373;&#12428;&#12383;&#12371;&#12392;&#12395;&#12424;&#12426;&#26356;&#26032;&#12377;&#12427;&#24517;&#35201;&#12398;&#12354;&#12427;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#33258;&#21205;&#30340;&#12395;&#26908;&#30693;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399; <span class="emphasis"><em>&#33258;&#21205;&#12480;&#12540;&#12486;&#12451;&#12481;&#12455;&#12483;&#12463;</em></span> &#12392;&#21628;&#12400;&#12428;&#12289; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#21517;&#21069;&#12420;date&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#20462;&#27491;&#12377;&#12427;&#12371;&#12392;&#12391;&#35430;&#12377;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; &#12381;&#12428;&#12425;&#12364; <span class="emphasis"><em>&#27704;&#32154;</em></span> &#29366;&#24907;&#12395;&#12354;&#12427;&#38480;&#12426;&#12289; &#12388;&#12414;&#12426;&#29305;&#23450;&#12398;Hibernate <code class="literal">Session</code> &#12395;&#12496;&#12452;&#12531;&#12489;&#12373;&#12428;&#12390;&#12356;&#12427;&#38480;&#12426; &#65288;&#20363;&#12360;&#12400;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12398;&#20013;&#12391;&#21336;&#12395;&#12525;&#12540;&#12489;&#12414;&#12383;&#12399;&#12475;&#12540;&#12502;&#12373;&#12428;&#12383;&#65289;&#12289; Hibernate&#12399;&#12393;&#12435;&#12394;&#22793;&#26356;&#12418;&#12514;&#12491;&#12479;&#12540;&#12375;&#12289;&#36933;&#24310;&#26360;&#12365;&#36796;&#12415;(write-behind)&#12391;SQL&#12434;&#23455;&#34892;&#12375;&#12414;&#12377;&#12290; &#36890;&#24120;&#12289;&#20316;&#26989;&#21336;&#20301;(Unit
                     of Work)&#12398;&#26368;&#24460;&#12395;&#12384;&#12369;&#34892;&#12431;&#12428;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#12513;&#12514;&#12522;&#12398;&#29366;&#24907;&#12434;&#21516;&#26399;&#12373;&#12379;&#12427;&#20966;&#29702;&#12399;&#12289; <span class="emphasis"><em>&#12501;&#12521;&#12483;&#12471;&#12517;</em></span> &#12392;&#21628;&#12400;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#12467;&#12540;&#12489;&#12391;&#12399;&#12289;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12467;&#12511;&#12483;&#12488;&#65288;&#12418;&#12375;&#12367;&#12399;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#65289;&#12391;&#32066;&#20102;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289; <code class="literal">CurrentSessionContext</code> &#12463;&#12521;&#12473;&#12395;&#23550;&#12375;&#12390; <code class="literal">thread</code> &#12434;&#35373;&#23450;&#12375;&#12383;&#12383;&#12417;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#30064;&#12394;&#12427;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12391;&#20154;&#12293;&#12392;&#12452;&#12505;&#12531;&#12488;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12418;&#24403;&#28982;&#12391;&#12365;&#12414;&#12377;&#12290; &#12381;&#12358;&#12391;&#12394;&#12369;&#12428;&#12400;&#12289;&#27704;&#32154;&#29366;&#24907;&#12395;&#12394;&#12356;&#12392;&#12365;&#65288;&#20197;&#21069;&#12395;&#27704;&#32154;&#12391;&#12354;&#12387;&#12383;&#12394;&#12425;&#12289;&#12371;&#12398;&#29366;&#24907;&#12434; <span class="emphasis"><em>&#20998;&#38626;&#65288;detached&#65289;</em></span> &#12392;&#21628;&#12403;&#12414;&#12377;&#65289;&#12289; <code class="literal">Session</code> &#12398;&#22806;&#37096;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20462;&#27491;&#12375;&#12414;&#12377;&#12290; &#20998;&#38626;&#12373;&#12428;&#12427;&#12392;&#12365;&#12395;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#22793;&#26356;&#12377;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">private void addPersonToEvent(Long personId, Long eventId) {

    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    session.beginTransaction();

    Person aPerson = (Person) session
            .createQuery("select p from Person p left join fetch p.events where p.id = :pid")
            .setParameter("pid", personId)
            .uniqueResult(); // Eager fetch the collection so we can use it detached

    Event anEvent = (Event) session.load(Event.class, eventId);

    session.getTransaction().commit();

    // End of first unit of work

    aPerson.getEvents().add(anEvent); // aPerson (and its collection) is detached

    // Begin second unit of work

    Session session2 = HibernateUtil.getSessionFactory().getCurrentSession();
    session2.beginTransaction();

    session2.update(aPerson); // Reattachment of aPerson

    session2.getTransaction().commit();
}</pre><p><code class="literal">update</code> &#12398;&#21628;&#12403;&#20986;&#12375;&#12399;&#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20877;&#12403;&#27704;&#32154;&#21270;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;&#26032;&#12375;&#12356;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12395;&#12496;&#12452;&#12531;&#12489;&#12377;&#12427;&#12392;&#35328;&#12360;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; &#12381;&#12398;&#12383;&#12417;&#20998;&#38626;&#12398;&#38291;&#12395;&#21152;&#12360;&#12425;&#12428;&#12383;&#12393;&#12398;&#12424;&#12358;&#12394;&#20462;&#27491;&#12418;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12475;&#12540;&#12502;&#12391;&#12365;&#12414;&#12377;&#12290; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12408;&#12398;&#20462;&#27491;&#65288;&#36861;&#21152;&#65381;&#21066;&#38500;&#65289;&#12418;&#21516;&#27096;&#12395;&#12475;&#12540;&#12502;&#12391;&#12365;&#12414;&#12377;&#12290;
                     
                  </p>
                  <p>&#12371;&#12428;&#12399;&#20170;&#12399;&#12354;&#12414;&#12426;&#20351;&#12356;&#12415;&#12385;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12364;&#12289; &#33258;&#20998;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#35373;&#35336;&#12395;&#32068;&#12415;&#36796;&#12416;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#37325;&#35201;&#12394;&#12467;&#12531;&#12475;&#12503;&#12488;&#12391;&#12377;&#12290; &#12381;&#12428;&#12391;&#12399;&#12371;&#12398;&#12456;&#12463;&#12469;&#12469;&#12452;&#12474;&#12398;&#26368;&#24460;&#12395;&#12289; <code class="literal">EventManager</code> &#12398;&#12513;&#12452;&#12531;&#12513;&#12477;&#12483;&#12489;&#12395;&#26032;&#12375;&#12356;&#12450;&#12463;&#12471;&#12519;&#12531;&#12434;&#36861;&#21152;&#12375;&#12390; &#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12363;&#12425;&#21628;&#12403;&#20986;&#12375;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#12290; &#20154;&#12420;&#12452;&#12505;&#12531;&#12488;&#12398;&#35672;&#21029;&#23376;&#12364;&#24517;&#35201;&#12394;&#12425;&#12289; <code class="literal">save()</code> &#12513;&#12477;&#12483;&#12489;&#12364;&#36820;&#12375;&#12390;&#12367;&#12428;&#12414;&#12377; &#65288;&#22580;&#21512;&#12395;&#12424;&#12387;&#12390;&#12399;&#35672;&#21029;&#23376;&#12434;&#36820;&#12377;&#12383;&#12417;&#12395;&#12513;&#12477;&#12483;&#12489;&#12434;&#20462;&#27491;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#65289;&#12290; 
                  </p><pre class="programlisting">else if (args[0].equals("addpersontoevent")) {
    Long eventId = mgr.createAndStoreEvent("My Event", new Date());
    Long personId = mgr.createAndStorePerson("Foo", "Bar");
    mgr.addPersonToEvent(personId, eventId);
    System.out.println("Added person " + personId + " to event " + eventId);
}</pre><p>&#12371;&#12428;&#12399;&#21516;&#12376;&#12424;&#12358;&#12395;&#37325;&#35201;&#12394;2&#12388;&#12398;&#12463;&#12521;&#12473;&#12289;&#12388;&#12414;&#12426;2&#12388;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#38291;&#12398;&#38306;&#36899;&#12398;&#20363;&#12391;&#12375;&#12383;&#12290; &#21069;&#12395;&#36848;&#12409;&#12383;&#12424;&#12358;&#12395;&#12289;&#20856;&#22411;&#30340;&#12394;&#12514;&#12487;&#12523;&#12395;&#12399;&#12289;&#26222;&#36890;&#12300;&#27604;&#36611;&#30340;&#37325;&#35201;&#12391;&#12399;&#12394;&#12356;&#12301;&#20182;&#12398;&#12463;&#12521;&#12473;&#12392;&#22411;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12414;&#12391;&#12395;&#35211;&#12383;&#12424;&#12358;&#12394; <code class="literal">int</code> &#12420; <code class="literal">String</code> &#12398;&#12424;&#12358;&#12394;&#12418;&#12398;&#12391;&#12377;&#12290; &#12371;&#12398;&#12424;&#12358;&#12394;&#12463;&#12521;&#12473;&#12434; <span class="emphasis"><em>&#20516;&#22411;</em></span> &#12392;&#35328;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#29305;&#23450;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395; <span class="emphasis"><em>&#20381;&#23384;</em></span> &#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#22411;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#29420;&#33258;&#12398;ID&#12434;&#25345;&#12385;&#12414;&#12379;&#12435;&#12375;&#12289; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#38291;&#12391;&#20849;&#26377;&#12373;&#12428;&#12427;&#12371;&#12392;&#12418;&#12354;&#12426;&#12414;&#12379;&#12435; &#65288;&#12501;&#12449;&#12540;&#12473;&#12488;&#12493;&#12540;&#12512;&#12364;&#21516;&#12376;&#12384;&#12387;&#12383;&#12392;&#12375;&#12390;&#12418;&#12289;2&#20154;&#12398;&#20154;&#12399;&#21516;&#12376; <code class="literal">firstname</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21442;&#29031;&#12375;&#12414;&#12379;&#12435;&#65289;&#12290; &#20516;&#22411;&#12399;&#12418;&#12385;&#12429;&#12435;JDK&#20869;&#12395;&#35211;&#12388;&#12363;&#12426;&#12414;&#12377;&#12364;&#12289;&#12381;&#12428;&#12384;&#12369;&#12391;&#12399;&#12394;&#12367; &#65288;&#23455;&#38555;&#12289;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12362;&#12356;&#12390;&#12377;&#12409;&#12390;&#12398;JDK&#12463;&#12521;&#12473;&#12399;&#20516;&#22411;&#12392;&#35211;&#12394;&#12379;&#12414;&#12377;&#65289;&#12289; &#20363;&#12360;&#12400; <code class="literal">Address</code> &#12420; <code class="literal">MonetaryAmount</code> &#12398;&#12424;&#12358;&#12394;&#29420;&#33258;&#12398;&#20381;&#23384;&#12463;&#12521;&#12473;&#12434;&#26360;&#12367;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#20516;&#22411;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#35373;&#35336;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#21442;&#29031;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#12399;&#27010;&#24565;&#30340;&#12395;&#38750;&#24120;&#12395;&#30064;&#12394;&#12426;&#12414;&#12377;&#12364;&#12289; Java&#12391;&#12399;&#12411;&#12392;&#12435;&#12393;&#21516;&#12376;&#12424;&#12358;&#12395;&#35211;&#12360;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-associations-valuecollections"></a>1.3.4. &#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#20516;&#22411;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434; <code class="literal">Person</code> &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#36861;&#21152;&#12375;&#12414;&#12377;&#12290; E&#12513;&#12540;&#12523;&#12450;&#12489;&#12524;&#12473;&#12434;&#26684;&#32013;&#12375;&#12383;&#12356;&#12398;&#12391;&#12377;&#12364;&#12289;<code class="literal">String</code> &#22411;&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12398;&#12391;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#20877;&#12403; <code class="literal">Set</code> &#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">private Set emailAddresses = new HashSet();

public Set getEmailAddresses() {
    return emailAddresses;
}

public void setEmailAddresses(Set emailAddresses) {
    this.emailAddresses = emailAddresses;
}</pre><p>&#12371;&#12398; <code class="literal">Set</code> &#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;set name="emailAddresses" table="PERSON_EMAIL_ADDR"&gt;
    &lt;key column="PERSON_ID"/&gt;
    &lt;element type="string" column="EMAIL_ADDR"/&gt;
&lt;/set&gt;</pre><p>&#21069;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12392;&#27604;&#12409;&#12390;&#36949;&#12358;&#12398;&#12399; <code class="literal">element</code> &#12398;&#37096;&#20998;&#12391;&#12377;&#12364;&#12289; Hibernate&#12395;&#12371;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#21442;&#29031;&#12434;&#21547;&#12414;&#12378;&#12289; <code class="literal">String</code> &#22411;&#12398;&#35201;&#32032;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21547;&#12416;&#12371;&#12392;&#12434;&#25945;&#12360;&#12414;&#12377;&#12290; &#65288;&#23567;&#25991;&#23383;&#12398;&#21517;&#21069;(string)&#12399;Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#22411;&#12414;&#12383;&#12399;&#12467;&#12531;&#12496;&#12540;&#12479;&#12391;&#12354;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#65289;&#12290; &#32368;&#12426;&#36820;&#12375;&#12414;&#12377;&#12364;&#12289;<code class="literal">set</code> &#35201;&#32032;&#12398; <code class="literal">table</code> &#23646;&#24615;&#12399;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12383;&#12417;&#12398;&#12486;&#12540;&#12502;&#12523;&#21517;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <code class="literal">key</code> &#35201;&#32032;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12486;&#12540;&#12502;&#12523;&#12398;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#21517;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; <code class="literal">element</code> &#35201;&#32032;&#12398; <code class="literal">column</code> &#23646;&#24615;&#12399; <code class="literal">String</code> &#12398;&#20516;&#12364;&#23455;&#38555;&#12395;&#26684;&#32013;&#12373;&#12428;&#12427;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#26356;&#26032;&#12375;&#12383;&#12473;&#12461;&#12540;&#12510;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65306; </p><pre class="programlisting">
  _____________        __________________
 |             |      |                  |       _____________
 |   EVENTS    |      |   PERSON_EVENT   |      |             |       ___________________
 |_____________|      |__________________|      |    PERSON   |      |                   |
 |             |      |                  |      |_____________|      | PERSON_EMAIL_ADDR |
 | *EVENT_ID   | &lt;--&gt; | *EVENT_ID        |      |             |      |___________________|
 |  EVENT_DATE |      | *PERSON_ID       | &lt;--&gt; | *PERSON_ID  | &lt;--&gt; |  *PERSON_ID       |
 |  TITLE      |      |__________________|      |  AGE        |      |  *EMAIL_ADDR      |
 |_____________|                                |  FIRSTNAME  |      |___________________|
                                                |  LASTNAME   |
                                                |_____________|
 </pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12399;&#12289;&#23455;&#38555;&#12399;&#20001;&#26041;&#12398;&#12459;&#12521;&#12512;&#12434;&#20351;&#12387;&#12383;&#35079;&#21512;&#12461;&#12540;&#12391;&#12354;&#12427;&#12371;&#12392;&#12364;&#12431;&#12363;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#20154;&#12372;&#12392;&#12395;E&#12513;&#12540;&#12523;&#12450;&#12489;&#12524;&#12473;&#12364;&#37325;&#35079;&#12391;&#12365;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12289; Java&#12398;set&#12395;&#35201;&#27714;&#12373;&#12428;&#12427;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12381;&#12398;&#12418;&#12398;&#12391;&#12377;&#12290; </p>
                  <p>&#20197;&#21069;&#20154;&#12392;&#12452;&#12505;&#12531;&#12488;&#12434;&#38306;&#36899;&#12389;&#12369;&#12383;&#12392;&#12365;&#12392;&#20840;&#12367;&#21516;&#12376;&#12424;&#12358;&#12395;&#12289; &#20170;&#12420;&#35430;&#12375;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#35201;&#32032;&#12434;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12375;&#12383;&#12290; &#20001;&#26041;&#12392;&#12418;Java&#12391;&#12399;&#21516;&#12376;&#12467;&#12540;&#12489;&#12391;&#12377;&#12290; </p><pre class="programlisting">private void addEmailToPerson(Long personId, String emailAddress) {

    Session session = HibernateUtil.getSessionFactory().getCurrentSession();
    session.beginTransaction();

    Person aPerson = (Person) session.load(Person.class, personId);

    // The getEmailAddresses() might trigger a lazy load of the collection
    aPerson.getEmailAddresses().add(emailAddress);

    session.getTransaction().commit();
}</pre><p>This time we didn't use a <span class="emphasis"><em>fetch</em></span> query to initialize the collection. Hence, the call to its getter method will trigger an additional select to initialize
                     it, so we can add an element to it. Monitor the SQL log and try to optimize this with an eager fetch. 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-associations-bidirectional"></a>1.3.5. &#21452;&#26041;&#21521;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#27425;&#12395;&#21452;&#26041;&#21521;&#38306;&#36899;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; Java&#12391;&#20001;&#20596;&#12363;&#12425;&#20154;&#12392;&#12452;&#12505;&#12531;&#12488;&#12398;&#38306;&#36899;&#12434;&#21205;&#20316;&#12373;&#12379;&#12414;&#12377;&#12290; &#12418;&#12385;&#12429;&#12435;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12399;&#22793;&#12431;&#12426;&#12414;&#12379;&#12435;&#12364;&#12289;&#22810;&#37325;&#24230;&#12399;&#22810;&#23550;&#22810;&#12398;&#12414;&#12414;&#12391;&#12377;&#12290; &#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12399;&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#35328;&#35486;&#12424;&#12426;&#12418;&#26580;&#36575;&#12394;&#12398;&#12391;&#12289;
                     &#12490;&#12499;&#12466;&#12540;&#12471;&#12519;&#12531;&#12398;&#26041;&#21521;&#12398;&#12424;&#12358;&#12394;&#12418;&#12398;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12379;&#12435;&#12290; &#12487;&#12540;&#12479;&#12399;&#12354;&#12425;&#12422;&#12427;&#12398;&#26041;&#27861;&#12391;&#35211;&#12383;&#12426;&#24489;&#20803;&#12391;&#12365;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12414;&#12378; <code class="literal">Event</code> &#12452;&#12505;&#12531;&#12488;&#12463;&#12521;&#12473;&#12395;&#21442;&#21152;&#32773;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#36861;&#21152;&#12375;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">private Set participants = new HashSet();

public Set getParticipants() {
    return participants;
}

public void setParticipants(Set participants) {
    this.participants = participants;
}</pre><p>&#12381;&#12428;&#12391;&#12399; <code class="literal">Event.hbm.xml</code> &#12391;&#38306;&#36899;&#12398;&#12371;&#12385;&#12425;&#20596;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;set name="participants" table="PERSON_EVENT" inverse="true"&gt;
    &lt;key column="EVENT_ID"/&gt;
    &lt;many-to-many column="PERSON_ID" class="events.Person"/&gt;
&lt;/set&gt;</pre><p>&#12372;&#35239;&#12398;&#12392;&#12362;&#12426;&#12289;&#12356;&#12378;&#12428;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;(XML&#12501;&#12449;&#12452;&#12523;)&#12391;&#12418;&#12289;&#26222;&#36890;&#12398; <code class="literal">set</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#20351;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; <code class="literal">key</code> &#12392; <code class="literal">many-to-many</code> &#12398;&#12459;&#12521;&#12512;&#21517;&#12364;&#12289; &#20001;&#26041;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12391;&#20837;&#12428;&#26367;&#12360;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#30446;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12371;&#12391;&#26368;&#12418;&#37325;&#35201;&#12394;&#36861;&#21152;&#38917;&#30446;&#12399;&#12289; <code class="literal">Event</code> &#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; <code class="literal">set</code> &#35201;&#32032;&#12395;&#12354;&#12427; <code class="literal">inverse="true"</code> &#23646;&#24615;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12398;&#25351;&#23450;&#12398;&#24847;&#21619;&#12399;&#12289;2&#12388;&#12398;&#38291;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#38291;&#12398;&#12522;&#12531;&#12463;&#12395;&#12388;&#12356;&#12390;&#12398;&#24773;&#22577;&#12434;&#25506;&#12377;&#24517;&#35201;&#12364;&#12354;&#12427;&#12392;&#12365;&#12289; Hibernate&#12399;&#21453;&#23550;&#20596;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12289;&#12388;&#12414;&#12426; <code class="literal">Person</code> &#12463;&#12521;&#12473;&#12363;&#12425;&#25506;&#12377;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#19968;&#24230;2&#12388;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#38291;&#12398;&#21452;&#26041;&#21521;&#12522;&#12531;&#12463;&#12364;&#12393;&#12398;&#12424;&#12358;&#12395;&#20316;&#25104;&#12373;&#12428;&#12427;&#12363;&#12364;&#12431;&#12363;&#12428;&#12400;&#12289; &#12371;&#12428;&#12434;&#29702;&#35299;&#12377;&#12427;&#12371;&#12392;&#12399;&#12392;&#12390;&#12418;&#31777;&#21336;&#12391;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-associations-usingbidir"></a>1.3.6. &#21452;&#26041;&#21521;&#12522;&#12531;&#12463;&#12398;&#21205;&#20316;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12414;&#12378;&#12289;Hibernate&#12364;&#36890;&#24120;&#12398;Java&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12395;&#24433;&#38911;&#12434;&#21450;&#12412;&#12373;&#12394;&#12356;&#12371;&#12392;&#12434;&#24515;&#12395;&#30041;&#12417;&#12390;&#12362;&#12356;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#31169;&#12383;&#12385;&#12399;&#12289;&#21336;&#26041;&#21521;&#12398;&#20363;&#12392;&#12375;&#12390;&#12393;&#12398;&#12424;&#12358;&#12395; <code class="literal">Person</code> &#12392; <code class="literal">Event</code> &#12398;&#38291;&#12398;&#12522;&#12531;&#12463;&#12434;&#20316;&#25104;&#12375;&#12383;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; <code class="literal">Person</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12452;&#12505;&#12531;&#12488;&#12408;&#12398;&#21442;&#29031;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395; <code class="literal">Event</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36861;&#21152;&#12375;&#12414;&#12375;&#12383;&#12290; &#12381;&#12398;&#12383;&#12417;&#12371;&#12398;&#12522;&#12531;&#12463;&#12434;&#21452;&#26041;&#21521;&#12395;&#12375;&#12383;&#12369;&#12428;&#12400;&#12289; &#24403;&#12383;&#12426;&#21069;&#12391;&#12377;&#12364;&#21453;&#23550;&#20596;&#12395;&#12418;&#21516;&#12376;&#12371;&#12392;&#12434;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">Event</code> &#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395; <code class="literal">Person</code> &#12408;&#12398; &#21442;&#29031;&#12434;&#36861;&#21152;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#12371;&#12398;&#12300;&#20001;&#20596;&#12391;&#12522;&#12531;&#12463;&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12301;&#12399;&#32118;&#23550;&#12395;&#24517;&#35201;&#12394;&#12398;&#12391;&#12289;&#27770;&#12375;&#12390;&#24536;&#12428;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p>Many developers program defensively and create link management methods to correctly set both sides, e.g. in <code class="literal">Person</code>: 
                  </p><pre class="programlisting">protected Set getEvents() {
    return events;
}

protected void setEvents(Set events) {
    this.events = events;
}

public void addToEvent(Event event) {
    this.getEvents().add(event);
    event.getParticipants().add(this);
}

public void removeFromEvent(Event event) {
    this.getEvents().remove(event);
    event.getParticipants().remove(this);
}</pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12466;&#12483;&#12488;&#12392;&#12475;&#12483;&#12488;&#12513;&#12477;&#12483;&#12489;&#12364;&#29694;&#22312;protected&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12428;&#12399;&#21516;&#12376;&#12497;&#12483;&#12465;&#12540;&#12472;&#12398;&#12463;&#12521;&#12473;&#12420;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;&#20381;&#28982;&#12450;&#12463;&#12475;&#12473;&#12364;&#21487;&#33021;&#12391;&#12377;&#12364;&#12289; &#65288;&#12411;&#12392;&#12435;&#12393;&#65289;&#12381;&#12398;&#12497;&#12483;&#12465;&#12540;&#12472;&#22806;&#12398;&#12393;&#12398;&#12463;&#12521;&#12473;&#12391;&#12418;&#30452;&#25509;&#12381;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21488;&#28961;&#12375;&#12395;&#12377;&#12427;&#12371;&#12392;&#12434;&#38450;&#12366;&#12414;&#12377;&#12290;
                     &#12362;&#12381;&#12425;&#12367;&#21453;&#23550;&#20596;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12418;&#21516;&#12376;&#12371;&#12392;&#12434;&#12375;&#12383;&#26041;&#12364;&#12356;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; 
                  </p>
                  <p><code class="literal">inverse</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#23646;&#24615;&#12392;&#12399;&#12356;&#12387;&#12383;&#12356;&#20309;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#38283;&#30330;&#32773;&#12392;Java&#12395;&#12392;&#12387;&#12390;&#12399;&#12289;&#21452;&#26041;&#21521;&#12522;&#12531;&#12463;&#12399;&#21336;&#12395;&#20001;&#20596;&#12398;&#21442;&#29031;&#12434;&#27491;&#12375;&#12367;&#35373;&#23450;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;Hibernate&#12399;&#65288;&#21046;&#32004;&#36949;&#21453;&#12434;&#36991;&#12369;&#12427;&#12383;&#12417;&#12395;&#65289;SQL&#12398; <code class="literal">INSERT</code> &#12392; <code class="literal">UPDATE</code> &#25991;&#12434;&#27491;&#30906;&#12395;&#22793;&#26356;&#12377;&#12427;&#12383;&#12417;&#12398;&#21313;&#20998;&#12394;&#24773;&#22577;&#12434;&#25345;&#12387;&#12390;&#12356;&#12394;&#12356;&#12398;&#12391;&#12289; &#21452;&#26041;&#21521;&#38306;&#36899;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25201;&#12358;&#12383;&#12417;&#12398;&#20309;&#12425;&#12363;&#12398;&#21161;&#12369;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; &#38306;&#36899;&#12398;&#29255;&#20596;&#12434; <code class="literal">inverse</code> &#12395;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;Hibernate&#12399;&#22522;&#26412;&#30340;&#12395;&#12399;&#35373;&#23450;&#12375;&#12383;&#20596;&#12434;&#28961;&#35222;&#12375;&#12289; &#21453;&#23550;&#20596;&#12398; <span class="emphasis"><em>&#37857;</em></span> &#12392;&#12375;&#12390;&#32771;&#12360;&#12414;&#12377;&#12290; &#12371;&#12428;&#12384;&#12369;&#12391;&#12289;Hibernate&#12399;&#26041;&#21521;&#12434;&#25345;&#12388;&#12490;&#12499;&#12466;&#12540;&#12471;&#12519;&#12531;&#12514;&#12487;&#12523;&#12434;SQL&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12408;&#22793;&#25563;&#12377;&#12427;&#12392;&#12365;&#12398; &#12377;&#12409;&#12390;&#12398;&#21839;&#38988;&#12395;&#12358;&#12414;&#12367;&#23550;&#20966;&#12391;&#12365;&#12414;&#12377;&#12290; &#35226;&#12360;&#12390;&#12362;&#12363;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12523;&#12540;&#12523;&#12399;&#31777;&#21336;&#12391;&#12377;&#12290; &#21452;&#26041;&#21521;&#38306;&#36899;&#12399;&#24517;&#12378;&#29255;&#20596;&#12434; <code class="literal">inverse</code> &#12395;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#19968;&#23550;&#22810;&#38306;&#36899;&#12391;&#12399;&#12381;&#12428;&#12399;&#22810;&#20596;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#22810;&#23550;&#22810;&#38306;&#36899;&#12391;&#12399;&#12393;&#12385;&#12425;&#20596;&#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290;&#12393;&#12385;&#12425;&#12391;&#12418;&#36949;&#12356;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="tutorial-webapp"></a>1.4. &#12497;&#12540;&#12488;3 - EventManager Web&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Let's turn the following discussion into a small web application... </p>
               <p>Hibernate&#12398;Web&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12473;&#12479;&#12531;&#12489;&#12450;&#12525;&#12540;&#12531;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12424;&#12358;&#12395; <code class="literal">Session</code> &#12392; <code class="literal">Transaction</code> &#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12356;&#12367;&#12388;&#12363;&#12398;&#19968;&#33324;&#30340;&#12394;&#12497;&#12479;&#12540;&#12531;&#12364;&#24441;&#31435;&#12385;&#12414;&#12377;&#12290; &#12371;&#12371;&#12391; <code class="literal">EventManagerServlet</code> &#12434;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290;&#12371;&#12398;&#12469;&#12540;&#12502;&#12524;&#12483;&#12488;&#12399;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#26684;&#32013;&#12375;&#12383;&#20840;&#12390;&#12398;&#12452;&#12505;&#12531;&#12488;&#12434;&#12522;&#12473;&#12488;&#12395;&#12391;&#12365;&#12289;&#12373;&#12425;&#12395;HTML&#12501;&#12457;&#12540;&#12512;&#12363;&#12425;&#26032;&#12375;&#12356;&#12452;&#12505;&#12531;&#12488;&#12434;&#20837;&#21147;&#12391;&#12365;&#12427;&#12418;&#12398;&#12391;&#12377;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-webapp-servlet"></a>1.4.1. &#22522;&#26412;&#30340;&#12394;Servlet&#12398;&#35352;&#36848;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26032;&#12375;&#12356;&#12463;&#12521;&#12473;&#12434;&#12289;&#12477;&#12540;&#12473;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12398; <code class="literal">events</code> &#12497;&#12483;&#12465;&#12540;&#12472;&#12395;&#20316;&#25104;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">package events;

// Imports

public class EventManagerServlet extends HttpServlet {

    // Servlet code
}</pre><p>Servlet&#12399;HTTP&#12398; <code class="literal">GET</code> &#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#12415;&#12434;&#20966;&#29702;&#12377;&#12427;&#12398;&#12391;&#12289; <code class="literal">doGet()</code> &#12434;&#23455;&#35013;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">protected void doGet(HttpServletRequest request,
                     HttpServletResponse response)
        throws ServletException, IOException {

    SimpleDateFormat dateFormatter = new SimpleDateFormat("dd.MM.yyyy");

    try {
        // Begin unit of work
        HibernateUtil.getSessionFactory()
                .getCurrentSession().beginTransaction();

        // Process request and render page...

        // End unit of work
        HibernateUtil.getSessionFactory()
                .getCurrentSession().getTransaction().commit();

    } catch (Exception ex) {
        HibernateUtil.getSessionFactory()
                .getCurrentSession().getTransaction().rollback();
        throw new ServletException(ex);
    }

}</pre><p>The pattern we are applying here is called <span class="emphasis"><em>session-per-request</em></span>. When a request hits the servlet, a new Hibernate <code class="literal">Session</code> is opened through the first call to <code class="literal">getCurrentSession()</code> on the <code class="literal">SessionFactory</code>. Then a database transaction is started-all data access as to occur inside a transaction, no matter if data is read or written
                     (we don't use the auto-commit mode in applications). 
                  </p>
                  <p>Do <span class="emphasis"><em>not</em></span> use a new Hibernate <code class="literal">Session</code> for every database operation. Use one Hibernate <code class="literal">Session</code> that is scoped to the whole request. Use <code class="literal">getCurrentSession()</code>, so that it is automatically bound to the current Java thread. 
                  </p>
                  <p>&#27425;&#12395;&#12289;&#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#12450;&#12463;&#12471;&#12519;&#12531;&#12399;&#20966;&#29702;&#12373;&#12428;&#12289;&#12524;&#12473;&#12509;&#12531;&#12473;&#12391;&#12354;&#12427;HTML&#12364;&#25551;&#30011;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12388;&#12356;&#12390;&#12399;&#12377;&#12368;&#12395;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290; </p>
                  <p>Finally, the unit of work ends when processing and rendering is complete. If any problem occurred during processing or rendering,
                     an exception will be thrown and the database transaction rolled back. This completes the <code class="literal">session-per-request</code> pattern. Instead of the transaction demarcation code in every servlet you could also write a servlet filter. See the Hibernate
                     website and Wiki for more information about this pattern, called <span class="emphasis"><em>Open Session in View</em></span>-you'll need it as soon as you consider rendering your view in JSP, not in a servlet. 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-webapp-processing"></a>1.4.2. &#20966;&#29702;&#12392;&#25551;&#30011;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12391;&#12399;&#12289;&#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#20966;&#29702;&#12392;&#12506;&#12540;&#12472;&#12398;&#25551;&#30011;&#12434;&#23455;&#35013;&#12375;&#12414;&#12377;&#12290; </p><pre class="programlisting">// Write HTML header
PrintWriter out = response.getWriter();
out.println("&lt;html&gt;&lt;head&gt;&lt;title&gt;Event Manager&lt;/title&gt;&lt;/head&gt;&lt;body&gt;");

// Handle actions
if ( "store".equals(request.getParameter("action")) ) {

    String eventTitle = request.getParameter("eventTitle");
    String eventDate = request.getParameter("eventDate");

    if ( "".equals(eventTitle) || "".equals(eventDate) ) {
        out.println("&lt;b&gt;&lt;i&gt;Please enter event title and date.&lt;/i&gt;&lt;/b&gt;");
    } else {
        createAndStoreEvent(eventTitle, dateFormatter.parse(eventDate));
        out.println("&lt;b&gt;&lt;i&gt;Added event.&lt;/i&gt;&lt;/b&gt;");
    }
}

// Print page
printEventForm(out);
listEvents(out, dateFormatter);

// Write HTML footer
out.println("&lt;/body&gt;&lt;/html&gt;");
out.flush();
out.close();</pre><p>Granted, this coding style with a mix of Java and HTML would not scale in a more complex application-keep in mind that we
                     are only illustrating basic Hibernate concepts in this tutorial. The code prints an HTML header and a footer. Inside this
                     page, an HTML form for event entry and a list of all events in the database are printed. The first method is trivial and only
                     outputs HTML: 
                  </p><pre class="programlisting">private void printEventForm(PrintWriter out) {
    out.println("&lt;h2&gt;Add new event:&lt;/h2&gt;");
    out.println("&lt;form&gt;");
    out.println("Title: &lt;input name='eventTitle' length='50'/&gt;&lt;br/&gt;");
    out.println("Date (e.g. 24.12.2009): &lt;input name='eventDate' length='10'/&gt;&lt;br/&gt;");
    out.println("&lt;input type='submit' name='action' value='store'/&gt;");
    out.println("&lt;/form&gt;");
}</pre><p><code class="literal">listEvents()</code> &#12513;&#12477;&#12483;&#12489;&#12399;&#12289;&#29694;&#22312;&#12398;&#12473;&#12524;&#12483;&#12489;&#12395;&#32080;&#12403;&#12388;&#12367; Hibernate&#12398; <code class="literal">Session</code> &#12434;&#20351;&#29992;&#12375;&#12390;&#12289;&#12463;&#12456;&#12522;&#12434;&#23455;&#34892;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">private void listEvents(PrintWriter out, SimpleDateFormat dateFormatter) {

    List result = HibernateUtil.getSessionFactory()
                    .getCurrentSession().createCriteria(Event.class).list();
    if (result.size() &gt; 0) {
        out.println("&lt;h2&gt;Events in database:&lt;/h2&gt;");
        out.println("&lt;table border='1'&gt;");
        out.println("&lt;tr&gt;");
        out.println("&lt;th&gt;Event title&lt;/th&gt;");
        out.println("&lt;th&gt;Event date&lt;/th&gt;");
        out.println("&lt;/tr&gt;");
        for (Iterator it = result.iterator(); it.hasNext();) {
            Event event = (Event) it.next();
            out.println("&lt;tr&gt;");
            out.println("&lt;td&gt;" + event.getTitle() + "&lt;/td&gt;");
            out.println("&lt;td&gt;" + dateFormatter.format(event.getDate()) + "&lt;/td&gt;");
            out.println("&lt;/tr&gt;");
        }
        out.println("&lt;/table&gt;");
    }
}</pre><p>&#26368;&#24460;&#12395;&#12289; <code class="literal">store</code> &#12450;&#12463;&#12471;&#12519;&#12531;&#12364; <code class="literal">createAndStoreEvent()</code> &#12513;&#12477;&#12483;&#12489;&#12434; &#21628;&#12403;&#20986;&#12375;&#12414;&#12377;&#12290;&#12371;&#12398;&#12513;&#12477;&#12483;&#12489;&#12391;&#12418;&#29694;&#22312;&#12398;&#12473;&#12524;&#12483;&#12489;&#12398; <code class="literal">Session</code> &#12434;&#21033;&#29992;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">protected void createAndStoreEvent(String title, Date theDate) {
    Event theEvent = new Event();
    theEvent.setTitle(title);
    theEvent.setDate(theDate);

    HibernateUtil.getSessionFactory()
                    .getCurrentSession().save(theEvent);
}</pre><p>That's it, the servlet is complete. A request to the servlet will be processed in a single <code class="literal">Session</code> and <code class="literal">Transaction</code>. As earlier in the standalone application, Hibernate can automatically bind these objects to the current thread of execution.
                     This gives you the freedom to layer your code and access the <code class="literal">SessionFactory</code> in any way you like. Usually you'd use a more sophisticated design and move the data access code into data access objects
                     (the DAO pattern). See the Hibernate Wiki for more examples. 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="tutorial-webapp-deploy"></a>1.4.3. &#12487;&#12503;&#12525;&#12452;&#12392;&#12486;&#12473;&#12488;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12487;&#12503;&#12525;&#12452;&#12398;&#12383;&#12417;&#12395;&#12289;Web&#12450;&#12540;&#12459;&#12452;&#12502;&#65288;WAR&#65289;&#12434;&#20316;&#25104;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#20197;&#19979;&#12398;Ant&#12479;&#12540;&#12466;&#12483;&#12488;&#12434; <code class="literal">build.xml</code> &#12395;&#21152;&#12360;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;target name="war" depends="compile"&gt;
    &lt;war destfile="hibernate-tutorial.war" webxml="web.xml"&gt;
        &lt;lib dir="${librarydir}"&gt;
          &lt;exclude name="jsdk*.jar"/&gt;
        &lt;/lib&gt;

        &lt;classes dir="${targetdir}"/&gt;
    &lt;/war&gt;
&lt;/target&gt;</pre><p>&#12371;&#12398;&#12479;&#12540;&#12466;&#12483;&#12488;&#12399; <code class="literal">hibernate-tutorial.war</code> &#12392;&#12356;&#12358;&#12501;&#12449;&#12452;&#12523;&#12434; &#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12501;&#12449;&#12452;&#12523;&#12399;&#12377;&#12409;&#12390;&#12398;&#12521;&#12452;&#12502;&#12521;&#12522;&#12392; <code class="literal">web.xml</code> &#35352;&#36848;&#23376;&#12434;&#21547;&#12435;&#12391;&#12362;&#12426;&#12289; &#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12398;&#12505;&#12540;&#12473;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#32622;&#12363;&#12428;&#12427;&#12371;&#12392;&#12434;&#26399;&#24453;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app version="2.4"
    xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Event Manager&lt;/servlet-name&gt;
        &lt;servlet-class&gt;events.EventManagerServlet&lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Event Manager&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/eventmanager&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
&lt;/web-app&gt;</pre><p>Before you compile and deploy the web application, note that an additional library is required: <code class="literal">jsdk.jar</code>. This is the Java servlet development kit, if you don't have this library already, get it from the Sun website and copy it
                     to your library directory. However, it will be only used for compilation and excluded from the WAR package. 
                  </p>
                  <p>&#12499;&#12523;&#12489;&#12392;&#12487;&#12503;&#12525;&#12452;&#12398;&#12383;&#12417;&#12395;&#12289;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12391; <code class="literal">ant war</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12289; <code class="literal">hibernate-tutorial.war</code> &#12501;&#12449;&#12452;&#12523;&#12434;Tomcat&#12398; <code class="literal">webapp</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#12467;&#12500;&#12540;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12414;&#12384;Tomcat&#12434;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12375;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12289;&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12375;&#12390;&#12289;&#20197;&#19979;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;&#12460;&#12452;&#12489;&#12395;&#24467;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12375;&#12363;&#12375;&#12289;&#12371;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12487;&#12503;&#12525;&#12452;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;Tomcat&#12398;&#35373;&#23450;&#12434;&#22793;&#26356;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;
                     
                  </p>
                  <p>&#19968;&#24230;&#12487;&#12503;&#12525;&#12452;&#12375;&#12390;Tomcat&#12434;&#36215;&#21205;&#12377;&#12428;&#12400;&#12289; <code class="literal">http://localhost:8080/hibernate-tutorial/eventmanager</code> &#12391; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;&#12364;&#21487;&#33021;&#12391;&#12377;&#12290; &#26368;&#21021;&#12398;&#12522;&#12463;&#12456;&#12473;&#12488;&#12364;&#20316;&#25104;&#12375;&#12383;&#12469;&#12540;&#12502;&#12524;&#12483;&#12488;&#12395;&#28193;&#12387;&#12383;&#12392;&#12365;&#12395;&#12289;Tomcat&#12398;&#12525;&#12464;&#12391; Hibernate&#12398;&#21021;&#26399;&#21270;&#20966;&#29702;&#12434;&#30906;&#35469;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356; &#65288; <code class="literal">HibernateUtil</code> &#20869;&#12398;&#38745;&#30340;&#21021;&#26399;&#21270;&#12502;&#12525;&#12483;&#12463;&#12364;&#21628;&#12400;&#12428;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290; &#12414;&#12383;&#12289;exception&#12364;&#30330;&#29983;&#12375;&#12383;&#12394;&#12425;&#35443;&#32048;&#12434;&#30906;&#35469;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="tutorial-summary"></a>1.5. &#35201;&#32004;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12371;&#12398;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12391;&#12399;&#12289;&#31777;&#21336;&#12394;&#12473;&#12479;&#12531;&#12489;&#12450;&#12525;&#12540;&#12531;&#12398;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12392; &#23567;&#35215;&#27169;&#12398;Web&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#26360;&#12367;&#12383;&#12417;&#12398;&#22522;&#26412;&#12434;&#32057;&#20171;&#12375;&#12414;&#12375;&#12383;&#12290; </p>
               <p>&#12418;&#12358;Hibernate&#12395;&#33258;&#20449;&#12364;&#12354;&#12428;&#12400;&#12289;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#30446;&#27425;&#12395;&#30446;&#12434;&#36890;&#12375;&#12390;&#12289; &#38754;&#30333;&#12381;&#12358;&#12384;&#12392;&#24605;&#12358;&#12488;&#12500;&#12483;&#12463;&#12434;&#25506;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#26368;&#12418;&#38971;&#32321;&#12395;&#36074;&#21839;&#12364;&#12354;&#12427;&#12398;&#12399;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#20966;&#29702;&#65288;<a href="#transactions" title="&#31532;11&#31456; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;">&#31456;&nbsp;11. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;</i></a>&#65289;&#12289; &#12501;&#12455;&#12483;&#12481;&#12398;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#65288;<a href="#performance" title="&#31532;19&#31456; &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#25913;&#21892;">&#31456;&nbsp;19. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#25913;&#21892;</i></a>&#65289;&#12289; API&#12398;&#20351;&#12356;&#26041;&#65288;<a href="#objectstate" title="&#31532;10&#31456; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25201;&#12358;">&#31456;&nbsp;10. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25201;&#12358;</i></a>&#65289;&#12392;&#12463;&#12456;&#12522; &#65288;<a href="#objectstate-querying" title="10.4. &#12463;&#12456;&#12522;">&#38917;10.4. &#12300;&#12463;&#12456;&#12522;&#12301;</a>&#65289;&#12391;&#12377;&#12290; 
               </p>
               <p>&#12373;&#12425;&#12395;&#65288;&#29305;&#21029;&#12394;&#65289;&#12481;&#12517;&#12540;&#12488;&#12522;&#12450;&#12523;&#12364;&#24517;&#35201;&#12394;&#12425;&#12289;Hibernate&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12434;&#24536;&#12428;&#12378;&#12395;&#12481;&#12455;&#12483;&#12463;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="architecture"></a>&#31532;2&#31456; &#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="architecture-overview"></a>2.1. &#27010;&#35251;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12398;&#65288;&#38750;&#24120;&#12395;&#65289;&#39640;&#12356;&#12524;&#12505;&#12523;&#12363;&#12425;&#12398;&#12499;&#12517;&#12540;&#65306; </p>
               <div class="mediaobject" align="center"><img src="images/overview.png" align="middle"></div>
               <p>&#12371;&#12398;&#22259;&#12399;Hibernate&#12364;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#27704;&#32154;&#21270;&#12469;&#12540;&#12499;&#12473; &#65288;&#12392;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#65289;&#12434;&#25552;&#20379;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#35373;&#23450;&#12487;&#12540;&#12479;&#12434;&#20351;&#12358;&#12371;&#12392;&#12434; &#31034;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
               <p>&#12371;&#12371;&#12391;&#23455;&#34892;&#26178;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12398;&#12424;&#12426;&#35443;&#32048;&#12394;&#12499;&#12517;&#12540;&#12434;&#12362;&#35211;&#12379;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12354;&#12356;&#12395;&#12367;&#12289;Hibernate&#12399;&#26580;&#36575;&#12391;&#12354;&#12426;&#12289;&#12356;&#12429;&#12356;&#12429;&#12394;&#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12371;&#12391;&#12399;&#12289;2&#12388;&#12398;&#26997;&#31471;&#12394;&#20363;&#12434;&#12362;&#35211;&#12379;&#12375;&#12414;&#12377;&#12290; &#12300;&#36605;&#12356;&#12301;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12391;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#33258;&#21069;&#12398;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#29992;&#24847;&#12375;&#12289;
                  &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#33258;&#36523;&#12364;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#31649;&#29702;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#26041;&#27861;&#12399;&#12289;Hibernate API&#12398;&#26368;&#23567;&#38480;&#12398;&#12469;&#12502;&#12475;&#12483;&#12488;&#12434;&#20351;&#12356;&#12414;&#12377;&#65306; 
               </p>
               <div class="mediaobject" align="center"><img src="images/lite.png" align="middle"></div>
               <p>&#12300;&#37325;&#12356;&#12301;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12363;&#12425;&#12289;&#12381;&#12398;&#19979;&#12395;&#20301;&#32622;&#12377;&#12427;JDBC&#12420;JTA&#12398;API&#12434; &#21462;&#12426;&#25173;&#12387;&#12390;&#25277;&#35937;&#21270;&#12375;&#12289;&#12381;&#12398;&#35443;&#32048;&#12398;&#38754;&#20498;&#12434;Hibernate&#12395;&#35211;&#12373;&#12379;&#12414;&#12377;&#12290; </p>
               <div class="mediaobject" align="center"><img src="images/full_cream.png" align="middle"></div>
               <p>Heres some definitions of the objects in the diagrams: </p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">SessionFactory (<code class="literal">org.hibernate.SessionFactory</code>)</span></dt>
                     <dd>
                        <p>1&#12388;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23550;&#12377;&#12427;&#12467;&#12531;&#12497;&#12452;&#12523;&#12373;&#12428;&#12383;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; &#12473;&#12524;&#12483;&#12489;&#12475;&#12540;&#12501;&#12394;&#65288;&#26356;&#26032;&#19981;&#33021;&#12398;&#65289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12290; <code class="literal">Session</code> &#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12391;&#12354;&#12426;&#12289; <code class="literal">ConnectionProvider</code> &#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12290; &#12458;&#12503;&#12471;&#12519;&#12531;&#12392;&#12375;&#12390;&#12289;&#12503;&#12525;&#12475;&#12473;&#12414;&#12383;&#12399;&#12463;&#12521;&#12473;&#12479;&#12524;&#12505;&#12523;&#12395;&#12362;&#12356;&#12390;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#38291;&#12391;&#20877;&#21033;&#29992;&#21487;&#33021;&#12394;&#12487;&#12540;&#12479;&#12398;&#65288;&#20108;&#27425;&#65289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term">Session (<code class="literal">org.hibernate.Session</code>)</span></dt>
                     <dd>
                        <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12392;&#27704;&#32154;&#12473;&#12488;&#12450;&#12392;&#12398;&#23550;&#35441;&#12434;&#34920;&#12377;&#12289; &#12471;&#12531;&#12464;&#12523;&#12473;&#12524;&#12483;&#12489;&#12391;&#30701;&#21629;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12290; JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#12521;&#12483;&#12503;&#12375;&#12414;&#12377;&#12290; <code class="literal">Transaction</code> &#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12391;&#12377;&#12290; &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#24517;&#38920;&#12398;&#65288;&#19968;&#27425;&#65289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12399;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12464;&#12521;&#12501;&#12434;&#12490;&#12499;&#12466;&#12540;&#12471;&#12519;&#12531;&#12377;&#12427;&#26178;&#12420;&#12289; &#35672;&#21029;&#23376;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#26908;&#32034;&#12377;&#12427;&#26178;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term">Persistent objects &#12392; Collections</span></dt>
                     <dd>
                        <p>&#27704;&#32154;&#21270;&#29366;&#24907;&#12392;&#12499;&#12472;&#12493;&#12473;&#12513;&#12477;&#12483;&#12489;&#12434;&#25345;&#12388;&#12289;&#30701;&#21629;&#12391;&#12471;&#12531;&#12464;&#12523;&#12473;&#12524;&#12483;&#12489;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12290; &#12371;&#12428;&#12399;&#36890;&#24120;&#12398;JavaBeans/POJO&#12398;&#12371;&#12392;&#12418;&#12354;&#12426;&#12414;&#12377;&#12364;&#12289;&#29305;&#24500;&#30340;&#12394;&#12371;&#12392;&#12399;&#12289; &#12381;&#12398;&#26178;&#28857;&#12391;&#12398;&#65288;&#12383;&#12384;1&#12388;&#12398;&#65289; <code class="literal">Session</code> &#12392;&#38306;&#36899;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; <code class="literal">Session</code> &#12364;&#12463;&#12525;&#12540;&#12474;&#12373;&#12428;&#12427;&#12392;&#12377;&#12368;&#12395;&#12289; &#12381;&#12428;&#12425;&#12399;&#20999;&#12426;&#38626;&#12373;&#12428;&#12390;&#20182;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#23652;&#12363;&#12425;&#33258;&#30001;&#12395;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#65288;&#20363;&#12360;&#12400;&#12487;&#12540;&#12479;&#12539;&#12488;&#12521;&#12531;&#12473;&#12501;&#12449;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#12375;&#12390;&#12289; &#12503;&#12524;&#12476;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;&#23652;&#12363;&#12425;&#12289;&#12414;&#12383;&#12399;&#12503;&#12524;&#12476;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;&#23652;&#12408;&#30452;&#25509;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;&#65289; 
                        </p>
                     </dd>
                     <dt><span class="term">Transient &#12392; detached &#12394; objects &#12392; Collections</span></dt>
                     <dd>
                        <p>&#29694;&#26178;&#28857;&#12391;&#12399; <code class="literal">Session</code> &#12392;&#38306;&#36899;&#12375;&#12390;&#12356;&#12394;&#12356;&#12289; &#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12290; &#12377;&#12391;&#12395;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20596;&#12391;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12390;&#12356;&#12390;&#12289;&#12414;&#12384;&#27704;&#32154;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12363;&#12289; &#12463;&#12525;&#12540;&#12474;&#12373;&#12428;&#12383; <code class="literal">Session</code> &#12391;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12363;&#12398;&#12393;&#12385;&#12425;&#12363;&#12391;&#12377;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term">Transaction (<code class="literal">org.hibernate.Transaction</code>)</span></dt>
                     <dd>
                        <p>(&#12458;&#12503;&#12471;&#12519;&#12531;)&#21407;&#23376;&#24615;&#12434;&#25345;&#12388;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12434;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#20351;&#29992;&#12377;&#12427;&#12289; &#12471;&#12531;&#12464;&#12523;&#12473;&#12524;&#12483;&#12489;&#12391;&#30701;&#21629;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12290; &#19979;&#12395;&#20301;&#32622;&#12377;&#12427;JDBC&#12289;JTA&#12289;CORBA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#25277;&#35937;&#21270;&#12375;&#12414;&#12377;&#12290;
                           <code class="literal">Session</code> &#12399;&#12289;&#26178;&#12395;&#12399; &#12356;&#12367;&#12388;&#12363;&#12398; <code class="literal">Transaction</code> &#12434;&#12414;&#12383;&#12364;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#12289;&#19979;&#12398;&#23652;&#12398;API&#12434;&#20351;&#12358;&#12395;&#12379;&#12424;&#12289; <code class="literal">Transaction</code> &#12434;&#20351;&#12358;&#12395;&#12379;&#12424;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12399;&#12289;&#27770;&#12375;&#12390;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#65281;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term">ConnectionProvider (<code class="literal">org.hibernate.connection.ConnectionProvider</code>)</span></dt>
                     <dd>
                        <p>(&#12458;&#12503;&#12471;&#12519;&#12531;)JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#65288;&#12392;&#12381;&#12398;&#12503;&#12540;&#12523;&#65289;&#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12290; &#19979;&#12398;&#23652;&#12395;&#20301;&#32622;&#12377;&#12427; <code class="literal">Datasource</code> &#12420; <code class="literal">DriverManager</code> &#12363;&#12425;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#25277;&#35937;&#21270;&#12375;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12399;&#20844;&#38283;&#12373;&#12428;&#12414;&#12379;&#12435;&#12364;&#12289;&#38283;&#30330;&#32773;&#12364;&#32153;&#25215;&#12414;&#12383;&#12399;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12399;&#21487;&#33021;&#12391;&#12377;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term">TransactionFactory (<code class="literal">org.hibernate.TransactionFactory</code>)</span></dt>
                     <dd>
                        <p>(&#12458;&#12503;&#12471;&#12519;&#12531;) <code class="literal">Transaction</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12399;&#20844;&#38283;&#12373;&#12428;&#12414;&#12379;&#12435;&#12364;&#12289;&#38283;&#30330;&#32773;&#12364;&#32153;&#25215;&#12414;&#12383;&#12399;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12399;&#21487;&#33021;&#12391;&#12377;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term"><span class="emphasis"><em>Extension Interfaces</em></span></span></dt>
                     <dd>
                        <p>Hibernate&#12399;&#12289;&#27704;&#32154;&#23652;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#22810;&#12367;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#25313;&#24373;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#35443;&#32048;&#12399;API&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
                     </dd>
                  </dl>
               </div>
               <p>
                  
               </p>
               <p>&#12300;&#36605;&#12356;&#12301;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12391;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#30452;&#25509;JTA&#12420;JDBC&#12392;&#23550;&#35441;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">Transaction</code> &#12420; <code class="literal">TransactionFactory</code> &#12420; <code class="literal">ConnectionProvider</code> &#12434;&#12496;&#12452;&#12497;&#12473;&#12375;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="architecture-states"></a>2.2. &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#29366;&#24907;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#27425;&#12398;&#65299;&#12388;&#12398;&#30064;&#12394;&#12427;&#29366;&#24907;&#12398;&#12393;&#12428;&#12363;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289; <span class="emphasis"><em>&#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;</em></span> &#12395;&#12424;&#12387;&#12390;&#27770;&#12414;&#12426;&#12414;&#12377;&#12290; Hibernate&#12398; <code class="literal">Session</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12289;&#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">transient</span></dt>
                     <dd>
                        <p>&#12371;&#12398;&#29366;&#24907;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#29694;&#22312;&#12418;&#12381;&#12375;&#12390;&#36942;&#21435;&#12395;&#12362;&#12356;&#12390;&#12418;&#12289; &#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12395;&#38306;&#36899;&#12389;&#12356;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290;&#12414;&#12383;&#12289;&#27704;&#32154;ID&#65288;&#20027;&#12461;&#12540;&#12398;&#20516;&#65289;&#12434; &#25345;&#12387;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; </p>
                     </dd>
                     <dt><span class="term">persistent</span></dt>
                     <dd>
                        <p>&#12371;&#12398;&#29366;&#24907;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#12381;&#12398;&#26178;&#28857;&#12391;&#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12395;&#38306;&#36899;&#12389;&#12356;&#12390;&#12356;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;&#27704;&#32154;ID&#65288;&#20027;&#12461;&#12540;&#12398;&#20516;&#65289;&#12434;&#25345;&#12385;&#12289; &#12383;&#12356;&#12390;&#12356;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23550;&#24540;&#12377;&#12427;&#34892;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; &#20491;&#12293;&#12398;&#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398;&#12394;&#12363;&#12391;&#12399;&#12289;&#27704;&#32154;ID&#12364; Java&#12398;ID&#65288;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12513;&#12514;&#12522;&#19978;&#12398;&#20301;&#32622;&#65289;&#12392;&#21516;&#12376;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;
                           Hibernate&#12364; <span class="emphasis"><em>&#20445;&#35388;</em></span> &#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </dd>
                     <dt><span class="term">detached</span></dt>
                     <dd>
                        <p>The instance was once associated with a persistence context, but that context was closed, or the instance was serialized to
                           another process. It has a persistent identity and, perhaps, a corresponding row in the database. For detached instances, Hibernate
                           makes no guarantees about the relationship between persistent identity and Java identity. 
                        </p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="architecture-jmx"></a>2.3. JMX&#12392;&#12398;&#32113;&#21512;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>JMX&#12399;Java&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#31649;&#29702;&#12398;J2EE&#27161;&#28310;&#12391;&#12377;&#12290; JMX&#27161;&#28310;&#12469;&#12540;&#12499;&#12473;&#12434;&#36890;&#12375;&#12390;&#12289;Hibernate&#12399;&#31649;&#29702;&#12373;&#12428;&#12414;&#12377;&#12290; &#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398;&#20013;&#12395; <code class="literal">org.hibernate.jmx.HibernateService</code> &#12392;&#12356;&#12358; MBean&#23455;&#35013;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <p>JBoss &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#19978;&#12395;Hibernate&#12434;JMX&#12469;&#12540;&#12499;&#12473;&#12392;&#12375;&#12390;&#12487;&#12503;&#12525;&#12452;&#12377;&#12427;&#26041;&#27861;&#12398;&#20363;&#12392;&#12375;&#12390;&#12399;&#12289; JBoss &#12518;&#12540;&#12470;&#12460;&#12452;&#12489;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; JBoss &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#12395;&#12362;&#12356;&#12390;&#12289; JMX&#12434;&#20351;&#12387;&#12390;&#12487;&#12503;&#12525;&#12452;&#12377;&#12427;&#12392;&#12289;&#27425;&#12398;&#12513;&#12522;&#12483;&#12488;&#12364;&#24471;&#12425;&#12428;&#12414;&#12377;&#12290;
                  
               </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>&#12475;&#12483;&#12471;&#12519;&#12531;&#31649;&#29702;:</em></span> Hibernate&#12398; <code class="literal">Session</code> &#12398;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12399;&#12289; &#33258;&#21205;&#30340;&#12395;JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12473;&#12467;&#12540;&#12503;&#12395;&#32080;&#12403;&#12388;&#12369;&#12425;&#12428;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#12289;&#12418;&#12399;&#12420;&#25163;&#21205;&#12391; <code class="literal">Session</code> &#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12383;&#12426;&#12289;&#12463;&#12525;&#12540;&#12474;&#12375;&#12383;&#12426;&#12377;&#12427;&#24517;&#35201;&#12364;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;JBoss EJB &#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12398;&#20181;&#20107;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;&#12467;&#12540;&#12489;&#12398;&#12393;&#12371;&#12391;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12434;&#35373;&#23450;&#12377;&#12427;&#12363;&#12395;&#12388;&#12356;&#12390;&#12289; &#12418;&#12399;&#12420;&#24745;&#12416;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#65288;&#12418;&#12385;&#12429;&#12435;&#31227;&#26893;&#21487;&#33021;&#12394;&#27704;&#32154;&#23652;&#12434;&#26360;&#12363;&#12363;&#12394;&#12367;&#12390;&#12356;&#12356;&#12398;&#12394;&#12425;&#12400;&#12289;
                           &#12458;&#12503;&#12471;&#12519;&#12531;&#12398;Hibernate&#12398; <code class="literal">Transaction</code> &#12434;&#20351;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#65289; <code class="literal">Session</code> &#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289; <code class="literal">HibernateContext</code> &#12434; &#12467;&#12540;&#12523;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>HAR &#12487;&#12503;&#12525;&#12452;:</em></span> &#36890;&#24120;&#12289;(EAR &#12414;&#12383;&#12399; SAR &#12501;&#12449;&#12452;&#12523;&#12395;&#12354;&#12427;&#65289;JBoss &#12469;&#12540;&#12499;&#12473; &#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#12434;&#20351;&#12387;&#12390;&#12289;Hibernate JMX &#12469;&#12540;&#12499;&#12473;&#12434;&#12487;&#12503;&#12525;&#12452;&#12375;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;Hibernate&#12398; <code class="literal">SessionFactory</code> &#12398;&#20840;&#12390;&#12398;&#19968;&#33324;&#30340;&#12394;&#35373;&#23450;&#12458;&#12503;&#12471;&#12519;&#12531;&#12434; &#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290;&#12375;&#12363;&#12375;&#20381;&#28982;&#12392;&#12375;&#12390;&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#12398;&#12394;&#12363;&#12395;&#12377;&#12409;&#12390;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12398; &#21517;&#21069;&#12434;&#25369;&#12370;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12418;&#12375;&#12289;&#12458;&#12503;&#12471;&#12519;&#12531;&#12398;HAR&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12434;&#20351;&#12358;&#12371;&#12392;&#12434;&#27770;&#12417;&#12383;&#12394;&#12425;&#12289; JBoss&#12399;&#33258;&#21205;&#30340;&#12395;HAR&#12501;&#12449;&#12452;&#12523;&#12398;&#12394;&#12363;&#12398;&#20840;&#12390;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434;&#26908;&#20986;&#12375;&#12414;&#12377;&#12290;
                           
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12371;&#12428;&#12425;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#12395;&#12388;&#12356;&#12390;&#12398;&#35443;&#32048;&#12394;&#24773;&#22577;&#12399;&#12289;JBoss&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12518;&#12540;&#12470;&#12460;&#12452;&#12489;&#12434; &#21442;&#32771;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               <p>JMX&#12469;&#12540;&#12499;&#12473;&#12392;&#12375;&#12390;&#21033;&#29992;&#21487;&#33021;&#12394;&#20182;&#12398;&#27231;&#33021;&#12395;&#12289;Hibernate&#23455;&#34892;&#26178;&#32113;&#35336;&#24773;&#22577;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; <a href="#configuration-optional-statistics" title="3.4.6. Hibernate &#32113;&#35336;">&#38917;3.4.6. &#12300;Hibernate &#32113;&#35336;&#12301;</a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="architecture-jca"></a>2.4. JCA &#12469;&#12509;&#12540;&#12488;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate &#12399; JCA &#12467;&#12493;&#12463;&#12479;&#12392;&#12375;&#12390;&#12418;&#35373;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290;&#35443;&#32048;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;Web&#12469;&#12452;&#12488;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; Hibernate JCA &#12469;&#12509;&#12540;&#12488;&#12399;&#12289;&#20170;&#12398;&#12392;&#12371;&#12429;&#23455;&#39443;&#27573;&#38542;&#12392;&#12375;&#12390;&#32771;&#12360;&#12425;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="architecture-current-session"></a>2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate &#12434;&#20351;&#12387;&#12383;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12411;&#12392;&#12435;&#12393;&#12289;&#12394;&#12435;&#12425;&#12363;&#12398;&#24418;&#12391;"&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;"&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;&#12399;&#12289;&#29305;&#23450;&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398;&#12473;&#12467;&#12540;&#12503;&#12398;&#12394;&#12363;&#12391;&#26377;&#21177;&#12394;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12371;&#12392;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#36890;&#24120;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12372;&#12392;&#12395;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12434;&#27083;&#25104;&#12377;&#12427;&#12418;&#12398;&#12398;&#23450;&#32681;&#12399;&#30064;&#12394;&#12426;&#12414;&#12377;&#12290;
                  &#12375;&#12363;&#12418;&#12289;&#30064;&#12394;&#12427;&#35079;&#25968;&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12399;&#12289;&#29694;&#26178;&#28857;&#12395;&#23550;&#12375;&#12390;&#30064;&#12394;&#12427;&#12473;&#12467;&#12540;&#12503;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#12496;&#12540;&#12472;&#12519;&#12531;3.0&#12424;&#12426;&#21069;&#12398; Hibernate &#12391;&#12399;&#12289;&#33258;&#20316;&#12398; <code class="literal">ThreadLocal</code> &#12505;&#12540;&#12473;&#12398;&#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;&#12434; &#21033;&#29992;&#12377;&#12427;&#12363;&#12289; <code class="literal">HibernateUtil</code> &#12398;&#12424;&#12358;&#12394;&#12504;&#12523;&#12497;&#12540;&#12463;&#12521;&#12473;&#12434;&#21033;&#29992;&#12377;&#12427;&#12363;&#12289; proxy/interception &#12505;&#12540;&#12473;&#12398;&#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;&#12434;&#25552;&#20379;&#12377;&#12427; &#65288;Spring &#12420; Pico &#12398;&#12424;&#12358;&#12394;&#65289;&#12469;&#12540;&#12489;&#12497;&#12540;&#12486;&#12451;&#12398;&#12501;&#12524;&#12540;&#12512;&#12527;&#12540;&#12463;&#12434;&#21033;&#29992;&#12377;&#12427;&#12363;&#12398;&#12356;&#12378;&#12428;&#12363;&#12391;&#12375;&#12383;&#12290; 
               </p>
               <p>&#12496;&#12540;&#12472;&#12519;&#12531; 3.0.1 &#12363;&#12425;&#12289;Hibernate &#12395;&#12399; <code class="literal">SessionFactory.getCurrentSession()</code> &#12364; &#21152;&#12431;&#12426;&#12414;&#12375;&#12383;&#12290; &#12371;&#12428;&#12399;&#12289; <code class="literal">JTA</code> &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20351;&#29992;&#12434;&#21069;&#25552;&#12395;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; <code class="literal">JTA</code> &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12473;&#12467;&#12540;&#12503;&#12392;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398;&#20001;&#26041;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; Hibernate &#12481;&#12540;&#12512;&#12399;&#12289;&#27425;&#12398;&#12371;&#12392;&#12434;&#20027;&#24373;&#12375;&#12414;&#12377;&#12290; &#24040;&#22823;&#12394;&#12473;&#12479;&#12531;&#12489;&#12450;&#12525;&#12531;&#12398; <code class="literal">JTA TransactionManager</code> &#23455;&#35013;&#12364;&#25104;&#29087;&#12375;&#12383;&#12425;&#12289; <code class="literal">J2EE</code> &#12467;&#12531;&#12486;&#12490;&#19978;&#12395;&#12487;&#12503;&#12525;&#12452;&#12373;&#12428;&#12427;&#12363;&#12393;&#12358;&#12363;&#12395;&#12363;&#12363;&#12431;&#12425;&#12378;&#12289; &#12411;&#12392;&#12435;&#12393;&#12398;&#65288;&#12377;&#12409;&#12390;&#12392;&#12399;&#35328;&#12431;&#12394;&#12356;&#12364;&#65289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12289; <code class="literal">JTA</code> &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#31649;&#29702;&#12434;&#20351;&#29992;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12392;&#12290; &#12371;&#12398;&#32771;&#12360;&#12395;&#22522;&#12389;&#12367;&#12392;&#12289; <code class="literal">JTA</code> &#12505;&#12540;&#12473;&#12398;&#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;&#12434; &#20351;&#12358;&#12375;&#12363;&#12394;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; 
               </p>
               <p>&#12375;&#12363;&#12375;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531; 3.1 &#12363;&#12425;&#12399;&#12289; <code class="literal">SessionFactory.getCurrentSession()</code> &#12398;&#24460;&#12398;&#20966;&#29702;&#12364;&#12289; &#12503;&#12521;&#12460;&#12502;&#12523;&#12395;&#12394;&#12426;&#12414;&#12375;&#12383;&#12290; &#12371;&#12428;&#12434;&#21463;&#12369;&#12390;&#12289;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#23450;&#32681;&#12377;&#12427;&#12473;&#12467;&#12540;&#12503;&#12392;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398;&#12503;&#12521;&#12460;&#12499;&#12522;&#12486;&#12451;&#12434;&#21487;&#33021;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#26032;&#12375;&#12356;&#25313;&#24373;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473; ( <code class="literal">org.hibernate.context.CurrentSessionContext</code> ) &#12392; &#26032;&#12375;&#12356;&#27083;&#25104;&#12497;&#12521;&#12513;&#12540;&#12479; ( <code class="literal">hibernate.current_session_context_class</code> ) &#12364;&#36861;&#21152;&#12373;&#12428;&#12414;&#12375;&#12383;&#12290; 
               </p>
               <p><code class="literal">org.hibernate.context.CurrentSessionContext</code> &#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12398;&#35215;&#32004;&#12395;&#12388;&#12356;&#12390;&#12398; &#35443;&#32048;&#12394;&#20869;&#23481;&#12399; Javadoc &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12428;&#12395;&#12399;&#12289; <code class="literal">currentSession()</code> &#12392;&#12356;&#12358;1&#12388;&#12398;&#12513;&#12477;&#12483;&#12489;&#12364;&#23450;&#32681;&#12373;&#12428;&#12390;&#12362;&#12426;&#12289; &#12381;&#12398;&#23455;&#35013;&#12399;&#12289;&#29694;&#22312;&#12398;&#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;&#12434;&#36861;&#36321;&#12377;&#12427;&#12371;&#12392;&#12395;&#36012;&#20219;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#12381;&#12398;&#12414;&#12414;&#20351;&#12360;&#12427;&#12424;&#12358;&#12395;&#12289;Hibernate&#12399;&#12371;&#12398;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12398;&#23455;&#35013;&#12434;2&#12388;&#25552;&#20379;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><code class="literal">org.hibernate.context.JTASessionContext</code> - <code class="literal">JTA</code> &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#12289;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#36861;&#36321;&#12373;&#12428;&#12289; &#12473;&#12467;&#12540;&#12503;&#12434;&#27770;&#12417;&#12425;&#12428;&#12414;&#12377;&#12290;&#12371;&#12398;&#20966;&#29702;&#12399;&#12289;&#21476;&#12356;JTA&#12384;&#12369;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12392;&#12414;&#12387;&#12383;&#12367;&#21516;&#12376;&#12391;&#12377;&#12290; &#35443;&#32048;&#12399;Javadoc&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">org.hibernate.context.ThreadLocalSessionContext</code> - &#12473;&#12524;&#12483;&#12489;&#12398;&#23455;&#34892;&#12395;&#12424;&#12387;&#12390;&#12289;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#36861;&#36321;&#12373;&#12428;&#12414;&#12377;&#12290; &#35443;&#32048;&#12399;Javadoc&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">org.hibernate.context.ManagedSessionContext</code> - &#12473;&#12524;&#12483;&#12489;&#12398;&#23455;&#34892;&#12395;&#12424;&#12387;&#12390;&#12289;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#36861;&#36321;&#12373;&#12428;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#12371;&#12398;&#12463;&#12521;&#12473;&#12398;static&#12513;&#12477;&#12483;&#12489;&#12391; <code class="literal">Session</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434; &#12496;&#12452;&#12531;&#12489;/&#12450;&#12531;&#12496;&#12452;&#12531;&#12489;&#12377;&#12427;&#36012;&#20219;&#12399;&#12354;&#12394;&#12383;&#12395;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#27770;&#12375;&#12390; <code class="literal">Session</code> &#12434;&#12458;&#12540;&#12503;&#12531;&#12289;&#12501;&#12521;&#12483;&#12471;&#12517;&#12289;&#12463;&#12525;&#12540;&#12474;&#12375;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>The first two implementations provide a "one session - one database transaction" programming model, also known and used as
                  <span class="emphasis"><em>session-per-request</em></span>. The beginning and end of a Hibernate session is defined by the duration of a database transaction. If you use programmatic
                  transaction demarcation in plain JSE without JTA, you are advised to use the Hibernate <code class="literal">Transaction</code> API to hide the underlying transaction system from your code. If you use JTA, use the JTA interfaces to demarcate transactions.
                  If you execute in an EJB container that supports CMT, transaction boundaries are defined declaratively and you don't need
                  any transaction or session demarcation operations in your code. Refer to <a href="#transactions" title="&#31532;11&#31456; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;">&#31456;&nbsp;11. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;</i></a> for more information and code examples. 
               </p>
               <p><code class="literal">hibernate.current_session_context_class</code> &#35373;&#23450;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289; <code class="literal">org.hibernate.context.CurrentSessionContext</code> &#12398;&#12393;&#12398;&#23455;&#35013;&#12434;&#20351;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#19979;&#20301;&#20114;&#25563;&#24615;&#12398;&#12383;&#12417;&#12289;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#35373;&#23450;&#12373;&#12428;&#12378; <code class="literal">org.hibernate.transaction.TransactionManagerLookup</code> &#12364;&#35373;&#23450;&#12373;&#12428;&#12390;&#12356;&#12383;&#22580;&#21512;&#12289; Hibernate&#12399; <code class="literal">org.hibernate.context.JTASessionContext</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#36890;&#24120;&#12371;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#20516;&#12395;&#12399;&#12289;3&#12388;&#12398;&#23455;&#35013;&#12398;&#20013;&#12363;&#12425;&#20351;&#29992;&#12377;&#12427;&#23455;&#35013;&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12434;&#30452;&#25509;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;"jta", "thread", "managed"&#12392;&#12356;&#12358;&#12381;&#12428;&#12382;&#12428;&#12398;&#30465;&#30053;&#21517;&#12418;&#29992;&#24847;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="session-configuration"></a>&#31532;3&#31456; &#35373;&#23450;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&#12399;&#12373;&#12414;&#12374;&#12414;&#12394;&#29872;&#22659;&#12391;&#21205;&#20316;&#12377;&#12427;&#12424;&#12358;&#12395;&#12487;&#12470;&#12452;&#12531;&#12373;&#12428;&#12390;&#12356;&#12427;&#12383;&#12417;&#12289;&#38750;&#24120;&#12395;&#22810;&#12367;&#12398;&#35373;&#23450;&#35201;&#32032;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#24184;&#12356;&#12394;&#12371;&#12392;&#12395;&#12289;Hibernate&#12399;&#12289;&#20844;&#38283;&#12373;&#12428;&#12390;&#12356;&#12427;&#12497;&#12483;&#12465;&#12540;&#12472;&#12398; <code class="literal">etc/</code> &#12501;&#12457;&#12523;&#12480;&#12398; <code class="literal">hibernate.properties</code> &#12395;&#12289;&#12411;&#12392;&#12435;&#12393;&#12398;&#35373;&#23450;&#35201;&#32032;&#12398;&#36969;&#20999;&#12394;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12364;&#35352;&#36848;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398; <code class="literal">hibernate.properties</code> &#12434;&#12463;&#12521;&#12473;&#12497;&#12473;&#12395;&#35373;&#23450;&#12375;&#12289;&#35373;&#23450;&#35201;&#32032;&#12434;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12377;&#12427;&#12384;&#12369;&#12391;&#12377;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-programmatic"></a>3.1. &#12503;&#12525;&#12464;&#12521;&#12512;&#19978;&#12398;&#35373;&#23450;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>An instance of <code class="classname">org.hibernate.cfg.Configuration</code> represents an entire set of mappings of an application's Java types to an SQL database. The <code class="classname">org.hibernate.cfg.Configuration</code> is used to build an (immutable) <code class="interfacename">org.hibernate.SessionFactory</code>. The mappings are compiled from various XML mapping files. 
               </p>
               <p>You may obtain a <code class="classname">org.hibernate.cfg.Configuration</code> instance by instantiating it directly and specifying XML mapping documents. If the mapping files are in the classpath, use
                  <code class="literal">addResource()</code>: 
               </p><pre class="programlisting">Configuration cfg = new Configuration()
    .addResource("Item.hbm.xml")
    .addResource("Bid.hbm.xml");</pre><p>&#20195;&#26367;&#26696;(&#12371;&#12385;&#12425;&#12398;&#12411;&#12358;&#12364;&#33391;&#12356;&#12392;&#12365;&#12418;&#12354;&#12426;&#12414;&#12377;)&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12377;&#12427;&#26041;&#27861;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290;Hibernate&#12395;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434; &#35211;&#12388;&#12369;&#12373;&#12379;&#12390;&#12367;&#12384;&#12373;&#12356;&#65306; </p><pre class="programlisting">Configuration cfg = new Configuration()
    .addClass(org.hibernate.auction.Item.class)
    .addClass(org.hibernate.auction.Bid.class);</pre><p>Then Hibernate will look for mapping files named <code class="filename">/org/hibernate/auction/Item.hbm.xml</code> and <code class="filename">/org/hibernate/auction/Bid.hbm.xml</code> in the classpath. This approach eliminates any hardcoded filenames. 
               </p>
               <p>A <code class="classname">org.hibernate.cfg.Configuration</code> also allows you to specify configuration properties: 
               </p><pre class="programlisting">Configuration cfg = new Configuration()
    .addClass(org.hibernate.auction.Item.class)
    .addClass(org.hibernate.auction.Bid.class)
    .setProperty("hibernate.dialect", "org.hibernate.dialect.MySQLInnoDBDialect")
    .setProperty("hibernate.connection.datasource", "java:comp/env/jdbc/test")
    .setProperty("hibernate.order_updates", "true");</pre><p>Hibernate&#12395;&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36890;&#12377;&#26041;&#27861;&#12399;1&#12388;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12373;&#12414;&#12374;&#12414;&#12394;&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#65306; </p>
               <div class="orderedlist">
                  <ol type="1" compact>
                     <li>
                        <p>Pass an instance of <code class="classname">java.util.Properties</code> to <code class="literal">Configuration.setProperties()</code>. 
                        </p>
                     </li>
                     <li>
                        <p>Place a file named <code class="filename">hibernate.properties</code> in a root directory of the classpath. 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">System</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12364; <code class="literal">java -Dproperty=value</code> &#12434;&#20351;&#12358;&#12424;&#12358;&#12395;&#35373;&#23450;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">&lt;property&gt;</code> &#35201;&#32032;&#12434; <code class="literal">hibernate.cfg.xml</code> &#65288;&#24460;&#36848;&#65289;&#12395;&#35373;&#23450;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ol>
               </div>
               <p><code class="filename">hibernate.properties</code> is the easiest approach if you want to get started quickly. 
               </p>
               <p>The <code class="classname">org.hibernate.cfg.Configuration</code> is intended as a startup-time object, to be discarded once a <code class="literal">SessionFactory</code> is created. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-sessionfactory"></a>3.2. SessionFactory&#12434;&#21462;&#24471;&#12377;&#12427;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>When all mappings have been parsed by the <code class="classname">org.hibernate.cfg.Configuration</code>, the application must obtain a factory for <code class="interfacename">org.hibernate.Session</code> instances. This factory is intended to be shared by all application threads: 
               </p><pre class="programlisting">SessionFactory sessions = cfg.buildSessionFactory();</pre><p>Hibernate does allow your application to instantiate more than one <code class="interfacename">org.hibernate.SessionFactory</code>. This is useful if you are using more than one database. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-hibernatejdbc"></a>3.3. JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Usually, you want to have the <code class="interfacename">org.hibernate.SessionFactory</code> create and pool JDBC connections for you. If you take this approach, opening a <code class="interfacename">org.hibernate.Session</code> is as simple as: 
               </p><pre class="programlisting">Session session = sessions.openSession(); // open a new Session</pre><p>&#12371;&#12428;&#12384;&#12369;&#12391;&#12289;&#12503;&#12540;&#12522;&#12531;&#12464;&#12375;&#12383;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#30446;&#30340;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473; &#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
               <p>For this to work, we need to pass some JDBC connection properties to Hibernate. All Hibernate property names and semantics
                  are defined on the class <code class="classname">org.hibernate.cfg.Environment</code>. We will now describe the most important settings for JDBC connection configuration. 
               </p>
               <p>Hibernate will obtain (and pool) connections using <code class="classname">java.sql.DriverManager</code> if you set the following properties: 
               </p>
               <div class="table"><a name="d0e1699"></a><p class="title"><b>&#34920; 3.1. Hibernate JDBC&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate JDBC&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.driver_class</span>
                                                 
                              </td>
                              <td>
                                                     <span class="emphasis"><em>JDBC&#12489;&#12521;&#12452;&#12496;&#12463;&#12521;&#12473;</em></span>
                                                 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.url</span>
                                                 
                              </td>
                              <td>
                                                     <span class="emphasis"><em>jdbc URL</em></span>
                                                 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.username</span>
                                                 
                              </td>
                              <td>
                                                     <span class="emphasis"><em>database user</em></span>
                                                 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.password</span>
                                                 
                              </td>
                              <td>
                                                     <span class="emphasis"><em>database user password</em></span>
                                                 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.pool_size</span>
                                                 
                              </td>
                              <td>
                                                     <span class="emphasis"><em>&#12503;&#12540;&#12523;&#12377;&#12427;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12398;&#26368;&#22823;&#25968;</em></span>
                                                 
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><p>Hibernate's own connection pooling algorithm is however quite rudimentary. It is intended to help you get started and is <span class="emphasis"><em>not intended for use in a production system</em></span> or even for performance testing. You should use a third party pool for best performance and stability. Just replace the <span class="property">hibernate.connection.pool_size</span> property with connection pool specific settings. This will turn off Hibernate's internal pool. For example, you might like
                  to use C3P0. 
               </p>
               <p>C3P0 is an open source JDBC connection pool distributed along with Hibernate in the <code class="filename">lib</code> directory. Hibernate will use its <code class="classname">org.hibernate.connection.C3P0ConnectionProvider</code> for connection pooling if you set <span class="property">hibernate.c3p0.*</span> properties. If you'd like to use Proxool refer to the packaged <code class="filename">hibernate.properties</code> and the Hibernate web site for more information. 
               </p>
               <p>Here is an example <code class="filename">hibernate.properties</code> file for C3P0: 
               </p><a name="c3p0-configuration"></a><pre class="programlisting">hibernate.connection.driver_class = org.postgresql.Driver
hibernate.connection.url = jdbc:postgresql://localhost/mydatabase
hibernate.connection.username = myuser
hibernate.connection.password = secret
hibernate.c3p0.min_size=5
hibernate.c3p0.max_size=20
hibernate.c3p0.timeout=1800
hibernate.c3p0.max_statements=50
hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect</pre><p>For use inside an application server, you should almost always configure Hibernate to obtain connections from an application
                  server <code class="interfacename">javax.sql.Datasource</code> registered in JNDI. You'll need to set at least one of the following properties: 
               </p>
               <div class="table"><a name="d0e1801"></a><p class="title"><b>&#34920; 3.2. Hibernate &#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate &#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.datasource</span>
                                                 
                              </td>
                              <td>
                                                     <span class="emphasis"><em>&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12398;JNDI&#21517;</em></span>
                                                 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.jndi.url</span>
                                                 
                              </td>
                              <td><span class="emphasis"><em>URL of the JNDI provider</em></span> (optional) 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.jndi.class</span>
                                                 
                              </td>
                              <td><span class="emphasis"><em>class of the JNDI <code class="literal">InitialContextFactory</code></em></span> (optional) 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.username</span>
                                                 
                              </td>
                              <td><span class="emphasis"><em>database user</em></span> (optional) 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                     <span class="property">hibernate.connection.password</span>
                                                 
                              </td>
                              <td><span class="emphasis"><em>database user password</em></span> (optional) 
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><p>Here's an example <code class="filename">hibernate.properties</code> file for an application server provided JNDI datasource: 
               </p><pre class="programlisting">hibernate.connection.datasource = java:/comp/env/jdbc/test
hibernate.transaction.factory_class = \
    org.hibernate.transaction.JTATransactionFactory
hibernate.transaction.manager_lookup_class = \
    org.hibernate.transaction.JBossTransactionManagerLookup
hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect</pre><p>JNDI&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12363;&#12425;&#21462;&#24471;&#12375;&#12383;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12398; &#12467;&#12531;&#12486;&#12490;&#31649;&#29702;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#33258;&#21205;&#30340;&#12395;&#21442;&#21152;&#12375;&#12414;&#12377;&#12290; </p>
               <p>Arbitrary connection properties may be given by prepending "<code class="literal">hibernate.connection</code>" to the connection property name. For example, you may specify a <span class="property">charSet</span> connection property using <span class="property">hibernate.connection.charSet</span>. 
               </p>
               <p>You may define your own plugin strategy for obtaining JDBC connections by implementing the interface <code class="interfacename">org.hibernate.connection.ConnectionProvider</code>, and specifying your custom implementation via the <span class="property">hibernate.connection.provider_class</span> property. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-optional"></a>3.4. &#12458;&#12503;&#12471;&#12519;&#12531;&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12371;&#12428;&#12425;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;Hibernate&#12398;&#25369;&#21205;&#12434;&#21046;&#24481;&#12377;&#12427;&#12418;&#12398;&#12391;&#12377;&#12290; &#12371;&#12428;&#12425;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12377;&#12409;&#12390;&#22949;&#24403;&#12394;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12364;&#12354;&#12426;&#12289;&#20219;&#24847;&#12391;&#35373;&#23450;&#12375;&#12414;&#12377;&#12290; </p>
               <p><span class="emphasis"><em>Warning: some of these properties are "system-level" only.</em></span> System-level properties can be set only via <code class="literal">java -Dproperty=value</code> or <code class="filename">hibernate.properties</code>. They may <span class="emphasis"><em>not</em></span> be set by the other techniques described above. 
               </p>
               <div class="table"><a name="configuration-optional-properties"></a><p class="title"><b>&#34920; 3.3. Hibernate&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.dialect</span>
                                                         
                              </td>
                              <td>The classname of a Hibernate <code class="classname">org.hibernate.dialect.Dialect</code> which allows Hibernate to generate SQL optimized for a particular relational database. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">full.classname.of.Dialect</code> 
                                 </p>
                                                             
                                 <p>In most cases Hibernate will actually be able to chose the correct <code class="classname">org.hibernate.dialect.Dialect</code> implementation to use based on the <code class="literal">JDBC metadata</code> returned by the JDBC driver. 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.show_sql</span>
                                                         
                              </td>
                              <td>Write all SQL statements to console. This is an alternative to setting the log category <code class="literal">org.hibernate.SQL</code> to <code class="literal">debug</code>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.format_sql</span>
                                                         
                              </td>
                              <td>Pretty print the SQL in the log and console. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.default_schema</span>
                                                         
                              </td>
                              <td>Qualify unqualified table names with the given schema/tablespace in generated SQL. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">SCHEMA_NAME</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.default_catalog</span>
                                                         
                              </td>
                              <td>Qualify unqualified table names with the given catalog in generated SQL. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">CATALOG_NAME</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.session_factory_name</span>
                                                         
                              </td>
                              <td>The <code class="interfacename">org.hibernate.SessionFactory</code> will be automatically bound to this name in JNDI after it has been created. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">jndi/composite/name</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.max_fetch_depth</span>
                                                         
                              </td>
                              <td>Set a maximum "depth" for the outer join fetch tree for single-ended associations (one-to-one, many-to-one). A <code class="literal">0</code> disables default outer join fetching. 
                                 <p><span class="strong"><strong>&#20363;&#65306;</strong></span> &#25512;&#22888;&#12377;&#12427;&#20516;&#12399; <code class="literal">0</code> &#12363;&#12425; <code class="literal">3</code> &#12391;&#12377;&#12290; 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.default_batch_fetch_size</span>
                                                         
                              </td>
                              <td>Set a default size for Hibernate batch fetching of associations. 
                                 <p><span class="strong"><strong>&#20363;&#65306;</strong></span> &#25512;&#22888;&#12377;&#12427;&#20516;&#12399; <code class="literal">4</code> , <code class="literal">8</code> , <code class="literal">16</code> &#12391;&#12377;&#12290; 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.default_entity_mode</span>
                                                         
                              </td>
                              <td>Set a default mode for entity representation for all sessions opened from this <code class="literal">SessionFactory</code> 
                                 <p><code class="literal">dynamic-map</code>, <code class="literal">dom4j</code>, <code class="literal">pojo</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.order_updates</span>
                                                         
                              </td>
                              <td>Force Hibernate to order SQL updates by the primary key value of the items being updated. This will result in fewer transaction
                                 deadlocks in highly concurrent systems. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.generate_statistics</span>
                                                         
                              </td>
                              <td>If enabled, Hibernate will collect statistics useful for performance tuning. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.use_identifer_rollback</span>
                                                         
                              </td>
                              <td>If enabled, generated identifier properties will be reset to default values when objects are deleted. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.use_sql_comments</span>
                                                         
                              </td>
                              <td>If turned on, Hibernate will generate comments inside the SQL, for easier debugging, defaults to <code class="literal">false</code>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><div class="table"><a name="configuration-jdbc-properties"></a><p class="title"><b>&#34920; 3.4. Hibernate JDBC &#12392;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate JDBC &#12392;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.fetch_size</span>
                                                         
                              </td>
                              <td>A non-zero value determines the JDBC fetch size (calls <code class="literal">Statement.setFetchSize()</code>). 
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.batch_size</span>
                                                         
                              </td>
                              <td>A non-zero value enables use of JDBC2 batch updates by Hibernate. 
                                 <p><span class="strong"><strong>&#20363;&#65306;</strong></span> &#25512;&#22888;&#12377;&#12427;&#20516;&#12399; <code class="literal">5</code> &#12363;&#12425; <code class="literal">30</code> &#12391;&#12377;&#12290; 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.batch_versioned_data</span>
                                                         
                              </td>
                              <td>Set this property to <code class="literal">true</code> if your JDBC driver returns correct row counts from <code class="literal">executeBatch()</code> (it is usually safe to turn this option on). Hibernate will then use batched DML for automatically versioned data. Defaults
                                 to <code class="literal">false</code>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.factory_class</span>
                                                         
                              </td>
                              <td>Select a custom <code class="interfacename">org.hibernate.jdbc.Batcher</code>. Most applications will not need this configuration property. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">classname.of.BatcherFactory</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.use_scrollable_resultset</span>
                                                         
                              </td>
                              <td>Enables use of JDBC2 scrollable resultsets by Hibernate. This property is only necessary when using user supplied JDBC connections,
                                 Hibernate uses connection metadata otherwise. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.use_streams_for_binary</span>
                                                         
                              </td>
                              <td>Use streams when writing/reading <code class="literal">binary</code> or <code class="literal">serializable</code> types to/from JDBC. <span class="emphasis"><em>*system-level property*</em></span> 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.jdbc.use_get_generated_keys</span>
                                                         
                              </td>
                              <td>Enable use of JDBC3 <code class="literal">PreparedStatement.getGeneratedKeys()</code> to retrieve natively generated keys after insert. Requires JDBC3+ driver and JRE1.4+, set to false if your driver has problems
                                 with the Hibernate identifier generators. By default, tries to determine the driver capabilities using connection metadata.
                                 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true|false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.connection.provider_class</span>
                                                         
                              </td>
                              <td>The classname of a custom <code class="interfacename">org.hibernate.connection.ConnectionProvider</code> which provides JDBC connections to Hibernate. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">classname.of.ConnectionProvider</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                         <span class="property">hibernate.connection.isolation</span>
                                                     
                              </td>
                              <td>Set the JDBC transaction isolation level. Check <code class="interfacename">java.sql.Connection</code> for meaningful values but note that most databases do not support all isolation levels and some define additional, non-standard
                                 isolations. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">1, 2, 4, 8</code> 
                                 </p>
                                                     
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.connection.autocommit</span>
                                                         
                              </td>
                              <td>Enables autocommit for JDBC pooled connections (not recommended). 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <span class="property">hibernate.connection.release_mode</span>
                                                         
                              </td>
                              <td>Specify when Hibernate should release JDBC connections. By default, a JDBC connection is held until the session is explicitly
                                 closed or disconnected. For an application server JTA datasource, you should use <code class="literal">after_statement</code> to aggressively release connections after every JDBC call. For a non-JTA connection, it often makes sense to release the
                                 connection at the end of each transaction, by using <code class="literal">after_transaction</code>. <code class="literal">auto</code> will choose <code class="literal">after_statement</code> for the JTA and CMT transaction strategies and <code class="literal">after_transaction</code> for the JDBC transaction strategy. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">auto</code> (default) | <code class="literal">on_close</code> | <code class="literal">after_transaction</code> | <code class="literal">after_statement</code> 
                                 </p>
                                                             
                                 <p>Note that this setting only affects <code class="literal">Session</code>s returned from <code class="literal">SessionFactory.openSession</code>. For <code class="literal">Session</code>s obtained through <code class="literal">SessionFactory.getCurrentSession</code>, the <code class="literal">CurrentSessionContext</code> implementation configured for use controls the connection release mode for those <code class="literal">Session</code>s. See <a href="#architecture-current-session" title="2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;">&#38917;2.5. &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;</a> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td><span class="property">hibernate.connection.</span><span class="emphasis"><em>&lt;propertyName&gt;</em></span> 
                              </td>
                              <td>Pass the JDBC property <span class="emphasis"><em>&lt;propertyName&gt;</em></span> to <code class="literal">DriverManager.getConnection()</code>. 
                              </td>
                           </tr>
                           <tr>
                              <td><span class="property">hibernate.jndi.</span><span class="emphasis"><em>&lt;propertyName&gt;</em></span> 
                              </td>
                              <td>Pass the property <span class="emphasis"><em>&lt;propertyName&gt;</em></span> to the JNDI <code class="literal">InitialContextFactory</code>. 
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><div class="table"><a name="configuration-cache-properties"></a><p class="title"><b>&#34920; 3.5. Hibernate &#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate &#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.provider_class</code>
                                                         
                              </td>
                              <td>The classname of a custom <code class="literal">CacheProvider</code>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">classname.of.CacheProvider</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.use_minimal_puts</code>
                                                         
                              </td>
                              <td>Optimize second-level cache operation to minimize writes, at the cost of more frequent reads. This setting is most useful
                                 for clustered caches and, in Hibernate3, is enabled by default for clustered cache implementations. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true|false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.use_query_cache</code>
                                                         
                              </td>
                              <td>Enable the query cache, individual queries still have to be set cachable. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true|false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.use_second_level_cache</code>
                                                         
                              </td>
                              <td>May be used to completely disable the second level cache, which is enabled by default for classes which specify a <code class="literal">&lt;cache&gt;</code> mapping. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true|false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.query_cache_factory</code>
                                                         
                              </td>
                              <td>The classname of a custom <code class="literal">QueryCache</code> interface, defaults to the built-in <code class="literal">StandardQueryCache</code>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">classname.of.QueryCache</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.region_prefix</code>
                                                         
                              </td>
                              <td>A prefix to use for second-level cache region names. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">prefix</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cache.use_structured_entries</code>
                                                         
                              </td>
                              <td>Forces Hibernate to store data in the second-level cache in a more human-friendly format. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true|false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><div class="table"><a name="configuration-transaction-properties"></a><p class="title"><b>&#34920; 3.6. Hibernate &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.transaction.factory_class</code>
                                                         
                              </td>
                              <td>The classname of a <code class="literal">TransactionFactory</code> to use with Hibernate <code class="literal">Transaction</code> API (defaults to <code class="literal">JDBCTransactionFactory</code>). 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">classname.of.TransactionFactory</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">jta.UserTransaction</code>
                                                         
                              </td>
                              <td>A JNDI name used by <code class="literal">JTATransactionFactory</code> to obtain the JTA <code class="literal">UserTransaction</code> from the application server. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">jndi/composite/name</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.transaction.manager_lookup_class</code>
                                                         
                              </td>
                              <td>The classname of a <code class="literal">TransactionManagerLookup</code> - required when JVM-level caching is enabled or when using hilo generator in a JTA environment. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">classname.of.TransactionManagerLookup</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.transaction.flush_before_completion</code>
                                                         
                              </td>
                              <td>If enabled, the session will be automatically flushed during the before completion phase of the transaction. Built-in and
                                 automatic session context management is preferred, see <a href="#architecture-current-session" title="2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;">&#38917;2.5. &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;</a>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.transaction.auto_close_session</code>
                                                         
                              </td>
                              <td>If enabled, the session will be automatically closed during the after completion phase of the transaction. Built-in and utomatic
                                 session context management is preferred, see <a href="#architecture-current-session" title="2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;">&#38917;2.5. &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;</a>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><div class="table"><a name="configuration-misc-properties"></a><p class="title"><b>&#34920; 3.7. &#12381;&#12398;&#20182;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                  <div class="table-contents">
                     <table summary="&#12381;&#12398;&#20182;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                              <th>&#24847;&#21619;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                         <code class="literal">hibernate.current_session_context_class</code>
                                                         
                              </td>
                              <td>Supply a (custom) strategy for the scoping of the "current" <code class="literal">Session</code>. See <a href="#architecture-current-session" title="2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;">&#38917;2.5. &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;</a> for more information about the built-in strategies. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">jta</code> | <code class="literal">thread</code> | <code class="literal">managed</code> | <code class="literal">custom.Class</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.query.factory_class</code>
                                                         
                              </td>
                              <td>Chooses the HQL parser implementation. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">org.hibernate.hql.ast.ASTQueryTranslatorFactory</code> or <code class="literal">org.hibernate.hql.classic.ClassicQueryTranslatorFactory</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.query.substitutions</code>
                                                         
                              </td>
                              <td>Mapping from tokens in Hibernate queries to SQL tokens (tokens might be function or literal names, for example). 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">hqlLiteral=SQL_LITERAL, hqlFunction=SQLFUNC</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.hbm2ddl.auto</code>
                                                         
                              </td>
                              <td>Automatically validate or export schema DDL to the database when the <code class="literal">SessionFactory</code> is created. With <code class="literal">create-drop</code>, the database schema will be dropped when the <code class="literal">SessionFactory</code> is closed explicitly. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">validate</code> | <code class="literal">update</code> | <code class="literal">create</code> | <code class="literal">create-drop</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                             <code class="literal">hibernate.cglib.use_reflection_optimizer</code>
                                                         
                              </td>
                              <td>Enables use of CGLIB instead of runtime reflection (System-level property). Reflection can sometimes be useful when troubleshooting,
                                 note that Hibernate always requires CGLIB even if you turn off the optimizer. You can not set this property in <code class="literal">hibernate.cfg.xml</code>. 
                                 <p><span class="strong"><strong>eg.</strong></span> <code class="literal">true</code> | <code class="literal">false</code> 
                                 </p>
                                                         
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-dialects"></a>3.4.1. SQL &#26041;&#35328;&#65288;Dialect&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">hibernate.dialect</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#12399;&#12289; &#20351;&#29992;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#27491;&#12375;&#12356; <code class="literal">org.hibernate.dialect.Dialect</code> &#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#12289; &#24517;&#12378;&#25351;&#23450;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#26041;&#35328;&#12434;&#25351;&#23450;&#12377;&#12428;&#12400;&#12289;Hibernate&#12399;&#19978;&#36848;&#12375;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12356;&#12367;&#12388;&#12363;&#12395;&#12388;&#12356;&#12390;&#12289; &#12424;&#12426;&#36969;&#20999;&#12394;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12381;&#12358;&#12377;&#12428;&#12400;&#12289;&#12381;&#12428;&#12425;&#12434;&#25163;&#20316;&#26989;&#12391;&#35373;&#23450;&#12377;&#12427;&#25163;&#38291;&#12364;&#30465;&#12369;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="table"><a name="sql-dialects"></a><p class="title"><b>&#34920; 3.8. Hibernate SQL Dialects (<code class="literal">hibernate.dialect</code>)</b></p>
                     <div class="table-contents">
                        <table summary="Hibernate SQL Dialects (hibernate.dialect)" border="1">
                           <colgroup>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>RDBMS</th>
                                 <th>Dialect</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td>DB2</td>
                                 <td><code class="literal">org.hibernate.dialect.DB2Dialect</code></td>
                              </tr>
                              <tr>
                                 <td>DB2 AS/400</td>
                                 <td><code class="literal">org.hibernate.dialect.DB2400Dialect</code></td>
                              </tr>
                              <tr>
                                 <td>DB2 OS390</td>
                                 <td><code class="literal">org.hibernate.dialect.DB2390Dialect</code></td>
                              </tr>
                              <tr>
                                 <td>PostgreSQL</td>
                                 <td><code class="literal">org.hibernate.dialect.PostgreSQLDialect</code></td>
                              </tr>
                              <tr>
                                 <td>MySQL</td>
                                 <td><code class="literal">org.hibernate.dialect.MySQLDialect</code></td>
                              </tr>
                              <tr>
                                 <td>MySQL with InnoDB</td>
                                 <td><code class="literal">org.hibernate.dialect.MySQLInnoDBDialect</code></td>
                              </tr>
                              <tr>
                                 <td>MySQL with MyISAM</td>
                                 <td><code class="literal">org.hibernate.dialect.MySQLMyISAMDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Oracle (any version)</td>
                                 <td><code class="literal">org.hibernate.dialect.OracleDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Oracle 9i/10g</td>
                                 <td><code class="literal">org.hibernate.dialect.Oracle9Dialect</code></td>
                              </tr>
                              <tr>
                                 <td>Sybase</td>
                                 <td><code class="literal">org.hibernate.dialect.SybaseDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Sybase Anywhere</td>
                                 <td><code class="literal">org.hibernate.dialect.SybaseAnywhereDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Microsoft SQL Server</td>
                                 <td><code class="literal">org.hibernate.dialect.SQLServerDialect</code></td>
                              </tr>
                              <tr>
                                 <td>SAP DB</td>
                                 <td><code class="literal">org.hibernate.dialect.SAPDBDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Informix</td>
                                 <td><code class="literal">org.hibernate.dialect.InformixDialect</code></td>
                              </tr>
                              <tr>
                                 <td>HypersonicSQL</td>
                                 <td><code class="literal">org.hibernate.dialect.HSQLDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Ingres</td>
                                 <td><code class="literal">org.hibernate.dialect.IngresDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Progress</td>
                                 <td><code class="literal">org.hibernate.dialect.ProgressDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Mckoi SQL</td>
                                 <td><code class="literal">org.hibernate.dialect.MckoiDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Interbase</td>
                                 <td><code class="literal">org.hibernate.dialect.InterbaseDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Pointbase</td>
                                 <td><code class="literal">org.hibernate.dialect.PointbaseDialect</code></td>
                              </tr>
                              <tr>
                                 <td>FrontBase</td>
                                 <td><code class="literal">org.hibernate.dialect.FrontbaseDialect</code></td>
                              </tr>
                              <tr>
                                 <td>Firebird</td>
                                 <td><code class="literal">org.hibernate.dialect.FirebirdDialect</code></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-outerjoin"></a>3.4.2. &#22806;&#37096;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12418;&#12375;DB&#12364;ANSI&#12363;&#12289;Oracle&#12363;Sybase&#12473;&#12479;&#12452;&#12523;&#12398;&#22806;&#37096;&#32080;&#21512;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289; <span class="emphasis"><em>outer join fetching</em></span> &#12399;&#12289;DB&#12398;SQL&#30330;&#34892;&#22238;&#25968;&#12434;&#31680;&#32004;&#12375; &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#33391;&#12367;&#12375;&#12414;&#12377;&#12290;&#65288;DB&#20869;&#12391;&#12424;&#12426;&#22810;&#12367;&#12398;&#20966;&#29702;&#12467;&#12473;&#12488;&#12364;&#30330;&#29983;&#12375;&#12414;&#12377;&#65289; &#22806;&#37096;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12399;&#12289;&#22810;&#23550;&#19968;&#12289;&#19968;&#23550;&#22810;&#12289;&#22810;&#23550;&#22810;&#12289;&#19968;&#23550;&#19968;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#38306;&#36899;&#12391; &#12464;&#12523;&#12540;&#12503;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;1&#12388;&#12398;SQL&#12391; <code class="literal">SELECT</code> &#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">hibernate.max_fetch_depth</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12434; <code class="literal">0</code> &#12395;&#12377;&#12427;&#12392; Outer join fetching&#12434; <span class="emphasis"><em>&#12377;&#12409;&#12390;</em></span> &#28961;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; <code class="literal">1</code> &#12420;&#12381;&#12428;&#20197;&#19978;&#12398;&#20516;&#12434;&#35373;&#23450;&#12377;&#12427;&#12392;&#12289;&#22806;&#37096;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12364;&#26377;&#21177;&#12395;&#12394;&#12426;&#12289; &#19968;&#23550;&#19968;&#12392;&#22810;&#23550;&#19968;&#38306;&#36899;&#12364; <code class="literal">fetch="join"</code> &#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>See <a href="#performance-fetching" title="19.1. &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;">&#38917;19.1. &#12300;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12301;</a> for more information. 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-binarystreams"></a>3.4.3. &#12496;&#12452;&#12490;&#12522;&#12473;&#12488;&#12522;&#12540;&#12512;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Oracle&#12399;JDBC&#12489;&#12521;&#12452;&#12496;&#12392;&#12398;&#38291;&#12391;&#12420;&#12426;&#12392;&#12426;&#12373;&#12428;&#12427; <code class="literal">byte</code> &#37197;&#21015;&#12398;&#12469;&#12452;&#12474;&#12434;&#21046;&#38480;&#12375;&#12414;&#12377;&#12290; <code class="literal">binary</code> &#12420; <code class="literal">serializable</code> &#22411;&#12398;&#22823;&#12365;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20351;&#12356;&#12383;&#12369;&#12428;&#12400;&#12289; <code class="literal">hibernate.jdbc.use_streams_for_binary</code> &#12434;&#26377;&#21177;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12383;&#12384;&#12375; <span class="emphasis"><em>&#12371;&#12428;&#12399;&#12471;&#12473;&#12486;&#12512;&#12524;&#12505;&#12523;&#12398;&#35373;&#23450;&#12384;&#12369;&#12391;&#12377;</em></span> &#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-cacheprovider"></a>3.4.4. 2&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12392;&#12463;&#12456;&#12522;&#12540;&#12461;&#12515;&#12483;&#12471;&#12517;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">hibernate.cache</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#25509;&#38957;&#36766;&#12399; Hibernate&#12391;&#12503;&#12525;&#12475;&#12473;&#12420;&#12463;&#12521;&#12473;&#12479;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12358;&#12392;&#12371;&#12392;&#12434;&#35377;&#21487;&#12375;&#12414;&#12377;&#12290; <a href="#performance-cache" title="19.2. &#31532;2&#12524;&#12505;&#12523;&#12461;&#12515;&#12483;&#12471;&#12517;">&#38917;19.2. &#12300;&#31532;2&#12524;&#12505;&#12523;&#12461;&#12515;&#12483;&#12471;&#12517;&#12301;</a>&#12395;&#12424;&#12426;&#22810;&#12367;&#12398;&#35443;&#32048;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-querysubstitution"></a>3.4.5. &#12463;&#12456;&#12522;&#12540;&#35328;&#35486;&#12398;&#32622;&#12365;&#25563;&#12360;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">hibernate.query.substitutions</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289; &#26032;&#12375;&#12356;Hibernate&#12463;&#12456;&#12522;&#12488;&#12540;&#12463;&#12531;&#12434;&#23450;&#32681;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#65306; 
                  </p><pre class="programlisting">hibernate.query.substitutions true=1, false=0</pre><p>&#12371;&#12428;&#12399;&#12488;&#12540;&#12463;&#12531; <code class="literal">true</code> &#12392; <code class="literal">false</code> &#12434;&#12289; &#29983;&#25104;&#12373;&#12428;&#12427;SQL&#12395;&#12362;&#12356;&#12390;&#25972;&#25968;&#12522;&#12486;&#12521;&#12523;&#12395;&#32763;&#35379;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">hibernate.query.substitutions toLowercase=LOWER</pre><p>&#12371;&#12428;&#12399;SQL&#12398; <code class="literal">LOWER</code> &#38306;&#25968;&#12398;&#21517;&#21069;&#12398;&#20184;&#12369;&#26367;&#12360;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-statistics"></a>3.4.6. Hibernate &#32113;&#35336;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">hibernate.generate_statistics</code> &#12434;&#26377;&#21177;&#12395;&#12375;&#12383;&#22580;&#21512;&#12289; &#21205;&#20316;&#12375;&#12390;&#12356;&#12427;&#12471;&#12473;&#12486;&#12512;&#12434;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;&#12377;&#12427;&#12392;&#12365;&#12395;&#12289;<code class="literal">SessionFactory.getStatistics()</code> &#12434;&#32076;&#30001;&#12375;&#12390;&#12289;Hibernate&#12399;&#20415;&#21033;&#12394;&#32113;&#35336;&#24773;&#22577;&#12434;&#20986;&#21147;&#12375;&#12414;&#12377;&#12290; JMX&#12434;&#32076;&#30001;&#12375;&#12390;&#32113;&#35336;&#24773;&#22577;&#12434;&#20986;&#21147;&#12377;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; Javadoc&#12398; <code class="literal">org.hibernate.stats</code> &#12497;&#12483;&#12465;&#12540;&#12472;&#20869;&#12398; &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12395;&#12399;&#12424;&#12426;&#22810;&#12367;&#12398;&#24773;&#22577;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-logging"></a>3.5. &#12525;&#12462;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate utilizes <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.slf4j.org/" target="_top">Simple Logging Facade for Java</a> (SLF4J) in order to log various system events. SLF4J can direct your logging output to several logging frameworks (NOP, Simple,
                  log4j version 1.2, JDK 1.4 logging, JCL or logback) depending on your chosen binding. In order to setup logging properly you
                  will need <code class="filename">slf4j-api.jar</code> in your classpath together with the jar file for your preferred binding - <code class="filename">slf4j-log4j12.jar</code> in the case of Log4J. See the SLF4J <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.slf4j.org/manual.html" target="_top">documentation</a> for more detail. To use Log4j you will also need to place a <code class="filename">log4j.properties</code> file in your classpath, an example properties file is distributed with Hibernate in the <code class="literal">src/</code> directory. 
               </p>
               <p>Hibernate&#12398;&#12525;&#12464;&#12513;&#12483;&#12475;&#12540;&#12472;&#12395;&#24931;&#12428;&#12427;&#12371;&#12392;&#12434;&#24375;&#12367;&#12362;&#12377;&#12377;&#12417;&#12375;&#12414;&#12377;&#12290; Hibernate&#12398;&#12525;&#12464;&#12399;&#35501;&#12415;&#12420;&#12377;&#12367;&#12289;&#12391;&#12365;&#12427;&#38480;&#12426;&#35443;&#32048;&#12395;&#12394;&#12427;&#12424;&#12358;&#12395;&#21162;&#21147;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#24517;&#38920;&#12398;&#12488;&#12521;&#12502;&#12523;&#12471;&#12517;&#12540;&#12486;&#12451;&#12531;&#12464;&#12487;&#12496;&#12452;&#12473;&#12391;&#12377;&#12290; &#20197;&#19979;&#12395;&#37325;&#35201;&#12394;&#12525;&#12464;&#12398;&#12459;&#12486;&#12468;&#12522;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290;
                  
               </p>
               <div class="table"><a name="log-categories"></a><p class="title"><b>&#34920; 3.9. Hibernate &#12525;&#12464;&#12459;&#12486;&#12468;&#12522;</b></p>
                  <div class="table-contents">
                     <table summary="Hibernate &#12525;&#12464;&#12459;&#12486;&#12468;&#12522;" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>&#12459;&#12486;&#12468;&#12522;</th>
                              <th>&#27231;&#33021;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td><code class="literal">org.hibernate.SQL</code></td>
                              <td>&#23455;&#34892;&#12375;&#12383;&#12377;&#12409;&#12390;&#12398;SQL&#65288;DDL&#65289;&#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.type</code></td>
                              <td>&#12377;&#12409;&#12390;&#12398;JDBC&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.tool.hbm2ddl</code></td>
                              <td>&#23455;&#34892;&#12375;&#12383;&#12377;&#12409;&#12390;&#12398;SQL&#65288;DDL&#65289;&#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.pretty</code></td>
                              <td>session&#12395;&#38306;&#36899;&#12377;&#12427;&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#65288;&#26368;&#22823;&#65298;&#65296;&#65289;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517;&#26178;&#38291;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; </td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.cache</code></td>
                              <td>&#12377;&#12409;&#12390;&#12398;&#65298;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#21205;&#20316;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.transaction</code></td>
                              <td>&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#38306;&#36899;&#12377;&#12427;&#21205;&#20316;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.jdbc</code></td>
                              <td>JDBC&#12522;&#12477;&#12540;&#12473;&#21462;&#24471;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.hql.ast.AST</code></td>
                              <td>HQL&#12392;SQL&#12398;AST&#12398;&#12463;&#12456;&#12522;&#12540;&#12497;&#12540;&#12473;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; </td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate.secure</code></td>
                              <td>&#12377;&#12409;&#12390;&#12398;JAAS&#20998;&#26512;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;</td>
                           </tr>
                           <tr>
                              <td><code class="literal">org.hibernate</code></td>
                              <td>&#12377;&#12409;&#12390;&#12434;&#12525;&#12462;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;&#65288;&#24773;&#22577;&#12364;&#22823;&#37327;&#12395;&#12394;&#12426;&#12414;&#12377;&#12364;&#12289;&#12488;&#12521;&#12502;&#12523;&#12471;&#12517;&#12540;&#12486;&#12451;&#12531;&#12464;&#12395;&#12399;&#20415;&#21033;&#12391;&#12377;&#65289; </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><p>Hibernate&#12391;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#20316;&#25104;&#12377;&#12427;&#12392;&#12365;&#12399;&#12289;<code class="literal">org.hibernate.SQL</code> &#12459;&#12486;&#12468;&#12522;&#12398; <code class="literal">debug</code> &#12434;&#24120;&#12395;&#26377;&#21177;&#12395;&#12375;&#12390;&#12362;&#12356;&#12383;&#12411;&#12358;&#12364;&#33391;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; &#20195;&#26367;&#26041;&#27861;&#12392;&#12375;&#12390;&#12289;<code class="literal">hibernate.show_sql</code> &#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-namingstrategy"></a>3.6. <code class="literal">NamingStrategy</code> &#12398;&#23455;&#35013;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473; <code class="literal">net.sf.hibernate.cfg.NamingStrategy</code> &#12434;&#20351;&#12358;&#12392; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#12473;&#12461;&#12540;&#12510;&#35201;&#32032;&#12398;&#12383;&#12417;&#12398;&#12300;&#21629;&#21517;&#27161;&#28310;&#12301;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p>
               <p>Java&#12398;&#35672;&#21029;&#23376;&#12363;&#12425;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#35672;&#21029;&#23376;&#12434;&#33258;&#21205;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12398;&#12523;&#12540;&#12523;&#12420;&#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#19982;&#12360;&#12383;&#12300;&#35542;&#29702;&#30340;&#12394;&#12301;&#12459;&#12521;&#12512;&#12392;&#12486;&#12540;&#12502;&#12523;&#21517;&#12363;&#12425; &#12300;&#29289;&#29702;&#30340;&#12394;&#12301;&#12486;&#12540;&#12502;&#12523;&#12392;&#12459;&#12521;&#12512;&#21517;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12398;&#12523;&#12540;&#12523;&#12434;&#29992;&#24847;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#27231;&#33021;&#12399;&#32368;&#12426;&#36820;&#12375;&#12398;&#38609;&#38899;&#65288;&#20363;&#12360;&#12400;
                  <code class="literal">TBL_</code> &#12503;&#12522;&#12501;&#12451;&#12483;&#12463;&#12473;&#65289;&#12434;&#21462;&#12426;&#38500;&#12365;&#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#20887;&#38263;&#12373;&#12434;&#28187;&#12425;&#12377;&#12371;&#12392;&#12395;&#24441;&#31435;&#12385;&#12414;&#12377;&#12290; Hibernate&#12364;&#20351;&#12358;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#25126;&#30053;&#12399;&#12363;&#12394;&#12426;&#26368;&#23567;&#38480;&#12395;&#36817;&#12356;&#12418;&#12398;&#12391;&#12377;&#12290; 
               </p>
               <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#36861;&#21152;&#12377;&#12427;&#21069;&#12395; <code class="literal">Configuration.setNamingStrategy()</code> &#12434;&#21628;&#12406;&#12371;&#12392;&#12391; &#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#30064;&#12394;&#12427;&#25126;&#30053;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65306; 
               </p><pre class="programlisting">SessionFactory sf = new Configuration()
    .setNamingStrategy(ImprovedNamingStrategy.INSTANCE)
    .addFile("Item.hbm.xml")
    .addFile("Bid.hbm.xml")
    .buildSessionFactory();</pre><p><code class="literal">org.hibernate.cfg.ImprovedNamingStrategy</code> &#12399;&#32068;&#12415;&#36796;&#12415;&#12398;&#25126;&#30053;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12392;&#12387;&#12390;&#26377;&#29992;&#12394;&#38283;&#22987;&#28857;&#12392;&#12394;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-xmlconfig"></a>3.7. XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12418;&#12358;1&#12388;&#12398;&#26041;&#27861;&#12399; <code class="literal">hibernate.cfg.xml</code> &#12392;&#12356;&#12358;&#21517;&#21069;&#12398;&#12501;&#12449;&#12452;&#12523;&#12391; &#21313;&#20998;&#12394;&#35373;&#23450;&#12434;&#25351;&#23450;&#12377;&#12427;&#26041;&#27861;&#12391;&#12377;&#12290; &#12371;&#12398;&#12501;&#12449;&#12452;&#12523;&#12399; <code class="literal">hibernate.properties</code> &#12501;&#12449;&#12452;&#12523;&#12398;&#20195;&#12431;&#12426;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290; &#12418;&#12375;&#20001;&#26041;&#12398;&#12501;&#12449;&#12452;&#12523;&#12364;&#12354;&#12428;&#12400;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#32622;&#12365;&#25563;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12399;&#21021;&#26399;&#35373;&#23450;&#12391; <code class="literal">CLASSPATH</code> &#12395;&#37197;&#32622;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12428;&#12364;&#20363;&#12391;&#12377;&#65306; 
               </p><pre class="programlisting">&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;

&lt;hibernate-configuration&gt;

    &lt;!-- a SessionFactory instance listed as /jndi/name --&gt;
    &lt;session-factory
        name="java:hibernate/SessionFactory"&gt;

        &lt;!-- properties --&gt;
        &lt;property name="connection.datasource"&gt;java:/comp/env/jdbc/MyDB&lt;/property&gt;
        &lt;property name="dialect"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
        &lt;property name="show_sql"&gt;false&lt;/property&gt;
        &lt;property name="transaction.factory_class"&gt;
            org.hibernate.transaction.JTATransactionFactory
        &lt;/property&gt;
        &lt;property name="jta.UserTransaction"&gt;java:comp/UserTransaction&lt;/property&gt;

        &lt;!-- mapping files --&gt;
        &lt;mapping resource="org/hibernate/auction/Item.hbm.xml"/&gt;
        &lt;mapping resource="org/hibernate/auction/Bid.hbm.xml"/&gt;

        &lt;!-- cache settings --&gt;
        &lt;class-cache class="org.hibernate.auction.Item" usage="read-write"/&gt;
        &lt;class-cache class="org.hibernate.auction.Bid" usage="read-only"/&gt;
        &lt;collection-cache collection="org.hibernate.auction.Item.bids" usage="read-write"/&gt;

    &lt;/session-factory&gt;

&lt;/hibernate-configuration&gt;</pre><p>&#35211;&#12390;&#12398;&#12392;&#12362;&#12426;&#12289;&#12371;&#12398;&#26041;&#27861;&#12398;&#20778;&#20301;&#24615;&#12399;&#35373;&#23450;&#12398;&#12383;&#12417;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#21517;&#12434;&#22806;&#20986;&#12375;&#12395;&#12391;&#12365;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; Hibernate&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289; <code class="literal">hibernate.cfg.xml</code> &#12399;&#12424;&#12426;&#20415;&#21033;&#12391;&#12377;&#12290; <code class="literal">hibernate.properties</code> &#12392; <code class="literal">hibernate.cfg.xml</code> &#12398; &#12393;&#12385;&#12425;&#12363;&#12434;&#20351;&#12360;&#12427;&#12371;&#12392;&#12434;&#35226;&#12360;&#12390;&#12362;&#12356;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#20108;&#12388;&#12399;&#21516;&#12376;&#12418;&#12398;&#12391;&#12289;&#36949;&#12358;&#12392;&#12371;&#12429;&#12392;&#12356;&#12360;&#12400;XML&#27083;&#25991;&#12434;&#20351;&#12358;&#12371;&#12392;&#12398;&#21033;&#28857;&#12384;&#12369;&#12391;&#12377;&#12290; 
               </p>
               <p>XML&#35373;&#23450;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289;Hibernate&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12471;&#12531;&#12503;&#12523;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p><pre class="programlisting">SessionFactory sf = new Configuration().configure().buildSessionFactory();</pre><p>&#36949;&#12358;XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12434;&#20351;&#12358;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">SessionFactory sf = new Configuration()
    .configure("catdb.cfg.xml")
    .buildSessionFactory();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="configuration-j2ee"></a>3.8. J2EE&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12392;&#12398;&#32113;&#21512;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12399;J2EE&#27083;&#36896;&#12392;&#32113;&#21512;&#12377;&#12427;&#12509;&#12452;&#12531;&#12488;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>&#12467;&#12531;&#12486;&#12490;&#31649;&#29702;&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;</em></span>&#65306;Hibernate&#12399; JNDI&#12364;&#25552;&#20379;&#12375;&#12289;&#12467;&#12531;&#12486;&#12490;&#12364;&#31649;&#29702;&#12377;&#12427;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#36890;&#24120;&#12289;JTA&#28310;&#25312;&#12398; <code class="literal">TransactionManager</code> &#12392; <code class="literal">ResourceManager</code> &#12364;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#31649;&#29702;(CMT)&#12289; &#29305;&#12395;&#27096;&#12293;&#12394;&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12395;&#12414;&#12383;&#12364;&#12427;&#20998;&#25955;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#25201;&#12356;&#12414;&#12377;&#12290; &#24403;&#28982;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;(BMT)&#12290; &#12354;&#12427;&#12356;&#12399;&#12289;&#35352;&#36848;&#12375;&#12383;&#12467;&#12540;&#12489;&#12398;&#12509;&#12540;&#12479;&#12499;&#12522;&#12486;&#12451;&#12434;&#20445;&#12388;&#12383;&#12417;&#12395;&#12289; &#12458;&#12503;&#12471;&#12519;&#12531;&#12398;Hibernate&#12398;
                           <code class="literal">Transaction</code> API&#12434;&#20351;&#12356;&#12383;&#12367;&#12394;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>&#33258;&#21205;JNDI&#12496;&#12452;&#12531;&#12487;&#12451;&#12531;&#12464;</em></span>&#65306;Hibernate&#12399;JNDI&#12364;&#31435;&#12385;&#19978;&#12364;&#12387;&#12383;&#24460;&#12395; <code class="literal">SessionFactory</code> &#12434;&#29983;&#25104;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>JTA&#12475;&#12483;&#12471;&#12519;&#12531;&#12496;&#12452;&#12531;&#12487;&#12451;&#12531;&#12464;</em></span> &#65306; Hibernate <code class="literal">Session</code> &#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12399;JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#21516;&#12376;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#21336;&#32020;&#12395; <code class="literal">SessionFactory</code> &#12434;JNDI&#12363;&#12425;lookup&#12375;&#12390;&#12289; &#29694;&#22312;&#12398; <code class="literal">Session</code> &#12434;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290; JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#23436;&#20102;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289;Hibernate&#12364; <code class="literal">Session</code> &#12434;&#12501;&#12521;&#12483;&#12471;&#12517;&#12375;&#12289;&#12463;&#12525;&#12540;&#12474;&#12375;&#12414;&#12377;&#12290; EJB&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#12398;&#20013;&#12395;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12434;&#23459;&#35328;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>JMX&#12487;&#12503;&#12525;&#12452;:</em></span> &#12418;&#12375;JMX&#12364;&#20351;&#29992;&#21487;&#33021;&#12394;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#65288;&#20363;&#12360;&#12400;JBOSS&#65289; &#12364;&#12354;&#12427;&#22580;&#21512;&#12289;Hibernate&#12434;MBean&#12392;&#12375;&#12390;&#12487;&#12503;&#12525;&#12452;&#12377;&#12427;&#12371;&#12392;&#12434;&#36984;&#12409;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399; <code class="literal">Configuration</code> &#12363;&#12425; <code class="literal">SessionFactory</code> &#12434; &#29983;&#25104;&#12377;&#12427;&#12467;&#12540;&#12489;&#12434;&#28961;&#12367;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12467;&#12531;&#12486;&#12490;&#12399; <code class="literal">HibernateService</code> &#12434;&#36215;&#21205;&#12375;&#12289; &#12469;&#12540;&#12499;&#12473;&#12398;&#20381;&#23384;&#12434;&#29702;&#24819;&#30340;&#12395;&#31649;&#29702;&#12375;&#12414;&#12377;&#65288;&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12399;Hibernate&#12420;&#12381;&#12398;&#20182;&#12364;&#36215;&#21205;&#12377;&#12427;&#21069;&#12395; &#20351;&#29992;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#65289;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#29872;&#22659;&#12395;&#20381;&#23384;&#12375;&#12414;&#12377;&#12364;&#12289;&#12418;&#12375;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12364;"connection containment"&#12398;&#20363;&#22806;&#12434;&#12473;&#12525;&#12540;&#12377;&#12427;&#12394;&#12425; &#35373;&#23450;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531; <code class="literal">hibernate.connection.aggressive_release</code> &#12434;true&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-transactionstrategy"></a>3.8.1. &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#25126;&#30053;&#35373;&#23450;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate <code class="literal">Session</code> API&#12399;&#12289;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#20869;&#12398;&#12471;&#12473;&#12486;&#12512;&#12398;&#31649;&#36676;&#12391;&#12354;&#12427; &#12354;&#12425;&#12422;&#12427;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#20381;&#23384;&#12375;&#12414;&#12379;&#12435;&#12290; &#12418;&#12375;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12398;JDBC&#12434;&#30452;&#25509;&#20351;&#12356;&#12383;&#12356;&#22580;&#21512;&#12289;JDBC API&#12363;&#12425; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#21628;&#12406;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12418;&#12375;&#12289;J2EE&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12391;&#21205;&#20316;&#12373;&#12379;&#12427;&#12394;&#12425;&#12289;Bean&#31649;&#29702;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12356;&#12289;
                     &#24517;&#35201;&#12395;&#24540;&#12376;&#12390; <code class="literal">UserTransaction</code> &#12434;JTA API&#12363;&#12425;&#21628;&#12406;&#12371;&#12392;&#12395;&#12394;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
                  </p>
                  <p>2&#12388;&#65288;&#12381;&#12428;&#20197;&#19978;&#65289;&#12398;&#29872;&#22659;&#12391;&#20114;&#25563;&#24615;&#12398;&#12354;&#12427;&#12467;&#12540;&#12489;&#12434;&#32173;&#25345;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12458;&#12503;&#12471;&#12519;&#12531;&#12392;&#12375;&#12390;&#26681;&#26412;&#30340;&#12394;&#12471;&#12473;&#12486;&#12512;&#12434; &#12521;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;Hibernate <code class="literal">Transaction</code> API&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#12290; Hibernate&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398; <code class="literal">hibernate.transaction.factory_class</code> &#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391; &#12354;&#12427;&#29305;&#23450;&#12398; <code class="literal">Transaction</code> &#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#25345;&#12388;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>3&#12388;&#12398;&#22522;&#26412;&#30340;&#12394;&#65288;&#26082;&#12395;&#12354;&#12427;&#65289;&#36984;&#25246;&#12434;&#25369;&#12370;&#12414;&#12377;&#65306; </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term"><code class="literal">org.hibernate.transaction.JDBCTransactionFactory</code></span></dt>
                        <dd>
                           <p>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;(JDBC)&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#22996;&#35698;&#12375;&#12414;&#12377;&#65288;&#12487;&#12501;&#12457;&#12523;&#12488;&#65289;</p>
                        </dd>
                        <dt><span class="term"><code class="literal">org.hibernate.transaction.JTATransactionFactory</code></span></dt>
                        <dd>
                           <p>&#12418;&#12375;&#12289;&#12371;&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#65288;&#20363;&#12360;&#12400;&#12289;EJB&#12475;&#12483;&#12471;&#12519;&#12531;Bean&#12513;&#12477;&#12483;&#12489;&#65289;&#12391;&#36914;&#34892;&#20013;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#23384;&#22312;&#12377;&#12427;&#12289;&#12418;&#12375;&#12367;&#12399; &#26032;&#12375;&#12356;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#38283;&#22987;&#12373;&#12428;&#12390;&#12362;&#12426;&#12289;Bean&#31649;&#29702;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#20351;&#12431;&#12428;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289; &#12467;&#12531;&#12486;&#12490;&#31649;&#29702;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#22996;&#35698;&#12375;&#12414;&#12377;&#12290;
                              
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">org.hibernate.transaction.CMTTransactionFactory</code></span></dt>
                        <dd>
                           <p>&#12467;&#12531;&#12486;&#12490;&#31649;&#29702;JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#22996;&#35698;&#12375;&#12414;&#12377;</p>
                        </dd>
                     </dl>
                  </div>
                  <p>&#33258;&#20998;&#33258;&#36523;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#25126;&#30053;&#65288;&#20363;&#12360;&#12400;&#12289;CORBA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12469;&#12540;&#12499;&#12473;&#65289;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
                  <p>Hibernate&#12398;&#12356;&#12367;&#12388;&#12363;&#12398;&#27231;&#33021;&#65288;&#20363;&#12360;&#12400;&#12289;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12289;JTA&#12395;&#12424;&#12427;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12475;&#12483;&#12471;&#12519;&#12531; &#31561;&#65289;&#12399; &#31649;&#29702;&#12373;&#12428;&#12383;&#29872;&#22659;&#12398;&#20013;&#12398;JTA <code class="literal">TransactionManager</code> &#12408;&#12398;&#12450;&#12463;&#12475;&#12473;&#12434;&#35201;&#27714;&#12375;&#12414;&#12377;&#12290; J2EE&#12364;&#12402;&#12392;&#12388;&#12398;&#12513;&#12459;&#12491;&#12474;&#12512;&#12395;&#35215;&#26684;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12398;&#12391;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12395;&#12362;&#12356;&#12390;&#12289;Hibernate&#12364; <code class="literal">TransactionManager</code> &#12398;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473; &#12434;&#21462;&#24471;&#12377;&#12427;&#26041;&#27861;&#12434;&#26126;&#30906;&#12395;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="table"><a name="jtamanagerlookup"></a><p class="title"><b>&#34920; 3.10. JTA &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12510;&#12493;&#12540;&#12472;&#12515;</b></p>
                     <div class="table-contents">
                        <table summary="JTA &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12510;&#12493;&#12540;&#12472;&#12515;" border="1">
                           <colgroup>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>Transaction Factory</th>
                                 <th align="center">Application Server</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.JBossTransactionManagerLookup</code></td>
                                 <td align="center">JBoss</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.WeblogicTransactionManagerLookup</code></td>
                                 <td align="center">Weblogic</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.WebSphereTransactionManagerLookup</code></td>
                                 <td align="center">WebSphere</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.WebSphereExtendedJTATransactionLookup</code></td>
                                 <td align="center">WebSphere 6</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.OrionTransactionManagerLookup</code></td>
                                 <td align="center">Orion</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.ResinTransactionManagerLookup</code></td>
                                 <td align="center">Resin</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.JOTMTransactionManagerLookup</code></td>
                                 <td align="center">JOTM</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.JOnASTransactionManagerLookup</code></td>
                                 <td align="center">JOnAS</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.JRun4TransactionManagerLookup</code></td>
                                 <td align="center">JRun4</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">org.hibernate.transaction.BESTransactionManagerLookup</code></td>
                                 <td align="center">Borland ES</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-optional-jndi"></a>3.8.2. <code class="literal">SessionFactory</code> &#12398;JNDI&#12408;&#12398;&#30331;&#37682;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>JNDI&#12395;&#30331;&#37682;&#12375;&#12383;Hibernate <code class="literal">SessionFactory</code> &#12399;&#21336;&#32020;&#12395; &#12501;&#12449;&#12463;&#12488;&#12522;&#12434;&#12523;&#12483;&#12463;&#12450;&#12483;&#12503;&#12375;&#12289;&#26032;&#12375;&#12356; <code class="literal">Session</code> &#12434;&#20316;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;JNDI&#12395;&#30331;&#37682;&#12373;&#12428;&#12383; <code class="literal">Datasource</code> &#12395;&#12399;&#38306;&#36899;&#12379;&#12378;&#12289; &#12362;&#20114;&#12356;&#12395;&#12471;&#12531;&#12503;&#12523;&#12395;&#12371;&#12428;&#12425;&#12398;&#30331;&#37682;&#12434;&#20351;&#12358;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p>&#12418;&#12375; <code class="literal">SessionFactory</code> &#12434;JNDI&#12493;&#12540;&#12512;&#12473;&#12506;&#12540;&#12473;&#12395;&#30331;&#37682;&#12375;&#12383;&#12356;&#22580;&#21512;&#12289; &#29305;&#21029;&#12394;&#21517;&#21069;&#65288;&#20363;&#12360;&#12400;&#12289; <code class="literal">java:hibernate/SessionFactory</code> &#65289;&#12434; <code class="literal">hibernate.session_factory_name</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356; &#12418;&#12375;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#30465;&#30053;&#12375;&#12383;&#22580;&#21512;&#12289; <code class="literal">SessionFactory</code> &#12399; JNDI&#12395;&#30331;&#37682;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290;&#65288;&#12371;&#12428;&#12399;Tomcat&#12398;&#12424;&#12358;&#12394;&#12487;&#12501;&#12457;&#12523;&#12488;&#23455;&#35013;&#12391;JNDI&#12364;&#35501;&#12415;&#12424;&#12426;&#23554;&#29992;&#12398;&#29872;&#22659;&#12398;&#22580;&#21512;&#29305;&#12395;&#20415;&#21033;&#12391;&#12377;&#12290;&#65289; 
                  </p>
                  <p><code class="literal">SessionFactory</code> &#12434;JNDI&#12395;&#30331;&#37682;&#12377;&#12427;&#12392;&#12365;&#12289;Hibernate&#12399; <code class="literal">hibernate.jndi.url</code> &#12398;&#20516;&#12434;&#20351;&#29992;&#12375;&#12289;<code class="literal">hibernate.jndi.class</code> &#12434;&#12452;&#12491;&#12471;&#12515;&#12523;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12392;&#12375;&#12390;&#20855;&#20307;&#21270;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375;&#20309;&#12418;&#35373;&#23450;&#12375;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398; <code class="literal">InitialContext</code> &#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">cfg.buildSessionFactory()</code> &#12434;&#12467;&#12540;&#12523;&#24460; Hibernate&#12399;&#33258;&#21205;&#30340;&#12395; <code class="literal">SessionFactory</code> &#12434;JNDI&#12395;&#37197;&#32622;&#12375;&#12414;&#12377;&#12290; <code class="literal">HibernateService</code> &#12392;&#19968;&#32210;&#12395;JMX&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12434;&#20351;&#12431;&#12394;&#12356;&#38480;&#12426;&#12289; &#12371;&#12428;&#12399;&#12371;&#12398;&#21628;&#12403;&#20986;&#12375;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20869;&#12398;&#20309;&#12425;&#12363;&#12398;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12467;&#12540;&#12489;&#65288;&#12418;&#12375;&#12367;&#12399;&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12463;&#12521;&#12473;&#65289; &#12395;&#37197;&#32622;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290;&#65288;&#24460;&#12391;&#35696;&#35542;&#12375;&#12414;&#12377;&#65289; 
                  </p>
                  <p>&#12418;&#12375;JNDI <code class="literal">SessionFactory</code> &#12434;&#20351;&#12358;&#22580;&#21512;&#12289;EJB&#12420;&#20182;&#12398;&#12463;&#12521;&#12473;&#12399; JNDI&#12523;&#12483;&#12463;&#12450;&#12483;&#12503;&#12434;&#20351;&#12387;&#12390; <code class="literal">SessionFactory</code> &#12434;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#31649;&#29702;&#12373;&#12428;&#12383;&#29872;&#22659;&#12391;&#12399; <code class="literal">SessionFactory</code> &#12434;JNDI&#12395;&#12496;&#12452;&#12531;&#12489;&#12375;&#12289; &#12381;&#12358;&#12391;&#12394;&#12369;&#12428;&#12400; <code class="literal">static</code> &#12471;&#12531;&#12464;&#12523;&#12488;&#12531;&#12434;&#20351;&#12358;&#12371;&#12392;&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#12290; &#12371;&#12358;&#12356;&#12387;&#12383;&#35443;&#32048;&#12363;&#12425;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12467;&#12540;&#12489;&#12434;&#20445;&#35703;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">HibernateUtil.getSessionFactory()</code> &#12398;&#12424;&#12358;&#12394;&#12504;&#12523;&#12497;&#12540;&#12463;&#12521;&#12473;&#12398;&#20013;&#12395;&#12289; <code class="literal">SessionFactory</code> &#12434;&#12523;&#12483;&#12463;&#12450;&#12483;&#12503;&#12377;&#12427;&#12467;&#12540;&#12489;&#12434;&#38560;&#12377;&#12371;&#12392;&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12424;&#12358;&#12394;&#12504;&#12523;&#12497;&#12540;&#12463;&#12521;&#12473;&#12399;Hibernate&#12434;&#38283;&#22987;&#12377;&#12427;&#20415;&#21033;&#12394;&#25163;&#27573;&#12391;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; &#65297;&#31456;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-j2ee-currentsession"></a>3.8.3. JTA&#12395;&#12424;&#12427;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12510;&#12493;&#12540;&#12472;&#12513;&#12531;&#12488;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12418;&#12387;&#12392;&#12418;&#31777;&#21336;&#12395; <code class="literal">Session</code> &#12392;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#25201;&#12358;&#26041;&#27861;&#12399;&#12289; Hibernate&#12364;&#33258;&#21205;&#30340;&#12395;&#12300;&#29694;&#22312;&#12398;&#12301; <code class="literal">Session</code> &#12434;&#31649;&#29702;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; <a href="#architecture-current-session" title="2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;">&#38917;2.5. &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;</a> &#12398;&#35500;&#26126;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12418;&#12375; <code class="literal">&#12300;JTA&#12301;</code> &#12475;&#12483;&#12471;&#12519;&#12531;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12434;&#20351;&#12387;&#12383;&#19978;&#12391;&#12289; &#29694;&#22312;&#12398;JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;Hibernate <code class="literal">Session</code> &#12364;&#38306;&#36899;&#12375;&#12390;&#12356;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289; &#26368;&#21021;&#12395; <code class="literal">sessionFactory.getCurrentSession()</code> &#12434;&#12467;&#12540;&#12523;&#12375;&#12289; JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#12398;&#38306;&#36899;&#20184;&#12369;&#12434;&#34892;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; <code class="literal">&#12300;JTA&#12301;</code> &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398; <code class="literal">getCurrentSession()</code> &#12434; &#36890;&#12376;&#12390;&#21462;&#24471;&#12375;&#12383; <code class="literal">Session</code> &#12399;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#23436;&#20102;&#12377;&#12427;&#21069;&#12395; &#33258;&#21205;&#30340;&#12395;&#12501;&#12521;&#12483;&#12471;&#12517;&#12375;&#12289;&#23436;&#20102;&#12375;&#12383;&#24460;&#12395;&#12399;&#33258;&#21205;&#30340;&#12395;&#12463;&#12525;&#12540;&#12474;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;&#21508;&#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#24460;&#12395;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#31309;&#26997;&#30340;&#12395;&#12522;&#12522;&#12540;&#12473;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12424;&#12426;JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12391; <code class="literal">Session</code> &#12434;&#31649;&#29702;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12289; &#12518;&#12540;&#12470;&#12540;&#12398;&#12467;&#12540;&#12489;&#12363;&#12425;&#12381;&#12398;&#12424;&#12358;&#12394;&#31649;&#29702;&#12434;&#12377;&#12427;&#12467;&#12540;&#12489;&#12434;&#25490;&#38500;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">UserTransaction</code> &#12434;&#36890;&#12376;&#12390;JTA&#12434;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#31649;&#29702;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12414;&#12383;&#12399;&#12289;&#65288;&#12509;&#12540;&#12479;&#12502;&#12523;&#12394;&#12467;&#12540;&#12489;&#12391;&#12354;&#12428;&#12400;&#65289;Hibernate <code class="literal">Transaction</code> API&#12434; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12392;&#12375;&#12390;&#20351;&#12358;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; EJB&#12467;&#12531;&#12486;&#12490;&#12434;&#20351;&#12358;&#12392;&#12365;&#12399;&#12289;CMT&#12395;&#12424;&#12427;&#23459;&#35328;&#30340;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12364;&#22909;&#12414;&#12375;&#12356;&#12391;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="configuration-j2ee-jmx"></a>3.8.4. JMX&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">SessionFactory</code> &#12434;JNDI&#12363;&#12425;&#21462;&#24471;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399; <code class="literal">cfg.buildSessionFactory()</code> &#34892;&#12434;&#12393;&#12371;&#12363;&#12391;&#23455;&#34892;&#12375;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12354;&#12394;&#12383;&#12399;&#12371;&#12428;&#12434;&#12289;<code class="literal">static</code> &#21021;&#26399;&#21270;&#12502;&#12525;&#12483;&#12463;&#20869;&#65288; <code class="literal">HibernateUtil</code> &#12398;&#12424;&#12358;&#12394;&#65289;&#12363; <span class="emphasis"><em>managed service</em></span> &#12392;&#12375;&#12390;Hibernate&#12434;&#12487;&#12503;&#12525;&#12452;&#12377;&#12427;&#12363;&#12289;&#12393;&#12385;&#12425;&#12363;&#12391;&#23455;&#34892;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>JBOSS&#12398;&#12424;&#12358;&#12394;JMX&#12398;&#27231;&#33021;&#12391;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12395;&#12487;&#12503;&#12525;&#12452;&#12377;&#12427;&#12383;&#12417;&#12395; <code class="literal">org.hibernate.jmx.HibernateService</code> &#12434;&#20351;&#12387;&#12390;&#12289;&#37197;&#32622;&#12375;&#12414;&#12377;&#12290; &#23455;&#38555;&#12398;&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12392;&#35373;&#23450;&#12399;&#12505;&#12531;&#12480;&#12540;&#29305;&#26377;&#12391;&#12377;&#12290; &#12371;&#12371;&#12391;&#20363;&#12392;&#12375;&#12390;JBOSS 4.0.x&#29992;&#12398; <code class="literal">jboss-service.xml</code> &#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;server&gt;

&lt;mbean code="org.hibernate.jmx.HibernateService"
    name="jboss.jca:service=HibernateFactory,name=HibernateFactory"&gt;

    &lt;!-- Required services --&gt;
    &lt;depends&gt;jboss.jca:service=RARDeployer&lt;/depends&gt;
    &lt;depends&gt;jboss.jca:service=LocalTxCM,name=HsqlDS&lt;/depends&gt;

    &lt;!-- Bind the Hibernate service to JNDI --&gt;
    &lt;attribute name="JndiName"&gt;java:/hibernate/SessionFactory&lt;/attribute&gt;

    &lt;!-- Datasource settings --&gt;
    &lt;attribute name="Datasource"&gt;java:HsqlDS&lt;/attribute&gt;
    &lt;attribute name="Dialect"&gt;org.hibernate.dialect.HSQLDialect&lt;/attribute&gt;

    &lt;!-- Transaction integration --&gt;
    &lt;attribute name="TransactionStrategy"&gt;
        org.hibernate.transaction.JTATransactionFactory&lt;/attribute&gt;
    &lt;attribute name="TransactionManagerLookupStrategy"&gt;
        org.hibernate.transaction.JBossTransactionManagerLookup&lt;/attribute&gt;
    &lt;attribute name="FlushBeforeCompletionEnabled"&gt;true&lt;/attribute&gt;
    &lt;attribute name="AutoCloseSessionEnabled"&gt;true&lt;/attribute&gt;

    &lt;!-- Fetching options --&gt;
    &lt;attribute name="MaximumFetchDepth"&gt;5&lt;/attribute&gt;

    &lt;!-- Second-level caching --&gt;
    &lt;attribute name="SecondLevelCacheEnabled"&gt;true&lt;/attribute&gt;
    &lt;attribute name="CacheProviderClass"&gt;org.hibernate.cache.EhCacheProvider&lt;/attribute&gt;
    &lt;attribute name="QueryCacheEnabled"&gt;true&lt;/attribute&gt;

    &lt;!-- Logging --&gt;
    &lt;attribute name="ShowSqlEnabled"&gt;true&lt;/attribute&gt;

    &lt;!-- Mapping files --&gt;
    &lt;attribute name="MapResources"&gt;auction/Item.hbm.xml,auction/Category.hbm.xml&lt;/attribute&gt;

&lt;/mbean&gt;

&lt;/server&gt;</pre><p>&#12371;&#12398;&#12501;&#12449;&#12452;&#12523;&#12399; <code class="literal">META-INF</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12395;&#37197;&#32622;&#12373;&#12428;&#12289; JAR&#12501;&#12449;&#12452;&#12523;&#12434;&#25313;&#24373;&#12375;&#12383; <code class="literal">.sar</code> (service archive)&#12391;&#12497;&#12483;&#12465;&#12540;&#12472;&#21270;&#12373;&#12428;&#12414;&#12377;&#12290; &#21516;&#27096;&#12395;Hibernate&#12497;&#12483;&#12465;&#12540;&#12472;&#12418;&#24517;&#35201;&#12391;&#12377;&#12290;&#12414;&#12383;&#12289;Hibernate&#12399;&#12469;&#12540;&#12489;&#12497;&#12540;&#12486;&#12451;&#12398;&#12521;&#12452;&#12502;&#12521;&#12522;&#12418;&#35201;&#27714;&#12375;&#12414;&#12377;&#12290; &#12467;&#12531;&#12497;&#12452;&#12523;&#12375;&#12383;&#27704;&#32154;&#21270;&#12463;&#12521;&#12473;&#12392;&#12381;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12418;&#21516;&#27096;&#12395;&#12450;&#12540;&#12459;&#12452;&#12502;&#65288;.sar&#12501;&#12449;&#12452;&#12523;&#65289;&#12395;&#20837;&#12428;&#12414;&#12377;&#12290;
                     &#12456;&#12531;&#12479;&#12540;&#12503;&#12521;&#12452;&#12474;bean&#65288;&#36890;&#24120;&#12399;&#12475;&#12483;&#12471;&#12519;&#12531;bean&#65289;&#12399;&#33258;&#36523;&#12398;JAR&#12501;&#12449;&#12452;&#12523;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12364;&#12289; 1&#22238;&#12391;&#65288;&#12507;&#12483;&#12488;&#65289;&#12487;&#12503;&#12525;&#12452;&#21487;&#33021;&#12394;&#12518;&#12491;&#12483;&#12488;&#12398;&#12383;&#12417;&#12395;&#12513;&#12452;&#12531;&#12469;&#12540;&#12499;&#12473;&#12450;&#12540;&#12459;&#12452;&#12502;&#12392;&#12375;&#12390;&#12371;&#12398;EJB JAR&#12501;&#12449;&#12452;&#12523;&#12434;&#12452;&#12531;&#12463;&#12523;&#12540;&#12489;&#12377;&#12427; &#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;JBoss&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12395;JXM&#12469;&#12540;&#12499;&#12473;&#12392;
                     EJB&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12398;&#12424;&#12426;&#22810;&#12367;&#12398;&#24773;&#22577;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
               </div>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="persistent-classes"></a>&#31532;4&#31456; &#27704;&#32154;&#12463;&#12521;&#12473;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12399;&#12499;&#12472;&#12493;&#12473;&#19978;&#12398;&#21839;&#38988;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#65288;&#20363;&#12360;&#12400;&#12289;E&#12467;&#12510;&#12540;&#12473;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#39015;&#23458;&#12420;&#27880;&#25991;&#65289; &#12434;&#23455;&#35013;&#12377;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12463;&#12521;&#12473;&#12391;&#12377;&#12290; &#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12377;&#12409;&#12390;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#27704;&#32154;&#29366;&#24907;&#12391;&#12354;&#12427;&#12392;&#35211;&#12394;&#12373;&#12428;&#12427;&#12431;&#12369;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#36870;&#12395;&#19968;&#26178;&#30340;&#65288;transient&#65289;&#12391;&#12354;&#12387;&#12383;&#12426;&#12289;&#20998;&#38626;&#29366;&#24907;&#65288;detached&#65289;&#12391;&#12354;&#12387;&#12383;&#12426;&#12377;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;
               
            </p>
            <p>Plain Old Java Object (POJO)&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#12514;&#12487;&#12523;&#12392;&#12375;&#12390;&#12418;&#30693;&#12425;&#12428;&#12427; &#12356;&#12367;&#12388;&#12363;&#12398;&#21336;&#32020;&#12394;&#12523;&#12540;&#12523;&#12395;&#24467;&#12358;&#12394;&#12425;&#12289;Hibernate&#12399;&#26368;&#12418;&#12424;&#12367;&#20685;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12371;&#12428;&#12425;&#12398;&#12523;&#12540;&#12523;&#12399;&#38627;&#12375;&#12356;&#12418;&#12398;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#23455;&#38555;Hibernate3&#12399;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#24615;&#36074;&#12395;&#12411;&#12392;&#12435;&#12393;&#20309;&#12398;&#21069;&#25552;&#12418;&#32622;&#12356;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290;
               &#12489;&#12513;&#12452;&#12531;&#12514;&#12487;&#12523;&#12399;&#20182;&#12398;&#26041;&#27861;&#12391;&#34920;&#29694;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">Map</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12484;&#12522;&#12540;&#12434;&#20351;&#12358;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="persistent-classes-pojo"></a>4.1. &#21336;&#32020;&#12394;POJO&#12398;&#20363;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12411;&#12392;&#12435;&#12393;&#12398;Java&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12399;&#12493;&#12467;&#31185;&#12398;&#21205;&#29289;&#12434;&#34920;&#29694;&#12377;&#12427;&#27704;&#32154;&#12463;&#12521;&#12473;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; </p><pre class="programlisting">package eg;
import java.util.Set;
import java.util.Date;

public class Cat {
    private Long id; // identifier

    private Date birthdate;
    private Color color;
    private char sex;
    private float weight;
    private int litterId;

    private Cat mother;
    private Set kittens = new HashSet();

    private void setId(Long id) {
        this.id=id;
    }
    public Long getId() {
        return id;
    }

    void setBirthdate(Date date) {
        birthdate = date;
    }
    public Date getBirthdate() {
        return birthdate;
    }

    void setWeight(float weight) {
        this.weight = weight;
    }
    public float getWeight() {
        return weight;
    }

    public Color getColor() {
        return color;
    }
    void setColor(Color color) {
        this.color = color;
    }

    void setSex(char sex) {
        this.sex=sex;
    }
    public char getSex() {
        return sex;
    }

    void setLitterId(int id) {
        this.litterId = id;
    }
    public int getLitterId() {
        return litterId;
    }

    void setMother(Cat mother) {
        this.mother = mother;
    }
    public Cat getMother() {
        return mother;
    }
    void setKittens(Set kittens) {
        this.kittens = kittens;
    }
    public Set getKittens() {
        return kittens;
    }
    
    // addKitten not needed by Hibernate
    public void addKitten(Cat kitten) {
            kitten.setMother(this);
        kitten.setLitterId( kittens.size() ); 
        kittens.add(kitten);
    }
}</pre><p>&#24467;&#12358;&#12409;&#12365;4&#12388;&#12398;&#12523;&#12540;&#12523;&#12364;&#12354;&#12426;&#12414;&#12377;&#65306; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="persistent-classes-pojo-constructor"></a>4.1.1. &#24341;&#25968;&#12398;&#12394;&#12356;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#23455;&#35013;&#12377;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">Cat</code> &#12395;&#12399;&#24341;&#25968;&#12398;&#12394;&#12356;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12364; <code class="literal">Constructor.newInstance()</code> &#12434;&#20351;&#12387;&#12390;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12434;&#34892;&#12360;&#12427;&#12424;&#12358;&#12395;&#12289;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479; &#65288;public&#12391;&#12394;&#12367;&#12390;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#65289;&#12364;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; Hibernate&#12398;&#23455;&#34892;&#26178;&#12503;&#12525;&#12461;&#12471;&#29983;&#25104;&#12398;&#12383;&#12417;&#12395;&#12289;&#23569;&#12394;&#12367;&#12392;&#12418; <span class="emphasis"><em>package</em></span> &#12398;&#21487;&#35222;&#24615;&#12434;&#25345;&#12388;&#12487;&#12501;&#12457;&#12523;&#12488;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#24375;&#12367;&#12362;&#21223;&#12417;&#12375;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="persistent-classes-pojo-identifier"></a>4.1.2. &#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#29992;&#24847;&#12377;&#12427;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">Cat</code> &#12395;&#12399; <code class="literal">id</code> &#12392;&#12356;&#12358;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21517;&#21069;&#12399;&#20309;&#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12375;&#12289;&#22411;&#12399;&#12393;&#12398;&#12424;&#12358;&#12394;&#12503;&#12522;&#12511;&#12486;&#12451;&#12502;&#22411;&#12391;&#12418;&#12289; &#12503;&#12522;&#12511;&#12486;&#12451;&#12502;&#12398;&#12300;&#12521;&#12483;&#12497;&#12540;&#12301;&#22411;&#12391;&#12418;&#12289;<code class="literal">java.lang.String</code> &#12420; <code class="literal">java.util.Date</code> &#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290; &#65288;&#12418;&#12375;&#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12364;&#35079;&#21512;&#12461;&#12540;&#12434;&#25345;&#12388;&#12394;&#12425;&#12400;&#12289; &#20170;&#36848;&#12409;&#12383;&#12424;&#12358;&#12394;&#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25345;&#12388;&#12518;&#12540;&#12470;&#23450;&#32681;&#12398;&#12463;&#12521;&#12473;&#12434;&#20351;&#12358;&#12371;&#12392;&#12373;&#12360;&#21487;&#33021;&#12391;&#12377;&#12290; &#24460;&#12391;&#35079;&#21512;&#35672;&#21029;&#23376;&#12398;&#31680;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#65289; 
                  </p>
                  <p>&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#21427;&#23494;&#12395;&#12399;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12377;&#12290; &#12371;&#12428;&#12434;&#30465;&#30053;&#12375;&#12390;&#12289;Hibernate&#12395;&#20869;&#37096;&#30340;&#12395;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12434;&#36861;&#36321;&#12373;&#12379;&#12427;&#12371;&#12392;&#12399;&#21487;&#33021;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12362;&#12377;&#12377;&#12417;&#12399;&#12375;&#12414;&#12379;&#12435;&#12290; </p>
                  <p>&#23455;&#38555;&#12395;&#12289;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23459;&#35328;&#12377;&#12427;&#12463;&#12521;&#12473;&#12384;&#12369;&#12364;&#21033;&#29992;&#21487;&#33021;&#12394;&#27231;&#33021;&#12364;&#12356;&#12367;&#12388;&#12363;&#12354;&#12426;&#12414;&#12377;&#65306; </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p>Transitive reattachment for detached objects (cascade update or cascade merge) - see <a href="#objectstate-transitive" title="10.11. &#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;">&#38917;10.11. &#12300;&#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;&#12301;</a> 
                           </p>
                        </li>
                        <li>
                           <p>
                              <code class="literal">Session.saveOrUpdate()</code>
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <code class="literal">Session.merge()</code>
                              
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#12399;&#12289;&#19968;&#36011;&#12375;&#12383;&#21517;&#21069;&#12398;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12434;&#12362;&#21223;&#12417;&#12375;&#12414;&#12377;&#12290; &#12373;&#12425;&#12395;null&#20516;&#12434;&#21462;&#12428;&#12427;(&#12388;&#12414;&#12426;&#12503;&#12522;&#12511;&#12486;&#12451;&#12502;&#12391;&#12399;&#12394;&#12356;)&#22411;&#12434;&#20351;&#12387;&#12383;&#26041;&#12364;&#12424;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="persistent-classes-pojo-final"></a>4.1.3. final&#12463;&#12521;&#12473;&#12395;&#12375;&#12394;&#12356;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12398;&#20013;&#24515;&#30340;&#12394;&#29305;&#24500;&#12391;&#12354;&#12427; <span class="emphasis"><em>&#12503;&#12525;&#12461;&#12471;</em></span> &#12399;&#12289; &#27704;&#32154;&#12463;&#12521;&#12473;&#12364;final&#12391;&#12394;&#12356;&#12371;&#12392;&#12289;&#12414;&#12383;&#12399;&#12513;&#12477;&#12483;&#12489;&#12434;&#20840;&#37096;public&#12391;&#23459;&#35328;&#12375;&#12390;&#12356;&#12427; &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12364;&#23455;&#35013;&#12373;&#12428;&#12390;&#12356;&#12427;&#12363;&#12395;&#20381;&#23384;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>Hibernate&#12391;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12375;&#12390;&#12356;&#12394;&#12356; <code class="literal">final</code> &#12463;&#12521;&#12473;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12377;&#12364;&#12289; &#36933;&#24310;&#38306;&#36899;&#12501;&#12455;&#12483;&#12481;&#12395;&#23550;&#12375;&#12390;&#12503;&#12525;&#12461;&#12471;&#12434;&#20351;&#12358;&#12371;&#12392;&#12399;&#12391;&#12365;&#12394;&#12367;&#12394;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;&#12408;&#12398;&#36984;&#25246;&#32930;&#12434;&#29421;&#12417;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>final&#12391;&#12399;&#12394;&#12356;&#12463;&#12521;&#12473;&#12391; <code class="literal">public final</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12418;&#36991;&#12369;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; <code class="literal">public final</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#25345;&#12388;&#12463;&#12521;&#12473;&#12434;&#20351;&#12356;&#12383;&#12369;&#12428;&#12400;&#12289; <code class="literal">lazy="false"</code> &#12392;&#35373;&#23450;&#12375;&#12390;&#26126;&#31034;&#30340;&#12395;&#12503;&#12525;&#12461;&#12471;&#12434;&#28961;&#21177;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="persistent-classes-pojo-accessors"></a>4.1.4. &#27704;&#32154;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#23550;&#12377;&#12427;&#12450;&#12463;&#12475;&#12469;&#12392;&#12511;&#12517;&#12540;&#12486;&#12540;&#12479;&#12434;&#23450;&#32681;&#12377;&#12427;&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">Cat</code> &#12391;&#12399;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#23550;&#12375;&#12390;&#12450;&#12463;&#12475;&#12469;&#12513;&#12477;&#12483;&#12489;&#12434;&#23450;&#32681;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#20182;&#12398;&#22810;&#12367;&#12398;ORM&#12484;&#12540;&#12523;&#12399;&#12289;&#27704;&#32154;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12434;&#30452;&#25509;&#27704;&#32154;&#21270;&#12375;&#12414;&#12377;&#12290; &#31169;&#12383;&#12385;&#12399;&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12473;&#12461;&#12540;&#12510;&#12392;&#12463;&#12521;&#12473;&#12398;&#20869;&#37096;&#27083;&#36896;&#12434;&#20998;&#38626;&#12377;&#12427;&#26041;&#12364;&#33391;&#12356;&#12392;&#20449;&#12376;&#12390;&#12356;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;Hibernate&#12399;JavaBean&#12473;&#12479;&#12452;&#12523;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#27704;&#32154;&#21270;&#12375;&#12289;
                     <code class="literal">getFoo</code>, <code class="literal">isFoo</code>, <code class="literal">setFoo</code> &#24418;&#24335;&#12398;&#12513;&#12477;&#12483;&#12489;&#21517;&#12434;&#35469;&#35672;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#24517;&#35201;&#12394;&#12425;&#12289;&#29305;&#23450;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#12289;&#30452;&#25509;&#12398;&#12501;&#12451;&#12540;&#12523;&#12489;&#12450;&#12463;&#12475;&#12473;&#12395;&#20999;&#12426;&#26367;&#12360;&#12427;&#12371;&#12392;&#12399;&#21487;&#33021;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;public&#12391;&#23459;&#35328;&#12377;&#12427;&#24517;&#35201;&#12399; <span class="emphasis"><em>&#12354;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; Hibernate&#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12289;<code class="literal">protected</code> &#12418;&#12375;&#12367;&#12399; <code class="literal">private</code> &#12398;get / set&#12398;&#12506;&#12450;&#12434;&#25345;&#12388;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="persistent-classes-inheritance"></a>4.2. &#32153;&#25215;&#12398;&#23455;&#35013;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12469;&#12502;&#12463;&#12521;&#12473;&#12418;1&#30058;&#30446;&#12392;2&#30058;&#30446;&#12398;&#12523;&#12540;&#12523;&#12434;&#23432;&#12425;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12469;&#12502;&#12463;&#12521;&#12473;&#12399;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473; <code class="literal">Cat</code> &#12363;&#12425;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#32153;&#25215;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">package eg;

public class DomesticCat extends Cat {
        private String name;

        public String getName() {
                return name;
        }
        protected void setName(String name) {
                this.name=name;
        }
}</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="persistent-classes-equalshashcode"></a>4.3. <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12398;&#23455;&#35013;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#20197;&#19979;&#12398;&#26465;&#20214;&#12398;&#22580;&#21512;&#12289; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12289; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434; <code class="literal">Set</code> &#12395;&#32622;&#12367;&#22580;&#21512;&#12290; &#65288;&#12371;&#12428;&#12399;&#22810;&#20516;&#12398;&#38306;&#36899;&#12434;&#34920;&#29694;&#12377;&#12427;&#12362;&#12377;&#12377;&#12417;&#12398;&#26041;&#27861;&#12391;&#12377;&#65289; <span class="emphasis"><em>&#12381;&#12375;&#12390;&#21516;&#26178;&#12395;</em></span> 
                        </p>
                     </li>
                     <li>
                        <p>&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12475;&#12483;&#12471;&#12519;&#12531;&#12408;&#20877;&#36861;&#21152;&#12377;&#12427;&#22580;&#21512;&#12290; </p>
                     </li>
                  </ul>
               </div>
               <p>Hibernate&#12399;&#12289;&#27704;&#32154;ID&#65288;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#34892;&#65289;&#12392;&#12289;&#29305;&#23450;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12473;&#12467;&#12540;&#12503;&#20869;&#12395; &#38480;&#23450;&#12391;&#12377;&#12364;JavaID&#12392;&#12364;&#31561;&#20385;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#20445;&#35388;&#12375;&#12414;&#12377;&#12290; &#12391;&#12377;&#12363;&#12425;&#30064;&#12394;&#12427;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#26908;&#32034;&#12375;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#32068;&#12415;&#21512;&#12431;&#12379;&#12427;&#22580;&#21512;&#12289; <code class="literal">Set</code> &#12395;&#24847;&#21619;&#12398;&#12354;&#12427;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#25345;&#12383;&#12379;&#12424;&#12358;&#12392;&#24605;&#12387;&#12390;&#12356;&#12427;&#12394;&#12425; &#12377;&#12368;&#12395;<code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#26368;&#12418;&#26126;&#30333;&#12394;&#26041;&#27861;&#12399;&#12289;&#20001;&#26041;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12398;&#20516;&#12398;&#27604;&#36611;&#12395;&#12424;&#12387;&#12390; <code class="literal">equals()</code>&#12392; <code class="literal">hashCode()</code> &#12434;&#23455;&#35013;&#12377;&#12427;&#26041;&#27861;&#12391;&#12377;&#12290; &#20516;&#12364;&#21516;&#12376;&#12394;&#12425;&#12289;&#20001;&#32773;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#21516;&#12376;&#34892;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12383;&#12417;&#31561;&#12375;&#12367;&#12394;&#12426;&#12414;&#12377;&#12290; &#65288;&#20001;&#32773;&#12364; <code class="literal">Set</code> &#12395;&#36861;&#21152;&#12373;&#12428;&#12390;&#12418;&#12289; <code class="literal">Set</code> &#12395;&#12399;1&#20491;&#12398;&#35201;&#32032;&#12375;&#12363;&#12394;&#12356;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#65289; &#27531;&#24565;&#12394;&#12371;&#12392;&#12395;&#12289;&#29983;&#25104;&#12373;&#12428;&#12383;&#35672;&#21029;&#23376;&#12395;&#12399;&#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399;&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#35672;&#21029;&#23376;&#12398;&#20516;&#12434;&#20195;&#20837;&#12377;&#12427;&#12384;&#12369;&#12391;&#12354;&#12426;&#12289; &#26032;&#12375;&#12367;&#20316;&#25104;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12393;&#12398;&#12424;&#12358;&#12394;&#35672;&#21029;&#23376;&#12398;&#20516;&#12418;&#25345;&#12387;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290;
                  &#12373;&#12425;&#12395;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12475;&#12540;&#12502;&#12373;&#12428;&#12390;&#12362;&#12425;&#12378;&#12289;&#29694;&#22312; <code class="literal">Set</code> &#12398;&#20013;&#12395;&#12354;&#12428;&#12400;&#12289; &#12475;&#12540;&#12502;&#12377;&#12427;&#12392;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#35672;&#21029;&#23376;&#12398;&#20516;&#12434;&#20195;&#20837;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12418;&#12375; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12364;&#35672;&#21029;&#23376;&#12398;&#20516;&#12395;&#22522;&#12389;&#12356;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289; &#12495;&#12483;&#12471;&#12517;&#12467;&#12540;&#12489;&#12364;&#22793;&#26356;&#12373;&#12428;&#12427;&#12392; <code class="literal">Set</code> &#12398;&#35215;&#32004;&#12364;&#30772;&#12425;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#21839;&#38988;&#12395;&#12388;&#12356;&#12390;&#12398;&#23436;&#20840;&#12394;&#35696;&#35542;&#12399;&#12289;Hibernate&#12398;&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12428;&#12399;Hibernate&#12398;&#21839;&#38988;&#12391;&#12399;&#12394;&#12367;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#21516;&#19968;&#24615;&#12392;&#31561;&#20385;&#24615;&#12395;&#12388;&#12356;&#12390;&#12398;&#12289; &#36890;&#24120;&#12398;Java&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
                  
               </p>
               <p><span class="emphasis"><em>&#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12398;&#31561;&#20385;&#24615;</em></span> &#12434;&#20351;&#12387;&#12390;&#12289; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12434;&#12362;&#21223;&#12417;&#12375;&#12414;&#12377;&#12290; &#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12398;&#31561;&#20385;&#24615;&#12392;&#12399;&#12289;<code class="literal">equals()</code> &#12513;&#12477;&#12483;&#12489;&#12364;&#12289;&#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12289; &#12388;&#12414;&#12426;&#29694;&#23455;&#12398;&#19990;&#30028;&#12395;&#12362;&#12356;&#12390;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#29305;&#23450;&#12377;&#12427;&#12461;&#12540;&#65288;<span class="emphasis"><em>&#33258;&#28982;</em></span> &#20505;&#35036;&#12461;&#12540;&#65289; &#12434;&#24418;&#25104;&#12377;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12384;&#12369;&#12434;&#27604;&#36611;&#12377;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">public class Cat {

    ...
    public boolean equals(Object other) {
        if (this == other) return true;
        if ( !(other instanceof Cat) ) return false;

        final Cat cat = (Cat) other;

        if ( !cat.getLitterId().equals( getLitterId() ) ) return false;
        if ( !cat.getMother().equals( getMother() ) ) return false;

        return true;
    }

    public int hashCode() {
        int result;
        result = getMother().hashCode();
        result = 29 * result + getLitterId();
        return result;
    }

}</pre><p>&#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#20027;&#12461;&#12540;&#20505;&#35036;&#12411;&#12393;&#23433;&#23450;&#12391;&#12354;&#12427;&#24517;&#35201;&#12399;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356; &#65288;<a href="#transactions-basics-identity" title="11.1.3. &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#35672;&#21029;&#23376;&#12434;&#32771;&#12360;&#12427;">&#38917;11.1.3. &#12300;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#35672;&#21029;&#23376;&#12434;&#32771;&#12360;&#12427;&#12301;</a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; &#26356;&#26032;&#19981;&#21487;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#12518;&#12491;&#12540;&#12463;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12289;&#36890;&#24120;&#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12398;&#12424;&#12356;&#20505;&#35036;&#12391;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="persistent-classes-dynamicmodels"></a>4.4. &#21205;&#30340;&#12514;&#12487;&#12523;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis"><em>&#20197;&#19979;&#12398;&#27231;&#33021;&#12399;&#29694;&#22312;&#23455;&#39443;&#27573;&#38542;&#12395;&#12354;&#12427;&#12392;&#35211;&#12394;&#12373;&#12428;&#12390;&#12362;&#12426;&#12289; &#36817;&#12356;&#23558;&#26469;&#22793;&#26356;&#12373;&#12428;&#12427;&#21487;&#33021;&#24615;&#12364;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;</em></span>
                  
               </p>
               <p>&#27704;&#32154;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#12289;&#24517;&#12378;&#12375;&#12418;&#23455;&#34892;&#26178;&#12395;POJO&#12463;&#12521;&#12473;&#12420;JavaBean&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#34920;&#29694;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399;&#65288;&#23455;&#34892;&#26178;&#12395; <code class="literal">Map</code> &#12398; <code class="literal">Map</code> &#12434;&#20351;&#12358;&#65289;&#21205;&#30340;&#12514;&#12487;&#12523;&#12392;&#12289; DOM4J&#12484;&#12522;&#12540;&#12392;&#12375;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#34920;&#29694;&#12418;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#20351;&#12358;&#12392;&#27704;&#32154;&#12463;&#12521;&#12473;&#12434;&#26360;&#12363;&#12378;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12384;&#12369;&#12434;&#26360;&#12367;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;Hibernate&#12399;&#36890;&#24120;&#12398;POJO&#12514;&#12540;&#12489;&#12391;&#21205;&#20316;&#12375;&#12414;&#12377;&#12290; <code class="literal">default_entity_mode</code> &#35373;&#23450;&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#12289; &#29305;&#23450;&#12398; <code class="literal">SessionFactory</code> &#12395;&#23550;&#12377;&#12427;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#34920;&#29694;&#12514;&#12540;&#12489;&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377; &#65288;<a href="#configuration-optional-properties" title="&#34920; 3.3. Hibernate&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;">&#34920;&nbsp;3.3. &#12300;Hibernate&#35373;&#23450;&#12503;&#12525;&#12497;&#12486;&#12451;&#12301;</a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; 
               </p>
               <p>&#20197;&#19979;&#12398;&#20363;&#12391;&#12399; <code class="literal">Map</code> &#12434;&#20351;&#12387;&#12383;&#34920;&#29694;&#12434;&#32057;&#20171;&#12375;&#12414;&#12377;&#12290; &#12414;&#12378;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#12289;&#12463;&#12521;&#12473;&#21517;&#12398;&#20195;&#12431;&#12426;&#12395;&#65288;&#12414;&#12383;&#12399;&#12381;&#12428;&#12395;&#21152;&#12360;&#12390;&#65289; <code class="literal">entity-name</code> &#12434;&#23450;&#32681;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#65306; 
               </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class entity-name="Customer"&gt;

        &lt;id name="id"
            type="long"
            column="ID"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;

        &lt;property name="name"
            column="NAME"
            type="string"/&gt;

        &lt;property name="address"
            column="ADDRESS"
            type="string"/&gt;

        &lt;many-to-one name="organization"
            column="ORGANIZATION_ID"
            class="Organization"/&gt;

        &lt;bag name="orders"
            inverse="true"
            lazy="false"
            cascade="all"&gt;
            &lt;key column="CUSTOMER_ID"/&gt;
            &lt;one-to-many class="Order"/&gt;
        &lt;/bag&gt;

    &lt;/class&gt;
    
&lt;/hibernate-mapping&gt;</pre><p>&#38306;&#36899;&#12364;&#12479;&#12540;&#12466;&#12483;&#12488;&#12398;&#12463;&#12521;&#12473;&#21517;&#12434;&#20351;&#12387;&#12390;&#23450;&#32681;&#12375;&#12390;&#12356;&#12383;&#12392;&#12375;&#12390;&#12418;&#12289; &#38306;&#36899;&#12398;&#12479;&#12540;&#12466;&#12483;&#12488;&#22411;&#12418;POJO&#12391;&#12399;&#12394;&#12367;&#21205;&#30340;&#12394;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12418;&#27083;&#12431;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               <p><code class="literal">SessionFactory</code> &#12395;&#23550;&#12375;&#12390;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12514;&#12540;&#12489;&#12434; <code class="literal">dynamic-map</code> &#12395;&#35373;&#23450;&#12375;&#12383;&#24460;&#12289; &#23455;&#34892;&#26178;&#12395; <code class="literal">Map</code> &#12398; <code class="literal">Map</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65306; 
               </p><pre class="programlisting">Session s = openSession();
Transaction tx = s.beginTransaction();
Session s = openSession();

// Create a customer
Map david = new HashMap();
david.put("name", "David");

// Create an organization
Map foobar = new HashMap();
foobar.put("name", "Foobar Inc.");

// Link both
david.put("organization", foobar);

// Save both
s.save("Customer", david);
s.save("Organization", foobar);

tx.commit();
s.close();</pre><p>&#21205;&#30340;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#21033;&#28857;&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12398;&#23455;&#35013;&#12434;&#24517;&#35201;&#12392;&#12375;&#12394;&#12356;&#12383;&#12417;&#12289; &#12503;&#12525;&#12488;&#12479;&#12452;&#12500;&#12531;&#12464;&#12395;&#35201;&#12377;&#12427;&#12479;&#12540;&#12531;&#12450;&#12521;&#12454;&#12531;&#12489;&#12479;&#12452;&#12512;&#12364;&#26089;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12467;&#12531;&#12497;&#12452;&#12523;&#26178;&#12398;&#22411;&#12481;&#12455;&#12483;&#12463;&#12364;&#12394;&#12356;&#12398;&#12391;&#12289;&#23455;&#34892;&#26178;&#12395;&#38750;&#24120;&#12395;&#22810;&#12367;&#12398;&#20363;&#22806;&#20966;&#29702;&#12434;&#25201;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290;
                  Hibernate&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12362;&#12363;&#12370;&#12391;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12399;&#23481;&#26131;&#12395;&#27491;&#35215;&#21270;&#12391;&#12365;&#12289;&#20581;&#20840;&#12395;&#12394;&#12426;&#12289; &#24460;&#12391;&#36969;&#20999;&#12394;&#12489;&#12513;&#12452;&#12531;&#12514;&#12487;&#12523;&#12398;&#23455;&#35013;&#12434;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12364;&#21487;&#33021;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#34920;&#29694;&#12514;&#12540;&#12489;&#12399; <code class="literal">Session</code> &#12372;&#12392;&#12395;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">Session dynamicSession = pojoSession.getSession(EntityMode.MAP);

// Create a customer
Map david = new HashMap();
david.put("name", "David");
dynamicSession.save("Customer", david);
...
dynamicSession.flush();
dynamicSession.close()
...
// Continue on pojoSession
</pre><p><code class="literal">EntityMode</code> &#12434;&#20351;&#12387;&#12383; <code class="literal">getSession()</code> &#12398;&#21628;&#12403;&#20986;&#12375;&#12399; <code class="literal">SessionFactory</code> &#12391;&#12399;&#12394;&#12367; <code class="literal">Session</code> API&#12395;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12398;&#26041;&#27861;&#12391;&#12399;&#12289;&#26032;&#12375;&#12356; <code class="literal">Session</code> &#12399;&#12289;&#12505;&#12540;&#12473;&#12392;&#12394;&#12427;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12289;&#12381;&#12398;&#20182;&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#24773;&#22577;&#12434;&#20849;&#26377;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;2&#30058;&#30446;&#12398; <code class="literal">Session</code> &#12391;&#12399; <code class="literal">flush()</code> &#12392; <code class="literal">close()</code> &#12434;&#21628;&#12406;&#24517;&#35201;&#12364;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12289;&#12381;&#12398;&#12383;&#12417;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12398;&#31649;&#29702;&#12434; 1&#30058;&#30446;&#12398;&#20316;&#26989;&#21336;&#20301;(Unit of Work)&#12395;&#20219;&#12379;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; 
               </p>
               <p>XML&#34920;&#29694;&#12398;&#33021;&#21147;&#12395;&#12388;&#12356;&#12390;&#12398;&#12373;&#12425;&#12394;&#12427;&#24773;&#22577;&#12399; <a href="#xml" title="&#31532;18&#31456; XML&#12510;&#12483;&#12500;&#12531;&#12464;">&#31456;&nbsp;18. <i xmlns:xlink="http://www.w3.org/1999/xlink">XML&#12510;&#12483;&#12500;&#12531;&#12464;</i></a> &#12391;&#35211;&#12388;&#12363;&#12426;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="persistent-classes-tuplizers"></a>4.5. Tuplizer
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">org.hibernate.tuple.Tuplizer</code> &#12392;&#12381;&#12398;&#12469;&#12502;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12399;&#12289; &#34920;&#29694;&#12398; <code class="literal">org.hibernate.EntityMode</code> &#12434;&#21033;&#29992;&#12375;&#12390;&#12289; &#12487;&#12540;&#12479;&#26029;&#29255;&#12398;&#12354;&#12427;&#34920;&#29694;&#12398;&#31649;&#29702;&#12395;&#36012;&#20219;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#19982;&#12360;&#12425;&#12428;&#12383;&#12487;&#12540;&#12479;&#26029;&#29255;&#12434;&#12487;&#12540;&#12479;&#27083;&#36896;&#12392;&#12375;&#12390;&#32771;&#12360;&#12427;&#12394;&#12425;&#12289;Tuplizer&#12399;&#12381;&#12398;&#12424;&#12358;&#12394;&#12487;&#12540;&#12479;&#27083;&#36896;&#12434; &#12393;&#12398;&#12424;&#12358;&#12395;&#20316;&#25104;&#12377;&#12427;&#12363;&#12434;&#30693;&#12426;&#12289;&#12381;&#12398;&#12424;&#12358;&#12394;&#12487;&#12540;&#12479;&#27083;&#36896;&#12363;&#12425;&#12393;&#12398;&#12424;&#12358;&#12395;&#20516;&#12434;&#25277;&#20986;&#12375;&#12289; &#27880;&#20837;&#12377;&#12427;&#12363;&#12434;&#30693;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290;
                  &#20363;&#12360;&#12400;POJO&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12514;&#12540;&#12489;&#12391;&#12399;&#12289;&#23550;&#24540;&#12377;&#12427;Tuplizer&#12399;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#36890;&#12375;&#12390;&#12289; POJO&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#20316;&#25104;&#12377;&#12427;&#12363;&#12289;&#23450;&#32681;&#12373;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12450;&#12463;&#12475;&#12469;&#12434;&#20351;&#12356;&#12289; POJO&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#12393;&#12398;&#12424;&#12358;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12363;&#12434;&#30693;&#12426;&#12414;&#12377;&#12290; Tuplizer&#12395;&#12399;&#20108;&#12388;&#12398;&#12495;&#12452;&#12524;&#12505;&#12523;&#12398;&#22411;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;
                  &#12381;&#12428;&#12425;&#12399;&#12289;<code class="literal">org.hibernate.tuple.EntityTuplizer</code> &#12392; <code class="literal">org.hibernate.tuple.ComponentTuplizer</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12391;&#34920;&#29694;&#12373;&#12428;&#12414;&#12377;&#12290; <code class="literal">EntityTuplizer</code> &#12399;&#19978;&#12391;&#36848;&#12409;&#12383;&#12424;&#12358;&#12394;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#38306;&#12377;&#12427;&#22865;&#32004;&#12398;&#31649;&#29702;&#12395;&#36012;&#20219;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#19968;&#26041;&#12289;<code class="literal">ComponentTuplizer</code> &#12399;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12395;&#38306;&#12377;&#12427;&#22865;&#32004;&#12398;&#31649;&#29702;&#12395;&#36012;&#20219;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12518;&#12540;&#12470;&#12399;&#29420;&#33258;&#12398;Tuplizer&#12395;&#24046;&#12375;&#26367;&#12360;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; &#12362;&#12381;&#12425;&#12367;dynamic-map entity-mode&#12398;&#38555;&#12395; <code class="literal">java.util.HashMap</code> &#12434;&#20351;&#12358;&#12398;&#12391;&#12399;&#12394;&#12367;&#12289; <code class="literal">java.util.Map</code> &#12398;&#23455;&#35013;&#12364;&#24517;&#35201;&#12391;&#12375;&#12423;&#12358;&#12290; &#12418;&#12375;&#12367;&#12399;&#12289;&#12362;&#12381;&#12425;&#12367;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12418;&#12398;&#12391;&#12399;&#12394;&#12367;&#12289;&#21029;&#12398;&#12503;&#12525;&#12461;&#12471;&#29983;&#25104;&#25126;&#30053;&#12398;&#23450;&#32681;&#12364;&#24517;&#35201;&#12391;&#12375;&#12423;&#12358;&#12290; &#20001;&#32773;&#12392;&#12418;&#12289;&#12459;&#12473;&#12479;&#12512;&#12398;Tuplizer&#23455;&#35013;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12391;&#36948;&#25104;&#12373;&#12428;&#12414;&#12377;&#12290; Tuplizer&#12398;&#23450;&#32681;&#12399;&#12289;&#31649;&#29702;&#12375;&#12424;&#12358;&#12392;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12420;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#32080;&#12403;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#12290;
                  &#39015;&#23458;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#20363;&#12395;&#25147;&#12427;&#12392;&#65306; 
               </p><pre class="programlisting">&lt;hibernate-mapping&gt;
    &lt;class entity-name="Customer"&gt;
        &lt;!--
            Override the dynamic-map entity-mode
            tuplizer for the customer entity
        --&gt;
        &lt;tuplizer entity-mode="dynamic-map"
                class="CustomMapTuplizerImpl"/&gt;

        &lt;id name="id" type="long" column="ID"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;

        &lt;!-- other properties --&gt;
        ...
    &lt;/class&gt;
&lt;/hibernate-mapping&gt;


public class CustomMapTuplizerImpl
        extends org.hibernate.tuple.entity.DynamicMapEntityTuplizer {
    // override the buildInstantiator() method to plug in our custom map...
    protected final Instantiator buildInstantiator(
            org.hibernate.mapping.PersistentClass mappingInfo) {
        return new CustomMapInstantiator( mappingInfo );
    }

    private static final class CustomMapInstantiator
            extends org.hibernate.tuple.DynamicMapInstantitor {
        // override the generateMap() method to return our custom map...
            protected final Map generateMap() {
                    return new CustomMap();
            }
    }
}</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="persistent-classes-extensions"></a>4.6. Extentsions
                        </h2>
                     </div>
                  </div>
               </div>
               <p>TODO: &#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#12503;&#12525;&#12461;&#12471;&#12497;&#12483;&#12465;&#12540;&#12472;&#12398;&#12518;&#12540;&#12470;&#25313;&#24373;&#12501;&#12524;&#12540;&#12512;&#12527;&#12540;&#12463;&#12434;&#25991;&#26360;&#21270;&#12377;&#12427;&#12371;&#12392; </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="mapping"></a>&#31532;5&#31456; &#22522;&#26412;&#30340;&#12394;O/R&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-declaration"></a>5.1. &#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;/&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#36890;&#24120;XML&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12391;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12399;&#12289;&#35501;&#12415;&#12420;&#12377;&#12367;&#25163;&#20316;&#26989;&#12391;&#32232;&#38598;&#12375;&#12420;&#12377;&#12356;&#12424;&#12358;&#12395;&#12487;&#12470;&#12452;&#12531;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#35328;&#35486;&#12399;Java&#20013;&#24515;&#12289;&#12388;&#12414;&#12426;&#12486;&#12540;&#12502;&#12523;&#23450;&#32681;&#12391;&#12399;&#12394;&#12367;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#23450;&#32681;&#12395;&#22522;&#12389;&#12356;&#12390;&#27083;&#31689;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290;
                  
               </p>
               <p>&#22810;&#12367;&#12398;Hibernate&#12518;&#12540;&#12470;&#12399;XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#35352;&#36848;&#12434;&#25163;&#20316;&#26989;&#12391;&#34892;&#12356;&#12414;&#12377;&#12364;&#12289; XDoclet, Middlegen, AndroMDA&#12392;&#12356;&#12358;&#12424;&#12358;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#29983;&#25104;&#12377;&#12427;&#12484;&#12540;&#12523;&#12364; &#12356;&#12367;&#12388;&#12363;&#23384;&#22312;&#12375;&#12414;&#12377;&#12290; </p>
               <p>&#12469;&#12531;&#12503;&#12523;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12363;&#12425;&#22987;&#12417;&#12414;&#12375;&#12423;&#12358;&#65306; </p><a name="mapping-declaration-ex1"></a><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
      "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
          "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;

&lt;hibernate-mapping package="eg"&gt;

        &lt;class name="Cat"
            table="cats"
            discriminator-value="C"&gt;

                &lt;id name="id"&gt;
                        &lt;generator class="native"/&gt;
                &lt;/id&gt;

                &lt;discriminator column="subclass"
                     type="character"/&gt;

                &lt;property name="weight"/&gt;

                &lt;property name="birthdate"
                    type="date"
                    not-null="true"
                    update="false"/&gt;

                &lt;property name="color"
                    type="eg.types.ColorUserType"
                    not-null="true"
                    update="false"/&gt;

                &lt;property name="sex"
                    not-null="true"
                    update="false"/&gt;

                &lt;property name="litterId"
                    column="litterId"
                    update="false"/&gt;

                &lt;many-to-one name="mother"
                    column="mother_id"
                    update="false"/&gt;

                &lt;set name="kittens"
                    inverse="true"
                    order-by="litter_id"&gt;
                        &lt;key column="mother_id"/&gt;
                        &lt;one-to-many class="Cat"/&gt;
                &lt;/set&gt;

                &lt;subclass name="DomesticCat"
                    discriminator-value="D"&gt;

                        &lt;property name="name"
                            type="string"/&gt;

                &lt;/subclass&gt;

        &lt;/class&gt;

        &lt;class name="Dog"&gt;
                &lt;!-- mapping for Dog could go here --&gt;
        &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#20869;&#23481;&#12434;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290;&#12290; &#12383;&#12384;&#12375;&#12289;&#12371;&#12371;&#12391;&#12399;Hibernate&#12364;&#23455;&#34892;&#26178;&#12395;&#20351;&#12358;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#35201;&#32032;&#12392;&#23646;&#24615;&#12395;&#12388;&#12356;&#12390;&#12398;&#12415;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12399;&#12289;&#12356;&#12367;&#12388;&#12363;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#23646;&#24615;&#12392;&#35201;&#32032;&#12434;&#21547;&#12435;&#12391;&#12356;&#12414;&#12377;&#65288;&#20363;&#12360;&#12400; <code class="literal">not-null</code> &#23646;&#24615;&#65289;&#12290; &#12381;&#12428;&#12425;&#12399;&#12473;&#12461;&#12540;&#12510;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12484;&#12540;&#12523;&#12364;&#20986;&#21147;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12395;&#24433;&#38911;&#12434;&#19982;&#12360;&#12427;&#12418;&#12398;&#12391;&#12377;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-doctype"></a>5.1.1. Doctype
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12399;&#12289;&#12362;&#35211;&#12379;&#12375;&#12383;&#12424;&#12358;&#12394;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#22411;&#12434;&#24517;&#12378;&#23450;&#32681;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#23455;&#38555;&#12398;DTD&#12399;&#12289;&#19978;&#35352;&#12398;URL&#12398; <code class="literal">hibernate-x.x.x/src/org/hibernate</code> &#12487;&#12451;&#12524;&#12463;&#12488;&#12522;&#12289; &#12414;&#12383;&#12399; <code class="literal">hibernate.jar</code> &#20869;&#12395;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12399;&#24120;&#12395;&#12289;&#12381;&#12398;&#12463;&#12521;&#12473;&#12497;&#12473;&#20869;&#12391;DTD&#12434;&#25506;&#12375;&#22987;&#12417;&#12414;&#12377;&#12290; &#12452;&#12531;&#12479;&#12540;&#12493;&#12483;&#12488;&#12395;&#12354;&#12427;DTD&#12501;&#12449;&#12452;&#12523;&#12434;&#25506;&#12381;&#12358;&#12392;&#12375;&#12383;&#12394;&#12425;&#12289; &#12463;&#12521;&#12473;&#12497;&#12473;&#12398;&#20869;&#23481;&#12434;&#35211;&#12390;&#12289;DTD&#23459;&#35328;&#12434;&#30906;&#35469;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-entity-resolution"></a>5.1.1.1. &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12539;&#12522;&#12478;&#12523;&#12496;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#21069;&#36848;&#12375;&#12383;&#12424;&#12358;&#12395;&#12289;Hibernate&#12399;&#12414;&#12378;&#12463;&#12521;&#12473;&#12497;&#12473;&#20869;&#12391;DTD&#12434;&#35299;&#27770;&#12375;&#12424;&#12358;&#12392;&#12375;&#12414;&#12377;&#12290; <code class="literal">org.xml.sax.EntityResolver</code> &#12398;&#12459;&#12473;&#12479;&#12512;&#23455;&#35013;&#12434; XML&#12501;&#12449;&#12452;&#12523;&#12434;&#35501;&#12415;&#36796;&#12416;&#12383;&#12417;&#12398;SAXReader&#12395;&#30331;&#37682;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12289;DTD&#12434;&#35299;&#27770;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12459;&#12473;&#12479;&#12512;&#12398; <code class="literal">EntityResolver</code> &#12399;2&#12388;&#12398;&#30064;&#12394;&#12427;&#12471;&#12473;&#12486;&#12512;ID&#21517;&#21069;&#31354;&#38291;&#12434;&#35469;&#35672;&#12375;&#12414;&#12377;&#12290; 
                     </p>
                     <div class="itemizedlist">
                        <ul type="disc">
                           <li>
                              <p><code class="literal">Hibernate&#21517;&#21069;&#31354;&#38291;</code> &#12399;&#12289;&#12522;&#12478;&#12523;&#12496;&#12364; <code class="literal">http://hibernate.sourceforge.net/</code> &#12391;&#22987;&#12414;&#12427;&#12471;&#12473;&#12486;&#12512;ID&#12395;&#21040;&#36948;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289; &#35469;&#35672;&#12373;&#12428;&#12414;&#12377;&#12290; &#12381;&#12375;&#12390;&#12522;&#12478;&#12523;&#12496;&#12399;&#12289;Hibernate&#12398;&#12463;&#12521;&#12473;&#12434;&#12525;&#12540;&#12489;&#12375;&#12383;&#12463;&#12521;&#12473;&#12525;&#12540;&#12480;&#12434;&#29992;&#12356;&#12390;&#12289; &#12371;&#12428;&#12425;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#35299;&#27770;&#12375;&#12424;&#12358;&#12392;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </li>
                           <li>
                              <p><code class="literal">&#12518;&#12540;&#12470;&#21517;&#21069;&#31354;&#38291;</code> &#12399;&#12289;&#12522;&#12478;&#12523;&#12496;&#12364; URL&#12503;&#12525;&#12488;&#12467;&#12523;&#12398; <code class="literal">classpath://</code> &#12434;&#20351;&#12387;&#12383;&#12471;&#12473;&#12486;&#12512;ID&#12395;&#21040;&#36948;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289; &#35469;&#35672;&#12373;&#12428;&#12414;&#12377;&#12290;&#12381;&#12375;&#12390;&#12522;&#12478;&#12523;&#12496;&#12399;&#12289;(1)&#12459;&#12524;&#12531;&#12488;&#12473;&#12524;&#12483;&#12489;&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12463;&#12521;&#12473;&#12525;&#12540;&#12480;&#12540;&#12289; &#12414;&#12383;&#12399;(2)Hibernate&#12398;&#12463;&#12521;&#12473;&#12434;&#12525;&#12540;&#12489;&#12375;&#12383;&#12463;&#12521;&#12473;&#12525;&#12540;&#12480;&#12434;&#20351;&#12387;&#12390;&#12289; &#12371;&#12428;&#12425;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#35299;&#27770;&#12375;&#12424;&#12358;&#12392;&#12375;&#12414;&#12377;&#12290;
                                 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>&#19979;&#35352;&#12399;&#12289;&#12518;&#12540;&#12470;&#21517;&#21069;&#31354;&#38291;&#12434;&#20351;&#12387;&#12383;&#20363;&#12391;&#12377;&#65306; </p><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" [
    &lt;!ENTITY types SYSTEM "classpath://your/domain/types.xml"&gt;
]&gt;

&lt;hibernate-mapping package="your.domain"&gt;
    &lt;class name="MyEntity"&gt;
        &lt;id name="id" type="my-custom-id-type"&gt;
            ...
        &lt;/id&gt;
    &lt;class&gt;
    &amp;types;
&lt;/hibernate-mapping&gt;</pre><p>&#12371;&#12371;&#12391; <code class="literal">types.xml</code> &#12399; <code class="literal">your.domain</code> &#12497;&#12483;&#12465;&#12540;&#12472;&#20869;&#12398;&#12522;&#12477;&#12540;&#12473;&#12391;&#12354;&#12426;&#12289; &#12459;&#12473;&#12479;&#12512; <a href="#mapping-types-custom" title="5.2.3. &#12459;&#12473;&#12479;&#12512;&#22411;">&#38917;5.2.3. &#12300;&#12459;&#12473;&#12479;&#12512;&#22411;&#12301;</a> &#12434;&#21547;&#12416;&#12414;&#12377;&#12290; 
                     </p>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-mapping"></a>5.1.2. hibernate-mapping
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12398;&#35201;&#32032;&#12395;&#12399;&#12356;&#12367;&#12388;&#12363;&#12458;&#12503;&#12471;&#12519;&#12531;&#23646;&#24615;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;<code class="literal">schema</code> &#23646;&#24615;&#12392; <code class="literal">catalog</code> &#23646;&#24615;&#12399;&#12289; &#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12364;&#21442;&#29031;&#12377;&#12427;&#12486;&#12540;&#12502;&#12523;&#12364;&#12289;&#12371;&#12398;&#23646;&#24615;&#12395;&#12424;&#12387;&#12390;&#25351;&#23450;&#12373;&#12428;&#12383;&#12473;&#12461;&#12540;&#12510;&#12392;(&#12414;&#12383;&#12399;)&#12459;&#12479;&#12525;&#12464;&#12395;&#23646;&#12377;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#23646;&#24615;&#12364;&#25351;&#23450;&#12373;&#12428;&#12427;&#12392;&#12289;&#12486;&#12540;&#12502;&#12523;&#21517;&#12399;&#19982;&#12360;&#12425;&#12428;&#12383;&#12473;&#12461;&#12540;&#12510;&#21517;&#12392;&#12459;&#12479;&#12525;&#12464;&#21517;&#12391;&#20462;&#39166;&#12373;&#12428;&#12414;&#12377;&#12290;&#12371;&#12428;&#12425;&#12398;&#23646;&#24615;&#12364;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12289;
                     &#12486;&#12540;&#12502;&#12523;&#21517;&#12399;&#20462;&#39166;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290;<code class="literal">default-cascade</code> &#23646;&#24615;&#12399;&#12289; <code class="literal">cascade</code> &#23646;&#24615;&#12434;&#25351;&#23450;&#12375;&#12390;&#12356;&#12394;&#12356;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12289; &#12393;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;&#12473;&#12479;&#12452;&#12523;&#12434;&#21106;&#12426;&#24403;&#12390;&#12427;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <code class="literal">auto-import</code> &#23646;&#24615;&#12399;&#12289; &#12463;&#12456;&#12522;&#35328;&#35486;&#20869;&#12391;&#20462;&#39166;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#21517;&#12434;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#20351;&#12360;&#12427;&#12424;&#12358;&#12395;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;hibernate-mapping
         schema="schemaName"                          <span class="co">(1)</span>
         catalog="catalogName"                        <span class="co">(2)</span>
         default-cascade="cascade_style"              <span class="co">(3)</span>
         default-access="field|property|ClassName"    <span class="co">(4)</span>
         default-lazy="true|false"                    <span class="co">(5)</span>
         auto-import="true|false"                     <span class="co">(6)</span>
         package="package.name"                       <span class="co">(7)</span>
 /&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">schema</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">catalog</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12459;&#12479;&#12525;&#12464;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">default-cascade</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">none</code>&#65289;&#65306; &#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;&#12473;&#12479;&#12452;&#12523;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">default-access</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">property</code> &#65289;&#65306; Hibernate&#12364;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#38555;&#12395;&#25505;&#12427;&#12409;&#12365;&#25126;&#30053;&#12290; <code class="literal">PropertyAccessor</code> &#12434;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12391;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#21487;&#33021;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">default-lazy</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> )&#65306; <code class="literal">lazy</code> &#23646;&#24615;&#12364;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23550;&#12377;&#12427;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">auto-import</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code>&#65289;&#65306; &#12463;&#12456;&#12522;&#35328;&#35486;&#20869;&#12391;&#12289;&#65288;&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#20869;&#12398;&#12463;&#12521;&#12473;&#12398;&#65289;&#20462;&#39166;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#21517;&#12434;&#20351;&#12360;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">package</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): &#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#20869;&#12391;&#20462;&#39166;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#21517;&#12395;&#23550;&#12375;&#12390;&#21106;&#12426;&#24403;&#12390;&#12427;&#12289; &#12497;&#12483;&#12465;&#12540;&#12472;&#12398;&#25509;&#38957;&#36766;(prefix)&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#65288;&#20462;&#39166;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#65289;&#21516;&#12376;&#21517;&#21069;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12364;2&#12388;&#12354;&#12427;&#12394;&#12425;&#12289; <code class="literal">auto-import="false"</code> &#12434;&#35373;&#23450;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; 2&#12388;&#12398;&#12463;&#12521;&#12473;&#12395;&#8221;&#12452;&#12531;&#12509;&#12540;&#12488;&#12373;&#12428;&#12383;&#8221;&#21516;&#12376;&#21517;&#21069;&#12434;&#21106;&#12426;&#24403;&#12390;&#12424;&#12358;&#12392;&#12377;&#12427;&#12392;&#12289;Hibernate&#12399;&#20363;&#22806;&#12434;&#25237;&#12370;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">hibernate-mapping</code> &#35201;&#32032;&#12399;&#12289;&#26368;&#21021;&#12398;&#20363;&#12391;&#31034;&#12375;&#12383;&#12424;&#12358;&#12395;&#12356;&#12367;&#12388;&#12363;&#12398;&#27704;&#32154; <code class="literal">&lt;class&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12493;&#12473;&#12488;&#12391;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#65297;&#12388;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#12399;&#12383;&#12384;&#12402;&#12392;&#12388;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;(&#12414;&#12383;&#12399;&#12402;&#12392;&#12388;&#12398;&#12463;&#12521;&#12473;&#38542;&#23652;)&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12424;&#12358;&#12395;&#12375;&#12289; &#12373;&#12425;&#12395;&#27704;&#32154;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12398;&#24460;&#12391;&#25351;&#23450;&#12377;&#12427;&#12409;&#12365;&#12391;&#12375;&#12423;&#12358;(&#12356;&#12367;&#12388;&#12363;&#12398;&#12484;&#12540;&#12523;&#12399;&#12371;&#12398;&#12424;&#12358;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434;&#24819;&#23450;&#12375;&#12390;&#12356;&#12414;&#12377;)&#12290;
                     &#20363;&#12360;&#12400;&#27425;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;&#65306; <code class="literal">Cat.hbm.xml</code> , <code class="literal">Dog.hbm.xml</code> , &#12414;&#12383;&#12399;&#32153;&#25215;&#12434;&#20351;&#12358;&#12394;&#12425; <code class="literal">Animal.hbm.xml</code> &#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-class"></a>5.1.3. class
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">class</code> &#35201;&#32032;&#12434;&#20351;&#12387;&#12390;&#12289;&#27704;&#32154;&#12463;&#12521;&#12473;&#12434;&#23459;&#35328;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;class
        name="ClassName"                              <span class="co">(1)</span>
        table="tableName"                             <span class="co">(2)</span>
        discriminator-value="discriminator_value"     <span class="co">(3)</span>
        mutable="true|false"                          <span class="co">(4)</span>
        schema="owner"                                <span class="co">(5)</span>
        catalog="catalog"                             <span class="co">(6)</span>
        proxy="ProxyInterface"                        <span class="co">(7)</span>
        dynamic-update="true|false"                   <span class="co">(8)</span>
        dynamic-insert="true|false"                   <span class="co">(9)</span>
        select-before-update="true|false"             <span class="co">(10)</span>
        polymorphism="implicit|explicit"              <span class="co">(11)</span>
        where="arbitrary sql where condition"         <span class="co">(12)</span>
        persister="PersisterClass"                    <span class="co">(13)</span>
        batch-size="N"                                <span class="co">(14)</span>
        optimistic-lock="none|version|dirty|all"      <span class="co">(15)</span>
        lazy="true|false"                             <span class="co">(16)</span>
        entity-name="EntityName"                      <span class="co">(17)</span>
        check="arbitrary sql check condition"         <span class="co">(18)</span>
        rowid="rowid"                                 <span class="co">(19)</span>
        subselect="SQL expression"                    <span class="co">(20)</span>
        abstract="true|false"                         <span class="co">(21)</span>
        node="element-name"
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code> (&#12458;&#12503;&#12471;&#12519;&#12531;)&#65306;&#27704;&#32154;&#12463;&#12521;&#12473;&#65288;&#12414;&#12383;&#12399;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#65289;&#12398;&#23436;&#20840;&#20462;&#39166;Java&#12463;&#12521;&#12473;&#21517;&#12290; &#12418;&#12375;&#12371;&#12398;&#23646;&#24615;&#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12289;POJO&#12391;&#12399;&#12394;&#12356;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12377;&#12427;&#12510;&#12483;&#12500;&#12531;&#12464;&#12392;&#12375;&#12390;&#25201;&#12431;&#12428;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">table</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#20462;&#39166;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#21517;)&#65306;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12398;&#21517;&#21069; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">discriminator-value</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12463;&#12521;&#12473;&#21517;)&#65306; &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#25391;&#12427;&#33310;&#12356;&#12395;&#20351;&#12431;&#12428;&#12427;&#20491;&#12293;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#35672;&#21029;&#12377;&#12427;&#12383;&#12417;&#12398;&#20516;&#12290; &#20516;&#12399; <code class="literal">null</code> &#12363; <code class="literal">not null</code> &#12398;&#12356;&#12378;&#12428;&#12363;&#12434;&#21462;&#12426;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">mutable</code> (&#12458;&#12503;&#12471;&#12519;&#12531;&#12289; &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> )&#65306; &#12381;&#12398;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#26356;&#26032;&#21487;&#33021;&#65288;&#12414;&#12383;&#12399;&#19981;&#21487;&#33021;&#65289;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">schema</code> (optional): Override the schema name specified by the root <code class="literal">&lt;hibernate-mapping&gt;</code> element. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">catalog</code> (optional): Override the catalog name specified by the root <code class="literal">&lt;hibernate-mapping&gt;</code> element. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">proxy</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#36933;&#24310;&#21021;&#26399;&#21270;&#12503;&#12525;&#12461;&#12471;&#12395;&#20351;&#12358;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#27704;&#32154;&#21270;&#12377;&#12427;&#12463;&#12521;&#12473;&#21517;&#12381;&#12398;&#12418;&#12398;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">dynamic-update</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#12289; &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> &#65289;&#65306; &#20516;&#12364;&#22793;&#26356;&#12373;&#12428;&#12383;&#12459;&#12521;&#12512;&#12384;&#12369;&#12434;&#21547;&#12416;SQL&#12398; <code class="literal">UPDATE</code> &#25991;&#12434;&#12289;&#23455;&#34892;&#26178;&#12395;&#29983;&#25104;&#12377;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(9)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">dynamic-insert</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;, &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> &#65289;&#65306; &#20516;&#12364;null&#12391;&#12399;&#12394;&#12356;&#12459;&#12521;&#12512;&#12384;&#12369;&#12434;&#21547;&#12416;SQL&#12398; <code class="literal">INSERT</code> &#25991;&#12434;&#12289;&#23455;&#34892;&#26178;&#12395;&#29983;&#25104;&#12377;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(10)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">select-before-update</code> (&#12458;&#12503;&#12471;&#12519;&#12531;, &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code>): &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#22793;&#26356;&#12373;&#12428;&#12383;&#12398;&#12364;&#30906;&#23455;&#12391;&#12394;&#12356;&#12394;&#12425;&#12400;&#12289;Hibernate&#12364;SQL&#12398; <code class="literal">UPDATE</code> &#12434; <span class="emphasis"><em>&#27770;&#12375;&#12390;&#23455;&#34892;&#12375;&#12394;&#12356;</em></span> &#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12354;&#12427;&#29305;&#23450;&#12398;&#22580;&#21512;(&#23455;&#38555;&#30340;&#12395;&#12399;&#12289;&#19968;&#26178;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364; <code class="literal">update()</code> &#12434;&#20351;&#12356;&#12289; &#26032;&#12375;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#38306;&#36899;&#20184;&#12369;&#12425;&#12428;&#12383;&#26178;&#12384;&#12369;)&#12289;<code class="literal">UPDATE</code> &#12364;&#23455;&#38555;&#12395;&#24517;&#35201;&#12363;&#12393;&#12358;&#12363;&#12434;&#27770;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; Hibernate&#12364;&#20313;&#20998;&#12394;SQL&#12398; <code class="literal">SELECT</code> &#25991;&#12434;&#23455;&#34892;&#12377;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(11)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p>(optional, &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399; <code class="literal">implicit</code> ): implicit&#65288;&#26263;&#40665;&#65289;&#12363;explicit&#65288;&#26126;&#31034;&#65289;&#12398;&#12289; &#12393;&#12385;&#12425;&#12398;&#12463;&#12456;&#12522;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#20351;&#12358;&#12363;&#27770;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(12)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">where</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#12371;&#12398;&#12463;&#12521;&#12473;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#26908;&#32034;&#12377;&#12427;&#12392;&#12365;&#12395;&#20351;&#29992;&#12377;&#12427;&#12289;&#20219;&#24847;&#12398;SQL&#12398; <code class="literal">WHERE</code> &#26465;&#20214;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(13)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">persister</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#12459;&#12473;&#12479;&#12512; <code class="literal">ClassPersister</code> &#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(14)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">batch-size</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;, &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">1</code> &#65289;&#65306; &#35672;&#21029;&#23376;&#12391;&#12371;&#12398;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#24489;&#20803;&#12377;&#12427;&#12392;&#12365;&#12398;&#12300;&#12496;&#12483;&#12481;&#12469;&#12452;&#12474;&#12301;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(15)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optimistic-lock</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;,&#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">version</code> &#65289;&#65306; &#27005;&#35251;&#12525;&#12483;&#12463;&#25126;&#30053;&#12434;&#27770;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(16)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; <code class="literal">lazy="false"</code> &#12392;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12364;&#12391;&#12365;&#12394;&#12367;&#12394;&#12426;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(17)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">entity-name</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12463;&#12521;&#12473;&#21517;&#65289;&#65306; Hibernate3&#12391;&#12399;&#12463;&#12521;&#12473;&#12364;&#35079;&#25968;&#22238;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#65288;&#22580;&#21512;&#12395;&#12424;&#12387;&#12390;&#12399;&#36949;&#12358;&#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12375;&#12390;&#12418;&#65289;&#12289; Java&#12524;&#12505;&#12523;&#12391;Map&#12420;XML&#12391;&#34920;&#29694;&#12373;&#12428;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12510;&#12483;&#12500;&#12531;&#12464;&#12364;&#21487;&#33021;&#12391;&#12377;&#12290; &#12371;&#12428;&#12425;&#12398;&#22580;&#21512;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#20219;&#24847;&#12398;&#21517;&#21069;&#12434;&#12289;&#26126;&#31034;&#30340;&#12395;&#20184;&#12369;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;
                                    &#35443;&#12375;&#12367;&#12399; <a href="#persistent-classes-dynamicmodels" title="4.4. &#21205;&#30340;&#12514;&#12487;&#12523;">&#38917;4.4. &#12300;&#21205;&#30340;&#12514;&#12487;&#12523;&#12301;</a> &#12392; <a href="#xml" title="&#31532;18&#31456; XML&#12510;&#12483;&#12500;&#12531;&#12464;">&#31456;&nbsp;18. <i xmlns:xlink="http://www.w3.org/1999/xlink">XML&#12510;&#12483;&#12500;&#12531;&#12464;</i></a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(18)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">check</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#33258;&#21205;&#30340;&#12395;&#12473;&#12461;&#12540;&#12510;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#35079;&#25968;&#34892;&#12398; <span class="emphasis"><em>check</em></span> &#21046;&#32004;&#12434;&#29983;&#25104;&#12377;&#12427;SQL&#24335;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(19)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">rowid</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;Hibernate&#12399;&#12289;&#12381;&#12428;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12391;ROWID&#12392; &#21628;&#12400;&#12428;&#12427;&#12418;&#12398;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;Oracle&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12392;&#12365;&#12289;&#12371;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#12395; <code class="literal">rowid</code> &#12434;&#35373;&#23450;&#12377;&#12428;&#12400;&#12289; Hiberante&#12399;update&#12434;&#39640;&#36895;&#21270;&#12377;&#12427;&#12383;&#12417;&#12395; <code class="literal">rowid</code> &#12392;&#12356;&#12358;&#29305;&#21029;&#12394;&#12459;&#12521;&#12512;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; ROWID&#12399;&#35443;&#32048;&#12394;&#23455;&#35013;&#12391;&#12354;&#12426;&#12289;&#20445;&#23384;&#12373;&#12428;&#12383;&#12479;&#12503;&#12523;&#12398;&#29289;&#29702;&#30340;&#12394;&#20301;&#32622;&#12434;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(20)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">subselect</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#19981;&#22793;&#12363;&#12388;&#35501;&#12415;&#21462;&#12426;&#23554;&#29992;&#12391;&#12354;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#21103;&#21839;&#21512;&#12379;&#65288;subselect&#65289;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375;&#20803;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#20195;&#12431;&#12426;&#12395;&#12499;&#12517;&#12540;&#12434;&#25345;&#12385;&#12383;&#12369;&#12428;&#12400;&#26377;&#29992;&#12391;&#12377;&#12364;&#12289; &#12381;&#12358;&#12391;&#12394;&#12356;&#12398;&#12394;&#12425;&#26377;&#29992;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12424;&#12426;&#35443;&#12375;&#12356;&#24773;&#22577;&#12399;&#19979;&#35352;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
                                    
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(21)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">abstract</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; <code class="literal">&lt;union-subclass&gt;</code> &#38542;&#23652;&#20869;&#12398;&#25277;&#35937;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12395;&#12510;&#12540;&#12463;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12395;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#25351;&#23450;&#12375;&#12390;&#12418;&#12414;&#12387;&#12383;&#12367;&#21839;&#38988;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12381;&#12398;&#12392;&#12365;&#12399; <code class="literal">&lt;subclass&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12387;&#12390;&#12289; &#12381;&#12398;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12377;&#12427;&#12463;&#12521;&#12473;&#12434;&#23450;&#32681;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; <span class="emphasis"><em>static</em></span> &#12394;&#20869;&#37096;&#12463;&#12521;&#12473;&#12391;&#12418;&#27704;&#32154;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290; &#12381;&#12398;&#12392;&#12365;&#12399;&#27161;&#28310;&#24418;&#24335;&#12289;&#20363;&#12360;&#12400; <code class="literal">eg.Foo$Bar</code> &#12434;&#20351;&#12387;&#12390;&#12463;&#12521;&#12473;&#21517;&#12434;&#25351;&#23450;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">mutable="false"</code> &#25351;&#23450;&#12434;&#12375;&#12383;&#19981;&#22793;&#12463;&#12521;&#12473;&#12399;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12427;&#26356;&#26032;&#12420;&#21066;&#38500;&#12364;&#20986;&#26469;&#12394;&#12356;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12424;&#12426;&#12289;Hibernate&#12364;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#23569;&#12375;&#25913;&#21892;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12458;&#12503;&#12471;&#12519;&#12531;&#12398; <code class="literal">proxy</code> &#23646;&#24615;&#12395;&#12424;&#12426;&#12289;&#12463;&#12521;&#12473;&#12398;&#27704;&#32154;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#36933;&#24310;&#21021;&#26399;&#21270;&#12364;&#21487;&#33021;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; Hibernate&#12399;&#26368;&#21021;&#12395;&#12289;&#25351;&#23450;&#12375;&#12383;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12375;&#12383;CGLIB&#12503;&#12525;&#12461;&#12471;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; &#23455;&#38555;&#12398;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12503;&#12525;&#12461;&#12471;&#12398;&#12513;&#12477;&#12483;&#12489;&#12434;&#21628;&#12403;&#20986;&#12377;&#12392;&#12365;&#12395;&#12525;&#12540;&#12489;&#12375;&#12414;&#12377;&#12290; &#20197;&#19979;&#12398;&#12300;&#36933;&#24310;&#21021;&#26399;&#21270;&#12398;&#12383;&#12417;&#12398;&#12503;&#12525;&#12461;&#12471;&#12301;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
                     
                  </p>
                  <p><span class="emphasis"><em>&#26263;&#40665;&#30340;</em></span> &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12392;&#12399;&#12289;&#27425;&#12398;&#20108;&#12388;&#12434;&#24847;&#21619;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#19968;&#12388;&#12399;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12289;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12420;&#23455;&#35013;&#12375;&#12383;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12289;&#12414;&#12383;&#12381;&#12398;&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12377;&#12427;&#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#36820;&#12373;&#12428;&#12427;&#12371;&#12392;&#12391;&#12289; &#12418;&#12358;&#19968;&#12388;&#12399;&#12381;&#12398;&#12463;&#12521;&#12473;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12289;&#12381;&#12398;&#12463;&#12521;&#12473;&#33258;&#36523;&#12434;&#25351;&#23450;&#12375;&#12383;&#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#36820;&#12373;&#12428;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290;
                     &#12414;&#12383;&#12289;<span class="emphasis"><em>&#26126;&#31034;&#30340;</em></span> &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12392;&#12399;&#12289;&#27425;&#12398;&#20108;&#12388;&#12434;&#24847;&#21619;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#19968;&#12388;&#12399;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12289;&#12381;&#12398;&#12463;&#12521;&#12473;&#12434;&#26126;&#31034;&#30340;&#12395;&#25351;&#23450;&#12375;&#12383;&#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#12398;&#12415;&#36820;&#12373;&#12428;&#12427;&#12371;&#12392;&#12391;&#12289; &#12418;&#12358;&#19968;&#12388;&#12399;&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12375;&#12383;&#12463;&#12456;&#12522;&#12364;&#12289;<code class="literal">&lt;class&gt;</code> &#35201;&#32032;&#12398;&#20013;&#12391; <code class="literal">&lt;subclass&gt;</code> &#12420; <code class="literal">&lt;joined-subclass&gt;</code> &#12392;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12427;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12384;&#12369;&#12434;&#36820;&#12377;&#12371;&#12392;&#12391;&#12377;&#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#29992;&#36884;&#12391;&#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398; <code class="literal">polymorphism="implicit"</code> &#12364;&#36969;&#20999;&#12391;&#12377;&#12290; &#26126;&#31034;&#30340;&#12394;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12399;&#12289;2&#12388;&#12398;&#36949;&#12387;&#12383;&#12463;&#12521;&#12473;&#12364;&#21516;&#12376;&#12486;&#12540;&#12502;&#12523;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12427;&#12392;&#12365;&#12395;&#26377;&#29992;&#12391;&#12377; &#65288;&#12371;&#12428;&#12395;&#12424;&#12387;&#12390;&#12486;&#12540;&#12502;&#12523;&#12459;&#12521;&#12512;&#12398;&#12469;&#12502;&#12475;&#12483;&#12488;&#12434;&#21547;&#12416;&#12289;&#12300;&#36605;&#37327;&#12394;&#12301;&#12463;&#12521;&#12473;&#12364;&#21487;&#33021;&#12395;&#12394;&#12426;&#12414;&#12377;&#65289;&#12290; 
                  </p>
                  <p><code class="literal">persister</code> &#23646;&#24615;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;&#12463;&#12521;&#12473;&#12398;&#27704;&#32154;&#21270;&#25126;&#30053;&#12434;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">org.hibernate.persister.EntityPersister</code> &#33258;&#36523;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12375;&#12383;&#12426;&#12289; &#12414;&#12383;&#20363;&#12360;&#12400;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12467;&#12540;&#12523;&#12289;&#12501;&#12521;&#12483;&#12488;&#12501;&#12449;&#12452;&#12523;&#12408;&#12471;&#12522;&#12450;&#12521;&#12452;&#12474;&#12289; LDAP&#12394;&#12393;&#12434;&#36890;&#12375;&#12383;&#27704;&#32154;&#24615;&#12434;&#23455;&#35013;&#12377;&#12427; <code class="literal">org.hibernate.persister.ClassPersister</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#23436;&#20840;&#12395;&#26032;&#12375;&#12356;&#23455;&#35013;&#12434;&#25552;&#20379;&#12391;&#12365;&#12414;&#12377;&#12290;&#31777;&#21336;&#12394;&#20363;&#12392;&#12375;&#12390; <code class="literal">org.hibernate.test.CustomPersister</code> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65288;&#12371;&#12428;&#12399; <code class="literal">Hashtable</code> &#12398;&#12300;&#27704;&#32154;&#21270;&#12301;&#12391;&#12377;&#65289;&#12290; 
                  </p>
                  <p><code class="literal">dynamic-update</code> &#12392; <code class="literal">dynamic-insert</code> &#12398;&#35373;&#23450;&#12399;&#12469;&#12502;&#12463;&#12521;&#12473;&#12395;&#32153;&#25215;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290; &#12381;&#12398;&#12383;&#12417; <code class="literal">&lt;subclass&gt;</code> &#12420; <code class="literal">&lt;joined-subclass&gt;</code> &#35201;&#32032;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12418;&#20986;&#26469;&#12414;&#12377;&#12290; &#12371;&#12428;&#12425;&#12398;&#35373;&#23450;&#12399;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#21521;&#19978;&#12373;&#12379;&#12427;&#20107;&#12418;&#12354;&#12426;&#12414;&#12377;&#12364;&#12289;&#33853;&#12392;&#12377;&#12371;&#12392;&#12418;&#12354;&#12426;&#12414;&#12377;&#12398;&#12391;&#12289;&#24910;&#37325;&#12395;&#20351;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">select-before-update</code> &#12398;&#20351;&#29992;&#12399;&#36890;&#24120;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#33853;&#12392;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375; <code class="literal">Session</code> &#12408;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12464;&#12521;&#12501;&#12434;&#20877;&#36861;&#21152;&#12377;&#12427;&#12394;&#12425;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#26356;&#26032;&#12398;&#12488;&#12522;&#12460;&#12434;&#19981;&#24517;&#35201;&#12395;&#21628;&#12403;&#20986;&#12377;&#12398;&#12434;&#36991;&#12369;&#12427;&#12392;&#12356;&#12358;&#28857;&#12391;&#12289;&#38750;&#24120;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">dynamic-update</code> &#12434;&#26377;&#21177;&#12395;&#12377;&#12428;&#12400;&#12289;&#27005;&#35251;&#12525;&#12483;&#12463;&#25126;&#30053;&#12434;&#36984;&#12406;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p><code class="literal">version</code> &#12496;&#12540;&#12472;&#12519;&#12531;/&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12459;&#12521;&#12512;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12414;&#12377; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">all</code> &#12377;&#12409;&#12390;&#12398;&#12459;&#12521;&#12512;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">dirty</code> &#22793;&#26356;&#12375;&#12383;&#12459;&#12521;&#12512;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12289;&#21516;&#26178;&#26356;&#26032;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">none</code> &#27005;&#35251;&#12525;&#12483;&#12463;&#12434;&#20351;&#29992;&#12375;&#12414;&#12379;&#12435; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>Hibernate&#12391;&#27005;&#35251;&#30340;&#12525;&#12483;&#12463;&#25126;&#30053;&#12434;&#20351;&#12358;&#12394;&#12425;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;/&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12459;&#12521;&#12512;&#12434;&#20351;&#12358;&#12371;&#12392;&#12434; <span class="emphasis"><em> &#38750;&#24120;&#12395;</em></span> &#24375;&#12367;&#12362;&#21223;&#12417;&#12375;&#12414;&#12377;&#12290; &#27005;&#35251;&#30340;&#12525;&#12483;&#12463;&#12399;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#35251;&#28857;&#12363;&#12425;&#12418;&#26368;&#36969;&#12391;&#12354;&#12426;&#12289;&#12373;&#12425;&#12395;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12408;&#12398;&#20462;&#27491; &#65288;&#12388;&#12414;&#12426; <code class="literal">Session.marge()</code> &#12364;&#20351;&#12431;&#12428;&#12427;&#12392;&#12365;&#65289; &#12434;&#27491;&#30906;&#12395;&#25201;&#12358;&#12371;&#12392;&#12398;&#12391;&#12365;&#12427;&#21807;&#19968;&#12398;&#25126;&#30053;&#12391;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12392;&#12387;&#12390;&#12499;&#12517;&#12540;&#12392;&#26222;&#36890;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#38291;&#12395;&#36949;&#12356;&#12399;&#12394;&#12367;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12524;&#12505;&#12523;&#12391;&#12399;&#36879;&#36942;&#30340;&#12391;&#12377; &#65288;&#12383;&#12384;&#12375;&#12499;&#12517;&#12540;&#12434;&#23436;&#20840;&#12395;&#12399;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12394;&#12356;DBMS&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; &#29305;&#12395;&#12289;&#26356;&#26032;&#12398;&#12354;&#12427;&#12499;&#12517;&#12540;&#12395;&#23550;&#12375;&#12390;&#12399;&#12381;&#12358;&#12391;&#12377;&#65289;&#12290; &#12499;&#12517;&#12540;&#12434;&#20351;&#12356;&#12383;&#12367;&#12390;&#12418;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12391;&#20316;&#25104;&#12391;&#12365;&#12394;&#12356;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;
                     &#65288;&#20363;&#12360;&#12400;&#12289;&#12524;&#12460;&#12471;&#12540;&#12473;&#12461;&#12540;&#12510;&#12398;&#22580;&#21512;&#65289;&#12290; &#12371;&#12398;&#22580;&#21512;&#12395;&#12399;&#12289;&#19981;&#22793;&#12363;&#12388;&#35501;&#12415;&#21462;&#12426;&#23554;&#29992;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#19982;&#12360;&#12425;&#12428;&#12383;SQL&#12398;&#21103;&#21839;&#21512;&#12379;&#25991;&#12434;&#12510;&#12483;&#12503;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Summary"&gt;
    &lt;subselect&gt;
        select item.name, max(bid.amount), count(*)
        from item
        join bid on bid.item_id = item.id
        group by item.name
    &lt;/subselect&gt;
    &lt;synchronize table="item"/&gt;
    &lt;synchronize table="bid"/&gt;
    &lt;id name="name"/&gt;
    ...
&lt;/class&gt;</pre><p>&#12486;&#12540;&#12502;&#12523;&#12434;&#12371;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#21516;&#26399;&#12377;&#12427;&#12424;&#12358;&#12395;&#23450;&#32681;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12458;&#12540;&#12488;&#12501;&#12521;&#12483;&#12471;&#12517;&#12364;&#30906;&#23455;&#12395;&#36215;&#12371;&#12427;&#12424;&#12358;&#12395;&#12289;&#12414;&#12383;&#23566;&#20986;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12377;&#12427;&#12463;&#12456;&#12522;&#12364;&#21476;&#12356;&#12487;&#12540;&#12479;&#12434; &#36820;&#12373;&#12394;&#12356;&#12424;&#12358;&#12395;&#12377;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; <code class="literal">&lt;subselect&gt;</code> &#12399;&#23646;&#24615;&#12392;&#12493;&#12473;&#12488;&#12375;&#12383;&#12510;&#12483;&#12500;&#12531;&#12464;&#23646;&#24615;&#12398;&#12393;&#12385;&#12425;&#12391;&#12418;&#21033;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-id"></a>5.1.4. id
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12510;&#12483;&#12503;&#12373;&#12428;&#12383;&#12463;&#12521;&#12473;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12434;&#23450;&#32681; <span class="emphasis"><em>&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#12463;&#12521;&#12473;&#12395;&#12399;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12434;&#20445;&#25345;&#12377;&#12427;JavaBeans&#12473;&#12479;&#12452;&#12523;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">&lt;id&gt;</code> &#35201;&#32032;&#12399;&#12289;&#12381;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12363;&#12425;&#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12408;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;id
        name="propertyName"                                          <span class="co">(1)</span>
        type="typename"                                              <span class="co">(2)</span>
        column="column_name"                                         <span class="co">(3)</span>
        unsaved-value="null|any|none|undefined|id_value"             <span class="co">(4)</span>
        access="field|property|ClassName"&gt;                           <span class="co">(5)</span>
        node="element-name|@attribute-name|element/@attribute|."

        &lt;generator class="generatorClass"/&gt;
&lt;/id&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">type</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;Hibernate&#12398;&#22411;&#12434;&#31034;&#12377;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#65289;&#65306; &#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unsaved-value</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#20516;&#12399;sensible&#65289;&#65306; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383; &#65288;&#12475;&#12540;&#12502;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#65289;&#12371;&#12392;&#12434;&#31034;&#12377;&#12289;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12290; &#20197;&#21069;&#12398;Session&#12391;&#12475;&#12540;&#12502;&#12414;&#12383;&#12399;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#19968;&#26178;&#30340;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#21306;&#21029;&#12377;&#12427;&#12383;&#12417;&#12395; &#20351;&#12356;&#12414;&#12377;&#12290;
                                    
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p><code class="literal">name</code> &#23646;&#24615;&#12364;&#12394;&#12369;&#12428;&#12400;&#12289;&#12463;&#12521;&#12473;&#12395;&#12399;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12394;&#12356;&#12418;&#12398;&#12392;&#12415;&#12394;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">unsaved-value</code> &#23646;&#24615;&#12399;Hibernate3&#12391;&#12399;&#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#12289;&#24517;&#35201;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>&#35079;&#21512;&#12461;&#12540;&#12434;&#25345;&#12388;&#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12395;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12289; <code class="literal">&lt;composite-id&gt;</code> &#12392;&#12356;&#12358;&#20195;&#26367;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#20182;&#12398;&#29992;&#36884;&#12408;&#12398;&#20351;&#29992;&#12399;&#20840;&#12367;&#12362;&#12377;&#12377;&#12417;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-id-generator"></a>5.1.4.1. &#12472;&#12455;&#12493;&#12524;&#12540;&#12479;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#12458;&#12503;&#12471;&#12519;&#12531;&#12398; <code class="literal">&lt;generator&gt;</code> &#23376;&#35201;&#32032;&#12399;&#12289; &#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12358;&#12289;Java&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#35373;&#23450;&#12289;&#12418;&#12375;&#12367;&#12399;&#21021;&#26399;&#21270;&#12395;&#12497;&#12521;&#12513;&#12540;&#12479;&#12364;&#24517;&#35201;&#12391;&#12354;&#12428;&#12400;&#12289;<code class="literal">&lt;param&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12387;&#12390;&#28193;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                     </p><pre class="programlisting">&lt;id name="id" type="long" column="cat_id"&gt;
        &lt;generator class="org.hibernate.id.TableHiLoGenerator"&gt;
                &lt;param name="table"&gt;uid_table&lt;/param&gt;
                &lt;param name="column"&gt;next_hi_value_column&lt;/param&gt;
        &lt;/generator&gt;
&lt;/id&gt;</pre><p>All generators implement the interface <code class="literal">org.hibernate.id.IdentifierGenerator</code>. This is a very simple interface; some applications may choose to provide their own specialized implementations. However,
                        Hibernate provides a range of built-in implementations. There are shortcut names for the built-in generators: 
                     </p>
                     <div class="variablelist">
                        <dl>
                           <dt><span class="term"><code class="literal">increment</code></span></dt>
                           <dd>
                              <p><code class="literal">long</code> , <code class="literal">short</code> , <code class="literal">int</code> &#22411;&#12398;&#35672;&#21029;&#23376;&#12434;&#29983;&#25104;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12425;&#12399;&#20182;&#12398;&#12503;&#12525;&#12475;&#12473;&#12364;&#21516;&#12376;&#12486;&#12540;&#12502;&#12523;&#12395;&#12487;&#12540;&#12479;&#12434;&#25407;&#20837;&#12375;&#12394;&#12356;&#12392;&#12365;&#12384;&#12369;&#12518;&#12491;&#12540;&#12463;&#12391;&#12377;&#12290; <span class="emphasis"><em>&#12463;&#12521;&#12473;&#12479;&#20869;&#12391;&#12399;&#20351;&#12431;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;</em></span> &#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">identity</code></span></dt>
                           <dd>
                              <p>DB2, MySQL, MS SQL Server, Sybase, HypersonicSQL&#12398;&#35672;&#21029;&#23376;&#12459;&#12521;&#12512;&#12434; &#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; &#36820;&#12373;&#12428;&#12427;&#35672;&#21029;&#23376;&#12398;&#22411;&#12399; <code class="literal">long</code> , <code class="literal">short</code> , <code class="literal">int</code> &#12398;&#12356;&#12378;&#12428;&#12363;&#12391;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">sequence</code></span></dt>
                           <dd>
                              <p>DB2, PostgreSQL, Oracle, SAP DB, McKoi&#12398;&#12471;&#12540;&#12465;&#12531;&#12473;&#12420;&#12289;Interbase&#12398;&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#36820;&#12373;&#12428;&#12427;&#35672;&#21029;&#23376;&#12398;&#22411;&#12399; <code class="literal">long</code> , <code class="literal">short</code> , <code class="literal">int</code> &#12398;&#12356;&#12378;&#12428;&#12363;&#12391;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">hilo</code></span></dt>
                           <dd>
                              <p><a name="mapping-declaration-id-hilodescription"></a><code class="literal">long</code> , <code class="literal">short</code> , <code class="literal">int</code> &#22411;&#12398;&#35672;&#21029;&#23376;&#12434;&#21177;&#29575;&#30340;&#12395;&#29983;&#25104;&#12377;&#12427;hi/lo&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; hi&#20516;&#12398;&#12477;&#12540;&#12473;&#12392;&#12375;&#12390;&#12289;&#12486;&#12540;&#12502;&#12523;&#12392;&#12459;&#12521;&#12512;&#12434;&#19982;&#12360;&#12414;&#12377;(&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12381;&#12428;&#12382;&#12428; <code class="literal">hibernate_unique_key</code> &#12392; <code class="literal">next_hi</code> )&#12290; hi/lo&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12399;&#29305;&#23450;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23550;&#12375;&#12390;&#12398;&#12415;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12434;&#29983;&#25104;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">seqhilo</code></span></dt>
                           <dd>
                              <p><code class="literal">long</code> , <code class="literal">short</code> , <code class="literal">int</code> &#22411;&#12398;&#35672;&#21029;&#23376;&#12434;&#21177;&#29575;&#30340;&#12395;&#29983;&#25104;&#12377;&#12427;hi/lo&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#25351;&#23450;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12471;&#12540;&#12465;&#12531;&#12473;&#12434;&#19982;&#12360;&#12414;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">uuid</code></span></dt>
                           <dd>
                              <p>(IP&#12450;&#12489;&#12524;&#12473;&#12364;&#20351;&#29992;&#12373;&#12428;&#12427;)&#12493;&#12483;&#12488;&#12527;&#12540;&#12463;&#20869;&#12391;&#12518;&#12491;&#12540;&#12463;&#12394;&#25991;&#23383;&#21015;&#22411;&#12398;&#35672;&#21029;&#23376;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; 128&#12499;&#12483;&#12488;&#12398;UUID&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290;UUID&#12399;&#38263;&#12373;32&#12398;16&#36914;&#25968;&#23383;&#12398;&#25991;&#23383;&#21015;&#12392;&#12375;&#12390;&#12456;&#12531;&#12467;&#12540;&#12489;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
                           </dd>
                           <dt><span class="term"><code class="literal">guid</code></span></dt>
                           <dd>
                              <p>MS SQL&#12469;&#12540;&#12496;&#12392;MySQL&#12391;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#29983;&#25104;&#12377;&#12427;GUID&#25991;&#23383;&#21015;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; </p>
                           </dd>
                           <dt><span class="term"><code class="literal">native</code></span></dt>
                           <dd>
                              <p>&#20351;&#29992;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#24615;&#33021;&#12395;&#12424;&#12426; <code class="literal">identity</code> , <code class="literal">sequence</code> , <code class="literal">hilo</code> &#12398;&#12356;&#12378;&#12428;&#12363;&#12364;&#36984;&#12400;&#12428;&#12414;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">assigned</code></span></dt>
                           <dd>
                              <p><code class="literal">save()</code> &#12364;&#21628;&#12400;&#12428;&#12427;&#21069;&#12395;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#35672;&#21029;&#23376;&#12434;&#20195;&#20837;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12375;&#12414;&#12377;&#12290; <code class="literal">&lt;generator&gt;</code> &#12364;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12289;&#12371;&#12428;&#12364;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#25126;&#30053;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">select</code></span></dt>
                           <dd>
                              <p>&#12354;&#12427;&#12518;&#12491;&#12540;&#12463;&#12461;&#12540;&#12395;&#12424;&#12427;&#34892;&#12398;&#36984;&#25246;&#12392;&#20027;&#12461;&#12540;&#12398;&#20516;&#12398;&#24489;&#20803;&#12395;&#12424;&#12426;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12522;&#12460;&#12364;&#21106;&#12426;&#24403;&#12390;&#12383;&#20027;&#12461;&#12540;&#12434;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290; </p>
                           </dd>
                           <dt><span class="term"><code class="literal">foreign</code></span></dt>
                           <dd>
                              <p>&#20182;&#12398;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#26222;&#36890;&#12399;&#12289;<code class="literal">&lt;one-to-one&gt;</code> &#20027;&#12461;&#12540;&#38306;&#36899;&#12392;&#32068;&#12415;&#21512;&#12431;&#12379;&#12390;&#20351;&#12356;&#12414;&#12377;&#12290; 
                              </p>
                           </dd>
                           <dt><span class="term"><code class="literal">sequence-identity</code></span></dt>
                           <dd>
                              <p>a specialized sequence generation strategy which utilizes a database sequence for the actual value generation, but combines
                                 this with JDBC3 getGeneratedKeys to actually return the generated identifier value as part of the insert statement execution.
                                 This strategy is only known to be supported on Oracle 10g drivers targetted for JDK 1.4. Note comments on these insert statements
                                 are disabled due to a bug in the Oracle drivers. 
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <p>
                        
                        
                     </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-id-hilo"></a>5.1.4.2. Hi/lo &#12450;&#12523;&#12468;&#12522;&#12474;&#12512;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p><code class="literal">hilo</code> &#12392; <code class="literal">seqhilo</code> &#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12399;&#12289; &#35672;&#21029;&#23376;&#29983;&#25104;&#12398;&#20195;&#34920;&#30340;&#12394;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12354;&#12427;hi/lo&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12398;2&#12388;&#12398;&#20195;&#26367;&#23455;&#35013;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; 1&#30058;&#30446;&#12398;&#23455;&#35013;&#12399;&#12289;&#27425;&#22238;&#12395;&#21033;&#29992;&#12373;&#12428;&#12427;"hi"&#20516;&#12434;&#20445;&#25345;&#12377;&#12427;&#12300;&#29305;&#21029;&#12394;&#12301;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12434; &#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; 2&#30058;&#30446;&#12398;&#23455;&#35013;&#12399;&#12289;Oracle&#12473;&#12479;&#12452;&#12523;&#12398;&#12471;&#12540;&#12465;&#12531;&#12473;&#12434;&#20351;&#12356;&#12414;&#12377;&#65288;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12427;&#22580;&#21512;&#65289;&#12290;
                        
                     </p><pre class="programlisting">&lt;id name="id" type="long" column="cat_id"&gt;
        &lt;generator class="hilo"&gt;
                &lt;param name="table"&gt;hi_value&lt;/param&gt;
                &lt;param name="column"&gt;next_value&lt;/param&gt;
                &lt;param name="max_lo"&gt;100&lt;/param&gt;
        &lt;/generator&gt;
&lt;/id&gt;</pre><pre class="programlisting">&lt;id name="id" type="long" column="cat_id"&gt;
        &lt;generator class="seqhilo"&gt;
                &lt;param name="sequence"&gt;hi_value&lt;/param&gt;
                &lt;param name="max_lo"&gt;100&lt;/param&gt;
        &lt;/generator&gt;
&lt;/id&gt;</pre><p>&#27531;&#24565;&#12394;&#12364;&#12425;Hibernate&#12408;&#12398;&#29420;&#33258;&#12398; <code class="literal">Connection</code> &#12434;&#25552;&#20379;&#12377;&#12427;&#12392;&#12365;&#12395;&#12399;&#12289;<code class="literal">hilo</code> &#12434;&#20351;&#12360;&#12414;&#12379;&#12435;&#12290; Hibernate&#12364;JTA&#12391;&#12522;&#12473;&#12488;&#12373;&#12428;&#12390;&#12356;&#12427;&#25509;&#32154;&#12434;&#21462;&#24471;&#12377;&#12427;&#12383;&#12417;&#12395;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#12398;&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12434;&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12392;&#12365;&#12395;&#12399;&#12289; <code class="literal">hibernate.transaction.manager_lookup_class</code> &#12434;&#36969;&#20999;&#12395;&#35373;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                     </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-id-uuid"></a>5.1.4.3. UUID &#12450;&#12523;&#12468;&#12522;&#12474;&#12512;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>UUID&#12395;&#12399;&#20197;&#19979;&#12398;&#12418;&#12398;&#12364;&#21547;&#12414;&#12428;&#12414;&#12377;&#65306; IP&#12450;&#12489;&#12524;&#12473;&#12289;JVM&#12398;&#12473;&#12479;&#12540;&#12488;&#12450;&#12483;&#12503;&#12479;&#12452;&#12512;&#65288;4&#20998;&#12398;1&#31186;&#12398;&#27491;&#30906;&#12373;&#65289;&#12289; &#12471;&#12473;&#12486;&#12512;&#26178;&#38291;&#12289;&#65288;JVM&#12395;&#23550;&#12375;&#12390;&#12518;&#12491;&#12540;&#12463;&#12394;&#65289;&#12459;&#12454;&#12531;&#12479;&#20516;&#12290; Java&#12467;&#12540;&#12489;&#12363;&#12425;MAC&#12450;&#12489;&#12524;&#12473;&#12420;&#12513;&#12514;&#12522;&#12450;&#12489;&#12524;&#12473;&#12434;&#21462;&#24471;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12394;&#12356;&#12398;&#12391;&#12289; JNI&#12364;&#20351;&#12360;&#12394;&#12356;&#12392;&#12365;&#12398;&#26368;&#33391;&#12398;&#26041;&#27861;&#12391;&#12377;&#12290;
                        
                     </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-id-sequences"></a>5.1.4.4. &#35672;&#21029;&#23376;&#12459;&#12521;&#12512;&#12392;&#12471;&#12540;&#12465;&#12531;&#12473;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#35672;&#21029;&#23376;&#12459;&#12521;&#12512;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#65288;DB2, MySQL, Sybase, MS SQL&#65289;&#12391;&#12399;&#12289; <code class="literal">identity</code> &#12461;&#12540;&#29983;&#25104;&#12434;&#20351;&#12360;&#12414;&#12377;&#12290; &#12471;&#12540;&#12465;&#12531;&#12473;&#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#65288;DB2, Oracle, PostgreSQL, Interbase, McKoi, SAP DB&#65289;&#12391;&#12399;&#12289; <code class="literal">sequence</code> &#12473;&#12479;&#12452;&#12523;&#12398;&#12461;&#12540;&#29983;&#25104;&#12434;&#20351;&#12360;&#12414;&#12377;&#12290; &#12393;&#12385;&#12425;&#12398;&#25126;&#30053;&#12418;&#12289;&#26032;&#12375;&#12356;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25407;&#20837;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;SQL&#12463;&#12456;&#12522;&#12434;2&#12388;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; 
                     </p><pre class="programlisting">&lt;id name="id" type="long" column="person_id"&gt;
        &lt;generator class="sequence"&gt;
                &lt;param name="sequence"&gt;person_id_sequence&lt;/param&gt;
        &lt;/generator&gt;
&lt;/id&gt;</pre><pre class="programlisting">&lt;id name="id" type="long" column="person_id" unsaved-value="0"&gt;
        &lt;generator class="identity"/&gt;
&lt;/id&gt;</pre><p>&#12463;&#12525;&#12473;&#12503;&#12521;&#12483;&#12488;&#12501;&#12457;&#12540;&#12512;&#12398;&#38283;&#30330;&#12391;&#12399;&#12289;<code class="literal">native</code> &#25126;&#30053;&#12399; <code class="literal">identity</code> , <code class="literal">sequence</code> , <code class="literal">hilo</code> &#25126;&#30053;&#12398;&#20013;&#12363;&#12425;1&#12388;&#12434;&#36984;&#25246;&#12375;&#12414;&#12377;&#12364;&#12289; &#12371;&#12428;&#12399;&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#33021;&#21147;&#12395;&#20381;&#23384;&#12375;&#12414;&#12377;&#12290; 
                     </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-id-assigned"></a>5.1.4.5. &#35672;&#21029;&#23376;&#12398;&#21106;&#12426;&#24403;&#12390;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#35672;&#21029;&#23376;&#12434;&#21106;&#12426;&#24403;&#12390;&#12373;&#12379;&#12383;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;(Hibernate&#12364;&#29983;&#25104;&#12377;&#12427;&#12418;&#12398;&#12391;&#12399;&#12394;&#12367;&#65289;&#12289; <code class="literal">assigned</code> &#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#29305;&#21029;&#12394;&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12399;&#12289;&#12377;&#12391;&#12395;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#20195;&#20837;&#12373;&#12428;&#12383;&#20516;&#12434; &#35672;&#21029;&#23376;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12399;&#20027;&#12461;&#12540;&#12364;&#20195;&#29702;&#12461;&#12540;&#12398;&#20195;&#12431;&#12426;&#12395;&#33258;&#28982;&#12461;&#12540;&#12391;&#12354;&#12427;&#22580;&#21512;&#12395;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; <code class="literal">&lt;generator&gt;</code> &#35201;&#32032;&#12434;&#25351;&#23450;&#12375;&#12394;&#12356;&#22580;&#21512;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#21205;&#20316;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                     </p>
                     <p><code class="literal">assigned</code> &#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12434;&#36984;&#25246;&#12377;&#12427;&#12392;&#12289; Hibernate&#12399; <code class="literal">unsaved-value="undefined"</code> &#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12381;&#12375;&#12390;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12420;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12394;&#12356;&#22580;&#21512;&#12420; <code class="literal">Interceptor.isUnsaved()</code> &#12434;&#23450;&#32681;&#12375;&#12394;&#12363;&#12387;&#12383;&#22580;&#21512;&#12395;&#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#19968;&#26178;&#30340;(transient)&#12394;&#12418;&#12398;&#12391;&#12354;&#12427;&#12398;&#12363;&#12289; &#12414;&#12383;&#12399;&#12475;&#12483;&#12471;&#12519;&#12531;&#12363;&#12425;&#20998;&#38626;(detached)&#12375;&#12383;&#12418;&#12398;&#12363;&#12393;&#12358;&#12363;&#12434;&#27770;&#12417;&#12427;&#12383;&#12417;&#12395;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#35519;&#12409;&#12414;&#12377;&#12290; 
                     </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="mapping-declaration-id-select"></a>5.1.4.6. &#12488;&#12522;&#12460;&#12395;&#12424;&#12426;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12383;&#20027;&#12461;&#12540;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#12524;&#12460;&#12471;&#12540;&#12473;&#12461;&#12540;&#12510;&#12398;&#12383;&#12417;&#12395;&#12398;&#12415;&#25351;&#23450;&#12375;&#12414;&#12377;(Hibernate&#12399;&#12488;&#12522;&#12460;&#12434;&#20351;&#12387;&#12390;DDL&#12434;&#29983;&#25104;&#12375;&#12414;&#12379;&#12435;)&#12290; </p><pre class="programlisting">&lt;id name="id" type="long" column="person_id"&gt;
        &lt;generator class="select"&gt;
                &lt;param name="key"&gt;socialSecurityNumber&lt;/param&gt;
        &lt;/generator&gt;
&lt;/id&gt;</pre><p>&#19978;&#12398;&#20363;&#12398;&#20013;&#12391;&#12289;&#12463;&#12521;&#12473;&#12391;&#33258;&#28982;&#12461;&#12540;&#12392;&#12375;&#12390;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">socialSecurityNumber</code> &#12392;&#12356;&#12358;&#21517;&#21069;&#12398;&#12518;&#12491;&#12540;&#12463;&#12394;&#20516;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#12289; &#20516;&#12364;&#12488;&#12522;&#12460;&#12395;&#12424;&#12426;&#29983;&#25104;&#12373;&#12428;&#12427; <code class="literal">person_id</code> &#12392;&#12356;&#12358;&#21517;&#21069;&#12398;&#20195;&#29702;&#12461;&#12540;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                     </p>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-id-enhanced"></a>5.1.5. Enhanced identifier generators
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Starting with release 3.2.3, there are 2 new generators which represent a re-thinking of 2 different aspects of identifier
                     generation. The first aspect is database portability; the second is optimization (not having to query the database for every
                     request for a new identifier value). These two new generators are intended to take the place of some of the named generators
                     described above (starting in 3.3.x); however, they are included in the current releases and can be referenced by FQN. 
                  </p>
                  <p>The first of these new generators is <code class="literal">org.hibernate.id.enhanced.SequenceStyleGenerator</code> which is intended firstly as a replacement for the <code class="literal">sequence</code> generator and secondly as a better portability generator than <code class="literal">native</code> (because <code class="literal">native</code> (generally) chooses between <code class="literal">identity</code> and <code class="literal">sequence</code> which have largely different semantics which can cause subtle isssues in applications eyeing portability). <code class="literal">org.hibernate.id.enhanced.SequenceStyleGenerator</code> however achieves portability in a different manner. It chooses between using a table or a sequence in the database to store
                     its incrementing values depending on the capabilities of the dialect being used. The difference between this and <code class="literal">native</code> is that table-based and sequence-based storage have the same exact semantic (in fact sequences are exactly what Hibernate
                     tries to emmulate with its table-based generators). This generator has a number of configuration parameters: 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">sequence_name</code> (optional, defaults to <code class="literal">hibernate_sequence</code>): The name of the sequence (or table) to be used. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">initial_value</code> (optional, defaults to <code class="literal">1</code>): The initial value to be retrieved from the sequence/table. In sequence creation terms, this is analogous to the clause
                              typical named "STARTS WITH". 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">increment_size</code> (optional, defaults to <code class="literal">1</code>): The value by which subsequent calls to the sequence/table should differ. In sequence creation terms, this is analogous
                              to the clause typical named "INCREMENT BY". 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">force_table_use</code> (optional, defaults to <code class="literal">false</code>): Should we force the use of a table as the backing structure even though the dialect might support sequence? 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">value_column</code> (optional, defaults to <code class="literal">next_val</code>): Only relevant for table structures! The name of the column on the table which is used to hold the value. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">optimizer</code> (optional, defaults to <code class="literal">none</code>): See <a href="#mapping-declaration-id-enhanced-optimizers" title="5.1.6. Identifier generator optimization">&#38917;5.1.6. &#12300;Identifier generator optimization&#12301;</a> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>
                     
                  </p>
                  <p>The second of these new generators is <code class="literal">org.hibernate.id.enhanced.TableGenerator</code> which is intended firstly as a replacement for the <code class="literal">table</code> generator (although it actually functions much more like <code class="literal">org.hibernate.id.MultipleHiLoPerTableGenerator</code>) and secondly as a re-implementation of <code class="literal">org.hibernate.id.MultipleHiLoPerTableGenerator</code> utilizing the notion of pluggable optimiziers. Essentially this generator defines a table capable of holding a number of
                     different increment values simultaneously by using multiple distinctly keyed rows. This generator has a number of configuration
                     parameters: 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">table_name</code> (optional, defaults to <code class="literal">hibernate_sequences</code>): The name of the table to be used. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">value_column_name</code> (optional, defaults to <code class="literal">next_val</code>): The name of the column on the table which is used to hold the value. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">segment_column_name</code> (optional, defaults to <code class="literal">sequence_name</code>): The name of the column on the table which is used to hold the "segement key". This is the value which distinctly identifies
                              which increment value to use. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">segment_value</code> (optional, defaults to <code class="literal">default</code>): The "segment key" value for the segment from which we want to pull increment values for this generator. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">segment_value_length</code> (optional, defaults to <code class="literal">255</code>): Used for schema generation; the column size to create this segment key column. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">initial_value</code> (optional, defaults to <code class="literal">1</code>): The initial value to be retrieved from the table. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">increment_size</code> (optional, defaults to <code class="literal">1</code>): The value by which subsequent calls to the table should differ. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">optimizer</code> (optional, defaults to <code class="literal"></code>): See <a href="#mapping-declaration-id-enhanced-optimizers" title="5.1.6. Identifier generator optimization">&#38917;5.1.6. &#12300;Identifier generator optimization&#12301;</a> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>
                     
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-id-enhanced-optimizers"></a>5.1.6. Identifier generator optimization
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>For identifier generators which store values in the database, it is inefficient for them to hit the database on each and every
                     call to generate a new identifier value. Instead, you'd ideally want to group a bunch of them in memory and only hit the database
                     when you have exhausted your in-memory value group. This is the role of the pluggable optimizers. Currently only the two enhanced
                     generators (<a href="#mapping-declaration-id-enhanced" title="5.1.5. Enhanced identifier generators">&#38917;5.1.5. &#12300;Enhanced identifier generators&#12301;</a> support this notion. 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">none</code> (generally this is the default if no optimizer was specified): This says to not perform any optimizations, and hit the database
                              each and every request. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">hilo</code>: applies a hi/lo algorithm around the database retrieved values. The values from the database for this optimizer are expected
                              to be sequential. The values retrieved from the database structure for this optimizer indicates the "group number"; the <code class="literal">increment_size</code> is multiplied by that value in memory to define a group "hi value". 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">pooled</code>: like was discussed for <code class="literal">hilo</code>, this optimizers attempts to minimize the number of hits to the database. Here, however, we simply store the starting value
                              for the "next group" into the database structure rather than a sequential value in combination with an in-memory grouping
                              algorithm. <code class="literal">increment_size</code> here refers to the values coming from the database. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>
                     
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-compositeid"></a>5.1.7. composite-id
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;composite-id
        name="propertyName"
        class="ClassName"
        mapped="true|false"
        access="field|property|ClassName"&gt;
        node="element-name|."

        &lt;key-property name="propertyName" type="typename" column="column_name"/&gt;
        &lt;key-many-to-one name="propertyName class="ClassName" column="column_name"/&gt;
        ......
&lt;/composite-id&gt;</pre><p>&#35079;&#21512;&#12461;&#12540;&#12398;&#12354;&#12427;&#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12375;&#12289; &#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#12375;&#12390;&#12463;&#12521;&#12473;&#12398;&#35079;&#25968;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">&lt;composite-id&gt;</code> &#35201;&#32032;&#12399;&#12289;&#23376;&#35201;&#32032;&#12392;&#12375;&#12390; <code class="literal">&lt;key-property&gt;</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12510;&#12483;&#12500;&#12531;&#12464;&#12392; <code class="literal">&lt;key-many-to-one&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#21463;&#12369;&#20837;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;composite-id&gt;
        &lt;key-property name="medicareNumber"/&gt;
        &lt;key-property name="dependent"/&gt;
&lt;/composite-id&gt;</pre><p>&#35079;&#21512;&#35672;&#21029;&#23376;&#12398;&#31561;&#20385;&#24615;&#12434;&#23455;&#35013;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;&#27704;&#32154;&#12463;&#12521;&#12473;&#12364; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489; <span class="emphasis"><em>&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; &#12414;&#12383; <code class="literal">Serializable</code> &#12418;&#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>&#27531;&#24565;&#12394;&#12364;&#12425;&#35079;&#21512;&#35672;&#21029;&#23376;&#12398;&#12383;&#12417;&#12398;&#12371;&#12398;&#26041;&#27861;&#12399;&#12289; &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#33258;&#36523;&#12398;&#35672;&#21029;&#23376;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#33258;&#36523;&#12434;&#35672;&#21029;&#23376;&#12392;&#12377;&#12427;&#20197;&#19978;&#12398;&#20415;&#21033;&#12394;&#12300;&#25201;&#12356;&#26041;&#12301;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#35079;&#21512;&#12461;&#12540;&#12395;&#38306;&#36899;&#12375;&#12383;&#27704;&#32154;&#29366;&#24907;&#12434; <code class="literal">load()</code> &#20986;&#26469;&#12427;&#12424;&#12358;&#12395;&#12394;&#12427;&#21069;&#12395;&#12289; &#27704;&#32154;&#12463;&#12521;&#12473;&#33258;&#36523;&#12434;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12375;&#12289;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#35373;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <span class="emphasis"><em> &#32068;&#12415;&#36796;&#12415;&#12398;</em></span> &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#21628;&#12400;&#12428;&#12427;&#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289; &#26412;&#26684;&#30340;&#12394;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12399;&#21521;&#12356;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>2&#12388;&#30446;&#12398;&#26041;&#27861;&#12399; <span class="emphasis"><em> &#12510;&#12483;&#12503;&#12373;&#12428;&#12383;</em></span> &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#21628;&#12400;&#12428;&#12427;&#12418;&#12398;&#12391;&#12289; <code class="literal">&lt;composite-id&gt;</code>&#12456;&#12524;&#12513;&#12531;&#12488;&#20869;&#12391;&#25351;&#23450;&#12375;&#12383;&#35672;&#21029;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364; &#27704;&#32154;&#12463;&#12521;&#12473;&#12392;&#20998;&#38626;&#12375;&#12383;&#35672;&#21029;&#23376;&#12463;&#12521;&#12473;&#12398;&#20001;&#26041;&#12395;&#37325;&#35079;&#12375;&#12390;&#23384;&#22312;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;composite-id class="MedicareId" mapped="true"&gt;
        &lt;key-property name="medicareNumber"/&gt;
        &lt;key-property name="dependent"/&gt;
&lt;/composite-id&gt;</pre><p>&#12371;&#12398;&#20363;&#12391;&#12399;&#12289;&#35079;&#21512;&#35672;&#21029;&#23376;&#12463;&#12521;&#12473;&#65288; <code class="literal">MedicareId</code> &#65289;&#12392;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#33258;&#36523;&#12398;&#20001;&#26041;&#12364;&#12289; <code class="literal">medicareNumber</code> &#12392; <code class="literal">dependent</code> &#12392;&#12356;&#12358;&#21517;&#21069;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#35672;&#21029;&#23376;&#12463;&#12521;&#12473;&#12399;&#12289;<code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#12458;&#12540;&#12496;&#12521;&#12452;&#12489;&#12375;&#12289; <code class="literal">Serializable</code> &#12434;&#23455;&#35013;&#12375;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12398;&#26041;&#27861;&#12395;&#12399;&#12289;&#26126;&#12425;&#12363;&#12395;&#12467;&#12540;&#12489;&#12364;&#37325;&#35079;&#12377;&#12427;&#12392;&#12356;&#12358;&#19981;&#37117;&#21512;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#27425;&#12398;&#23646;&#24615;&#12399;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#35079;&#21512;&#35672;&#21029;&#23376;&#12434;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">mapped</code> (&#12458;&#12503;&#12471;&#12519;&#12531;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#35079;&#21512;&#35672;&#21029;&#23376;&#12364;&#20351;&#29992;&#12373;&#12428;&#12427;&#12371;&#12392;&#12392;&#12289;&#21253;&#21547;&#12373;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12364;&#12289; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12392;&#35079;&#21512;&#35672;&#21029;&#23376;&#12463;&#12521;&#12473;&#12398;&#20001;&#26041;&#12434;&#21442;&#29031;&#12377;&#12427;&#12371;&#12392;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">class</code> (&#12458;&#12503;&#12471;&#12519;&#12531;,&#12383;&#12384;&#12375;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#35079;&#21512;&#35672;&#21029;&#23376;&#12395;&#12399;&#24517;&#38920;): &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#20351;&#29992;&#12377;&#12427;&#12463;&#12521;&#12473;&#12290; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>3&#12388;&#30446;&#12398;&#12373;&#12425;&#12395;&#20415;&#21033;&#12394;&#26041;&#27861;&#12399;&#12289;&#35079;&#21512;&#35672;&#21029;&#23376;&#12434;<a href="#components-compositeid" title="8.4. &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;">&#38917;8.4. &#12300;&#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12301;</a>&#20869;&#12398; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12463;&#12521;&#12473;&#12392;&#12375;&#12390;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; &#19979;&#12391;&#35352;&#36848;&#12375;&#12390;&#12356;&#12427;&#23646;&#24615;&#12399;&#12289;&#12371;&#12398;&#20195;&#26367;&#26041;&#27861;&#12395;&#12398;&#12415;&#36969;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">name</code> (&#12458;&#12503;&#12471;&#12519;&#12531;, &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12399;&#24517;&#38920;): &#35079;&#21512;&#35672;&#21029;&#23376;&#12434;&#20445;&#25345;&#12377;&#12427;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12479;&#12452;&#12503;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;(9&#31456;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;). 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">class</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12424;&#12426;&#27770;&#23450;&#12373;&#12428;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#22411;&#65289;&#65306; &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#20351;&#12431;&#12428;&#12427;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12463;&#12521;&#12473;&#65288;&#27425;&#12398;&#31680;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#12371;&#12398;3&#12388;&#30446;&#12398;&#26041;&#27861;&#12399; <span class="emphasis"><em> &#35672;&#21029;&#23376;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;</em></span> &#12392;&#21628;&#12403;&#12289; &#12411;&#12392;&#12435;&#12393;&#12377;&#12409;&#12390;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#25512;&#22888;&#12377;&#12427;&#26041;&#27861;&#12391;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-discriminator"></a>5.1.8. discriminator
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">&lt;discriminator&gt;</code> &#35201;&#32032;&#12399;&#12289; table-per-class-hierarchy&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12434;&#20351;&#12358;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#27704;&#32154;&#21270;&#12395;&#24517;&#35201;&#12391;&#12354;&#12426;&#12289; &#12486;&#12540;&#12502;&#12523;&#12398;&#35672;&#21029;&#12459;&#12521;&#12512;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#35672;&#21029;&#12459;&#12521;&#12512;&#12399;&#12289;&#12354;&#12427;&#34892;&#12395;&#23550;&#12375;&#12390;&#27704;&#32154;&#23652;&#12364;&#12393;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12377;&#12427;&#12363;&#12434; &#20253;&#12360;&#12427;&#12510;&#12540;&#12459;&#12540;&#20516;&#12434;&#21547;&#12435;&#12391;&#12356;&#12414;&#12377;&#12290;
                     &#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#22411;&#12395;&#21046;&#38480;&#12373;&#12428;&#12414;&#12377;&#65306; <code class="literal">string</code> , <code class="literal">character</code> , <code class="literal">integer</code>, <code class="literal">byte</code> , <code class="literal">short</code> , <code class="literal">boolean</code> , <code class="literal">yes_no</code> , <code class="literal">true_false</code>. 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;discriminator
        column="discriminator_column"                      <span class="co">(1)</span>
        type="discriminator_type"                          <span class="co">(2)</span>
        force="true|false"                                 <span class="co">(3)</span>
        insert="true|false"                                <span class="co">(4)</span>
        formula="arbitrary sql expression"                 <span class="co">(5)</span>
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">class</code> &#65289;&#65306; &#35672;&#21029;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">type</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">string</code> &#65289;&#65306;Hibernate&#12398;&#22411;&#12434;&#31034;&#12377;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">force</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> &#65289;&#65306; &#12523;&#12540;&#12488;&#12463;&#12521;&#12473;&#12398;&#12377;&#12409;&#12390;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#26908;&#32034;&#12377;&#12427;&#22580;&#21512;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289; Hibernate&#12364;&#20351;&#29992;&#12391;&#12365;&#12427;&#35672;&#21029;&#12459;&#12521;&#12512;&#12398;&#25351;&#23450;&#12434;&#12300;&#24375;&#21046;&#12301;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">insert</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> &#65289;&#65306; &#12418;&#12375;&#35672;&#21029;&#12459;&#12521;&#12512;&#12364;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#35079;&#21512;&#35672;&#21029;&#23376;&#12398;&#19968;&#37096;&#12394;&#12425;&#12400;&#12289;<code class="literal">false</code> &#12392;&#35373;&#23450;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; (Hibernate&#12395;SQL&#12398; <code class="literal">INSERT</code> &#12395;&#12399;&#21547;&#12414;&#12428;&#12394;&#12356;&#12371;&#12392;&#12434;&#30693;&#12425;&#12379;&#12427;) 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">formula</code> (&#12458;&#12503;&#12471;&#12519;&#12531;)&#22411;&#12364;&#35413;&#20385;&#12373;&#12428;&#12427;&#12392;&#12365;&#12395;&#23455;&#34892;&#12373;&#12428;&#12427;&#20219;&#24847;&#12398;SQL&#24335;&#12290; &#12467;&#12531;&#12486;&#12531;&#12484;&#12505;&#12540;&#12473;&#12398;&#35672;&#21029;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#35672;&#21029;&#12459;&#12521;&#12512;&#12398;&#23455;&#38555;&#12398;&#20516;&#12399;&#12289; <code class="literal">&lt;class&gt;</code> &#12392; <code class="literal">&lt;subclass&gt;</code> &#35201;&#32032;&#12398; <code class="literal">discriminator-value</code> &#23646;&#24615;&#12391;&#25351;&#23450;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12394;&#12356;&#65378;&#20313;&#20998;&#12394;&#12301;&#35672;&#21029;&#20516;&#12434;&#25345;&#12388;&#34892;&#12364; &#12486;&#12540;&#12502;&#12523;&#12395;&#12354;&#12428;&#12400;&#12289;&#65288;&#12381;&#12398;&#12392;&#12365;&#12395;&#38480;&#12426;&#65289;<code class="literal">force</code> &#23646;&#24615;&#12399;&#26377;&#21177;&#12391;&#12377;&#12290; &#12383;&#12384;&#12375;&#12289;&#26222;&#36890;&#12399;&#12381;&#12358;&#12356;&#12358;&#12371;&#12392;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p><code class="literal">formula</code> &#23646;&#24615;&#12434;&#20351;&#12358;&#12392;&#12289;&#34892;&#12398;&#22411;&#12434;&#35413;&#20385;&#12377;&#12427;&#12383;&#12417;&#12395;&#20219;&#24847;&#12398;SQL&#24335;&#12434;&#23459;&#35328;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;discriminator
    formula="case when CLASS_TYPE in ('a', 'b', 'c') then 0 else 1 end"
    type="integer"/&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-version"></a>5.1.9. version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">&lt;version&gt;</code> &#35201;&#32032;&#12399;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12354;&#12426;&#12289; &#12486;&#12540;&#12502;&#12523;&#12364;&#12496;&#12540;&#12472;&#12519;&#12531;&#12487;&#12540;&#12479;&#12434;&#21547;&#12416;&#12371;&#12392;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399; <span class="emphasis"><em>&#12525;&#12531;&#12464;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;</em></span> &#12434;&#20351;&#12358;&#12388;&#12418;&#12426;&#12394;&#12425;&#12289;&#29305;&#12395;&#24441;&#31435;&#12385;&#12414;&#12377;&#65288;&#20197;&#19979;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;version
        column="version_column"                                      <span class="co">(1)</span>
        name="propertyName"                                          <span class="co">(2)</span>
        type="typename"                                              <span class="co">(3)</span>
        access="field|property|ClassName"                            <span class="co">(4)</span>
        unsaved-value="null|negative|undefined"                      <span class="co">(5)</span>
        generated="never|always"                                     <span class="co">(6)</span>
        insert="true|false"                                          <span class="co">(7)</span>
        node="element-name|@attribute-name|element/@attribute|."
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#65289;: &#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12434;&#20445;&#25345;&#12377;&#12427;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code> &#65306;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">type</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">integer</code> &#65289;&#65306;&#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12398;&#22411;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unsaved-value</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">undefined</code> &#65289;&#65306; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12371;&#12392;&#12434;&#31034;&#12377; &#65288;&#12475;&#12540;&#12502;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12434;&#31034;&#12377;&#65289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12290; &#20197;&#21069;&#12398;Session&#12391;&#12475;&#12540;&#12502;&#12414;&#12383;&#12399;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#19968;&#26178;&#30340;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#21306;&#21029;&#12377;&#12427;&#12383;&#12417;&#12395; &#20351;&#12356;&#12414;&#12377;&#12290; &#65288; <code class="literal">undefined</code> &#12399;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12364;&#20351;&#12431;&#12428;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290;&#65289; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">generated</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">never</code> ): &#12371;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12364;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12424;&#12387;&#12390;&#29983;&#25104;&#12373;&#12428;&#12383;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <a href="#mapping-generated" title="5.6. &#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;">&#38917;5.6. &#12300;&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12301;</a> &#12398;&#35696;&#35542;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">insert</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> ): SQL&#12398;insert&#25991;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#12539;&#12459;&#12521;&#12512;&#12434;&#21547;&#12417;&#12427;&#12409;&#12365;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12459;&#12521;&#12512;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12364; <code class="literal">0</code> &#12392;&#23450;&#32681;&#12373;&#12428;&#12427;&#12392;&#12365;&#12395;&#12399;&#12289; <code class="literal">false</code> &#12395;&#35373;&#23450;&#12377;&#12427;&#12392;&#33391;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12399; Hibernate&#12398; <code class="literal">long</code> , <code class="literal">integer</code> , <code class="literal">short</code> , <code class="literal">timestamp</code> , <code class="literal">calendar</code> &#22411;&#12398;&#12356;&#12378;&#12428;&#12363;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12496;&#12540;&#12472;&#12519;&#12531;&#12420;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12289;&#20998;&#38626;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#23550;&#12375;&#12390;null&#12391;&#12354;&#12387;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12381;&#12398;&#12383;&#12417;&#12393;&#12398;&#12424;&#12358;&#12394; <code class="literal">unsaved-value</code> &#25126;&#30053;&#12364;&#25351;&#23450;&#12373;&#12428;&#12390;&#12418;&#12289; Hibernate&#12399;null&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12420;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12434;&#25345;&#12387;&#12383;&#12377;&#12409;&#12390;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12289; &#19968;&#26178;&#30340;&#12394;&#12418;&#12398;&#12391;&#12354;&#12427;&#12392;&#21028;&#26029;&#12375;&#12414;&#12377;&#12290; <span class="emphasis"><em> null&#12434;&#35377;&#23481;&#12377;&#12427;&#12496;&#12540;&#12472;&#12519;&#12531;&#12420;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12399;&#12289; &#36942;&#28193;&#30340;&#12395;&#19968;&#26178;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#12377;&#12427;&#12371;&#12392;&#12434;&#38450;&#12368;&#31777;&#21336;&#12394;&#26041;&#27861;&#12391;&#12377;&#12290; &#29305;&#12395;&#35672;&#21029;&#23376;&#12398;&#21106;&#12426;&#24403;&#12390;&#12420;&#35079;&#21512;&#12461;&#12540;&#12434;&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12392;&#12365;&#12395;&#12399;&#29305;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290;</em></span> 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-timestamp"></a>5.1.10. timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12458;&#12503;&#12471;&#12519;&#12531;&#12398; <code class="literal">&lt;timestamp&gt;</code> &#35201;&#32032;&#12399;&#12289; &#12486;&#12540;&#12502;&#12523;&#12364;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12487;&#12540;&#12479;&#12434;&#21547;&#12416;&#12371;&#12392;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12496;&#12540;&#12472;&#12519;&#12531;&#20184;&#12369;&#12398;&#20195;&#12431;&#12426;&#12398;&#26041;&#27861;&#12392;&#12375;&#12390;&#29992;&#24847;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12399;&#12418;&#12392;&#12418;&#12392;&#27005;&#35251;&#30340;&#12525;&#12483;&#12463;&#12395;&#12362;&#12369;&#12427;&#23433;&#20840;&#24615;&#12398;&#20302;&#12356;&#23455;&#35013;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#30064;&#12394;&#12427;&#29992;&#36884;&#12391;&#20351;&#12358;&#12371;&#12392;&#12418;&#12354;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;
                     
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;timestamp
        column="timestamp_column"                                    <span class="co">(1)</span>
        name="propertyName"                                          <span class="co">(2)</span>
        access="field|property|ClassName"                            <span class="co">(3)</span>
        unsaved-value="null|undefined"                               <span class="co">(4)</span>
        source="vm|db"                                               <span class="co">(5)</span>
        generated="never|always"                                     <span class="co">(6)</span>
        node="element-name|@attribute-name|element/@attribute|."
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#65289;&#65306; &#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12434;&#20445;&#25345;&#12377;&#12427;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code> &#65306; &#27704;&#32154;&#12463;&#12521;&#12473;&#12391;&#12354;&#12427;Java &#12398; <code class="literal">Date</code>&#22411; &#12414;&#12383;&#12399; <code class="literal">Timestamp</code> &#22411; &#12398;&#12289;JavaBeans&#12473;&#12479;&#12452;&#12523;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unsaved-value</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">null</code> &#65289;&#65306; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383; &#65288;&#12475;&#12540;&#12502;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#65289;&#12371;&#12392;&#12434;&#31034;&#12377;&#12496;&#12540;&#12472;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12290; &#20197;&#21069;&#12398;Session&#12391;&#12475;&#12540;&#12502;&#12414;&#12383;&#12399;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#19968;&#26178;&#30340;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392; &#21306;&#21029;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; &#65288; <code class="literal">undefined</code> &#12392;&#25351;&#23450;&#12377;&#12427;&#12392;&#12289; &#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290;&#65289; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">source</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">vm</code> ): Hibernate&#12399;&#12393;&#12371;&#12363;&#12425;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12398;&#20516;&#12434;&#21462;&#24471;&#12377;&#12427;&#12409;&#12365;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12391;&#12375;&#12423;&#12358;&#12363;&#12289;&#29694;&#22312;&#12398;JVM&#12363;&#12425;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12424;&#12427;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12399;&#12289;Hibernate&#12364;"&#27425;&#12398;&#20516;"&#12434;&#27770;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#12498;&#12483;&#12488;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12383;&#12417;&#12289;&#12458;&#12540;&#12496;&#12504;&#12483;&#12489;&#12434;&#25307;&#12365;&#12414;&#12377;&#12290;
                                    &#12375;&#12363;&#12375;&#12463;&#12521;&#12473;&#12479;&#29872;&#22659;&#12391;&#12399;JVM&#12363;&#12425;&#21462;&#24471;&#12377;&#12427;&#12424;&#12426;&#23433;&#20840;&#12391;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#29694;&#22312;&#12398;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12398;&#21462;&#24471;&#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427; &#12377;&#12409;&#12390;&#12398; <code class="literal">&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#26041;&#35328;</code> &#12364;&#30693;&#12425;&#12428;&#12390;&#12356;&#12427;&#12431;&#12369;&#12391;&#12399;&#12394;&#12356;&#12371;&#12392;&#12395; &#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12414;&#12383;&#19968;&#26041;&#12391;&#12289;&#31934;&#23494;&#12373;&#12434;&#27424;&#12367;&#12383;&#12417;&#12395;&#12289; &#12525;&#12483;&#12463;&#12391;&#20351;&#29992;&#12377;&#12427;&#12395;&#12399;&#23433;&#20840;&#12391;&#12394;&#12356;&#12418;&#12398;&#12418;&#12354;&#12426;&#12414;&#12377;(&#20363;&#12360;&#12400;Oracle 8)&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">generated</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">never</code> ): &#12371;&#12398;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12539;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12364;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12424;&#12387;&#12390;&#29983;&#25104;&#12373;&#12428;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <a href="#mapping-generated" title="5.6. &#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;">&#38917;5.6. &#12300;&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p><code class="literal">&lt;timestamp&gt;</code> &#12399; <code class="literal">&lt;version type="timestamp"&gt;</code> &#12392;&#31561;&#20385;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; <code class="literal">&lt;timestamp source="db"&gt;</code> &#12399; <code class="literal">&lt;version type="dbtimestamp"&gt;</code> &#12392;&#31561;&#20385;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-property"></a>5.1.11. property
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">&lt;property&gt;</code> &#35201;&#32032;&#12399;&#12289;&#12463;&#12521;&#12473;&#12398;&#27704;&#32154;&#30340;&#12394;JavaBean&#12473;&#12479;&#12452;&#12523;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;property
        name="propertyName"                                          <span class="co">(1)</span>
        column="column_name"                                         <span class="co">(2)</span>
        type="typename"                                              <span class="co">(3)</span>
        update="true|false"                                          <span class="co">(4)</span>
        insert="true|false"                                          <span class="co">(4)</span>
        formula="arbitrary SQL expression"                           <span class="co">(5)</span>
        access="field|property|ClassName"                            <span class="co">(6)</span>
        lazy="true|false"                                            <span class="co">(7)</span>
        unique="true|false"                                          <span class="co">(8)</span>
        not-null="true|false"                                        <span class="co">(9)</span>
        optimistic-lock="true|false"                                 <span class="co">(10)</span>
        generated="never|insert|always"                              <span class="co">(11)</span>
        node="element-name|@attribute-name|element/@attribute|."
        index="index_name"
        unique_key="unique_key_id"
        length="L"
        precision="P"
        scale="S"
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#23567;&#25991;&#23383;&#12391;&#22987;&#12414;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#65289;&#65306; &#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12398;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12290; &#12493;&#12473;&#12488;&#12375;&#12383; <code class="literal">&lt;column&gt;</code> &#35201;&#32032;&#12391;&#12418;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">type</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306;Hibernate&#12398;&#22411;&#12434;&#31034;&#12377;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">update, insert</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> &#65289;&#65306; &#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12459;&#12521;&#12512;&#12364;SQL&#12398; <code class="literal">UPDATE</code> &#12420; <code class="literal">INSERT</code> &#12395;&#21547;&#12414;&#12428;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#20001;&#26041;&#12392;&#12418; <code class="literal">false</code> &#12395;&#35373;&#23450;&#12377;&#12427;&#12392;&#12289; &#21516;&#12376;&#12459;&#12521;&#12512;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#20182;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#12488;&#12522;&#12460;&#12420; &#20182;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#21021;&#26399;&#21270;&#12373;&#12428;&#12383;&#32020;&#31883;&#12394;&#12300;&#23566;&#20986;&#12301;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#21487;&#33021;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">formula</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; <span class="emphasis"><em>&#35336;&#31639;</em></span> &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12383;&#12417;&#12398;&#20516;&#12434;&#23450;&#32681;&#12377;&#12427;SQL&#24335;&#12290; &#35336;&#31639;&#12373;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#33258;&#36523;&#12398;&#12459;&#12521;&#12512;&#12408;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (optional - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12395;&#26368;&#21021;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36933;&#24310;&#12375;&#12390;&#21462;&#24471;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; (&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#23455;&#35013;&#12434;&#20316;&#25104;&#12377;&#12427;&#26178;&#38291;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;)&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unique</code> (&#12458;&#12503;&#12471;&#12519;&#12531;):&#12459;&#12521;&#12512;&#12395;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12434;&#12388;&#12369;&#12427;DDL&#12398;&#29983;&#25104;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;<code class="literal">property-ref</code> &#12398;&#12479;&#12540;&#12466;&#12483;&#12488;&#12392;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(9)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">not-null</code> (&#12458;&#12503;&#12471;&#12519;&#12531;):&#12459;&#12521;&#12512;&#12395;null&#20516;&#12434;&#35377;&#21487;&#12377;&#12427;DDL&#12398;&#29983;&#25104;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(10)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optimistic-lock</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> ): &#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#26356;&#26032;&#12395;&#27005;&#35251;&#12525;&#12483;&#12463;&#12398;&#21462;&#24471;&#12434;&#35201;&#27714;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#35328;&#12356;&#25563;&#12360;&#12428;&#12400;&#12289;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12427;&#12392;&#12365;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#22679;&#12420;&#12377;&#12409;&#12365;&#12363;&#12434;&#27770;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(11)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">generated</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">never</code> ): &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12364;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12424;&#12387;&#12390;&#29983;&#25104;&#12373;&#12428;&#12383;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <a href="#mapping-generated" title="5.6. &#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;">&#38917;5.6. &#12300;&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>typename</em></span> &#12395;&#12399;&#20197;&#19979;&#12398;&#20516;&#12364;&#21487;&#33021;&#12391;&#12377;&#65306; 
                  </p>
                  <div class="orderedlist">
                     <ol type="1" compact>
                        <li>
                           <p>Hibernate&#12398;&#22522;&#26412;&#22411;&#12398;&#21517;&#21069;&#65288;&#20363; <code class="literal">integer, string, character, date, timestamp, float, binary, serializable, object, blob</code> &#65289;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#22522;&#26412;&#22411;&#12398;Java&#12463;&#12521;&#12473;&#21517; &#65288;&#20363; <code class="literal">int, float, char, java.lang.String, java.util.Date, java.lang.Integer, java.sql.Clob</code> &#65289;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>&#12471;&#12522;&#12450;&#12521;&#12452;&#12474;&#21487;&#33021;&#12394;Java&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12290; </p>
                        </li>
                        <li>
                           <p>&#12459;&#12473;&#12479;&#12512;&#22411;&#12398;&#12463;&#12521;&#12473;&#21517;&#65288;&#20363; <code class="literal">com.illflow.type.MyCustomType</code> &#65289;&#12290; 
                           </p>
                        </li>
                     </ol>
                  </div>
                  <p>&#22411;&#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12289;Hibernate&#12399;&#27491;&#12375;&#12356;Hibernate&#12398;&#22411;&#12434;&#25512;&#28204;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#25351;&#23450;&#12373;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; Hibernate&#12399;&#12523;&#12540;&#12523;2, 3, 4&#12434;&#12381;&#12398;&#38918;&#24207;&#12395;&#20351;&#12356;&#12289; getter&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#36820;&#12426;&#20516;&#12398;&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12434;&#35299;&#37320;&#12375;&#12424;&#12358;&#12392;&#12375;&#12414;&#12377;&#12290;
                     &#12375;&#12363;&#12375;&#12371;&#12428;&#12391;&#24120;&#12395;&#21313;&#20998;&#12391;&#12354;&#12427;&#12392;&#12399;&#38480;&#12426;&#12414;&#12379;&#12435;&#12290; &#22580;&#21512;&#12395;&#12424;&#12387;&#12390;&#12399;&#12289;<code class="literal">type</code> &#23646;&#24615;&#12364;&#24517;&#35201;&#12394;&#22580;&#21512;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#65288;&#20363;&#12360;&#12400; <code class="literal">Hibernate.DATE</code> &#12392; <code class="literal">Hibernate.TIMESTAMP</code> &#12434;&#21306;&#21029;&#12377;&#12427;&#12383;&#12417;&#12289; &#12414;&#12383;&#12399;&#12459;&#12473;&#12479;&#12512;&#22411;&#12434;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12394;&#12393;&#12391;&#12377;&#12290;&#65289; 
                  </p>
                  <p><code class="literal">access</code> &#23646;&#24615;&#12391;&#12289; &#23455;&#34892;&#26178;&#12395;Hibernate&#12364;&#12393;&#12398;&#12424;&#12358;&#12395;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12363;&#12434;&#21046;&#24481;&#12391;&#12365;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;Hibernate&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;get/set&#12398;&#12506;&#12450;&#12434;&#12467;&#12540;&#12523;&#12375;&#12414;&#12377;&#12290; <code class="literal">access="field"</code> &#12392;&#25351;&#23450;&#12377;&#12428;&#12400;&#12289; Hibernate&#12399;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12356;get/set&#12398;&#12506;&#12450;&#12434;&#20171;&#12373;&#12378;&#12395;&#12289;&#30452;&#25509;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12414;&#12377;&#12290; &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473; <code class="literal">org.hibernate.property.PropertyAccessor</code> &#12434; &#23455;&#35013;&#12377;&#12427;&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;&#12395;&#29420;&#33258;&#12398;&#25126;&#30053;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#29305;&#12395;&#24375;&#21147;&#12394;&#29305;&#24500;&#12399;&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12377;&#12290; &#12371;&#12428;&#12425;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#24403;&#28982;&#35501;&#12415;&#21462;&#12426;&#23554;&#29992;&#12391;&#12354;&#12426;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12399;&#12525;&#12540;&#12489;&#26178;&#12395;&#35336;&#31639;&#12373;&#12428;&#12414;&#12377;&#12290; &#35336;&#31639;&#12434;SQL&#24335;&#12392;&#12375;&#12390;&#23459;&#35328;&#12377;&#12427;&#12392;&#12289;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;SQL&#12463;&#12456;&#12522;&#12398; <code class="literal">SELECT</code> &#21477;&#12398;&#12469;&#12502;&#12463;&#12456;&#12522;&#12395;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">
&lt;property name="totalPrice"
    formula="( SELECT SUM (li.quantity*p.price) FROM LineItem li, Product p
                WHERE li.productId = p.productId
                AND li.customerId = customerId
                AND li.orderNumber = orderNumber )"/&gt;</pre><p>&#29305;&#23450;&#12398;&#12459;&#12521;&#12512;(&#20363;&#12391;&#12399; <code class="literal">customerId</code> &#12364;&#12381;&#12428;&#12395;&#12354;&#12383;&#12426;&#12414;&#12377;)&#12398;&#12456;&#12452;&#12522;&#12450;&#12473;&#12434;&#23459;&#35328;&#12377;&#12427;&#12371;&#12392;&#12394;&#12367;&#12289; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#33258;&#36523;&#12398;&#12486;&#12540;&#12502;&#12523;&#12434;&#21442;&#29031;&#12391;&#12365;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12418;&#12375;&#23646;&#24615;&#12434;&#20351;&#29992;&#12375;&#12383;&#12367;&#12394;&#12369;&#12428;&#12400;&#12289; &#12493;&#12473;&#12488;&#12375;&#12383; <code class="literal">&lt;formula&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12434;&#20351;&#12360;&#12427;&#12371;&#12392;&#12395;&#12418;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-manytoone"></a>5.1.12. many-to-one
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#20182;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12408;&#12398;&#36890;&#24120;&#12398;&#38306;&#36899;&#12399; <code class="literal">many-to-one</code> &#35201;&#32032;&#12434;&#20351;&#12387;&#12390;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12514;&#12487;&#12523;&#12399;&#22810;&#23550;&#19968;&#38306;&#36899;&#12391;&#12377;&#12290; &#12388;&#12414;&#12426;&#12354;&#12427;&#12486;&#12540;&#12502;&#12523;&#12398;&#22806;&#37096;&#12461;&#12540;&#12399;&#12289;&#12479;&#12540;&#12466;&#12483;&#12488;&#12392;&#12394;&#12427;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12434;&#21442;&#29031;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;many-to-one
        name="propertyName"                                          <span class="co">(1)</span>
        column="column_name"                                         <span class="co">(2)</span>
        class="ClassName"                                            <span class="co">(3)</span>
        cascade="cascade_style"                                      <span class="co">(4)</span>
        fetch="join|select"                                          <span class="co">(5)</span>
        update="true|false"                                          <span class="co">(6)</span>
        insert="true|false"                                          <span class="co">(6)</span>
        property-ref="propertyNameFromAssociatedClass"               <span class="co">(7)</span>
        access="field|property|ClassName"                            <span class="co">(8)</span>
        unique="true|false"                                          <span class="co">(9)</span>
        not-null="true|false"                                        <span class="co">(10)</span>
        optimistic-lock="true|false"                                 <span class="co">(11)</span>
        lazy="proxy|no-proxy|false"                                  <span class="co">(12)</span>
        not-found="ignore|exception"                                 <span class="co">(13)</span>
        entity-name="EntityName"                                     <span class="co">(14)</span>
        formula="arbitrary SQL expression"                           <span class="co">(15)</span>
        node="element-name|@attribute-name|element/@attribute|."
        embed-xml="true|false"
        index="index_name"
        unique_key="unique_key_id"
        foreign-key="foreign_key_name"
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code> (optional): The name of the foreign key column. This may also be specified by nested <code class="literal">&lt;column&gt;</code> element(s). 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">class</code> (optional - defaults to the property type determined by reflection): The name of the associated class. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">cascade</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#12393;&#12398;&#25805;&#20316;&#12434;&#12289;&#35242;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12363;&#12425;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#12392;&#12459;&#12473;&#12465;&#12540;&#12489;&#12373;&#12379;&#12427;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">fetch</code> (optional - defaults to <code class="literal">select</code>): Chooses between outer-join fetching or sequential select fetching. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">update, insert</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> &#65289;&#65306; &#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12459;&#12521;&#12512;&#12364;SQL&#12398; <code class="literal">UPDATE</code> &#12414;&#12383;&#12399; <code class="literal">INSERT</code> &#25991;&#12395;&#21547;&#12414;&#12428;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#20001;&#26041;&#12392;&#12418; <code class="literal">false</code> &#12395;&#35373;&#23450;&#12377;&#12427;&#12392;&#12289; &#12381;&#12398;&#20516;&#12364;&#21516;&#12376;&#12459;&#12521;&#12512;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#20182;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#12488;&#12522;&#12460;&#12420; &#20182;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#21021;&#26399;&#21270;&#12373;&#12428;&#12383;&#32020;&#31883;&#12394;&#12300;&#23566;&#20986;&#12301;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#21487;&#33021;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">property-ref</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#12371;&#12398;&#22806;&#37096;&#12461;&#12540;&#12395;&#32080;&#21512;&#12373;&#12428;&#12383;&#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; &#20309;&#12418;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12289;&#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#20027;&#12461;&#12540;&#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(9)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unique</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12395;&#23550;&#12375;&#12390;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12434;&#12388;&#12369;&#12383;DDL&#12398;&#29983;&#25104;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;<code class="literal">property-ref</code> &#12398;&#12479;&#12540;&#12466;&#12483;&#12488;&#12395;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12424;&#12426;&#38306;&#36899;&#12398;&#22810;&#37325;&#24230;&#12434;&#21177;&#26524;&#30340;&#12395;&#19968;&#23550;&#19968;&#12395;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(10)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">not-null</code> (&#12458;&#12503;&#12471;&#12519;&#12531;):&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12395;&#23550;&#12375;&#12390;&#12289; null&#20516;&#12434;&#35377;&#21487;&#12377;&#12427;DDL&#12398;&#29983;&#25104;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(11)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optimistic-lock</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> ): &#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#26356;&#26032;&#12395;&#27005;&#35251;&#30340;&#12525;&#12483;&#12463;&#12398;&#21462;&#24471;&#12434;&#35201;&#27714;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#35328;&#12356;&#25563;&#12360;&#12428;&#12400;&#12289;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12427;&#12392;&#12365;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#22679;&#12420;&#12377;&#12409;&#12365;&#12363;&#12434;&#27770;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(12)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">proxy</code> ): &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;&#22810;&#37325;&#24230;&#65297;&#12398;&#38306;&#36899;&#12364;&#12503;&#12525;&#12461;&#12471;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290; <code class="literal">lazy="no-proxy"</code> &#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12395;&#26368;&#21021;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289; &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12499;&#12523;&#12489;&#26178;&#12395;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#23455;&#35013;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;)&#12290; <code class="literal">lazy="false"</code> &#12399;&#38306;&#36899;&#12434;&#24120;&#12395;&#21363;&#26178;&#12395;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(13)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">not-found</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">exception</code> ): &#27424;&#33853;&#12375;&#12383;&#34892;&#12434;&#21442;&#29031;&#12377;&#12427;&#22806;&#37096;&#12461;&#12540;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#25201;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <code class="literal">ignore</code> &#12399;&#27424;&#33853;&#12375;&#12383;&#34892;&#12434;null&#38306;&#36899;&#12392;&#12375;&#12390;&#25201;&#12356;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(14)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">entity-name</code> (optional): The entity name of the associated class. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(15)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">formula</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): <span class="emphasis"><em> &#35336;&#31639;&#12373;&#12428;&#12383;</em></span> &#22806;&#37096;&#12461;&#12540;&#12395;&#23550;&#12375;&#12390;&#20516;&#12434;&#23450;&#32681;&#12377;&#12427;SQL&#24335; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p><code class="literal">cascade</code> &#23646;&#24615;&#12395; <code class="literal">none</code> &#20197;&#22806;&#12398;&#24847;&#21619;&#12398;&#12354;&#12427;&#20516;&#12434;&#12434;&#35373;&#23450;&#12377;&#12427;&#12392;&#12289; &#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#12354;&#12427;&#25805;&#20316;&#12364;&#20253;&#25773;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#24847;&#21619;&#12398;&#12354;&#12427;&#20516;&#12392;&#12399;Hibernate&#12398;&#22522;&#26412;&#25805;&#20316;&#12398;&#21517;&#21069;&#12398;&#12371;&#12392;&#12391;&#12289; <code class="literal">delete-orphan</code> &#12392; <code class="literal">all</code> &#12289;&#25805;&#20316;&#21517;&#12434;&#12459;&#12531;&#12510;&#12391;&#21306;&#20999;&#12387;&#12383;&#32068;&#12415;&#21512;&#12431;&#12379; &#65288;&#20363;&#12360;&#12400; <code class="literal">cascade="persist,merge,evict"</code> &#12420; <code class="literal">cascade="all,delete-orphan"</code>&#65289;&#12289; &#12414;&#12383;&#12381;&#12428;&#12384;&#12369;&#12391;&#12394;&#12367; <code class="literal">persist, merge, delete, save-update, evict, replicate, lock, refresh</code> &#12398;&#12371;&#12392;&#12434;&#25351;&#12375;&#12414;&#12377;&#12290; &#35443;&#12375;&#12356;&#35500;&#26126;&#12399; <a href="#objectstate-transitive" title="10.11. &#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;">&#38917;10.11. &#12300;&#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;&#12301;</a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#20516;&#12364;&#19968;&#12388;&#12398;&#38306;&#36899;(many-to-one&#12392;one-to-one&#38306;&#36899;)&#12399;&#12289; &#21336;&#29420;&#12391;&#12398;&#21066;&#38500;&#65288;orphan delete)&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p>&#20856;&#22411;&#30340;&#12394; <code class="literal">many-to-one</code> &#23459;&#35328;&#12399;&#27425;&#12398;&#12424;&#12358;&#12395;&#12471;&#12531;&#12503;&#12523;&#12391;&#12377;&#12290;&#65306; 
                  </p><pre class="programlisting">&lt;many-to-one name="product" class="Product" column="PRODUCT_ID"/&gt;</pre><p><code class="literal">property-ref</code> &#23646;&#24615;&#12399;&#12289;&#22806;&#37096;&#12461;&#12540;&#12364;&#38306;&#36899;&#20184;&#12369;&#12425;&#12428;&#12383;&#12486;&#12540;&#12502;&#12523;&#12398;&#12289;&#20027;&#12461;&#12540;&#12391;&#12394;&#12356; &#12518;&#12491;&#12540;&#12463;&#12461;&#12540;&#12434;&#21442;&#29031;&#12375;&#12390;&#12356;&#12427;&#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12434;&#12510;&#12483;&#12503;&#12377;&#12427;&#12383;&#12417;&#12395;&#12384;&#12369;&#20351;&#12358;&#12409;&#12365;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;&#37276;&#12356;&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12514;&#12487;&#12523;&#12391;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">Product</code> &#12463;&#12521;&#12473;&#12364;&#12289; &#20027;&#12461;&#12540;&#12391;&#12394;&#12356;&#12518;&#12491;&#12540;&#12463;&#12394;&#12471;&#12522;&#12450;&#12523;&#12490;&#12531;&#12496;&#12540;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12392;&#20206;&#23450;&#12375;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#65288; <code class="literal">unique</code> &#23646;&#24615;&#12399;SchemaExport&#12484;&#12540;&#12523;&#12434;&#20351;&#12387;&#12383;Hibernate&#12398;DDL&#29983;&#25104;&#12434;&#21046;&#24481;&#12375;&#12414;&#12377;&#12290;&#65289; 
                  </p><pre class="programlisting">&lt;property name="serialNumber" unique="true" type="string" column="SERIAL_NUMBER"/&gt;</pre><p>&#20197;&#19979;&#12398;&#12424;&#12358;&#12395; <code class="literal">OrderItem</code> &#12395;&#23550;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#20351;&#12360;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;many-to-one name="product" property-ref="serialNumber" column="PRODUCT_SERIAL_NUMBER"/&gt;</pre><p>&#12375;&#12363;&#12375;&#12289;&#12371;&#12428;&#12399;&#27770;&#12375;&#12390;&#25512;&#22888;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; </p>
                  <p>&#21442;&#29031;&#12375;&#12383;&#12518;&#12491;&#12540;&#12463;&#12461;&#12540;&#12364;&#12289;&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#22810;&#25968;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12363;&#12425;&#27083;&#25104;&#12373;&#12428;&#12427;&#22580;&#21512;&#12289; &#25351;&#23450;&#12375;&#12383; <code class="literal">&lt;properties&gt;</code> &#35201;&#32032;&#20869;&#12391;&#12289;&#21442;&#29031;&#12377;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12418;&#12375;&#21442;&#29031;&#12375;&#12383;&#12518;&#12491;&#12540;&#12463;&#12461;&#12540;&#12364;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12354;&#12427;&#22580;&#21512;&#12399;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12497;&#12473;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;many-to-one name="owner" property-ref="identity.ssn" column="OWNER_SSN"/&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-onetoone"></a>5.1.13. one-to-one
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#20182;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12408;&#12398;&#19968;&#23550;&#19968;&#38306;&#36899;&#12399;&#12289;<code class="literal">one-to-one</code> &#35201;&#32032;&#12391;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;one-to-one
        name="propertyName"                                          <span class="co">(1)</span>
        class="ClassName"                                            <span class="co">(2)</span>
        cascade="cascade_style"                                      <span class="co">(3)</span>
        constrained="true|false"                                     <span class="co">(4)</span>
        fetch="join|select"                                          <span class="co">(5)</span>
        property-ref="propertyNameFromAssociatedClass"               <span class="co">(6)</span>
        access="field|property|ClassName"                            <span class="co">(7)</span>
        formula="any SQL expression"                                 <span class="co">(8)</span>
        lazy="proxy|no-proxy|false"                                  <span class="co">(9)</span>
        entity-name="EntityName"                                     <span class="co">(10)</span>
        node="element-name|@attribute-name|element/@attribute|."
        embed-xml="true|false"
        foreign-key="foreign_key_name"
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">class</code> (optional - defaults to the property type determined by reflection): The name of the associated class. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">cascade</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#35242;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12363;&#12425;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#12289;&#12393;&#12398;&#25805;&#20316;&#12434;&#12459;&#12473;&#12465;&#12540;&#12489;&#12377;&#12427;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">constrained</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12395;&#23550;&#12377;&#12427;&#22806;&#37096;&#12461;&#12540;&#21046;&#32004;&#12364;&#12289; &#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#12486;&#12540;&#12502;&#12523;&#12434;&#21442;&#29031;&#12377;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#12399; <code class="literal">save()</code> &#12392; <code class="literal">delete()</code> &#12364;&#12459;&#12473;&#12465;&#12540;&#12489;&#12373;&#12428;&#12427;&#38918;&#24207;&#12395;&#24433;&#38911;&#12375;&#12289; &#12381;&#12375;&#12390;&#38306;&#36899;&#12364;&#12503;&#12525;&#12461;&#12471;&#12373;&#12428;&#12427;&#12363;&#12393;&#12358;&#12363;&#12395;&#12418;&#24433;&#38911;&#12375;&#12414;&#12377; &#65288;&#12381;&#12375;&#12390;&#12473;&#12461;&#12540;&#12510;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12484;&#12540;&#12523;&#12395;&#12418;&#20351;&#12431;&#12428;&#12414;&#12377;&#65289;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">fetch</code> (optional - defaults to <code class="literal">select</code>): Chooses between outer-join fetching or sequential select fetching. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">property-ref</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#65306; &#12371;&#12398;&#12463;&#12521;&#12473;&#12398;&#20027;&#12461;&#12540;&#12395;&#32080;&#21512;&#12373;&#12428;&#12383;&#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; &#25351;&#23450;&#12373;&#12428;&#12394;&#12369;&#12428;&#12400;&#12289;&#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#20027;&#12461;&#12540;&#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">formula</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): &#12411;&#12392;&#12435;&#12393;&#12377;&#12409;&#12390;&#12398;&#19968;&#23550;&#19968;&#38306;&#36899;&#12399;&#12458;&#12540;&#12490;&#12540;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#20027;&#12461;&#12540;&#12408;&#12392;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12428;&#20197;&#22806;&#12398;&#31232;&#12394;&#22580;&#21512;&#12399;&#12289; &#20182;&#12398;&#12459;&#12521;&#12512;&#12420;&#12289;&#35079;&#25968;&#12398;&#12459;&#12521;&#12512;&#12289;SQL&#27083;&#25991;&#12434;&#20351;&#12387;&#12383;&#32080;&#21512;&#12377;&#12427;&#12383;&#12417;&#12398;&#24335;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; &#65288;&#20363;&#12399; <code class="literal">org.hibernate.test.onetooneformula</code> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#65289; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(9)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">proxy</code> ): &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;&#22810;&#37325;&#24230;&#65297;&#12398;&#38306;&#36899;&#12364;&#12503;&#12525;&#12461;&#12471;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290; <code class="literal">lazy="no-proxy"</code> &#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12395;&#26368;&#21021;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289; &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12499;&#12523;&#12489;&#26178;&#12395;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#23455;&#35013;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;)&#12290; <code class="literal">lazy="false"</code> &#12399;&#38306;&#36899;&#12434;&#24120;&#12395;&#21363;&#26178;&#12395;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <span class="emphasis"><em>&#12418;&#12375; <code class="literal">constrained="false"</code> &#12394;&#12425;&#12400;&#12289; &#12503;&#12525;&#12461;&#12471;&#12399;&#20351;&#29992;&#19981;&#21487;&#33021;&#12392;&#12394;&#12426;&#12289;&#38306;&#36899;&#12434;&#21363;&#26178;&#12395;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65281;</em></span> 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(10)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">entity-name</code> (optional): The entity name of the associated class. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#19968;&#23550;&#19968;&#38306;&#36899;&#12395;&#12399;2&#31278;&#39006;&#12354;&#12426;&#12414;&#12377;&#65306; </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#20027;&#12461;&#12540;&#38306;&#36899; </p>
                        </li>
                        <li>
                           <p>&#12518;&#12491;&#12540;&#12463;&#22806;&#37096;&#12461;&#12540;&#38306;&#36899; </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#20027;&#12461;&#12540;&#38306;&#36899;&#12395;&#12399;&#12289;&#29305;&#21029;&#12394;&#12486;&#12540;&#12502;&#12523;&#12459;&#12521;&#12512;&#12399;&#24517;&#35201;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12418;&#12375;2&#12388;&#12398;&#34892;&#12364;&#38306;&#36899;&#12395;&#12424;&#12426;&#38306;&#20418;&#12375;&#12390;&#12356;&#12428;&#12400;&#12289;2&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#12399;&#21516;&#12376;&#20027;&#12461;&#12540;&#12398;&#20516;&#12434;&#20849;&#26377;&#12375;&#12414;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;2&#12388;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20027;&#12461;&#12540;&#38306;&#36899;&#12395;&#12424;&#12387;&#12390;&#38306;&#36899;&#20184;&#12369;&#12383;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289; &#30906;&#23455;&#12395;&#21516;&#12376;&#35672;&#21029;&#23376;&#12398;&#20516;&#12434;&#20195;&#20837;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;
                     
                  </p>
                  <p>&#20027;&#12461;&#12540;&#38306;&#36899;&#12434;&#34892;&#12358;&#12383;&#12417;&#12395;&#12399;&#12289;&#20197;&#19979;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434; <code class="literal">Employee</code> &#12392; <code class="literal">Person</code> &#12398;&#12381;&#12428;&#12382;&#12428;&#12395;&#36861;&#21152;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;one-to-one name="person" class="Person"/&gt;</pre><pre class="programlisting">&lt;one-to-one name="employee" class="Employee" constrained="true"/&gt;</pre><p>&#12371;&#12371;&#12391;&#12289;PERSON&#12392;EMPLOYEE&#12486;&#12540;&#12502;&#12523;&#12398;&#38306;&#20418;&#12377;&#12427;&#34892;&#12398;&#20027;&#12461;&#12540;&#12364;&#21516;&#12376;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#30906;&#23455;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; &#12371;&#12371;&#12391;&#12399;&#12289;<code class="literal">foreign</code> &#12392;&#12356;&#12358;&#29305;&#27530;&#12394;Hibernate&#35672;&#21029;&#23376;&#29983;&#25104;&#25126;&#30053;&#12434;&#20351;&#12356;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;class name="person" table="PERSON"&gt;
    &lt;id name="id" column="PERSON_ID"&gt;
        &lt;generator class="foreign"&gt;
            &lt;param name="property"&gt;employee&lt;/param&gt;
        &lt;/generator&gt;
    &lt;/id&gt;
    ...
    &lt;one-to-one name="employee"
        class="Employee"
        constrained="true"/&gt;
&lt;/class&gt;</pre><p><code class="literal">Employee</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12289;<code class="literal">Person</code> &#12398; <code class="literal">employee</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#21442;&#29031;&#12373;&#12428;&#12427;&#12424;&#12358;&#12395;&#12289; &#26032;&#12375;&#12367;&#12475;&#12540;&#12502;&#12373;&#12428;&#12383; <code class="literal">Person</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#12399;&#21516;&#12376;&#20027;&#12461;&#12540;&#12398;&#20516;&#12364;&#20195;&#20837;&#12373;&#12428;&#12414;&#12377;&#12290; &#26032;&#12375;&#12367;&#12475;&#12540;&#12502;&#12377;&#12427; <code class="literal">Person</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; &#12381;&#12398; <code class="literal">Person</code> &#12398; <code class="literal">employee</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#21442;&#29031;&#12377;&#12427; <code class="literal">Employee</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#12375;&#12390;&#21516;&#12376;&#20027;&#12461;&#12540;&#12364;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12418;&#12358;1&#12388;&#12398;&#26041;&#27861;&#12392;&#12375;&#12390;&#12289;<code class="literal">Employee</code> &#12363;&#12425; <code class="literal">Person</code> &#12408;&#12398; &#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12434;&#20351;&#12387;&#12383;&#22806;&#37096;&#12461;&#12540;&#38306;&#36899;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#34920;&#29694;&#12373;&#12428;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;many-to-one name="person" class="Person" column="PERSON_ID" unique="true"/&gt;</pre><p>&#12381;&#12375;&#12390;&#12371;&#12398;&#38306;&#36899;&#12399;&#12289; &#20197;&#19979;&#12398;&#35352;&#36848;&#12434; <code class="literal">Person</code> &#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12391;&#21452;&#26041;&#21521;&#12395;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;one-to-one name="employee" class="Employee" property-ref="person"/&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-naturalid"></a>5.1.14. natural-id
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;natural-id mutable="true|false"/&gt;
        &lt;property ... /&gt;
        &lt;many-to-one ... /&gt;
        ......
&lt;/natural-id&gt;</pre><p>&#20027;&#12461;&#12540;&#12392;&#12375;&#12390;&#20195;&#29702;&#12461;&#12540;&#12398;&#20351;&#29992;&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#12364;&#12289; &#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#33258;&#28982;&#12461;&#12540;&#12434;&#35672;&#21029;&#12377;&#12427;&#12424;&#12358;&#12395;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#33258;&#28982;&#12461;&#12540;&#12399;&#12518;&#12491;&#12540;&#12463;&#12363;&#12388;&#38750;null&#12394;&#19968;&#12388;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12289;&#12414;&#12383;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#36899;&#32080;&#12391;&#12377;&#12290; &#19981;&#22793;&#12391;&#12354;&#12428;&#12400;&#12373;&#12425;&#12395;&#33391;&#12356;&#12391;&#12377;&#12290; <code class="literal">&lt;natural-id&gt;</code> &#35201;&#32032;&#20869;&#12391;&#33258;&#28982;&#12461;&#12540;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; Hibernate&#12399;&#24517;&#28982;&#30340;&#12395;&#12518;&#12491;&#12540;&#12463;&#12363;&#12388;null&#20516;&#12434;&#35377;&#21487;&#12377;&#12427;&#21046;&#32004;&#12434;&#29983;&#25104;&#12375;&#12289; &#12371;&#12358;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#12424;&#12426;&#33258;&#24049;&#35352;&#36848;&#30340;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#33258;&#28982;&#12461;&#12540;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#27604;&#36611;&#12395;&#12399;&#12289; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12398;&#23455;&#35013;&#12434;&#24375;&#12367;&#12362;&#21223;&#12417;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#33258;&#28982;&#20027;&#12461;&#12540;&#12434;&#20351;&#12387;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12398;&#20351;&#29992;&#12434;&#24847;&#22259;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">mutable</code> (&#12458;&#12503;&#12471;&#12519;&#12531;, &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;&#33258;&#28982;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#19981;&#22793;(&#23450;&#25968;)&#12392;&#24819;&#23450;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-component"></a>5.1.15. component, dynamic-component
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">&lt;component&gt;</code> &#35201;&#32032;&#12399;&#12289; &#23376;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#35242;&#12463;&#12521;&#12473;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#12459;&#12521;&#12512;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12399;&#33258;&#20998;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#38918;&#12395;&#23450;&#32681;&#12391;&#12365;&#12414;&#12377;&#12290; &#20197;&#19979;&#12398;&#12300;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12301;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;component
        name="propertyName"                 <span class="co">(1)</span>
        class="className"                   <span class="co">(2)</span>
        insert="true|false"                 <span class="co">(3)</span>
        update="true|false"                 <span class="co">(4)</span>
        access="field|property|ClassName"   <span class="co">(5)</span>
        lazy="true|false"                   <span class="co">(6)</span>
        optimistic-lock="true|false"        <span class="co">(7)</span>
        unique="true|false"                 <span class="co">(8)</span>
        node="element-name|."
&gt;

        &lt;property ...../&gt;
        &lt;many-to-one .... /&gt;
        ........
&lt;/component&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">class</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12522;&#12501;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12424;&#12426;&#27770;&#23450;&#12373;&#12428;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#22411;&#65289;&#65306; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#65288;&#23376;&#65289;&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">insert</code>: Do the mapped columns appear in SQL <code class="literal">INSERT</code>s? 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">update</code>: Do the mapped columns appear in SQL <code class="literal">UPDATE</code>s? 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (optional - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12395;&#26368;&#21021;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#36933;&#24310;&#12375;&#12390;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; (&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#23455;&#35013;&#12434;&#20316;&#25104;&#12377;&#12427;&#26178;&#38291;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;) 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optimistic-lock</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> ): &#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#26356;&#26032;&#12395;&#12289;&#27005;&#35251;&#12525;&#12483;&#12463;&#12398;&#21462;&#24471;&#12434;&#35201;&#27714;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#35328;&#12356;&#25563;&#12360;&#12428;&#12400;&#12289;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12427;&#12392;&#12365;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#22679;&#12420;&#12377;&#12409;&#12365;&#12363;&#12434;&#27770;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unique</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12377;&#12409;&#12390;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12459;&#12521;&#12512;&#12395;&#12289;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12364;&#23384;&#22312;&#12377;&#12427;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#23376;&#12398; <code class="literal">&lt;property&gt;</code> &#12479;&#12464;&#12391;&#12289; &#23376;&#12398;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12486;&#12540;&#12502;&#12523;&#12459;&#12521;&#12512;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">&lt;component&gt;</code> &#35201;&#32032;&#12399;&#12289;&#35242;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#25147;&#12427;&#21442;&#29031;&#12392;&#12375;&#12390;&#12289; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427; <code class="literal">&lt;parent&gt;</code> &#12469;&#12502;&#35201;&#32032;&#12434;&#35377;&#21487;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">&lt;dynamic-component&gt;</code> &#35201;&#32032;&#12399;&#12289; <code class="literal">Map</code> &#12364;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12427;&#12371;&#12392;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; &#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12399;map&#12398;&#12461;&#12540;&#12434;&#21442;&#29031;&#12375;&#12414;&#12377;&#12290;<a href="#components-dynamic" title="8.5. &#21205;&#30340;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;">&#38917;8.5. &#12300;&#21205;&#30340;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-properties"></a>5.1.16. properties
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">&lt;properties&gt;</code> &#35201;&#32032;&#12399;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#25351;&#23450;&#12373;&#12428;&#12383;&#12289; &#35542;&#29702;&#30340;&#12394;&#12464;&#12523;&#12540;&#12500;&#12531;&#12464;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#27083;&#36896;&#12398;&#26368;&#12418;&#37325;&#35201;&#12394;&#20351;&#29992;&#26041;&#27861;&#12399;&#12289; <code class="literal">property-ref</code> &#12398;&#12479;&#12540;&#12466;&#12483;&#12488;&#12395;&#12394;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#32080;&#21512;&#12434;&#35377;&#21487;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; &#12381;&#12428;&#12399;&#12414;&#12383;&#12289;&#35079;&#25968;&#12459;&#12521;&#12512;&#12398;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12434;&#23450;&#32681;&#12377;&#12427;&#31777;&#21336;&#12394;&#26041;&#27861;&#12391;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;properties
        name="logicalName"                  <span class="co">(1)</span>
        insert="true|false"                 <span class="co">(2)</span>
        update="true|false"                 <span class="co">(3)</span>
        optimistic-lock="true|false"        <span class="co">(4)</span>
        unique="true|false"                 <span class="co">(5)</span>
&gt;

        &lt;property ...../&gt;
        &lt;many-to-one .... /&gt;
        ........
&lt;/properties&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code> : &#12464;&#12523;&#12540;&#12500;&#12531;&#12464;&#12398;&#35542;&#29702;&#21517;&#12290; &#23455;&#38555;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12391;&#12399; <span class="emphasis"><em>&#12354;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">insert</code>: Do the mapped columns appear in SQL <code class="literal">INSERT</code>s? 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">update</code>: Do the mapped columns appear in SQL <code class="literal">UPDATE</code>s? 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optimistic-lock</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> ): &#12371;&#12428;&#12425;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#26356;&#26032;&#12395;&#27005;&#35251;&#30340;&#12525;&#12483;&#12463;&#12398;&#21462;&#24471;&#12434;&#35201;&#27714;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#35328;&#12356;&#25563;&#12360;&#12428;&#12400;&#12289;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12427;&#12392;&#12365;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#22679;&#12420;&#12377;&#12409;&#12365;&#12363;&#12434;&#27770;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unique</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12377;&#12409;&#12390;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12459;&#12521;&#12512;&#12395;&#12289;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12364;&#23384;&#22312;&#12377;&#12427;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#20363;&#12360;&#12400;&#12289;&#12418;&#12375;&#20197;&#19979;&#12398;&#12424;&#12358;&#12394; <code class="literal">&lt;properties&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12364;&#12354;&#12387;&#12383;&#22580;&#21512;&#65306; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="personNumber"/&gt;
    ...
    &lt;properties name="name"
            unique="true" update="false"&gt;
        &lt;property name="firstName"/&gt;
        &lt;property name="initial"/&gt;
        &lt;property name="lastName"/&gt;
    &lt;/properties&gt;
&lt;/class&gt;</pre><p>&#20027;&#12461;&#12540;&#12398;&#20195;&#12431;&#12426;&#12395; <code class="literal">Person</code> &#12486;&#12540;&#12502;&#12523;&#12398;&#12518;&#12491;&#12540;&#12463;&#12461;&#12540;&#12408;&#12398;&#21442;&#29031;&#12434;&#25345;&#12388;&#12289; &#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12398;&#38306;&#36899;&#12434;&#25345;&#12388;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;&#65306; 
                  </p><pre class="programlisting">&lt;many-to-one name="person"
         class="Person" property-ref="name"&gt;
    &lt;column name="firstName"/&gt;
    &lt;column name="initial"/&gt;
    &lt;column name="lastName"/&gt;
&lt;/many-to-one&gt;</pre><p>&#12375;&#12363;&#12375;&#12289;&#12371;&#12398;&#12424;&#12358;&#12394;&#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#22806;&#12408;&#12398;&#20351;&#29992;&#12399;&#25512;&#22888;&#12375;&#12414;&#12379;&#12435;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-subclass"></a>5.1.17. subclass
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26368;&#24460;&#12395;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#27704;&#32154;&#21270;&#12395;&#12399;&#12289;&#12523;&#12540;&#12488;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#21508;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#23450;&#32681;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; table-per-class-hierarchy&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12391;&#12399;&#12289; <code class="literal">&lt;subclass&gt;</code> &#23450;&#32681;&#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;subclass
        name="ClassName"                              <span class="co">(1)</span>
        discriminator-value="discriminator_value"     <span class="co">(2)</span>
        proxy="ProxyInterface"                        <span class="co">(3)</span>
        lazy="true|false"                             <span class="co">(4)</span>
        dynamic-update="true|false"
        dynamic-insert="true|false"
        entity-name="EntityName"
        node="element-name"
        extends="SuperclassName"&gt;

        &lt;property .... /&gt;
        .....
&lt;/subclass&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#12463;&#12521;&#12473;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">discriminator-value</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12463;&#12521;&#12473;&#21517;&#65289;&#65306; &#20491;&#12293;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#21306;&#21029;&#12377;&#12427;&#12383;&#12417;&#12398;&#20516;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">proxy</code> (optional): Specifies a class or interface to use for lazy initializing proxies. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (optional, defaults to <code class="literal">true</code>): Setting <code class="literal">lazy="false"</code> disables the use of lazy fetching. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#21508;&#12469;&#12502;&#12463;&#12521;&#12473;&#12391;&#12399;&#12289;&#27704;&#32154;&#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; <code class="literal">&lt;version&gt;</code> &#12392; <code class="literal">&lt;id&gt;</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12289; &#12523;&#12540;&#12488;&#12463;&#12521;&#12473;&#12363;&#12425;&#32153;&#25215;&#12373;&#12428;&#12427;&#12392;&#20206;&#23450;&#12373;&#12428;&#12414;&#12377;&#12290; &#38542;&#23652;&#27083;&#36896;&#12395;&#12362;&#12369;&#12427;&#12469;&#12502;&#12463;&#12521;&#12473;&#12399;&#12289; &#12518;&#12491;&#12540;&#12463;&#12394; <code class="literal">discriminator-value</code> &#12434;&#23450;&#32681;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; none&#12364;&#25351;&#23450;&#12373;&#12428;&#12427;&#12392;&#12289;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;Java&#12463;&#12521;&#12473;&#21517;&#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#32153;&#25215;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#38306;&#12377;&#12427;&#24773;&#22577;&#12399; <a href="#inheritance" title="&#31532;9&#31456; &#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;">&#31456;&nbsp;9. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;</i></a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-joinedsubclass"></a>5.1.18. joined-subclass
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12418;&#12358;1&#12388;&#12398;&#26041;&#27861;&#12392;&#12375;&#12390;&#12289;&#21508;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#33258;&#36523;&#12398;&#12486;&#12540;&#12502;&#12523;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377; (table-per-subclass mapping strategy)&#12290; &#32153;&#25215;&#12375;&#12383;&#29366;&#24907;&#12399;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12398;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12387;&#12383;&#32080;&#21512;&#12391;&#26908;&#32034;&#12375;&#12414;&#12377;&#12290; <code class="literal">&lt;joined-subclass&gt;</code> &#35201;&#32032;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;joined-subclass
        name="ClassName"                    <span class="co">(1)</span>
        table="tablename"                   <span class="co">(2)</span>
        proxy="ProxyInterface"              <span class="co">(3)</span>
        lazy="true|false"                   <span class="co">(4)</span>
        dynamic-update="true|false"
        dynamic-insert="true|false"
        schema="schema"
        catalog="catalog"
        extends="SuperclassName"
        persister="ClassName"
        subselect="SQL expression"
        entity-name="EntityName"
        node="element-name"&gt;

        &lt;key .... &gt;

        &lt;property .... /&gt;
        .....
&lt;/joined-subclass&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#12463;&#12521;&#12473;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">table</code> :&#12469;&#12502;&#12463;&#12521;&#12473;&#12486;&#12540;&#12502;&#12523;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">proxy</code> (optional): Specifies a class or interface to use for lazy initializing proxies. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (optional, defaults to <code class="literal">true</code>): Setting <code class="literal">lazy="false"</code> disables the use of lazy fetching. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12395;&#12399;&#12289;&#35672;&#21029;&#12459;&#12521;&#12512;&#12399;&#24517;&#35201;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#21508;&#12469;&#12502;&#12463;&#12521;&#12473;&#12399; <code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12356;&#12289; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#35672;&#21029;&#23376;&#12434;&#20445;&#25345;&#12377;&#12427;&#12486;&#12540;&#12502;&#12523;&#12459;&#12521;&#12512;&#12434;&#23450;&#32681;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12398;&#31456;&#12398;&#21021;&#12417;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#26360;&#12365;&#30452;&#12379;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;

&lt;hibernate-mapping package="eg"&gt;

        &lt;class name="Cat" table="CATS"&gt;
                &lt;id name="id" column="uid" type="long"&gt;
                        &lt;generator class="hilo"/&gt;
                &lt;/id&gt;
                &lt;property name="birthdate" type="date"/&gt;
                &lt;property name="color" not-null="true"/&gt;
                &lt;property name="sex" not-null="true"/&gt;
                &lt;property name="weight"/&gt;
                &lt;many-to-one name="mate"/&gt;
                &lt;set name="kittens"&gt;
                        &lt;key column="MOTHER"/&gt;
                        &lt;one-to-many class="Cat"/&gt;
                &lt;/set&gt;
                &lt;joined-subclass name="DomesticCat" table="DOMESTIC_CATS"&gt;
                    &lt;key column="CAT"/&gt;
                    &lt;property name="name" type="string"/&gt;
                &lt;/joined-subclass&gt;
        &lt;/class&gt;

        &lt;class name="eg.Dog"&gt;
                &lt;!-- mapping for Dog could go here --&gt;
        &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#32153;&#25215;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#38306;&#12377;&#12427;&#24773;&#22577;&#12399; <a href="#inheritance" title="&#31532;9&#31456; &#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;">&#31456;&nbsp;9. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;</i></a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-unionsubclass"></a>5.1.19. union-subclass
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>3&#12388;&#30446;&#12398;&#36984;&#25246;&#32930;&#12399;&#12289;&#32153;&#25215;&#38542;&#23652;&#12398;&#20855;&#35937;&#12463;&#12521;&#12473;&#12398;&#12415;&#12434;&#12486;&#12540;&#12502;&#12523;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377; (the table-per-concrete-class&#25126;&#30053;)&#12290; &#12381;&#12428;&#12382;&#12428;&#12398;&#12486;&#12540;&#12502;&#12523;&#12399;&#32153;&#25215;&#12398;&#29366;&#24907;&#12434;&#21547;&#12417;&#12377;&#12409;&#12390;&#12398;&#12463;&#12521;&#12473;&#12398;&#27704;&#32154;&#29366;&#24907;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; Hibernate&#12391;&#12399;&#12381;&#12398;&#27096;&#12394;&#32153;&#25215;&#38542;&#23652;&#12364;&#24517;&#12378;&#12375;&#12418;&#24517;&#35201;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;
                     &#21336;&#32020;&#12395;&#12381;&#12428;&#12382;&#12428;&#12398;&#12463;&#12521;&#12473;&#12434;&#12289; &#21029;&#12293;&#12398; <code class="literal">&lt;class&gt;</code> &#23459;&#35328;&#12434;&#20351;&#12387;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#38306;&#36899;(&#20363;&#12360;&#12400; &#38542;&#23652;&#12398;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12408;&#12398;&#38306;&#36899;)&#12434;&#20351;&#12356;&#12383;&#12356;&#12394;&#12425;&#12289; <code class="literal">&lt;union-subclass&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#20351;&#12358;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;union-subclass
        name="ClassName"                    <span class="co">(1)</span>
        table="tablename"                   <span class="co">(2)</span>
        proxy="ProxyInterface"              <span class="co">(3)</span>
        lazy="true|false"                   <span class="co">(4)</span>
        dynamic-update="true|false"
        dynamic-insert="true|false"
        schema="schema"
        catalog="catalog"
        extends="SuperclassName"
        abstract="true|false"
        persister="ClassName"
        subselect="SQL expression"
        entity-name="EntityName"
        node="element-name"&gt;

        &lt;property .... /&gt;
        .....
&lt;/union-subclass&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#12463;&#12521;&#12473;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">table</code> :&#12469;&#12502;&#12463;&#12521;&#12473;&#12486;&#12540;&#12502;&#12523;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">proxy</code> (optional): Specifies a class or interface to use for lazy initializing proxies. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">lazy</code> (optional, defaults to <code class="literal">true</code>): Setting <code class="literal">lazy="false"</code> disables the use of lazy fetching. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12391;&#12399;&#35672;&#21029;&#12459;&#12521;&#12512;&#12420;&#12461;&#12540;&#12459;&#12521;&#12512;&#12399;&#24517;&#35201;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; </p>
                  <p>&#32153;&#25215;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#38306;&#12377;&#12427;&#24773;&#22577;&#12399; <a href="#inheritance" title="&#31532;9&#31456; &#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;">&#31456;&nbsp;9. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;</i></a> &#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-join"></a>5.1.20. join
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">&lt;join&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289; &#65297;&#12388;&#12398;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12356;&#12367;&#12388;&#12418;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;join
        table="tablename"                        <span class="co">(1)</span>
        schema="owner"                           <span class="co">(2)</span>
        catalog="catalog"                        <span class="co">(3)</span>
        fetch="join|select"                      <span class="co">(4)</span>
        inverse="true|false"                     <span class="co">(5)</span>
        optional="true|false"&gt;                   <span class="co">(6)</span>

        &lt;key ... /&gt;

        &lt;property ... /&gt;
        ...
&lt;/join&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">table</code> :&#32080;&#21512;&#12375;&#12383;&#12486;&#12540;&#12502;&#12523;&#12398;&#21517;&#21069; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">schema</code> (optional): Override the schema name specified by the root <code class="literal">&lt;hibernate-mapping&gt;</code> element. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">catalog</code> (optional): Override the catalog name specified by the root <code class="literal">&lt;hibernate-mapping&gt;</code> element. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">fetch</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">join</code> ): <code class="literal">join</code> &#12434;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289; Hibernate&#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12289;&#12463;&#12521;&#12473;&#12420;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12391;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">&lt;join&gt;</code> &#12434;&#26908;&#32034;&#12377;&#12427;&#12398;&#12395;&#20869;&#37096;&#32080;&#21512;&#12434;&#20351;&#12356;&#12289;&#12469;&#12502;&#12463;&#12521;&#12473;&#12391;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">&lt;join&gt;</code> &#12434;&#26908;&#32034;&#12377;&#12427;&#12398;&#12395;&#22806;&#37096;&#32080;&#21512;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; <code class="literal">select</code> &#12434;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12395;&#12399;&#12289; Hibernate&#12399;&#12469;&#12502;&#12463;&#12521;&#12473;&#12391;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">&lt;join&gt;</code> &#12398;&#36984;&#25246;&#12395;&#38918;&#27425;&#36984;&#25246;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;&#22580;&#21512;&#12289; &#34892;&#12364;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20195;&#34920;&#12377;&#12427;&#12371;&#12392;&#12364;&#12431;&#12363;&#12387;&#12383;&#22580;&#21512;&#12395;&#12398;&#12415;&#30330;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290; &#20869;&#37096;&#32080;&#21512;&#12399;&#12463;&#12521;&#12473;&#12420;&#12381;&#12398;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12391;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">&lt;join&gt;</code> &#12434;&#26908;&#32034; &#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">inverse</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12418;&#12375;&#21487;&#33021;&#12391;&#12354;&#12428;&#12400;&#12289;Hibernate&#12399;&#12371;&#12398;&#32080;&#21512;&#12391;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#23550;&#12375; &#25407;&#20837;&#12420;&#26356;&#26032;&#12434;&#34892;&#12356;&#12414;&#12379;&#12435;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optional</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code> ): &#12418;&#12375;&#21487;&#33021;&#12391;&#12354;&#12428;&#12400;&#12289;Hibernate&#12399;&#12371;&#12398;&#32080;&#21512;&#12391;&#23450;&#32681;&#12373;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;null&#12391;&#12394;&#12356;&#22580;&#21512;&#12395;&#12398;&#12415; &#34892;&#12434;&#25407;&#20837;&#12375;&#12289;&#12381;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#26908;&#32034;&#12395;&#12399;&#24120;&#12395;&#22806;&#37096;&#32080;&#21512;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#20363;&#12360;&#12400;&#20154;&#12398;&#12450;&#12489;&#12524;&#12473;&#12398;&#24773;&#22577;&#12434;&#20998;&#38626;&#12375;&#12383;&#12486;&#12540;&#12502;&#12523;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12364;&#21487;&#33021;&#12391;&#12377; (&#12377;&#12409;&#12390;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#20516;&#22411;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;)&#12290; </p><pre class="programlisting">&lt;class name="Person"
    table="PERSON"&gt;

    &lt;id name="id" column="PERSON_ID"&gt;...&lt;/id&gt;

    &lt;join table="ADDRESS"&gt;
        &lt;key column="ADDRESS_ID"/&gt;
        &lt;property name="address"/&gt;
        &lt;property name="zip"/&gt;
        &lt;property name="country"/&gt;
    &lt;/join&gt;
    ...</pre><p>&#12371;&#12398;&#29305;&#24500;&#12399;&#12375;&#12400;&#12375;&#12400;&#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12514;&#12487;&#12523;&#12395;&#23550;&#12375;&#12390;&#12398;&#12415;&#26377;&#29992;&#12391;&#12377;&#12364;&#12289; &#12463;&#12521;&#12473;&#12424;&#12426;&#12418;&#23569;&#12394;&#12356;&#12486;&#12540;&#12502;&#12523;&#12392;&#12289;&#12365;&#12417;&#12398;&#32048;&#12363;&#12356;&#12489;&#12513;&#12452;&#12531;&#12514;&#12487;&#12523;&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#24460;&#12391;&#35500;&#26126;&#12377;&#12427;&#12424;&#12358;&#12395;&#12289;&#65297;&#12388;&#12398;&#12463;&#12521;&#12473;&#38542;&#23652;&#12391;&#32153;&#25215;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12434;&#20999;&#12426;&#26367;&#12360;&#12427;&#26178;&#12395;&#12399;&#26377;&#29992;&#12391;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-key"></a>5.1.21. key
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#20170;&#12414;&#12391;&#20309;&#24230;&#12363; <code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12364;&#20986;&#12390;&#12365;&#12414;&#12375;&#12383;&#12290; &#12371;&#12398;&#35201;&#32032;&#12399;&#26032;&#12375;&#12356;&#12486;&#12540;&#12502;&#12523;&#12408;&#12398;&#32080;&#21512;&#12434;&#23450;&#32681;&#12375;&#12383;&#12426;&#12289; &#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12391;&#22806;&#37096;&#12461;&#12540;&#12434;&#23450;&#32681;&#12375;&#12383;&#12426;&#12377;&#12427;&#35242;&#35201;&#32032;&#12398;&#12393;&#12371;&#12395;&#12391;&#12418;&#29694;&#12428;&#12289; &#12458;&#12522;&#12472;&#12490;&#12523;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12434;&#21442;&#29031;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;key
        column="columnname"                      <span class="co">(1)</span>
        on-delete="noaction|cascade"             <span class="co">(2)</span>
        property-ref="propertyName"              <span class="co">(3)</span>
        not-null="true|false"                    <span class="co">(4)</span>
        update="true|false"                      <span class="co">(5)</span>
        unique="true|false"                      <span class="co">(6)</span>
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">column</code> (optional): The name of the foreign key column. This may also be specified by nested <code class="literal">&lt;column&gt;</code> element(s). 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">on-delete</code> (&#12458;&#12503;&#12471;&#12519;&#12531;, &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">noaction</code>): &#22806;&#37096;&#12461;&#12540;&#21046;&#32004;&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12524;&#12505;&#12523;&#12391;&#12459;&#12473;&#12465;&#12540;&#12489;&#21066;&#38500;&#12364;&#21487;&#33021;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">property-ref</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): &#12458;&#12522;&#12472;&#12490;&#12523;&#12486;&#12540;&#12502;&#12523;&#12398;&#20027;&#12461;&#12540;&#12391;&#12399;&#12394;&#12356;&#12459;&#12521;&#12512;&#12434;&#21442;&#29031;&#12377;&#12427;&#22806;&#37096;&#12461;&#12540;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12524;&#12460;&#12471;&#12540;&#12487;&#12540;&#12479;&#12395;&#23550;&#12375;&#12390;&#25552;&#20379;&#12373;&#12428;&#12414;&#12377;)&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">not-null</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): &#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12364;null&#20516;&#12434;&#35377;&#23481;&#12375;&#12394;&#12356;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12371;&#12398;&#12371;&#12392;&#12399;&#22806;&#37096;&#12461;&#12540;&#12364;&#20027;&#12461;&#12540;&#12398;&#19968;&#37096;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#26263;&#40665;&#30340;&#12395;&#31034;&#12375;&#12414;&#12377;)&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">update</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): &#22806;&#37096;&#12461;&#12540;&#12434;&#27770;&#12375;&#12390;&#26356;&#26032;&#12375;&#12390;&#12399;&#12394;&#12425;&#12394;&#12356;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12371;&#12398;&#12371;&#12392;&#12399;&#22806;&#37096;&#12461;&#12540;&#12364;&#20027;&#12461;&#12540;&#12398;&#19968;&#37096;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#26263;&#40665;&#30340;&#12395;&#31034;&#12375;&#12414;&#12377;)&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">unique</code> (&#12458;&#12503;&#12471;&#12519;&#12531;): &#22806;&#37096;&#12461;&#12540;&#12364;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12434;&#25345;&#12388;&#12409;&#12365;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12371;&#12398;&#12371;&#12392;&#12399;&#22806;&#37096;&#12461;&#12540;&#12364;&#20027;&#12461;&#12540;&#12398;&#19968;&#37096;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#26263;&#40665;&#30340;&#12395;&#31034;&#12375;&#12414;&#12377;)&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#21066;&#38500;&#12398;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12364;&#37325;&#35201;&#12391;&#12354;&#12427;&#12471;&#12473;&#12486;&#12512;&#12395;&#12399;&#12289; &#12377;&#12409;&#12390;&#12398;&#12461;&#12540;&#12434; <code class="literal">on-delete="cascade"</code> &#12392;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#12290; &#12381;&#12358;&#12377;&#12427;&#12371;&#12392;&#12391;Hibernate&#12399;&#12289;<code class="literal">DELETE</code> &#25991;&#12434;&#27598;&#22238;&#30330;&#34892;&#12377;&#12427;&#20195;&#12431;&#12426;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12524;&#12505;&#12523;&#12398; <code class="literal">ON CASCADE DELETE</code> &#21046;&#32004;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#29305;&#24500;&#12399;&#12496;&#12540;&#12472;&#12519;&#12531;&#20184;&#12369;&#12425;&#12428;&#12383;&#12487;&#12540;&#12479;&#12395;&#23550;&#12377;&#12427;Hibernate&#12398;&#36890;&#24120;&#12398;&#27005;&#35251;&#30340;&#12525;&#12483;&#12463;&#25126;&#30053;&#12434; &#28961;&#35222;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">not-null</code> &#12392; <code class="literal">update</code> &#23646;&#24615;&#12399;&#12289;&#21336;&#26041;&#21521;&#19968;&#23550;&#22810;&#38306;&#36899;&#12398;&#26178;&#12395;&#12399;&#26377;&#29992;&#12391;&#12377;&#12290; &#21336;&#26041;&#21521;&#19968;&#23550;&#22810;&#38306;&#36899;&#12434;null&#12434;&#35377;&#23481;&#12375;&#12394;&#12356;&#22806;&#37096;&#12461;&#12540;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12392;&#12365;&#12399;&#12289; <code class="literal">&lt;key not-null="true"&gt;</code> &#12434;&#20351;&#12387;&#12390;&#12461;&#12540;&#12459;&#12521;&#12512;&#12434;&#23459;&#35328; <span class="emphasis"><em> &#12375;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-column"></a>5.1.22. column &#12392; formula &#35201;&#32032;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">column</code> &#23646;&#24615;&#12434;&#35352;&#36848;&#12391;&#12365;&#12427;&#20219;&#24847;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12399;&#12414;&#12383;&#12289; <code class="literal">&lt;column&gt;</code> &#12469;&#12502;&#35201;&#32032;&#12418;&#35352;&#36848;&#12391;&#12365;&#12414;&#12377;&#12290; &#21516;&#27096;&#12395; <code class="literal">&lt;formula&gt;</code> &#12418; <code class="literal">formula</code> &#23646;&#24615;&#12398;&#20195;&#26367;&#25163;&#27573;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;column
        name="column_name"
        length="N"
        precision="N"
        scale="N"
        not-null="true|false"
        unique="true|false"
        unique-key="multicolumn_unique_key_name"
        index="index_name"
        sql-type="sql_type_name"
        check="SQL expression"
        default="SQL expression"/&gt;</pre><pre class="programlisting">&lt;formula&gt;SQL expression&lt;/formula&gt;</pre><p>&#21516;&#12376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#38306;&#36899;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#20013;&#12391;&#12289; <code class="literal">column</code> &#12392; <code class="literal">formula</code> &#23646;&#24615;&#12434;&#32068;&#12415;&#21512;&#12431;&#12379;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;&#29305;&#27530;&#12394;&#32080;&#21512;&#26465;&#20214;&#12394;&#12393;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;many-to-one name="homeAddress" class="Address"
        insert="false" update="false"&gt;
    &lt;column name="person_id" not-null="true" length="10"/&gt;
    &lt;formula&gt;'MAILING'&lt;/formula&gt;
&lt;/many-to-one&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-declaration-import"></a>5.1.23. import
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#21516;&#12376;&#21517;&#21069;&#12398;2&#12388;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12364;&#12354;&#12426;&#12289; Hibernate&#12463;&#12456;&#12522;&#12391;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#65288;&#12497;&#12483;&#12465;&#12540;&#12472;&#12398;&#65289;&#21517;&#21069;&#12434;&#25351;&#23450;&#12375;&#12383;&#12367;&#12394;&#12356;&#12392;&#20206;&#23450;&#12375;&#12414;&#12377;&#12290; &#12381;&#12398;&#12424;&#12358;&#12394;&#22580;&#21512;&#12399; <code class="literal">auto-import="true"</code> &#12395;&#38972;&#12425;&#12378;&#12289; &#12463;&#12521;&#12473;&#12364;&#12300;&#12452;&#12531;&#12509;&#12540;&#12488;&#12301;&#12373;&#12428;&#12383;&#12418;&#12398;&#12391;&#12354;&#12427;&#12392;&#26126;&#31034;&#12391;&#12365;&#12414;&#12377;&#12290; &#26126;&#31034;&#30340;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#12420;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12391;&#12373;&#12360;&#12418;&#12452;&#12531;&#12509;&#12540;&#12488;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;import class="java.lang.Object" rename="Universe"/&gt;</pre><div class="programlistingco"><pre class="programlisting">&lt;import
        class="ClassName"              <span class="co">(1)</span>
        rename="ShortName"             <span class="co">(2)</span>
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">class</code>&#65306;Java&#12463;&#12521;&#12473;&#12398;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#12463;&#12521;&#12473;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">rename</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#20462;&#39166;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12463;&#12521;&#12473;&#21517;&#65289;&#65306; &#12463;&#12456;&#12522;&#35328;&#35486;&#12391;&#20351;&#12431;&#12428;&#12427;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-types-anymapping"></a>5.1.24. any
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12503;&#12525;&#12497;&#12486;&#12451;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;&#12373;&#12425;&#12395;&#12418;&#12358;1&#12388;&#12398;&#22411;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">&lt;any&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12399;&#12289; &#35079;&#25968;&#12398;&#12486;&#12540;&#12502;&#12523;&#12363;&#12425;&#12463;&#12521;&#12473;&#12408;&#12398;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#38306;&#36899;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#22411;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;&#24517;&#12378;&#35079;&#25968;&#12398;&#12459;&#12521;&#12512;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290;1&#30058;&#30446;&#12398;&#12459;&#12521;&#12512;&#12399;&#38306;&#36899;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#22411;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; &#27531;&#12426;&#12398;&#12459;&#12521;&#12512;&#12399;&#35672;&#21029;&#23376;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290;&#12371;&#12398;&#31278;&#39006;&#12398;&#38306;&#36899;&#12395;&#12399;&#22806;&#37096;&#12461;&#12540;&#21046;&#32004;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290;
                     &#12381;&#12398;&#12383;&#12417;&#12371;&#12428;&#12399;&#26368;&#12418;&#20351;&#12431;&#12428;&#12427;&#12371;&#12392;&#12398;&#12394;&#12356;&#65288;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#65289;&#38306;&#36899;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#26041;&#27861;&#12391;&#12377;&#12290; &#38750;&#24120;&#12395;&#29305;&#21029;&#12394;&#22580;&#21512;&#65288;&#20363;&#12360;&#12400;&#12289;&#26908;&#26619;&#12525;&#12464;&#12420;&#12518;&#12540;&#12470;&#12475;&#12483;&#12471;&#12519;&#12531;&#12487;&#12540;&#12479;&#12394;&#12393;)&#12395;&#38480;&#12387;&#12390;&#12289;&#12371;&#12428;&#12434;&#20351;&#12358;&#12409;&#12365;&#12391;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">meta-type</code> &#12395;&#12424;&#12426;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12459;&#12473;&#12479;&#12512;&#22411;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290;&#12371;&#12398;&#12459;&#12473;&#12479;&#12512;&#22411;&#12399; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12459;&#12521;&#12512;&#12398;&#20516;&#12434;&#12289;<code class="literal">id-type</code> &#12391;&#25351;&#23450;&#12375;&#12383;&#22411;&#12398; &#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25345;&#12387;&#12383;&#27704;&#32154;&#12463;&#12521;&#12473;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; meta-type&#12398;&#20516;&#12363;&#12425;&#12463;&#12521;&#12473;&#21517;&#12408;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">&lt;any name="being" id-type="long" meta-type="string"&gt;
    &lt;meta-value value="TBL_ANIMAL" class="Animal"/&gt;
    &lt;meta-value value="TBL_HUMAN" class="Human"/&gt;
    &lt;meta-value value="TBL_ALIEN" class="Alien"/&gt;
    &lt;column name="table_name"/&gt;
    &lt;column name="id"/&gt;
&lt;/any&gt;</pre><div class="programlistingco"><pre class="programlisting">&lt;any
        name="propertyName"                      <span class="co">(1)</span>
        id-type="idtypename"                     <span class="co">(2)</span>
        meta-type="metatypename"                 <span class="co">(3)</span>
        cascade="cascade_style"                  <span class="co">(4)</span>
        access="field|property|ClassName"        <span class="co">(5)</span>
        optimistic-lock="true|false"             <span class="co">(6)</span>
&gt;
        &lt;meta-value ... /&gt;
        &lt;meta-value ... /&gt;
        .....
        &lt;column .... /&gt;
        &lt;column .... /&gt;
        .....
&lt;/any&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">name</code>&#65306;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">id-type</code>&#65306;&#35672;&#21029;&#23376;&#12398;&#22411;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">meta-type</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">string</code> &#65289;&#65306; &#12487;&#12451;&#12473;&#12463;&#12522;&#12511;&#12493;&#12540;&#12479;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#35377;&#12373;&#12428;&#12383;&#22411; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">cascade</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">none</code> &#65289;&#65306; &#12459;&#12473;&#12465;&#12540;&#12489;&#12398;&#12473;&#12479;&#12452;&#12523;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">access</code> (optional - defaults to <code class="literal">property</code>): The strategy Hibernate should use for accessing the property value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">optimistic-lock</code> (&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code> ): &#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#26356;&#26032;&#12395;&#27005;&#35251;&#12525;&#12483;&#12463;&#12398;&#21462;&#24471;&#12434;&#35201;&#27714;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#35328;&#12356;&#25563;&#12360;&#12428;&#12400;&#12289;&#12371;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12427;&#12392;&#12365;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#22679;&#12420;&#12377;&#12409;&#12365;&#12363;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-types"></a>5.2. Hibernate&#12398;&#22411;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-types-entitiesvalues"></a>5.2.1. &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#20516;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#27704;&#32154;&#12469;&#12540;&#12499;&#12473;&#12395;&#38306;&#12431;&#12427;&#27096;&#12293;&#12394;Java&#35328;&#35486;&#12524;&#12505;&#12523;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434;&#29702;&#35299;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;2&#12388;&#12398;&#12464;&#12523;&#12540;&#12503;&#12395;&#20998;&#12369;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#65306; </p>
                  <p><span class="emphasis"><em> &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;</em></span> &#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#21442;&#29031;&#12434;&#20445;&#25345;&#12377;&#12427;&#12289; &#20182;&#12398;&#12377;&#12409;&#12390;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12363;&#12425;&#29420;&#31435;&#12375;&#12390;&#23384;&#22312;&#12375;&#12414;&#12377;&#12290; &#21442;&#29031;&#12373;&#12428;&#12394;&#12356;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12460;&#12505;&#12540;&#12472;&#12467;&#12524;&#12463;&#12488;&#12373;&#12428;&#12390;&#12375;&#12414;&#12358;&#24615;&#36074;&#12434;&#25345;&#12388;&#36890;&#24120;&#12398;Java&#12514;&#12487;&#12523;&#12392;&#12289; &#12371;&#12428;&#12434;&#27604;&#12409;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#65288;&#35242;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12363;&#12425;&#23376;&#12408;&#12289;&#12475;&#12540;&#12502;&#12392;&#21066;&#38500;&#12364;
                     <span class="emphasis"><em>&#12459;&#12473;&#12465;&#12540;&#12489;</em></span> &#12373;&#12428;&#12358;&#12427;&#12371;&#12392;&#12434;&#38500;&#12356;&#12390;&#65289; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#26126;&#31034;&#30340;&#12395;&#12475;&#12540;&#12502;&#12414;&#12383;&#12399;&#21066;&#38500;&#12373;&#12428;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12428;&#12399;&#21040;&#36948;&#21487;&#33021;&#24615;&#12395;&#12424;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#27704;&#32154;&#21270;&#12398;ODMG&#12514;&#12487;&#12523;&#12392;&#12399;&#30064;&#12394;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#22823;&#35215;&#27169;&#12394;&#12471;&#12473;&#12486;&#12512;&#12391;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#26222;&#36890;&#12393;&#12398;&#12424;&#12358;&#12395;&#20351;&#12431;&#12428;&#12427;&#12363;&#12395;&#12424;&#12426;&#23494;&#25509;&#12395;&#23550;&#24540;&#12375;&#12414;&#12377;&#12290;
                     &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#24490;&#29872;&#12392;&#21442;&#29031;&#12398;&#20849;&#26377;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#12381;&#12428;&#12425;&#12399;&#12496;&#12540;&#12472;&#12519;&#12531;&#20184;&#12369;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#27704;&#32154;&#29366;&#24907;&#12399;&#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12420; <span class="emphasis"><em>&#20516;</em></span> &#22411;&#12398; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12408;&#12398;&#21442;&#29031;&#12363;&#12425;&#27083;&#25104;&#12373;&#12428;&#12414;&#12377;&#12290; &#20516;&#12399;&#12503;&#12522;&#12511;&#12486;&#12451;&#12502;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;(&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#20869;&#37096;&#12391;&#12399;&#12394;&#12367;)&#12289; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12289;&#19981;&#22793;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#12377;&#12290; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#12399;&#36949;&#12356;&#12289;&#20516;&#12399;&#65288;&#29305;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12395;&#12362;&#12356;&#12390;&#65289;&#12289; &#21040;&#36948;&#21487;&#33021;&#24615;&#12395;&#12424;&#12427;&#27704;&#32154;&#21270;&#12420;&#21066;&#38500;&#12364;
                     <span class="emphasis"><em>&#34892;&#12431;&#12428;&#12414;&#12377;</em></span> &#12290; &#20516;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#65288;&#12392;&#12503;&#12522;&#12511;&#12486;&#12451;&#12502;&#65289;&#12399;&#12289;&#21253;&#21547;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#19968;&#32210;&#12395;&#27704;&#32154;&#21270;&#12420;&#21066;&#38500;&#12364;&#34892;&#12431;&#12428;&#12427;&#12398;&#12391;&#12289; &#12381;&#12428;&#12425;&#12434;&#29420;&#31435;&#12395;&#12496;&#12540;&#12472;&#12519;&#12531;&#20184;&#12369;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#20516;&#12395;&#12399;&#29420;&#31435;&#12375;&#12383;&#12450;&#12452;&#12487;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#12394;&#12356;&#12398;&#12391;&#12289; &#35079;&#25968;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#12371;&#12428;&#12434;&#20849;&#26377;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290;
                     
                  </p>
                  <p>&#12371;&#12428;&#12414;&#12391;&#12300;&#27704;&#32154;&#12463;&#12521;&#12473;&#12301;&#12392;&#12356;&#12358;&#35328;&#33865;&#12434;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#24847;&#21619;&#12391;&#20351;&#12387;&#12390;&#12365;&#12414;&#12375;&#12383;&#12290; &#12371;&#12428;&#12363;&#12425;&#12418;&#12381;&#12358;&#12375;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290; &#21427;&#23494;&#12395;&#35328;&#12358;&#12392;&#12289;&#27704;&#32154;&#29366;&#24907;&#12434;&#25345;&#12388;&#12518;&#12540;&#12470;&#23450;&#32681;&#12398;&#12463;&#12521;&#12473;&#12398;&#12377;&#12409;&#12390;&#12364; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#12356;&#12358;&#12431;&#12369;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; <span class="emphasis"><em>&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;</em></span> &#12399;&#20516;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#25345;&#12388;&#12518;&#12540;&#12470;&#23450;&#32681;&#12463;&#12521;&#12473;&#12391;&#12377;&#12290; <code class="literal">java.lang.String</code> &#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#12414;&#12383;&#20516;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#23450;&#32681;&#12377;&#12427;&#12394;&#12425;&#12289;JDK&#12391;&#25552;&#20379;&#12373;&#12428;&#12390;&#12356;&#12427;&#12377;&#12409;&#12390;&#12398;Java&#12398;&#22411;(&#12463;&#12521;&#12473;)&#12364;&#20516;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#25345;&#12388;&#12392;&#12356;&#12360;&#12414;&#12377;&#12290; &#19968;&#26041;&#12518;&#12540;&#12470;&#23450;&#32681;&#22411;&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12420;&#20516;&#22411;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12392;&#12392;&#12418;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#12414;&#12377;&#12290;
                     &#12371;&#12398;&#27770;&#23450;&#12399;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#38283;&#30330;&#32773;&#27425;&#31532;&#12391;&#12377;&#12290; &#12381;&#12398;&#12463;&#12521;&#12473;&#12398;&#65297;&#12388;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12408;&#12398;&#20849;&#26377;&#21442;&#29031;&#12399;&#12289; &#12489;&#12513;&#12452;&#12531;&#12514;&#12487;&#12523;&#20869;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12395;&#23550;&#12377;&#12427;&#33391;&#12356;&#12498;&#12531;&#12488;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#19968;&#26041;&#21512;&#25104;&#38598;&#32004;&#12420;&#38598;&#32004;&#12399;&#12289;&#36890;&#24120;&#20516;&#22411;&#12408;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#26412;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#36890;&#12375;&#12390;&#12289;&#20309;&#24230;&#12418;&#12371;&#12398;&#27010;&#24565;&#12434;&#21462;&#12426;&#19978;&#12370;&#12414;&#12377;&#12290; </p>
                  <p>Java&#22411;&#12398;&#12471;&#12473;&#12486;&#12512;(&#12418;&#12375;&#12367;&#12399;&#38283;&#30330;&#32773;&#12364;&#23450;&#32681;&#12375;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#20516;&#22411;)&#12434; SQL/&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#22411;&#12398;&#12471;&#12473;&#12486;&#12512;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12399;&#38627;&#12375;&#12356;&#12391;&#12377;&#12290; Hibernate&#12399;&#65298;&#12388;&#12398;&#12471;&#12473;&#12486;&#12512;&#12398;&#26550;&#12369;&#27211;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#12399; <code class="literal">&lt;class&gt;</code> &#12420; <code class="literal">&lt;subclass&gt;</code> &#12394;&#12393;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#20516;&#22411;&#12395;&#23550;&#12375;&#12390;&#12399; <code class="literal">&lt;property&gt;</code> &#12420; <code class="literal">&lt;component&gt;</code> &#12394;&#12393;&#12434;&#12289;&#36890;&#24120; <code class="literal">type</code> &#12392;&#12392;&#12418;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#23646;&#24615;&#12398;&#20516;&#12399;Hibernate&#12398; <span class="emphasis"><em>&#12510;&#12483;&#12500;&#12531;&#12464;&#22411;</em></span> &#12398;&#21517;&#21069;&#12391;&#12377;&#12290; Hibernate&#12399;(&#27161;&#28310;JDK&#12398;&#20516;&#22411;&#12395;&#23550;&#12375;&#12390;)&#22810;&#12367;&#12398;&#33258;&#30001;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#24460;&#12391;&#35211;&#12427;&#12424;&#12358;&#12395;&#12289;&#33258;&#36523;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#22411;&#12434;&#35352;&#36848;&#12375;&#12289;&#21516;&#27096;&#12395;&#12459;&#12473;&#12479;&#12512;&#12398;&#22793;&#25563;&#25126;&#30053;&#12434;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#38500;&#12367;&#32068;&#12415;&#36796;&#12415;&#12398;Hibernate&#12398;&#22411;&#12399;&#12377;&#12409;&#12390;&#12289;null&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-types-basictypes"></a>5.2.2. &#22522;&#26412;&#30340;&#12394;&#22411;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>The built-in <span class="emphasis"><em>basic mapping types</em></span> may be roughly categorized into 
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term"><code class="literal">integer, long, short, float, double, character, byte, boolean, yes_no, true_false</code></span></dt>
                        <dd>
                           <p>Java&#12398;&#12503;&#12522;&#12511;&#12486;&#12451;&#12502;&#12420;&#12521;&#12483;&#12497;&#12540;&#12463;&#12521;&#12473;&#12363;&#12425;&#36969;&#20999;&#12394;&#65288;&#12505;&#12531;&#12480;&#12540;&#22266;&#26377;&#12398;&#65289; SQL&#12459;&#12521;&#12512;&#22411;&#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; <code class="literal">boolean, yes_no</code> &#12392; <code class="literal">true_false</code> &#12399;&#12289; &#12377;&#12409;&#12390;Java&#12398; <code class="literal">boolean</code> &#12414;&#12383;&#12399; <code class="literal">java.lang.Boolean</code> &#12398;&#20195;&#26367;&#12456;&#12531;&#12467;&#12540;&#12489;&#12391;&#12377;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">string</code></span></dt>
                        <dd>
                           <p><code class="literal">java.lang.String</code> &#12363;&#12425; <code class="literal">VARCHAR</code> &#65288;&#12414;&#12383;&#12399;Oracle&#12398; <code class="literal">VARCHAR2</code> &#65289;&#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">date, time, timestamp</code></span></dt>
                        <dd>
                           <p><code class="literal">java.util.Date</code> &#12392;&#12381;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12363;&#12425;SQL&#22411;&#12398; <code class="literal">DATE</code>, <code class="literal">TIME</code> , <code class="literal">TIMESTAMP</code> &#65288;&#12414;&#12383;&#12399;&#12381;&#12428;&#12425;&#12392;&#31561;&#20385;&#12394;&#12418;&#12398;&#65289; &#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">calendar, calendar_date</code></span></dt>
                        <dd>
                           <p><code class="literal">java.util.Calendar</code> &#12363;&#12425;SQL&#22411; &#12398;&#12300; <code class="literal">TIMESTAMP</code> , <code class="literal">DATE</code> (&#12414;&#12383;&#12399;&#12381;&#12428;&#12425;&#12392;&#31561;&#20385;&#12394;&#12418;&#12398;&#65289;&#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">big_decimal, big_integer</code></span></dt>
                        <dd>
                           <p><code class="literal">java.math.BigDecimal</code> &#12392; <code class="literal">java.math.BigInteger</code> &#12363;&#12425; <code class="literal">NUMERIC</code>&#65288;&#12414;&#12383;&#12399;Oracle&#12398; <code class="literal">NUMBER</code> &#65289;&#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">locale, timezone, currency</code></span></dt>
                        <dd>
                           <p><code class="literal">java.util.Locale</code> , <code class="literal">java.util.TimeZone</code> , <code class="literal">java.util.Currency</code> &#12363;&#12425; <code class="literal">VARCHAR</code> &#65288;&#12414;&#12383;&#12399;Oracle&#12398; <code class="literal">VARCHAR2</code> &#65289;&#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; <code class="literal">Locale</code> &#12392; <code class="literal">Currency</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; &#12381;&#12428;&#12425;&#12398;ISO&#12467;&#12540;&#12489;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; <code class="literal">TimeZone</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; &#12381;&#12428;&#12425;&#12398; <code class="literal">ID</code> &#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">class</code></span></dt>
                        <dd>
                           <p><code class="literal">java.lang.Class</code> &#12363;&#12425; <code class="literal">VARCHAR</code> &#65288;&#12414;&#12383;&#12399;Oracle&#12398; <code class="literal">VARCHAR2</code> &#65289;&#12408;&#12398;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; <code class="literal">Class</code> &#12399;&#12381;&#12398;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#21517;&#21069;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">binary</code></span></dt>
                        <dd>
                           <p>&#12496;&#12452;&#12488;&#37197;&#21015;&#12399;&#12289;&#36969;&#20999;&#12394;SQL&#12398;&#12496;&#12452;&#12490;&#12522;&#22411;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
                        </dd>
                        <dt><span class="term"><code class="literal">text</code></span></dt>
                        <dd>
                           <p>&#38263;&#12356;Java&#25991;&#23383;&#21015;&#12399;&#12289;SQL&#12398; <code class="literal">CLOB</code> &#12414;&#12383;&#12399; <code class="literal">TEXT</code> &#22411;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">serializable</code></span></dt>
                        <dd>
                           <p>&#12471;&#12522;&#12450;&#12521;&#12452;&#12474;&#21487;&#33021;&#12394;Java&#22411;&#12399;&#12289;&#36969;&#20999;&#12394;SQL&#12398;&#12496;&#12452;&#12490;&#12522;&#22411;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#22522;&#26412;&#22411;&#12391;&#12399;&#12394;&#12356;&#12471;&#12522;&#12450;&#12521;&#12452;&#12474;&#21487;&#33021;&#12394;Java&#12463;&#12521;&#12473;&#12420; &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#21517;&#21069;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; Hibernate&#12398;&#22411;&#12434; <code class="literal">serializable</code> &#12392;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
                           </p>
                        </dd>
                        <dt><span class="term"><code class="literal">clob, blob</code></span></dt>
                        <dd>
                           <p>JDBC&#12463;&#12521;&#12473; <code class="literal">java.sql.Clob</code> &#12392; <code class="literal">java.sql.Blob</code> &#12395;&#23550;&#12377;&#12427;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; blob&#12420;clob&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#22806;&#12391;&#12399;&#20877;&#21033;&#29992;&#12391;&#12365;&#12394;&#12356;&#12383;&#12417;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#12399;&#19981;&#20415;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#65288;&#12373;&#12425;&#12395;&#12399;&#12489;&#12521;&#12452;&#12496;&#12469;&#12509;&#12540;&#12488;&#12364;&#19968;&#36011;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290;&#65289; 
                           </p>
                        </dd>
                        <dt><span class="term">
                              <code class="literal">imm_date, imm_time, imm_timestamp, imm_calendar, imm_calendar_date, imm_serializable, imm_binary</code>
                              </span></dt>
                        <dd>
                           <p>&#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#12395;&#21487;&#22793;&#12391;&#12354;&#12427;Java&#12398;&#22411;&#12395;&#23550;&#12377;&#12427;&#22411;&#12510;&#12483;&#12500;&#12531;&#12464;&#12290; Hibernate&#12399;&#19981;&#22793;&#12394;Java&#12398;&#22411;&#12395;&#23550;&#12375;&#12390;&#12399;&#26368;&#36969;&#21270;&#12434;&#34892;&#12356;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12381;&#12428;&#12434;&#19981;&#22793;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#12375;&#12390;&#25201;&#12356;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">imm_timestamp</code> &#12392;&#12375;&#12390;&#12510;&#12483;&#12503;&#12375;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#23550;&#12375;&#12390;&#12289; <code class="literal">Date.setTime()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12434;&#22793;&#26356;&#12375;&#12381;&#12398;&#22793;&#26356;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#26032;&#12375;&#12356;(&#21516;&#19968;&#12391;&#12394;&#12356;)&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21106;&#12426;&#24403;&#12390;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <p>
                     
                     
                  </p>
                  <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12399;&#12289;<code class="literal">binary</code> , <code class="literal">blob</code> , <code class="literal">clob</code> &#12434;&#38500;&#12367;&#12289;&#12393;&#12435;&#12394;&#22522;&#26412;&#22411;&#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290; &#65288;&#35079;&#21512;&#35672;&#21029;&#23376;&#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290;&#20197;&#19979;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#65289; 
                  </p>
                  <p>&#22522;&#26412;&#30340;&#12394;&#20516;&#22411;&#12395;&#12399;&#12289;<code class="literal">org.hibernate.Hibernate</code> &#12391;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">Type</code> &#23450;&#25968;&#12364;&#12381;&#12428;&#12382;&#12428;&#12354;&#12426;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;<code class="literal">Hibernate.STRING</code> &#12399; <code class="literal">string</code> &#22411;&#12434;&#34920;&#29694;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-types-custom"></a>5.2.3. &#12459;&#12473;&#12479;&#12512;&#22411;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#38283;&#30330;&#32773;&#12364;&#29420;&#33258;&#12398;&#20516;&#22411;&#12434;&#20316;&#25104;&#12377;&#12427;&#12371;&#12392;&#12399;&#12289;&#27604;&#36611;&#30340;&#31777;&#21336;&#12391;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;<code class="literal">java.lang.BigInteger</code> &#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434; <code class="literal">VARCHAR</code> &#12459;&#12521;&#12512;&#12395;&#27704;&#32154;&#21270;&#12375;&#12383;&#12356;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399;&#12371;&#12398;&#12383;&#12417;&#12398;&#32068;&#12415;&#36796;&#12415;&#22411;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#12459;&#12473;&#12479;&#12512;&#22411;&#12399;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#65288;&#12414;&#12383;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#65289;&#12434;1&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#12459;&#12521;&#12512;&#12395; &#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12398;&#12395;&#21046;&#38480;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12381;&#12398;&#12383;&#12417;&#20363;&#12360;&#12400;&#12289;<code class="literal">java.lang.String</code> &#22411;&#12398; <code class="literal">getName()</code> / <code class="literal">setName()</code> Java&#12503;&#12525;&#12497;&#12486;&#12451;&#12434; <code class="literal">FIRST_NAME</code> , <code class="literal">INITIAL</code>, <code class="literal">SURNAME</code> &#12459;&#12521;&#12512;&#12395;&#27704;&#32154;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12459;&#12473;&#12479;&#12512;&#22411;&#12434;&#23455;&#35013;&#12377;&#12427;&#12395;&#12399;&#12289;<code class="literal">org.hibernate.UserType</code> &#12414;&#12383;&#12399; <code class="literal">org.hibernate.CompositeUserType</code> &#12434;&#23455;&#35013;&#12375;&#12289; &#22411;&#12398;&#23436;&#20840;&#20462;&#39166;&#12373;&#12428;&#12383;&#21517;&#21069;&#12434;&#20351;&#12387;&#12390;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#12393;&#12398;&#12424;&#12358;&#12394;&#31278;&#39006;&#12398;&#12418;&#12398;&#12364;&#21487;&#33021;&#12363;&#12434;&#35519;&#12409;&#12427;&#12395;&#12399;&#12289; <code class="literal">org.hibernate.test.DoubleStringType</code> &#12434;&#30906;&#35469;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;property name="twoStrings" type="org.hibernate.test.DoubleStringType"&gt;
    &lt;column name="first_string"/&gt;
    &lt;column name="second_string"/&gt;
&lt;/property&gt;</pre><p><code class="literal">&lt;column&gt;</code> &#12479;&#12464;&#12391;&#12289; &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#35079;&#25968;&#12398;&#12459;&#12521;&#12512;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#12427;&#12371;&#12392;&#12395;&#27880;&#30446;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">CompositeUserType</code> , <code class="literal">EnhancedUserType</code> , <code class="literal">UserCollectionType</code> , <code class="literal">UserVersionType</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12399;&#12289;&#12424;&#12426;&#29305;&#27530;&#12394;&#20351;&#29992;&#27861;&#12395;&#23550;&#12375;&#12390;&#12398;&#12469;&#12509;&#12540;&#12488;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#20869;&#12391; <code class="literal">UserType</code> &#12408;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#25552;&#20379;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#12383;&#12417;&#12395;&#12399;&#12289;<code class="literal">UserType</code> &#12399; <code class="literal">org.hibernate.usertype.ParameterizedType</code> &#12434;&#23455;&#35013;&#12375;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12459;&#12473;&#12479;&#12512;&#22411;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#25552;&#20379;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#20869;&#12391; <code class="literal">&lt;type&gt;</code> &#35201;&#32032;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;property name="priority"&gt;
    &lt;type name="com.mycompany.usertypes.DefaultValueIntegerType"&gt;
        &lt;param name="default"&gt;0&lt;/param&gt;
    &lt;/type&gt;
&lt;/property&gt;</pre><p><code class="literal">UserType</code> &#12399;&#12289; &#24341;&#25968;&#12392;&#12375;&#12390;&#28193;&#12373;&#12428;&#12383; <code class="literal">Properties</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12363;&#12425;&#12289; <code class="literal">default</code> &#12391;&#25351;&#23450;&#12375;&#12383;&#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#23550;&#12377;&#12427;&#20516;&#12434;&#26908;&#32034;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#29305;&#23450;&#12398; <code class="literal">UserType</code> &#12434;&#38971;&#32321;&#12395;&#20351;&#29992;&#12377;&#12427;&#12394;&#12425;&#12400;&#12289;&#30701;&#12356;&#21517;&#21069;&#12434;&#23450;&#32681;&#12377;&#12427;&#12392;&#20415;&#21033;&#12395;&#12394;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; <code class="literal">&lt;typedef&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12387;&#12390;&#12371;&#12398;&#12424;&#12358;&#12394;&#12371;&#12392;&#12364;&#34892;&#12360;&#12414;&#12377;&#12290; Typedefs&#12399;&#12459;&#12473;&#12479;&#12512;&#22411;&#12395;&#21517;&#21069;&#12434;&#21106;&#12426;&#24403;&#12390;&#12414;&#12377;&#12290; &#12381;&#12398;&#22411;&#12364;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#25345;&#12388;&#12394;&#12425;&#12400;&#12289; &#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12398;&#12522;&#12473;&#12488;&#12434;&#21547;&#12416;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;typedef class="com.mycompany.usertypes.DefaultValueIntegerType" name="default_zero"&gt;
    &lt;param name="default"&gt;0&lt;/param&gt;
&lt;/typedef&gt;</pre><pre class="programlisting">&lt;property name="priority" type="default_zero"/&gt;</pre><p>&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#22411;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289; typedef&#12391;&#25552;&#20379;&#12373;&#12428;&#12383;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#12381;&#12398;&#37117;&#24230;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12377;&#12427;&#12371;&#12392;&#12364;&#21487;&#33021;&#12391;&#12377;&#12290; </p>
                  <p>Hibernate&#12398;&#24133;&#24195;&#12356;&#32068;&#12415;&#36796;&#12415;&#22411;&#12392;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12395;&#23550;&#12377;&#12427;&#12469;&#12509;&#12540;&#12488;&#12399;&#12289; &#12459;&#12473;&#12479;&#12512;&#22411;&#12434;&#12417;&#12387;&#12383;&#12395; <span class="emphasis"><em>&#20351;&#12431;&#12394;&#12356;</em></span> &#12392;&#12356;&#12358;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; &#12381;&#12428;&#12391;&#12418;&#12394;&#12362;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#38971;&#20986;&#12377;&#12427;(&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12399;&#12394;&#12356;)&#12463;&#12521;&#12473;&#12395;&#23550;&#12377;&#12427;&#12459;&#12473;&#12479;&#12512;&#22411;&#12398;&#20351;&#29992;&#12399;&#12289; &#12424;&#12356;&#12420;&#12426;&#26041;&#12391;&#12354;&#12427;&#12392;&#12415;&#12394;&#12373;&#12428;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">MonetaryAmount</code> &#12463;&#12521;&#12473;&#12399;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12392;&#12375;&#12390;&#31777;&#21336;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#12414;&#12377;&#12364;&#12289; <code class="literal">CompositeUserType</code> &#12398;&#33391;&#12356;&#20505;&#35036;&#12391;&#12377;&#12290; &#12459;&#12473;&#12479;&#12512;&#22411;&#12434;&#20351;&#29992;&#12377;&#12427;&#21205;&#27231;&#12398;1&#12388;&#12399;&#25277;&#35937;&#21270;&#12391;&#12377;&#12290; &#12459;&#12473;&#12479;&#12512;&#22411;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289;&#36890;&#36008;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#34920;&#29694;&#12375;&#12424;&#12358;&#12392;&#12418; &#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12399;&#36215;&#12371;&#12426;&#12358;&#12427;&#22793;&#21270;&#12395;&#23550;&#24540;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-entityname"></a>5.3. &#65297;&#12388;&#12398;&#12463;&#12521;&#12473;&#12395;&#65297;&#12388;&#20197;&#19978;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12354;&#12427;&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#12289;&#19968;&#12388;&#20197;&#19978;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#25552;&#20379;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; &#12371;&#12398;&#22580;&#21512;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#65298;&#12388;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#26126;&#30906;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <span class="emphasis"><em>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#21517;</em></span> &#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435; (&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#21517;&#12399;&#12463;&#12521;&#12473;&#21517;&#12392;&#21516;&#12376;&#12391;&#12377;&#12290;)&#12290; &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25201;&#12358;&#12392;&#12365;&#12289;&#12463;&#12456;&#12522;&#12434;&#26360;&#12365;&#36796;&#12416;&#12392;&#12365;&#12289; &#25351;&#23450;&#12373;&#12428;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#38306;&#36899;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12392;&#12365;&#12395;&#12399;&#12289; Hibernate&#12391;&#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#21517;&#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;
                  
               </p><pre class="programlisting">&lt;class name="Contract" table="Contracts"
        entity-name="CurrentContract"&gt;
    ...
    &lt;set name="history" inverse="true"
            order-by="effectiveEndDate desc"&gt;
        &lt;key column="currentContractId"/&gt;
        &lt;one-to-many entity-name="HistoricalContract"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Contract" table="ContractHistory"
        entity-name="HistoricalContract"&gt;
    ...
    &lt;many-to-one name="currentContract"
            column="currentContractId"
            entity-name="CurrentContract"/&gt;
&lt;/class&gt;</pre><p>&#38306;&#36899;&#12364;<code class="literal">class</code> &#12398;&#20195;&#12431;&#12426;&#12395; <code class="literal">entity-name</code> &#12434;&#20351;&#12387;&#12390;&#12289; &#12393;&#12398;&#12424;&#12358;&#12395;&#25351;&#23450;&#12373;&#12428;&#12427;&#12398;&#12363;&#12395;&#27880;&#30446;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-quotedidentifiers"></a>5.4. &#12496;&#12483;&#12463;&#12463;&#12457;&#12540;&#12488;&#12391;&#22258;&#12435;&#12384; SQL &#35672;&#21029;&#23376;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12391;&#12486;&#12540;&#12502;&#12523;&#12420;&#12459;&#12521;&#12512;&#12398;&#21517;&#21069;&#12434;&#12496;&#12483;&#12463;&#12463;&#12457;&#12540;&#12488;&#12391;&#22258;&#12416;&#12371;&#12392;&#12391;&#12289; Hibernate&#12391;&#29983;&#25104;&#12373;&#12428;&#12383;SQL&#20013;&#12398;&#35672;&#21029;&#23376;&#12434;&#24341;&#29992;&#12373;&#12379;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; Hibernate&#12399;SQL&#12398; <code class="literal">Dialect</code> &#12395;&#23550;&#24540;&#12377;&#12427;&#12289;&#27491;&#12375;&#12356;&#24341;&#29992;&#12473;&#12479;&#12452;&#12523;&#12434;&#20351;&#12356;&#12414;&#12377; &#65288;&#26222;&#36890;&#12399;&#12480;&#12502;&#12523;&#12463;&#12457;&#12540;&#12488;&#12391;&#12377;&#12364;&#12289;SQL Server&#12391;&#12399;&#12363;&#12366;&#25324;&#24359;&#12289;MySQL&#12391;&#12399;&#12496;&#12483;&#12463;&#12463;&#12457;&#12540;&#12488;&#12391;&#12377;&#65289;&#12290; 
               </p><pre class="programlisting">&lt;class name="LineItem" table="`Line Item`"&gt;
    &lt;id name="id" column="`Item Id`"/&gt;&lt;generator class="assigned"/&gt;&lt;/id&gt;
    &lt;property name="itemNumber" column="`Item #`"/&gt;
    ...
&lt;/class&gt;</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-alternatives"></a>5.5. &#12513;&#12479;&#12487;&#12540;&#12479;&#12398;&#20195;&#26367;&#25163;&#27573;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>XML&#12398;&#35352;&#36848;&#20197;&#22806;&#12395;&#12289; Hibernate&#12391;&#12399;O/R&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;&#12434;&#23450;&#32681;&#12377;&#12427;&#20195;&#26367;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-xdoclet"></a>5.5.1. XDoclet &#12510;&#12540;&#12463;&#12450;&#12483;&#12503;&#12398;&#20351;&#29992;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#22810;&#12367;&#12398;Hibernate&#12518;&#12540;&#12470;&#12399;XDoclet&#12398; <code class="literal">@hibernate.tags</code> &#12434;&#20351;&#12387;&#12390;&#12289; &#12477;&#12540;&#12473;&#12467;&#12540;&#12489;&#20869;&#12395;&#30452;&#25509;&#12510;&#12483;&#12500;&#12531;&#12464;&#24773;&#22577;&#12434;&#22475;&#12417;&#36796;&#12416;&#12371;&#12392;&#12434;&#22909;&#12415;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#21427;&#23494;&#12395;&#35328;&#12360;&#12400;XDoclet&#12398;&#20998;&#37326;&#12394;&#12398;&#12391;&#12289;&#26412;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12391;&#12399;&#12371;&#12398;&#26041;&#27861;&#12434;&#23550;&#35937;&#12392;&#12399;&#12375;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;XDoclet&#12434;&#20351;&#12387;&#12383;&#20197;&#19979;&#12398; <code class="literal">Cat</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#20363;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">package eg;
import java.util.Set;
import java.util.Date;

/**
 * @hibernate.class
 *  table="CATS"
 */
public class Cat {
    private Long id; // identifier
    private Date birthdate;
    private Cat mother;
    private Set kittens
    private Color color;
    private char sex;
    private float weight;

    /*
     * @hibernate.id
     *  generator-class="native"
     *  column="CAT_ID"
     */
    public Long getId() {
        return id;
    }
    private void setId(Long id) {
        this.id=id;
    }

    /**
     * @hibernate.many-to-one
     *  column="PARENT_ID"
     */
    public Cat getMother() {
        return mother;
    }
    void setMother(Cat mother) {
        this.mother = mother;
    }

    /**
     * @hibernate.property
     *  column="BIRTH_DATE"
     */
    public Date getBirthdate() {
        return birthdate;
    }
    void setBirthdate(Date date) {
        birthdate = date;
    }
    /**
     * @hibernate.property
     *  column="WEIGHT"
     */
    public float getWeight() {
        return weight;
    }
    void setWeight(float weight) {
        this.weight = weight;
    }

    /**
     * @hibernate.property
     *  column="COLOR"
     *  not-null="true"
     */
    public Color getColor() {
        return color;
    }
    void setColor(Color color) {
        this.color = color;
    }
    /**
     * @hibernate.set
     *  inverse="true"
     *  order-by="BIRTH_DATE"
     * @hibernate.collection-key
     *  column="PARENT_ID"
     * @hibernate.collection-one-to-many
     */
    public Set getKittens() {
        return kittens;
    }
    void setKittens(Set kittens) {
        this.kittens = kittens;
    }
    // addKitten not needed by Hibernate
    public void addKitten(Cat kitten) {
        kittens.add(kitten);
    }

    /**
     * @hibernate.property
     *  column="SEX"
     *  not-null="true"
     *  update="false"
     */
    public char getSex() {
        return sex;
    }
    void setSex(char sex) {
        this.sex=sex;
    }
}</pre><p>Hibernate&#12398;&#12454;&#12455;&#12502;&#12469;&#12452;&#12488;&#12395;&#12399;&#12289;XDoclet&#12392;Hibernate&#12395;&#38306;&#12377;&#12427;&#12469;&#12531;&#12503;&#12523;&#12364;&#22810;&#25968;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="mapping-annotations"></a>5.5.2. JDK 5.0 &#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12398;&#20351;&#29992;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>JDK5.0&#12391;&#12399;&#12479;&#12452;&#12503;&#12475;&#12540;&#12501;&#12363;&#12388;&#12467;&#12531;&#12497;&#12452;&#12523;&#26178;&#12395;&#12481;&#12455;&#12483;&#12463;&#12391;&#12365;&#12427;&#12289; &#35328;&#35486;&#12524;&#12505;&#12523;&#12398;XDoclet&#12473;&#12479;&#12452;&#12523;&#12398;&#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12434;&#23566;&#20837;&#12375;&#12414;&#12375;&#12383;&#12290; &#12371;&#12398;&#12513;&#12459;&#12491;&#12474;&#12512;&#12399;XDoclet&#12398;&#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12424;&#12426;&#12418;&#24375;&#21147;&#12391;&#12289;&#12484;&#12540;&#12523;&#12420;IDE&#12418;&#22810;&#12367;&#12364;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;IntelliJ
                     IDEA&#12399;&#12289;JDK5.0&#12395;&#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12398;&#33258;&#21205;&#35036;&#23436;&#12392;&#27083;&#25991;&#12398;&#24375;&#35519;&#34920;&#31034;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; EJB&#20181;&#27096; (JSR-220)&#12398;&#26032;&#12375;&#12356;&#12496;&#12540;&#12472;&#12519;&#12531;&#12391;&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12499;&#12540;&#12531;&#12395;&#23550;&#12377;&#12427;&#20027;&#35201;&#12394;&#12513;&#12479;&#12487;&#12540;&#12479;&#12513;&#12459;&#12491;&#12474;&#12512;&#12392;&#12375;&#12390; JDK5.0&#12398;&#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12434;&#20351;&#29992;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;
                     Hibernate3&#12391;&#12399;JSR-220 (&#27704;&#32154;&#21270;API)&#12398; <code class="literal">EntityManager</code> &#12434;&#23455;&#35013;&#12375;&#12289; &#12513;&#12479;&#12487;&#12540;&#12479;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23550;&#12377;&#12427;&#12469;&#12509;&#12540;&#12488;&#12399;&#12289; &#21029;&#12480;&#12454;&#12531;&#12525;&#12540;&#12489;&#12398; <span class="emphasis"><em>Hibernate Annotations</em></span> &#12497;&#12483;&#12465;&#12540;&#12472;&#12395;&#12424;&#12426;&#21033;&#29992;&#21487;&#33021;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;EJB3(JSR-220)&#12392;Hibernate3&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;&#12434;&#12393;&#12385;&#12425;&#12418;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#20197;&#19979;&#12399;EJB&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12499;&#12540;&#12531;&#12392;&#12375;&#12390;&#27880;&#37320;&#12373;&#12428;&#12383;POJO&#12463;&#12521;&#12473;&#12398;&#20363;&#12391;&#12377;&#12290; </p><pre class="programlisting">@Entity(access = AccessType.FIELD)
public class Customer implements Serializable {

    @Id;
    Long id;

    String firstName;
    String lastName;
    Date birthday;

    @Transient
    Integer age;

    @Embedded
    private Address homeAddress;

    @OneToMany(cascade=CascadeType.ALL)
    @JoinColumn(name="CUSTOMER_ID")
    Set&lt;Order&gt; orders;

    // Getter/setter and business methods
}</pre><p>JDK5.0&#12398;&#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;(&#12392;JSR-220)&#12398;&#12469;&#12509;&#12540;&#12488;&#12399;&#36914;&#34892;&#20013;&#12398;&#20316;&#26989;&#12391;&#12354;&#12426;&#12289;&#23436;&#20840;&#12391;&#12399;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12373;&#12425;&#12395;&#35443;&#12375;&#12356;&#24773;&#22577;&#12399;Hibernate&#12398;&#12450;&#12494;&#12486;&#12540;&#12471;&#12519;&#12531;&#12539;&#12514;&#12472;&#12517;&#12540;&#12523;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-generated"></a>5.6. &#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12424;&#12387;&#12390;&#29983;&#25104;&#12373;&#12428;&#12383;&#20516;&#12434;&#25345;&#12388;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12377;&#12290; &#36890;&#24120;&#12289;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#20516;&#12434;&#29983;&#25104;&#12375;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#21547;&#12416;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">&#12522;&#12501;&#12524;&#12483;&#12471;&#12517;</code> &#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12375;&#12383;&#12290; &#12375;&#12363;&#12375;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#29983;&#25104;&#12373;&#12428;&#12383;&#12392;&#12356;&#12358;&#12371;&#12392;&#12434;&#12510;&#12540;&#12463;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12522;&#12501;&#12524;&#12483;&#12471;&#12517;&#12398;&#36012;&#20219;&#12434;Hibernate&#12395;&#22996;&#35698;&#12375;&#12414;&#12377;&#12290; &#22522;&#26412;&#30340;&#12395;&#12289;&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25345;&#12388;&#12392;&#23450;&#32681;&#12375;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390; Hibernate&#12364;INSERT&#12420;UPDATE&#12398;SQL&#12434;&#30330;&#34892;&#12375;&#12383;&#24460;&#12377;&#12368;&#12395;&#12289;
                  &#29983;&#25104;&#12373;&#12428;&#12383;&#20516;&#12434;&#35501;&#12415;&#36796;&#12416;&#12383;&#12417;&#12398; SELECT SQL &#12364;&#30330;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>&#29983;&#25104;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12289;&#25407;&#20837;&#19981;&#21487;&#33021;&#12363;&#12388;&#26356;&#26032;&#19981;&#21487;&#33021;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <a href="#mapping-declaration-version" title="5.1.9. version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;">&#38917;5.1.9. &#12300;version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12301;</a> &#12289; <a href="#mapping-declaration-timestamp" title="5.1.10. timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;">&#38917;5.1.10. &#12300;timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12301;</a> &#12289; <a href="#mapping-declaration-property" title="5.1.11. property">&#38917;5.1.11. &#12300;property&#12301;</a> &#12384;&#12369;&#12364;&#29983;&#25104;&#12373;&#12428;&#12383;&#12392;&#12510;&#12540;&#12463;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p>
               <p><code class="literal">never</code> (&#12487;&#12501;&#12457;&#12523;&#12488;) - &#19982;&#12360;&#12425;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12399;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#29983;&#25104;&#12373;&#12428;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p><code class="literal">insert</code> - &#19982;&#12360;&#12425;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12399;&#25407;&#20837;&#26178;&#12395;&#29983;&#25104;&#12373;&#12428;&#12427;&#12364;&#12289; &#32154;&#12356;&#12390;&#36215;&#12371;&#12427;&#26356;&#26032;&#26178;&#12395;&#12399;&#29983;&#25104;&#12373;&#12428;&#12394;&#12356;&#12371;&#12392;&#31034;&#12375;&#12414;&#12377;&#12290; &#20316;&#25104;&#12373;&#12428;&#12383;&#26085;&#20184;&#12394;&#12393;&#12399;&#12289;&#12371;&#12398;&#12459;&#12486;&#12468;&#12522;&#12395;&#20998;&#39006;&#12373;&#12428;&#12414;&#12377;&#12290; <a href="#mapping-declaration-version" title="5.1.9. version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;">&#38917;5.1.9. &#12300;version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12301;</a> &#12420; <a href="#mapping-declaration-timestamp" title="5.1.10. timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;">&#38917;5.1.10. &#12300;timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12301;</a> &#12398; &#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#29983;&#25104;&#12373;&#12428;&#12383;&#12392;&#12510;&#12540;&#12463;&#12391;&#12365;&#12414;&#12377;&#12364;&#12289;&#12371;&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#12399;&#21033;&#29992;&#12391;&#12365;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p><code class="literal">always</code> - &#25407;&#20837;&#26178;&#12418;&#26356;&#26032;&#26178;&#12418;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12364;&#29983;&#25104;&#12373;&#12428;&#12427;&#12371;&#12392;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="mapping-database-object"></a>5.7. &#35036;&#21161;&#30340;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12398;&#12473;&#12461;&#12540;&#12510;&#12539;&#12456;&#12508;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12484;&#12540;&#12523;&#12392;&#36899;&#21205;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#20219;&#24847;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#65288;&#12488;&#12522;&#12460;&#12540;&#12420;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12394;&#12393;&#65289;&#12398;CREATE&#12392;DROP&#12395;&#12424;&#12426;&#12289; Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#20869;&#12398;&#12518;&#12540;&#12470;&#12539;&#12473;&#12461;&#12540;&#12510;&#12434;&#12377;&#12409;&#12390;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290;
                  &#20027;&#12395;&#12488;&#12522;&#12460;&#12420;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12398;&#12424;&#12358;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#29983;&#25104;&#12420;&#21066;&#38500;&#12377;&#12427;&#12371;&#12392;&#12434;&#24847;&#22259;&#12375;&#12390;&#12356;&#12414;&#12377;&#12364;&#12289; &#23455;&#38555;&#12395;&#12399; <code class="literal">java.sql.Statement.execute()</code> &#12513;&#12477;&#12483;&#12489;&#12395;&#12424;&#12387;&#12390;&#23455;&#34892;&#12391;&#12365;&#12427; &#20219;&#24847;&#12398;SQL&#12467;&#12510;&#12531;&#12489;&#65288;ALTER&#12289;INSERT&#12394;&#12393;&#65289;&#12364;&#23455;&#34892;&#12391;&#12365;&#12414;&#12377;&#12290; &#35036;&#21161;&#30340;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#23450;&#32681;&#12377;&#12427;&#12383;&#12417;&#12398;&#12289;2&#12388;&#12398;&#22522;&#26412;&#30340;&#12394;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>1&#12388;&#30446;&#12398;&#26041;&#27861;&#12399;&#12289;CREATE&#12392;DROP&#12467;&#12510;&#12531;&#12489;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12398;&#22806;&#12395;&#12289;&#26126;&#31034;&#30340;&#12395;&#35352;&#36617;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;hibernate-mapping&gt;
    ...
    &lt;database-object&gt;
        &lt;create&gt;CREATE TRIGGER my_trigger ...&lt;/create&gt;
        &lt;drop&gt;DROP TRIGGER my_trigger&lt;/drop&gt;
    &lt;/database-object&gt;
&lt;/hibernate-mapping&gt;</pre><p>2&#12388;&#30446;&#12398;&#26041;&#27861;&#12399;&#12289;CREATE&#12392;DROP&#12467;&#12510;&#12531;&#12489;&#12398;&#32068;&#12415;&#31435;&#12390;&#26041;&#12434;&#30693;&#12387;&#12390;&#12356;&#12427;&#12459;&#12473;&#12479;&#12512;&#12463;&#12521;&#12473;&#12434;&#25552;&#20379;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; &#12371;&#12398;&#12459;&#12473;&#12479;&#12512;&#12463;&#12521;&#12473;&#12399; <code class="literal">org.hibernate.mapping.AuxiliaryDatabaseObject</code> &#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12434; &#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p><pre class="programlisting">&lt;hibernate-mapping&gt;
    ...
    &lt;database-object&gt;
        &lt;definition class="MyTriggerDefinition"/&gt;
    &lt;/database-object&gt;
&lt;/hibernate-mapping&gt;</pre><p>&#12373;&#12425;&#12395;&#12289;&#12354;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#26041;&#35328;&#12364;&#20351;&#29992;&#12373;&#12428;&#12427;&#26178;&#12395;&#12384;&#12369;&#36969;&#29992;&#12377;&#12427;&#12392;&#12356;&#12387;&#12383;&#12424;&#12358;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#20351;&#12431;&#12428;&#12427;&#12465;&#12540;&#12473;&#12434;&#38480;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;hibernate-mapping&gt;
    ...
    &lt;database-object&gt;
        &lt;definition class="MyTriggerDefinition"/&gt;
        &lt;dialect-scope name="org.hibernate.dialect.Oracle9Dialect"/&gt;
        &lt;dialect-scope name="org.hibernate.dialect.OracleDialect"/&gt;
    &lt;/database-object&gt;
&lt;/hibernate-mapping&gt;</pre></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="collections"></a>&#31532;6&#31456; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="collections-persistent"></a>6.1. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#27704;&#32154;&#21270;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#22411;&#12398;&#12501;&#12451;&#12540;&#12523;&#12489;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#12395;&#12399;&#12289; &#12381;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#22411;&#12364;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#22411;&#12391;&#12354;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289; </p><pre class="programlisting">public class Product {
    private String serialNumber;
    private Set parts = new HashSet();
    
    public Set getParts() { return parts; }
    void setParts(Set parts) { this.parts = parts; }
    public String getSerialNumber() { return serialNumber; }
    void setSerialNumber(String sn) { serialNumber = sn; }
}</pre><p>&#23455;&#22312;&#12377;&#12427;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12395;&#12399; <code class="literal">java.util.Set</code>&#12289; <code class="literal">java.util.Collection</code>&#12289;<code class="literal">java.util.List</code>&#12289; <code class="literal">java.util.Map</code>&#12289;<code class="literal">java.util.SortedSet</code>&#12289; <code class="literal">java.util.SortedMap</code> &#12394;&#12393;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12414;&#12383;&#12399;&#12289;&#20219;&#24847;&#12398;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12364;&#20351;&#12360;&#12414;&#12377;&#65281; &#65288;&#12383;&#12384;&#12375;&#12289;&#20219;&#24847;&#12398;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#20351;&#29992;&#12377;&#12427;&#22580;&#21512;&#12399;&#12289; <code class="literal">org.hibernate.usertype.UserCollectionType</code> &#12398;&#23455;&#35013;&#12463;&#12521;&#12473;&#12434;&#20316;&#25104;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;&#65289; 
               </p>
               <p><code class="literal">HashSet</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#25345;&#12388;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12364; &#12393;&#12398;&#12424;&#12358;&#12395;&#21021;&#26399;&#21270;&#12373;&#12428;&#12427;&#12363;&#12395;&#27880;&#30446;&#12375;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#12290; &#12371;&#12428;&#12399;&#26032;&#12383;&#12395;&#29983;&#25104;&#12373;&#12428;&#12383;&#65288;&#27704;&#32154;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#65289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434; &#21021;&#26399;&#21270;&#12377;&#12427;&#26368;&#36969;&#12394;&#26041;&#27861;&#12391;&#12377;&#12290; &#65288;&#20363;&#12360;&#12400; <code class="literal">persist()</code> &#12395;&#12424;&#12426;&#65289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#27704;&#32154;&#21270;&#12375;&#12424;&#12358;&#12392;&#12375;&#12383;&#12392;&#12365;&#12289; Hibernate&#12399; <code class="literal">HashSet</code> &#12434;Hibernate&#29420;&#33258;&#12398; <code class="literal">Set</code> &#12398;&#23455;&#35013;&#12463;&#12521;&#12473;&#12395;&#32622;&#12365;&#25563;&#12360;&#12414;&#12377;&#12290; &#12371;&#12398;&#12383;&#12417;&#12289;&#27425;&#12398;&#12424;&#12358;&#12394;&#12456;&#12521;&#12540;&#12395;&#12399;&#27880;&#24847;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">Cat cat = new DomesticCat();
Cat kitten = new DomesticCat();
....
Set kittens = new HashSet();
kittens.add(kitten);
cat.setKittens(kittens);
session.persist(cat);
kittens = cat.getKittens(); // Okay, kittens collection is a Set
(HashSet) cat.getKittens(); // Error!</pre><p>Hibernate&#12395;&#12424;&#12426;&#27880;&#20837;&#12373;&#12428;&#12383;&#27704;&#32154;&#24615;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#22411;&#12395;&#24540;&#12376;&#12390;&#12289; <code class="literal">HashMap</code> &#12420; <code class="literal">HashSet</code>&#12289; <code class="literal">TreeMap</code>&#12289; <code class="literal">TreeSet</code>&#12289; <code class="literal">ArrayList</code> &#12398;&#12424;&#12358;&#12395;&#25391;&#33310;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#20516;&#22411;&#12392;&#12375;&#12390;&#26222;&#36890;&#12395;&#25391;&#33310;&#12356;&#12414;&#12377;&#12290; &#27704;&#32154;&#21270;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#21442;&#29031;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#33258;&#21205;&#30340;&#12395;&#27704;&#32154;&#21270;&#12373;&#12428;&#12289; &#21442;&#29031;&#12364;&#12394;&#12367;&#12394;&#12387;&#12383;&#12392;&#12365;&#12395;&#33258;&#21205;&#30340;&#12395;&#21066;&#38500;&#12373;&#12428;&#12414;&#12377;&#12290; &#12418;&#12375;&#12354;&#12427;&#27704;&#32154;&#21270;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12363;&#12425;&#21029;&#12398;&#27704;&#32154;&#21270;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#28193;&#12373;&#12428;&#12383;&#12425;&#12289; &#12381;&#12398;&#35201;&#32032;&#12399;&#29694;&#22312;&#12398;&#12486;&#12540;&#12502;&#12523;&#12363;&#12425;&#21029;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#31227;&#21205;&#12377;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;
                  &#65298;&#12388;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#21516;&#12376;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20849;&#26377;&#12375;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; &#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12514;&#12487;&#12523;&#12434;&#12505;&#12540;&#12473;&#12395;&#12375;&#12390;&#12356;&#12427;&#12383;&#12417;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395; null&#20516;&#12434;&#20195;&#20837;&#12375;&#12390;&#12418;&#24847;&#21619;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12388;&#12414;&#12426;Hibernate&#12399;&#21442;&#29031;&#20808;&#12398;&#12394;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#31354;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21306;&#21029;&#12375;&#12414;&#12379;&#12435;&#12290;
                  
               </p>
               <p>&#12375;&#12363;&#12375;&#12381;&#12428;&#12411;&#12393;&#24515;&#37197;&#12375;&#12394;&#12367;&#12390;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290; &#26222;&#27573;&#20351;&#12387;&#12390;&#12356;&#12427;Java&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#21516;&#12376;&#12424;&#12358;&#12395;&#12289;&#27704;&#32154;&#21270;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#21452;&#26041;&#21521;&#38306;&#36899;&#12398;&#24847;&#21619;&#12434;&#29702;&#35299;&#12377;&#12428;&#12400;&#12424;&#12356;&#12398;&#12391;&#12377;&#65288;&#12371;&#12428;&#12399;&#24460;&#12411;&#12393;&#35500;&#26126;&#12375;&#12414;&#12377;&#65289;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="collections-mapping"></a>6.2. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">&#12486;&#12451;&#12483;&#12503;</h3>
                  <p>&#22810;&#12367;&#12398;&#19968;&#33324;&#30340;&#12394;&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12514;&#12487;&#12523;&#12434;&#12459;&#12496;&#12540;&#12375;&#12383;&#12383;&#12417;&#12395;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12383;&#12417;&#12395;&#21033;&#29992;&#12391;&#12365;&#12427;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;&#12363;&#12394;&#12426;&#12398;&#24133;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#27096;&#12293;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#23459;&#35328;&#12364;&#12393;&#12398;&#12424;&#12358;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12395;&#22793;&#25563;&#12373;&#12428;&#12427;&#12363;&#12434;&#30693;&#12427;&#12383;&#12417;&#12395;&#12289; &#12473;&#12461;&#12540;&#12510;&#29983;&#25104;&#12484;&#12540;&#12523;&#12434;&#20351;&#12387;&#12390;&#12415;&#12427;&#12392;&#33391;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290;
                     
                  </p>
               </div>
               <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12383;&#12417;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12399;&#12289;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#22411;&#12395;&#20381;&#23384;&#12375;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;<code class="literal">&lt;set&gt;</code> &#35201;&#32032;&#12399; <code class="literal">Set</code> &#22411;&#12434; &#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;class name="Product"&gt;
    &lt;id name="serialNumber" column="productSerialNumber"/&gt;
    &lt;set name="parts"&gt;
        &lt;key column="productSerialNumber" not-null="true"/&gt;
        &lt;one-to-many class="Part"/&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre><p>&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12395;&#12399; <code class="literal">&lt;set&gt;</code> &#12398;&#20182;&#12395; <code class="literal">&lt;list&gt;</code>&#12289; <code class="literal">&lt;map&gt;</code>&#12289;<code class="literal">&lt;bag&gt;</code>&#12289; <code class="literal">&lt;array&gt;</code>&#12289;<code class="literal">&lt;primitive-array&gt;</code> &#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#20195;&#34920;&#12392;&#12375;&#12390;&#12289;<code class="literal">&lt;map&gt;</code> &#35201;&#32032;&#12434;&#19979;&#35352;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <div class="programlistingco"><pre class="programlisting">&lt;map
    name="propertyName"                                         <span class="co">(1)</span>
    table="table_name"                                          <span class="co">(2)</span>
    schema="schema_name"                                        <span class="co">(3)</span>
    lazy="true|extra|false"                                     <span class="co">(4)</span>
    inverse="true|false"                                        <span class="co">(5)</span>
    cascade="all|none|save-update|delete|all-delete-orphan|delet<span class="co">(6)</span>e-orphan"
    sort="unsorted|natural|comparatorClass"                     <span class="co">(7)</span>
    order-by="column_name asc|desc"                             <span class="co">(8)</span>
    where="arbitrary sql where condition"                       <span class="co">(9)</span>
    fetch="join|select|subselect"                               <span class="co">(10)</span>
    batch-size="N"                                              <span class="co">(11)</span>
    access="field|property|ClassName"                           <span class="co">(12)</span>
    optimistic-lock="true|false"                                <span class="co">(13)</span>
    mutable="true|false"                                        <span class="co">(14)</span>
    node="element-name|."
    embed-xml="true|false"
&gt;

    &lt;key .... /&gt;
    &lt;map-key .... /&gt;
    &lt;element .... /&gt;
&lt;/map&gt;</pre><div class="calloutlist">
                     <table border="0" summary="Callout list">
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">name</code> &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#22411;&#12391;&#12354;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21517;&#21069; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">table</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#65289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12486;&#12540;&#12502;&#12523;&#12398;&#21517;&#21069; &#65288;&#19968;&#23550;&#22810;&#38306;&#36899;&#12391;&#12399;&#20351;&#29992;&#12375;&#12414;&#12379;&#12435;&#65289;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">schema</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12486;&#12540;&#12502;&#12523;&#12473;&#12461;&#12540;&#12510;&#12398;&#21517;&#21069;&#12290; &#12523;&#12540;&#12488;&#35201;&#32032;&#12391;&#23459;&#35328;&#12373;&#12428;&#12390;&#12356;&#12427;&#12473;&#12461;&#12540;&#12510;&#12424;&#12426;&#20778;&#20808;&#12373;&#12428;&#12414;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">lazy</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code>&#65289; &#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#28961;&#21177;&#12395;&#12375;&#12289;&#38306;&#36899;&#12434;&#24120;&#12395;&#21363;&#26178;&#12395;&#12501;&#12455;&#12483;&#12481;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#12399;&#12289;&#12300;extra-lazy&#12301;&#12501;&#12455;&#12483;&#12481;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12300;extra-lazy&#12301;&#12501;&#12455;&#12483;&#12481;&#12399;&#12289;&#12411;&#12392;&#12435;&#12393;&#12398;&#25805;&#20316;&#12391;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21021;&#26399;&#21270;&#12375;&#12414;&#12379;&#12435; &#65288;&#38750;&#24120;&#12395;&#22823;&#12365;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36969;&#12375;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290;
                                 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">inverse</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">false</code>&#65289; &#12371;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#21452;&#26041;&#21521;&#38306;&#36899;&#12398;&#12300;&#36870;&#12301;&#20596;&#12391;&#12354;&#12427;&#12392;&#12510;&#12540;&#12463;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">cascade</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">none</code>&#65289; &#23376;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;&#25805;&#20316;&#12434;&#26377;&#21177;&#12395;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">sort</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#33258;&#28982;&#12394;&#38918;&#24207;&#12391;&#12477;&#12540;&#12488;&#12377;&#12427;&#22580;&#21512;&#12399; <code class="literal">natural</code> &#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#12354;&#12427;&#12356;&#12399;Comparator&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">order-by</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#12289;JDK1.4&#12398;&#12415;&#65289; <code class="literal">Map</code>&#12289;<code class="literal">Set</code>&#12289;bag&#12398;&#12452;&#12486;&#12524;&#12540;&#12471;&#12519;&#12531;&#38918;&#24207;&#12434;&#23450;&#32681;&#12377;&#12427; &#12486;&#12540;&#12502;&#12523;&#12459;&#12521;&#12512;&#12434;&#25351;&#23450;&#12377;&#12427;&#12392;&#20849;&#12395;&#12289; &#12458;&#12503;&#12471;&#12519;&#12531;&#12392;&#12375;&#12390; <code class="literal">asc</code>&#12289;<code class="literal">desc</code> &#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(9)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">where</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#26908;&#32034;&#12420;&#21066;&#38500;&#12398;&#38555;&#12395;&#20351;&#12358; &#20219;&#24847;&#12398;SQL&#12398;<code class="literal">WHERE</code> &#26465;&#20214;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; &#65288;&#21033;&#29992;&#21487;&#33021;&#12394;&#12487;&#12540;&#12479;&#12398;&#19968;&#37096;&#20998;&#12384;&#12369;&#12434;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#21547;&#12416;&#12409;&#12365;&#12392;&#12365;&#12395;&#12289;&#12371;&#12428;&#12399;&#26377;&#29992;&#12391;&#12377;&#65289;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(10)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">fetch</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">select</code>&#65289; &#22806;&#37096;&#32080;&#21512;&#12395;&#12424;&#12427;&#12501;&#12455;&#12483;&#12481;&#12289;&#38918;&#27425;&#36984;&#25246;&#12501;&#12455;&#12483;&#12481;&#65288;sequential select fetch&#65289;&#12289; &#38918;&#27425;&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#65288;sequential subselect fetch&#65289;&#12398;&#12393;&#12428;&#12363;&#12434;&#36984;&#25246;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(11)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">batch-size</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">1</code>&#65289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12398;&#12383;&#12417;&#12398;&#12300;&#12496;&#12483;&#12481;&#12469;&#12452;&#12474;&#12301;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(12)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">access</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">property</code>&#65289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#22411;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12377;&#12427;&#25126;&#30053;&#12391;&#12377;&#12290; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(13)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">optimistic-lock</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code>&#65289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#29366;&#24907;&#12434;&#22793;&#12360;&#12427;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12289; &#12381;&#12398;&#12458;&#12540;&#12490;&#12540;&#12391;&#12354;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12364;&#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12488;&#12373;&#12428;&#12427;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#65288;&#19968;&#23550;&#22810;&#38306;&#36899;&#12391;&#12399;&#12289;&#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#12395;&#12362;&#12356;&#12390;&#28961;&#21177;&#12395;&#35373;&#23450;&#12377;&#12427;&#12398;&#12364;&#22949;&#24403;&#12391;&#12377;&#12290;&#65289; 
                              </p>
                           </td>
                        </tr>
                        <tr>
                           <td width="5%" valign="top" align="left">
                              <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(14)</fo:inline>
                           </td>
                           <td valign="top" align="left">
                              <p><code class="literal">mutable</code>&#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">true</code>&#65289; <code class="literal">false</code> &#20516;&#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12364;&#22793;&#26356;&#12373;&#12428;&#12394;&#12356;&#12371;&#12392;&#12434;&#34920;&#12375;&#12414;&#12377; &#65288;&#12354;&#12427;&#22580;&#21512;&#12395;&#12399;&#12289;&#23569;&#12375;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#39640;&#12417;&#12414;&#12377;&#65289;&#12290; 
                              </p>
                           </td>
                        </tr>
                     </table>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-foreignkeys"></a>6.2.1. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#22806;&#37096;&#12461;&#12540;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#20869;&#12391;&#12399;&#12289; &#12381;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#25152;&#26377;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#22806;&#37096;&#12461;&#12540;&#12395;&#12424;&#12387;&#12390;&#35672;&#21029;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#22806;&#37096;&#12461;&#12540;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12486;&#12540;&#12502;&#12523;&#12398; <span class="emphasis"><em>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12461;&#12540;&#12459;&#12521;&#12512;</em></span> &#12392;&#21628;&#12400;&#12428;&#12414;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12461;&#12540;&#12459;&#12521;&#12512;&#12399; <code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12395;&#12399;null&#35373;&#23450;&#21046;&#32004;&#12364;&#12354;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#24403;&#12390;&#12399;&#12414;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; &#21336;&#26041;&#21521;&#12398;&#19968;&#23550;&#22810;&#38306;&#36899;&#12395;&#12362;&#12356;&#12390;&#12289;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12399;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;null&#12434;&#35377;&#12377;&#35373;&#23450;&#12395;&#12394;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#12424;&#12387;&#12390;&#12289;<code class="literal">not-null="true"</code> &#12434;&#25351;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">&lt;key column="productSerialNumber" not-null="true"/&gt;</pre><p>&#22806;&#37096;&#12461;&#12540;&#12398;&#21046;&#32004;&#12364; <code class="literal">ON DELETE CASCADE</code> &#12434;&#20351;&#12358;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">&lt;key column="productSerialNumber" on-delete="cascade"/&gt;</pre><p><code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12398;&#12377;&#12409;&#12390;&#12398;&#23450;&#32681;&#12395;&#12388;&#12356;&#12390;&#12399;&#21069;&#12398;&#31456;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-elements"></a>6.2.2. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#20182;&#12398;Hibernate&#12398;&#22411;&#12398;&#12411;&#12392;&#12435;&#12393;&#65288;&#12377;&#12409;&#12390;&#12398;&#22522;&#26412;&#22411;&#12289;&#12459;&#12473;&#12479;&#12512;&#22411;&#12289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12289; &#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#21442;&#29031;&#65289;&#12434;&#26684;&#32013;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#27425;&#12398;&#28857;&#12399;&#37325;&#35201;&#12394;&#36949;&#12356;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#26684;&#32013;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12300;&#20516;&#12301;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12392;&#12375;&#12390;&#25201;&#12431;&#12428;&#12427;&#12398;&#12363;
                     &#65288;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12458;&#12540;&#12490;&#12540;&#12395;&#23436;&#20840;&#12395;&#20381;&#23384;&#12375;&#12414;&#12377;&#65289;&#12289; &#12418;&#12375;&#12367;&#12399;&#12381;&#12428;&#33258;&#36523;&#12398;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12434;&#25345;&#12387;&#12383;&#21029;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#21442;&#29031;&#12391;&#12354;&#12427;&#12363;&#12398;&#12363;&#12392;&#12356;&#12358;&#36949;&#12356;&#12391;&#12377;&#12290; &#24460;&#32773;&#12399;&#12289;2&#12388;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#38291;&#12398;&#12300;&#12522;&#12531;&#12463;&#12301;&#12434;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#20445;&#25345;&#12375;&#12390;&#12356;&#12427;&#12392;&#35211;&#12394;&#12375;&#12390;&#12356;&#12427;&#12384;&#12369;&#12391;&#12377;&#12290;
                     
                  </p>
                  <p>&#26684;&#32013;&#12373;&#12428;&#12427;&#22411;&#12399; <span class="emphasis"><em>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#35201;&#32032;&#22411;</em></span> &#12392;&#21628;&#12400;&#12428;&#12414;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#35201;&#32032;&#12399;&#12289;<code class="literal">&lt;element&gt;</code> &#12414;&#12383;&#12399; <code class="literal">&lt;composite-element&gt;</code> &#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#21442;&#29031;&#12398;&#22580;&#21512;&#12395;&#12399; <code class="literal">&lt;one-to-many&gt;</code> &#12414;&#12383;&#12399; <code class="literal">&lt;many-to-many&gt;</code> &#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; &#26368;&#21021;&#12398;&#20108;&#12388;&#12399;&#20516;&#12392;&#12375;&#12390;&#35201;&#32032;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12289;&#27425;&#12398;&#20108;&#12388;&#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#38306;&#36899;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12398;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-indexed"></a>6.2.3. &#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>set&#12392;bag&#12434;&#38500;&#12367;&#20840;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12486;&#12540;&#12502;&#12523;&#12398;&#20013;&#12395; <span class="emphasis"><em>&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#29992;&#12398;&#12459;&#12521;&#12512;</em></span> &#12364;&#24517;&#35201;&#12391;&#12377;&#12290; &#12381;&#12398;&#12459;&#12521;&#12512;&#12395;&#12289;&#37197;&#21015;&#12420; <code class="literal">List</code> &#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12289; &#12418;&#12375;&#12367;&#12399; <code class="literal">Map</code> &#12398;&#12461;&#12540;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; <code class="literal">Map</code> &#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12399;&#12289; <code class="literal">&lt;map-key&gt;</code> &#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#22522;&#26412;&#22411;&#12363;&#12289; <code class="literal">&lt;map-key-many-to-many&gt;</code> &#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#38306;&#36899;&#12363;&#12289; &#12354;&#12427;&#12356;&#12399; <code class="literal">&lt;composite-map-key&gt;</code> &#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#22411;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#37197;&#21015;&#12363;&#12522;&#12473;&#12488;&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12399;&#12289;&#24120;&#12395; <code class="literal">integer</code> &#22411;&#12391;&#12289; <code class="literal">&lt;list-index&gt;</code> &#35201;&#32032;&#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12459;&#12521;&#12512;&#12395;&#12399;&#12471;&#12540;&#12465;&#12531;&#12471;&#12515;&#12523;&#12394;&#25972;&#25968;&#12434;&#26684;&#32013;&#12375;&#12414;&#12377;&#65288;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;0&#12363;&#12425;&#30058;&#21495;&#12364;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#65289;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;list-index 
        column="column_name"                <span class="co">(1)</span>
        base="0|1|..."/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">column_name</code> (required): The name of the column holding the collection index values. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">base</code> (optional, defaults to <code class="literal">0</code>): The value of the index column that corresponds to the first element of the list or array. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <div class="programlistingco"><pre class="programlisting">&lt;map-key 
        column="column_name"                <span class="co">(1)</span>
        formula="any SQL expression"        <span class="co">(2)</span>
        type="type_name"                    <span class="co">(3)</span>
        node="@attribute-name"
        length="N"/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">column</code> (optional): The name of the column holding the collection index values. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">formula</code> (optional): A SQL formula used to evaluate the key of the map. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">type</code> (reguired): The type of the map keys. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <div class="programlistingco"><pre class="programlisting">&lt;map-key-many-to-many
        column="column_name"                <span class="co">(1)</span>
        formula="any SQL expression"        <span class="co">(2)</span><span class="co">(3)</span>
        class="ClassName"
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">column</code> (optional): The name of the foreign key column for the collection index values. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">formula</code> (optional): A SQL formula used to evaluate the foreign key of the map key. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">class</code> (required): The entity class used as the map key. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#12418;&#12375;&#12486;&#12540;&#12502;&#12523;&#12395;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12459;&#12521;&#12512;&#12364;&#12394;&#12367;&#12390;&#12418;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#22411;&#12392;&#12375;&#12390; <code class="literal">List</code> &#12434;&#20351;&#12356;&#12383;&#12369;&#12428;&#12400;&#12289; Hibernate&#12398; <span class="emphasis"><em>&lt;bag&gt;</em></span> &#12392;&#12375;&#12390;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; bag&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#24489;&#20803;&#12373;&#12428;&#12427;&#26178;&#12289;&#38918;&#24207;&#12434;&#20445;&#25345;&#12375;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#12289;&#65288;&#12513;&#12514;&#12522;&#19978;&#12391;&#65289;&#12477;&#12540;&#12488;&#12375;&#12383;&#12426;&#12289;&#65288;SQL&#12391;&#65289;&#38918;&#24207;&#20184;&#12369;&#12375;&#12383;&#12426;&#65288;order by&#65289;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-ofvalues"></a>6.2.4. &#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#22810;&#23550;&#22810;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#22810;&#23550;&#22810;&#38306;&#36899;&#12399;&#12289;&#23554;&#29992;&#12398; <span class="emphasis"><em>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12486;&#12540;&#12502;&#12523;</em></span> &#12364;&#24517;&#35201;&#12391;&#12377;&#12290; &#12371;&#12398;&#12486;&#12540;&#12502;&#12523;&#12399;&#12289;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12392;&#12289; <span class="emphasis"><em>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#35201;&#32032;&#12398;&#12459;&#12521;&#12512;</em></span> &#12392;&#12289; &#22580;&#21512;&#12395;&#12424;&#12387;&#12390;&#12399;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12459;&#12521;&#12512;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12383;&#12417;&#12395;&#12289;<code class="literal">&lt;element&gt;</code>&#12479;&#12464;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;element
        column="column_name"                     <span class="co">(1)</span>
        formula="any SQL expression"             <span class="co">(2)</span>
        type="typename"                          <span class="co">(3)</span>
        length="L"
        precision="P"
        scale="S"
        not-null="true|false"
        unique="true|false"
        node="element-name"
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">column</code> (optional): The name of the column holding the collection element values. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">formula</code> (optional): An SQL formula used to evaluate the element. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">type</code> (required): The type of the collection element. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p> A <span class="emphasis"><em>many-to-many association</em></span> is specified using the <code class="literal">&lt;many-to-many&gt;</code> element. 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;many-to-many
        column="column_name"                               <span class="co">(1)</span>
        formula="any SQL expression"                       <span class="co">(2)</span>
        class="ClassName"                                  <span class="co">(3)</span>
        fetch="select|join"                                <span class="co">(4)</span>
        unique="true|false"                                <span class="co">(5)</span>
        not-found="ignore|exception"                       <span class="co">(6)</span>
        entity-name="EntityName"                           <span class="co">(7)</span>
        property-ref="propertyNameFromAssociatedClass"     <span class="co">(8)</span>
        node="element-name"
        embed-xml="true|false"
    /&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">column</code> (optional): The name of the element foreign key column. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">formula</code> (optional): An SQL formula used to evaluate the element foreign key value. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">class</code> (required): The name of the associated class. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(4)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">fetch</code> (optional - defaults to <code class="literal">join</code>): enables outer-join or sequential select fetching for this association. This is a special case; for full eager fetching
                                    (in a single <code class="literal">SELECT</code>) of an entity and its many-to-many relationships to other entities, you would enable <code class="literal">join</code> fetching not only of the collection itself, but also with this attribute on the <code class="literal">&lt;many-to-many&gt;</code> nested element. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(5)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">unique</code> (optional): Enable the DDL generation of a unique constraint for the foreign-key column. This makes the association multiplicity
                                    effectively one to many. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(6)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">not-found</code> (optional - defaults to <code class="literal">exception</code>): Specifies how foreign keys that reference missing rows will be handled: <code class="literal">ignore</code> will treat a missing row as a null association. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(7)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">entity-name</code> (optional): The entity name of the associated class, as an alternative to <code class="literal">class</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(8)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p> <code class="literal">property-ref</code>: (optional) The name of a property of the associated class that is joined to this foreign key. If not specified, the primary
                                    key of the associated class is used. 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>&#20197;&#19979;&#12395;&#12356;&#12367;&#12388;&#12363;&#20363;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; &#12414;&#12378;&#12399;String&#12398;set&#12395;&#38306;&#12375;&#12390;&#12398;&#20363;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;set name="names" table="person_names"&gt;
    &lt;key column="person_id"/&gt;
    &lt;element column="person_name" type="string"/&gt;
&lt;/set&gt;</pre><p>&#25972;&#25968;&#20516;&#12434;&#21547;&#12416;bag&#65288;bag&#12399; <code class="literal">order-by</code> &#23646;&#24615;&#12395;&#12424;&#12387;&#12390;&#21453;&#24489;&#38918;&#24207;&#12364;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#65289; 
                  </p><pre class="programlisting">&lt;bag name="sizes" 
        table="item_sizes" 
        order-by="size asc"&gt;
    &lt;key column="item_id"/&gt;
    &lt;element column="size" type="integer"/&gt;
&lt;/bag&gt;</pre><p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#37197;&#21015; - &#12371;&#12398;&#22580;&#21512;&#12289;&#22810;&#23550;&#22810;&#12398;&#38306;&#36899;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;array name="addresses" 
        table="PersonAddress" 
        cascade="persist"&gt;
    &lt;key column="personId"/&gt;
    &lt;list-index column="sortOrder"/&gt;
    &lt;many-to-many column="addressId" class="Address"/&gt;
&lt;/array&gt;</pre><p>&#25991;&#23383;&#21015;&#12392;&#26085;&#20184;&#12398;map </p><pre class="programlisting">&lt;map name="holidays" 
        table="holidays" 
        schema="dbo" 
        order-by="hol_name asc"&gt;
    &lt;key column="id"/&gt;
    &lt;map-key column="hol_name" type="string"/&gt;
    &lt;element column="hol_date" type="date"/&gt;
&lt;/map&gt;</pre><p>&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;list&#65288;&#27425;&#12398;&#31456;&#12391;&#35443;&#12375;&#12367;&#35500;&#26126;&#12375;&#12414;&#12377;&#65289; </p><pre class="programlisting">&lt;list name="carComponents" 
        table="CarComponents"&gt;
    &lt;key column="carId"/&gt;
    &lt;list-index column="sortOrder"/&gt;
    &lt;composite-element class="CarComponent"&gt;
        &lt;property name="price"/&gt;
        &lt;property name="type"/&gt;
        &lt;property name="serialNumber" column="serialNum"/&gt;
    &lt;/composite-element&gt;
&lt;/list&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-onetomany"></a>6.2.5. &#19968;&#23550;&#22810;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#19968;&#23550;&#22810;&#38306;&#36899;</em></span> &#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65381;&#12486;&#12540;&#12502;&#12523;&#12434;&#20171;&#12373;&#12378;&#12289; &#22806;&#37096;&#12461;&#12540;&#12395;&#12424;&#12426;2&#12388;&#12398;&#12463;&#12521;&#12473;&#12398;&#12486;&#12540;&#12502;&#12523;&#12434;&#38306;&#36899;&#20184;&#12369;&#12414;&#12377;&#12290; &#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#27161;&#28310;&#30340;&#12394;Java&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#12356;&#12367;&#12388;&#12363;&#22833;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; 2&#12388;&#20197;&#19978;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#23646;&#12375;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; </p>
                        </li>
                        <li>
                           <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#21547;&#12414;&#12428;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12398;&#20516;&#12392;&#12375;&#12390;2&#24230;&#20197;&#19978;&#29694;&#12428;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; </p>
                        </li>
                     </ul>
                  </div>
                  <p><code class="literal">Product</code> &#12363;&#12425; <code class="literal">Part</code> &#12408;&#12398;&#38306;&#36899;&#12399;&#12289; <code class="literal">Part</code> &#12486;&#12540;&#12502;&#12523;&#12408;&#12398;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12392;&#12289;&#22580;&#21512;&#12395;&#12424;&#12387;&#12390;&#12399;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12459;&#12521;&#12512;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; <code class="literal">&lt;one-to-many&gt;</code> &#12479;&#12464;&#12399;&#12289;&#12371;&#12428;&#12364;&#19968;&#23550;&#22810;&#38306;&#36899;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;one-to-many 
        class="ClassName"                                  <span class="co">(1)</span>
        not-found="ignore|exception"                       <span class="co">(2)</span>
        entity-name="EntityName"                           <span class="co">(3)</span>
        node="element-name"
        embed-xml="true|false"
    /&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">class</code> &#65288;&#24517;&#38920;&#65289;: &#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">not-found</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531; - &#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">exception</code>&#65289;: &#21442;&#29031;&#20808;&#12398;&#34892;&#12364;&#12394;&#12356;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12383;&#35672;&#21029;&#23376;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#25201;&#12358;&#12363;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <code class="literal">ignore</code> &#12434;&#25351;&#23450;&#12377;&#12427;&#12392;&#12289;&#34892;&#12364;&#12394;&#12356;&#12371;&#12392;&#12434;&#38306;&#36899;&#12364;&#12394;&#12356;&#12418;&#12398;&#12392;&#12375;&#12390;&#25201;&#12356;&#12414;&#12377;&#12290; 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">entity-name</code> &#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;: <code class="literal">class</code> &#12398;&#20195;&#26367;&#12391;&#12354;&#12427;&#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#21517;&#12290; <code class="literal">class</code> &#12398;&#20195;&#12431;&#12426;&#12395;&#25351;&#23450;&#12377;&#12427;&#12289;&#38306;&#36899;&#12463;&#12521;&#12473;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#21517;&#12290; 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p><code class="literal">&lt;one-to-many&gt;</code> &#35201;&#32032;&#12399;&#12459;&#12521;&#12512;&#12434;&#23459;&#35328;&#12377;&#12427;&#24517;&#35201;&#12364;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#21516;&#27096;&#12395; <code class="literal">&#12486;&#12540;&#12502;&#12523;</code> &#21517;&#12434;&#25351;&#23450;&#12377;&#12427;&#24517;&#35201;&#12418;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p><span class="emphasis"><em>&#12392;&#12390;&#12418;&#37325;&#35201;&#12394;&#27880;&#24847;:</em></span> &#12418;&#12375; <code class="literal">&lt;one-to-many&gt;</code> &#38306;&#36899;&#12398;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12364; <code class="literal">NOT NULL</code>&#12392;&#23459;&#35328;&#12373;&#12428;&#12383;&#22580;&#21512;&#12289; <code class="literal">&lt;key&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12395; <code class="literal">not-null="true"</code> &#12434;&#23459;&#35328;&#12377;&#12427;&#12363;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395; <code class="literal">inverse="true"</code> &#12434;&#20184;&#12369;&#12383;&#19978;&#12391;&#12289; <span class="emphasis"><em>&#21452;&#26041;&#21521;&#38306;&#36899;&#12434;&#20351;&#12358;</em></span> &#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#21452;&#26041;&#21521;&#38306;&#36899;&#12395;&#12388;&#12356;&#12390;&#12399;&#12371;&#12398;&#31456;&#12398;&#24460;&#12398;&#12411;&#12358;&#12391;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#27425;&#12398;&#20363;&#12399;&#12289;&#21517;&#31216;&#65288;<code class="literal">Part</code> &#12398;&#27704;&#32154;&#30340;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12354;&#12427; <code class="literal">partName</code>&#65289; &#12395;&#12424;&#12427; <code class="literal">Part</code> &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;map&#12434;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; formula&#12395;&#12424;&#12427;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;map name="parts"
        cascade="all"&gt;
    &lt;key column="productId" not-null="true"/&gt;
    &lt;map-key formula="partName"/&gt;
    &lt;one-to-many class="Part"/&gt;
&lt;/map&gt;</pre></div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="collections-advancedmappings"></a>6.3. &#39640;&#24230;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65381;&#12510;&#12483;&#12500;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-sorted"></a>6.3.1. &#12477;&#12540;&#12488;&#12373;&#12428;&#12383;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12399; <code class="literal">java.util.SortedMap</code> &#12392; <code class="literal">java.util.SortedSet</code> &#12434;&#23455;&#35013;&#12375;&#12383;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#38283;&#30330;&#32773;&#12399;&#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12501;&#12449;&#12452;&#12523;&#12395;&#12467;&#12531;&#12497;&#12524;&#12540;&#12479;&#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">&lt;set name="aliases" 
            table="person_aliases" 
            sort="natural"&gt;
    &lt;key column="person"/&gt;
    &lt;element column="name" type="string"/&gt;
&lt;/set&gt;

&lt;map name="holidays" sort="my.custom.HolidayComparator"&gt;
    &lt;key column="year_id"/&gt;
    &lt;map-key column="hol_name" type="string"/&gt;
    &lt;element column="hol_date" type="date"/&gt;
&lt;/map&gt;</pre><p><code class="literal">sort</code> &#23646;&#24615;&#12395;&#35373;&#23450;&#12391;&#12365;&#12427;&#20516;&#12399; <code class="literal">unsorted</code> &#12392; <code class="literal">natural</code> &#12362;&#12424;&#12403;&#12289;<code class="literal">java.util.Comparator</code> &#12434;&#23455;&#35013;&#12375;&#12383;&#12463;&#12521;&#12473;&#12398;&#21517;&#21069;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12477;&#12540;&#12488;&#12373;&#12428;&#12383;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#23455;&#36074;&#30340;&#12395;&#12399; <code class="literal">java.util.TreeSet</code> &#12420; <code class="literal">java.util.TreeMap</code> &#12398;&#12424;&#12358;&#12395;&#25391;&#33310;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12418;&#12375;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#33258;&#36523;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12434;&#20006;&#12409;&#12373;&#12379;&#12383;&#12356;&#12394;&#12425;&#12289; <code class="literal">set</code> &#12420; <code class="literal">bag</code>&#12289;<code class="literal">map</code> &#12398; <code class="literal">order-by</code> &#23646;&#24615;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#35299;&#27770;&#27861;&#12399;JDK1.4&#12289;&#12418;&#12375;&#12367;&#12399;&#12381;&#12428;&#20197;&#19978;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12391;&#21033;&#29992;&#21487;&#33021;&#12391;&#12377; &#65288;<code class="literal">LinkedHashSet</code> &#12414;&#12383;&#12399; <code class="literal">LinkedHashMap</code>&#12434;&#20351;&#12387;&#12390;&#23455;&#35013;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290; &#25972;&#21015;&#12399;&#12513;&#12514;&#12522;&#19978;&#12391;&#12399;&#12394;&#12367;&#12289;SQL&#12463;&#12456;&#12522;&#20869;&#12391;&#23455;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;set name="aliases" table="person_aliases" order-by="lower(name) asc"&gt;
    &lt;key column="person"/&gt;
    &lt;element column="name" type="string"/&gt;
&lt;/set&gt;

&lt;map name="holidays" order-by="hol_date, hol_name"&gt;
    &lt;key column="year_id"/&gt;
    &lt;map-key column="hol_name" type="string"/&gt;
    &lt;element column="hol_date type="date"/&gt;
&lt;/map&gt;</pre><p><code class="literal">order-by</code> &#23646;&#24615;&#12398;&#20516;&#12364;SQL&#21629;&#20196;&#12391;&#12354;&#12387;&#12390;&#12289;HQL&#21629;&#20196;&#12391;&#12399;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65281; 
                  </p>
                  <p>&#38306;&#36899;&#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398; <code class="literal">filter()</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289; &#23455;&#34892;&#26178;&#12395;&#20219;&#24847;&#12398;criteria&#12395;&#12424;&#12387;&#12390;&#12477;&#12540;&#12488;&#12377;&#12427;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">sortedUsers = s.createFilter( group.getUsers(), "order by this.name" ).list();</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-bidirectional"></a>6.3.2. &#21452;&#26041;&#21521;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>A <span class="emphasis"><em>bidirectional association</em></span> allows navigation from both "ends" of the association. Two kinds of bidirectional association are supported: 
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">one-to-many</span></dt>
                        <dd>
                           <p>&#29255;&#20596;&#12364;set&#12363;bag&#12289;&#12418;&#12358;&#29255;&#26041;&#12364;&#21336;&#19968;&#20516;&#12391;&#12377;&#12290; </p>
                        </dd>
                        <dt><span class="term">many-to-many</span></dt>
                        <dd>
                           <p>&#20001;&#20596;&#12364;set&#12363;bag&#12391;&#12377;&#12290; </p>
                        </dd>
                     </dl>
                  </div>
                  <p>
                     
                     
                  </p>
                  <p>2&#12388;&#12398;&#22810;&#23550;&#22810;&#38306;&#36899;&#12391;&#21516;&#12376;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12486;&#12540;&#12502;&#12523;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12289; &#29255;&#26041;&#12434; <span class="emphasis"><em>inverse</em></span> &#12392;&#12375;&#12390;&#23459;&#35328;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#21452;&#26041;&#21521;&#12398;&#22810;&#23550;&#22810;&#38306;&#36899;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377; &#65288;&#12393;&#12385;&#12425;&#12434;inverse&#12395;&#36984;&#12435;&#12384;&#12392;&#12375;&#12390;&#12418;&#12289;&#12381;&#12385;&#12425;&#20596;&#12395;&#12399;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#20351;&#12360;&#12414;&#12379;&#12435;&#65289;&#12290; 
                  </p>
                  <p>&#27425;&#12395;&#21452;&#26041;&#21521;&#12398;&#22810;&#23550;&#22810;&#38306;&#36899;&#12398;&#20363;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; &#21508;&#12459;&#12486;&#12468;&#12522;&#12399;&#22810;&#25968;&#12398;&#12450;&#12452;&#12486;&#12512;&#12434;&#25345;&#12388;&#12371;&#12392;&#12364;&#12391;&#12365;&#12289;&#21508;&#12450;&#12452;&#12486;&#12512;&#12399;&#22810;&#12367;&#12398;&#12459;&#12486;&#12468;&#12522;&#12395;&#23646;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;class name="Category"&gt;
    &lt;id name="id" column="CATEGORY_ID"/&gt;
    ...
    &lt;bag name="items" table="CATEGORY_ITEM"&gt;
        &lt;key column="CATEGORY_ID"/&gt;
        &lt;many-to-many class="Item" column="ITEM_ID"/&gt;
    &lt;/bag&gt;
&lt;/class&gt;

&lt;class name="Item"&gt;
    &lt;id name="id" column="ITEM_ID"/&gt;
    ...

    &lt;!-- inverse end --&gt;
    &lt;bag name="categories" table="CATEGORY_ITEM" inverse="true"&gt;
        &lt;key column="ITEM_ID"/&gt;
        &lt;many-to-many class="Category" column="CATEGORY_ID"/&gt;
    &lt;/bag&gt;
&lt;/class&gt;</pre><p>&#38306;&#36899;&#12398;inverse&#20596;&#12395;&#12398;&#12415;&#34892;&#12431;&#12428;&#12383;&#22793;&#26356;&#12399;&#27704;&#32154;&#21270; <span class="emphasis"><em>&#12373;&#12428;&#12414;&#12379;&#12435;</em></span>&#12290; &#12371;&#12428;&#12399;&#12289;Hibernate&#12399;&#20840;&#12390;&#12398;&#21452;&#26041;&#21521;&#38306;&#36899;&#12395;&#12388;&#12356;&#12390;&#12289;&#12513;&#12514;&#12522;&#19978;&#12395;&#65298;&#12388;&#12398;&#34920;&#29694;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12392;&#12356;&#12358;&#24847;&#21619;&#12391;&#12377;&#12290; &#12388;&#12414;&#12426;&#19968;&#12388;&#12399;A&#12363;&#12425;B&#12408;&#12398;&#12522;&#12531;&#12463;&#12391;&#12289;&#12418;&#12358;&#19968;&#12388;&#12399;B&#12363;&#12425;A&#12408;&#12398;&#12522;&#12531;&#12463;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; Java&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12514;&#12487;&#12523;&#12395;&#12388;&#12356;&#12390;&#32771;&#12360;&#12289;Java&#12391;&#21452;&#26041;&#21521;&#38306;&#20418;&#12434;&#12393;&#12358;&#12420;&#12387;&#12390;&#20316;&#12427;&#12363;&#12434;&#32771;&#12360;&#12428;&#12400;&#12289;
                     &#12371;&#12428;&#12399;&#29702;&#35299;&#12375;&#12420;&#12377;&#12356;&#12391;&#12377;&#12290;&#19979;&#35352;&#12395;&#12289;Java&#12391;&#12398;&#21452;&#26041;&#21521;&#38306;&#36899;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">
category.getItems().add(item);          // The category now "knows" about the relationship
item.getCategories().add(category);     // The item now "knows" about the relationship

session.persist(item);                   // The relationship won't be saved!
session.persist(category);               // The relationship will be saved</pre><p>&#38306;&#36899;&#12398;inverse&#12391;&#12399;&#12394;&#12356;&#20596;&#12399;&#12289;&#12513;&#12514;&#12522;&#19978;&#12398;&#34920;&#29694;&#12434;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#20445;&#23384;&#12377;&#12427;&#12398;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; </p>
                  <p>&#21452;&#26041;&#21521;&#12398;&#19968;&#23550;&#22810;&#38306;&#36899;&#12434;&#23450;&#32681;&#12377;&#12427;&#12395;&#12399;&#12289; &#19968;&#23550;&#22810;&#38306;&#36899;&#12434;&#22810;&#23550;&#19968;&#38306;&#36899;&#12392;&#21516;&#12376;&#12486;&#12540;&#12502;&#12523;&#12398;&#12459;&#12521;&#12512;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12289; &#22810;&#20596;&#12395; <code class="literal">inverse="true"</code> &#12392;&#23459;&#35328;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Parent"&gt;
    &lt;id name="id" column="parent_id"/&gt;
    ....
    &lt;set name="children" inverse="true"&gt;
        &lt;key column="parent_id"/&gt;
        &lt;one-to-many class="Child"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Child"&gt;
    &lt;id name="id" column="child_id"/&gt;
    ....
    &lt;many-to-one name="parent" 
        class="Parent" 
        column="parent_id"
        not-null="true"/&gt;
&lt;/class&gt;</pre><p>&#38306;&#36899;&#12398;&#29255;&#20596;&#12395; <code class="literal">inverse="true"</code> &#12434;&#35373;&#23450;&#12375;&#12390;&#12418;&#12289; &#12459;&#12473;&#12465;&#12540;&#12489;&#25805;&#20316;&#12395;&#24433;&#38911;&#12434;&#19982;&#12360;&#12414;&#12379;&#12435;&#12290;&#12371;&#12428;&#12425;&#12399;&#30452;&#20132;&#12375;&#12383;&#27010;&#24565;&#12391;&#12377;&#65281; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-indexedbidirectional"></a>6.3.3. &#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#21452;&#26041;&#21521;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#29255;&#20596;&#12364; <code class="literal">&lt;list&gt;</code> &#12420; <code class="literal">&lt;map&gt;</code> &#12391;&#12354;&#12427; &#21452;&#26041;&#21521;&#38306;&#36899;&#12399;&#12289;&#29305;&#12395;&#12424;&#12367;&#32771;&#12360;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12459;&#12521;&#12512;&#12395;&#12510;&#12483;&#12503;&#12373;&#12428;&#12427;&#23376;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12354;&#12427;&#22580;&#21512;&#12399;&#12289;&#21839;&#38988;&#12394;&#12356;&#12391;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391; <code class="literal">inverse="true"</code> &#12434;&#20351;&#12356;&#32154;&#12369;&#12425;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Parent"&gt;
    &lt;id name="id" column="parent_id"/&gt;
    ....
    &lt;map name="children" inverse="true"&gt;
        &lt;key column="parent_id"/&gt;
        &lt;map-key column="name" 
            type="string"/&gt;
        &lt;one-to-many class="Child"/&gt;
    &lt;/map&gt;
&lt;/class&gt;

&lt;class name="Child"&gt;
    &lt;id name="id" column="child_id"/&gt;
    ....
    &lt;property name="name" 
        not-null="true"/&gt;
    &lt;many-to-one name="parent" 
        class="Parent" 
        column="parent_id"
        not-null="true"/&gt;
&lt;/class&gt;</pre><p>&#12375;&#12363;&#12375;&#12289;&#23376;&#12463;&#12521;&#12473;&#12395;&#12381;&#12398;&#12424;&#12358;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289; &#38306;&#36899;&#12434;&#30495;&#12395;&#21452;&#26041;&#21521;&#12391;&#12354;&#12427;&#12392;&#32771;&#12360;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12379;&#12435; &#65288;&#38306;&#36899;&#12398;&#29255;&#20596;&#12395;&#21033;&#29992;&#12391;&#12365;&#12427;&#24773;&#22577;&#12364;&#12354;&#12426;&#12414;&#12377;&#12364;&#12289;&#12418;&#12358;&#19968;&#26041;&#12395;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#65289;&#12290; &#12371;&#12398;&#22580;&#21512;&#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395; <code class="literal">inverse="true"</code> &#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#20195;&#12431;&#12426;&#12395;&#12289;&#27425;&#12398;&#12424;&#12358;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12364;&#20351;&#12360;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Parent"&gt;
    &lt;id name="id" column="parent_id"/&gt;
    ....
    &lt;map name="children"&gt;
        &lt;key column="parent_id"
            not-null="true"/&gt;
        &lt;map-key column="name" 
            type="string"/&gt;
        &lt;one-to-many class="Child"/&gt;
    &lt;/map&gt;
&lt;/class&gt;

&lt;class name="Child"&gt;
    &lt;id name="id" column="child_id"/&gt;
    ....
    &lt;many-to-one name="parent" 
        class="Parent" 
        column="parent_id"
        insert="false"
        update="false"
        not-null="true"/&gt;
&lt;/class&gt;</pre><p>&#27880;&#24847;&#65306; &#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12399;&#12289;&#38306;&#36899;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20516;&#12398;&#20596;&#12399;&#12289; &#22806;&#37096;&#12461;&#12540;&#12434;&#12450;&#12483;&#12503;&#12487;&#12540;&#12488;&#12377;&#12427;&#36012;&#20219;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-ternary"></a>6.3.4. 3&#38917;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>3&#38917;&#38306;&#36899;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;3&#12388;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 1&#12388;&#30446;&#12399;&#38306;&#36899;&#12434;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12392;&#12375;&#12390; <code class="literal">Map</code> &#12434;&#20351;&#29992;&#12377;&#12427;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;map name="contracts"&gt;
    &lt;key column="employer_id" not-null="true"/&gt;
    &lt;map-key-many-to-many column="employee_id" class="Employee"/&gt;
    &lt;one-to-many class="Contract"/&gt;
&lt;/map&gt;</pre><pre class="programlisting">&lt;map name="connections"&gt;
    &lt;key column="incoming_node_id"/&gt;
    &lt;map-key-many-to-many column="outgoing_node_id" class="Node"/&gt;
    &lt;many-to-many column="connection_id" class="Connection"/&gt;
&lt;/map&gt;</pre><p>2&#12388;&#30446;&#12399;&#21336;&#32020;&#12395;&#38306;&#36899;&#12434;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#65381;&#12463;&#12521;&#12473;&#12392;&#12375;&#12390;&#12514;&#12487;&#12523;&#12434;&#20316;&#12426;&#30452;&#12377;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12289; &#38971;&#32321;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; </p>
                  <p>&#26368;&#24460;&#12399;composite&#35201;&#32032;&#12434;&#20351;&#12358;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12377;&#12290;&#12371;&#12428;&#12395;&#38306;&#12377;&#12427;&#35696;&#35542;&#12399;&#24460;&#12411;&#12393;&#34892;&#12356;&#12414;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="collections-idbag"></a>6.3.5. <code class="literal"><code class="literal">&lt;idbag&gt;</code>&#12398;&#20351;&#29992;</code></h3>
                        </div>
                     </div>
                  </div>
                  <p>&#35079;&#21512;&#12461;&#12540;&#12399;&#24746;&#12356;&#12418;&#12398;&#12391;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#20154;&#24037;&#12398;&#35672;&#21029;&#23376;(&#20195;&#29702;&#12461;&#12540;)&#12434;&#25345;&#12388;&#12409;&#12365;&#12391;&#12354;&#12427;&#12392;&#12356;&#12358;&#32771;&#12360;&#26041;&#12363;&#12425;&#12399;&#12289; &#22810;&#23550;&#22810;&#38306;&#36899;&#12392;&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#35079;&#21512;&#12461;&#12540;&#12434;&#29992;&#12356;&#12383;&#12486;&#12540;&#12502;&#12523;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12398;&#12399;&#23569;&#12375;&#22855;&#22937;&#12395;&#24863;&#12376;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#65281; &#30906;&#12363;&#12395;&#12371;&#12398;&#32771;&#12360;&#26041;&#12395;&#12399;&#35696;&#35542;&#12398;&#20313;&#22320;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;
                     &#32020;&#31883;&#12394;&#38306;&#36899;&#12486;&#12540;&#12502;&#12523;&#12399;&#20195;&#29702;&#12461;&#12540;&#12434;&#20351;&#12387;&#12390;&#12418;&#21033;&#30410;&#12434;&#24471;&#12425;&#12428;&#12394;&#12356;&#12424;&#12358;&#12395;&#24605;&#12360;&#12427;&#12363;&#12425;&#12391;&#12377; &#65288;&#21512;&#25104;&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#21033;&#30410;&#12364;&#12354;&#12427; <span class="emphasis"><em>&#12363;&#12418;</em></span> &#12375;&#12428;&#12414;&#12379;&#12435;&#12364;&#65289;&#12290; &#12392;&#12399;&#12356;&#12360;&#12289;Hibernate&#12399;&#20195;&#29702;&#12461;&#12540;&#12434;&#25345;&#12388;&#12486;&#12540;&#12502;&#12523;&#12408;&#22810;&#23550;&#22810;&#38306;&#36899;&#12392;&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434; &#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#27231;&#33021;&#12418;&#20633;&#12360;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>bag&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12483;&#12463;&#12473;&#12434;&#25345;&#12387;&#12383; <code class="literal">List</code>&#65288;&#12414;&#12383;&#12399; <code class="literal">Collection</code>&#65289;&#12434; <code class="literal">&lt;idbag&gt;</code> &#35201;&#32032;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;idbag name="lovers" table="LOVERS"&gt;
    &lt;collection-id column="ID" type="long"&gt;
        &lt;generator class="sequence"/&gt;
    &lt;/collection-id&gt;
    &lt;key column="PERSON1"/&gt;
    &lt;many-to-many column="PERSON2" class="Person" fetch="join"/&gt;
&lt;/idbag&gt;</pre><p>&#12372;&#23384;&#30693;&#12398;&#12424;&#12358;&#12395; <code class="literal">&lt;idbag&gt;</code> &#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#65381;&#12463;&#12521;&#12473;&#12398;&#12424;&#12358;&#12395; &#20154;&#24037;&#30340;&#12394;id&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#65281; &#30064;&#12394;&#12427;&#20195;&#29702;&#12461;&#12540;&#12434;&#12381;&#12428;&#12382;&#12428;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#21015;&#12395;&#21106;&#12426;&#24403;&#12390;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12394;&#12364;&#12425;&#12289;Hibernate&#12399;&#12354;&#12427;&#34892;&#12398;&#20195;&#29702;&#12461;&#12540;&#12398;&#20516;&#12434;&#35211;&#12388;&#12369;&#20986;&#12377;&#27231;&#27083;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p><code class="literal">&lt;idbag&gt;</code> &#12434;&#26356;&#26032;&#12377;&#12427;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12399; &#36890;&#24120;&#12398; <code class="literal">&lt;bag&gt;</code> &#12424;&#12426;&#12418;&#33391;&#12356;&#12371;&#12392;&#12395;&#27880;&#30446;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65281; Hibernate&#12399;&#20491;&#12293;&#12398;&#34892;&#12434;&#21177;&#26524;&#30340;&#12395;&#35211;&#12388;&#12369;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12289; list&#12420;map&#12289;set&#12398;&#12424;&#12358;&#12395;&#20491;&#21029;&#12395;&#12381;&#12398;&#34892;&#12434;&#26356;&#26032;&#12289;&#21066;&#38500;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#29694;&#22312;&#12398;&#23455;&#35013;&#12391;&#12399;&#12289;<code class="literal">native</code> &#12392;&#12356;&#12358;id&#29983;&#25104;&#25126;&#30053;&#12434; <code class="literal">&lt;idbag&gt;</code> &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35672;&#21029;&#23376;&#12395;&#23550;&#12375;&#12390;&#20351;&#12360;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="collections-example"></a>6.4. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#20363;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12371;&#12428;&#12414;&#12391;&#12398;&#31680;&#12398;&#35500;&#26126;&#12391;&#12399;&#29702;&#35299;&#12375;&#12395;&#12367;&#12356;&#12398;&#12391;&#12289;&#20197;&#19979;&#12398;&#20363;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p><pre class="programlisting">package eg;
import java.util.Set;

public class Parent {
    private long id;
    private Set children;

    public long getId() { return id; }
    private void setId(long id) { this.id=id; }

    private Set getChildren() { return children; }
    private void setChildren(Set children) { this.children=children; }

    ....
    ....
}</pre><p>&#12371;&#12398;&#12463;&#12521;&#12473;&#12399; <code class="literal">Child</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#12418;&#12375;&#21508;&#12293;&#12398;child&#12364;&#26368;&#22823;&#12391;&#12418;&#19968;&#12388;&#12398;parent&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12394;&#12425;&#12400;&#12289;&#26368;&#12418;&#33258;&#28982;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#19968;&#23550;&#22810;&#38306;&#36899;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="Parent"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;set name="children"&gt;
            &lt;key column="parent_id"/&gt;
            &lt;one-to-many class="Child"/&gt;
        &lt;/set&gt;
    &lt;/class&gt;

    &lt;class name="Child"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#12371;&#12428;&#12399;&#20197;&#19979;&#12398;&#12486;&#12540;&#12502;&#12523;&#23450;&#32681;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; </p><pre class="programlisting">create table parent ( id bigint not null primary key )
create table child ( id bigint not null primary key, name varchar(255), parent_id bigint )
alter table child add constraint childfk0 (parent_id) references parent</pre><p>&#12418;&#12375;parent&#12364; <span class="emphasis"><em>&#35201;&#27714;</em></span> &#12373;&#12428;&#12427;&#12394;&#12425;&#12289;&#21452;&#26041;&#21521;&#12398;&#19968;&#23550;&#22810;&#38306;&#36899;&#12434;&#20351;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="Parent"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;set name="children" inverse="true"&gt;
            &lt;key column="parent_id"/&gt;
            &lt;one-to-many class="Child"/&gt;
        &lt;/set&gt;
    &lt;/class&gt;

    &lt;class name="Child"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
        &lt;many-to-one name="parent" class="Parent" column="parent_id" not-null="true"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p><code class="literal">NOT NULL</code> &#21046;&#32004;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p><pre class="programlisting">create table parent ( id bigint not null primary key )
create table child ( id bigint not null
                     primary key,
                     name varchar(255),
                     parent_id bigint not null )
alter table child add constraint childfk0 (parent_id) references parent</pre><p>&#12354;&#12427;&#12356;&#12399;&#12289;&#12418;&#12375;&#12371;&#12398;&#38306;&#36899;&#12399;&#21336;&#26041;&#21521;&#12391;&#12354;&#12427;&#12409;&#12365;&#12392;&#24375;&#12367;&#20027;&#24373;&#12377;&#12427;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289; <code class="literal">&lt;key&gt;</code> &#12395; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12434;&#23459;&#35328;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="Parent"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;set name="children"&gt;
            &lt;key column="parent_id" not-null="true"/&gt;
            &lt;one-to-many class="Child"/&gt;
        &lt;/set&gt;
    &lt;/class&gt;

    &lt;class name="Child"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#19968;&#26041;&#12391;&#12289;&#12418;&#12375;child&#12364;&#35079;&#25968;&#12398;parent&#12434;&#25345;&#12390;&#12427;&#12394;&#12425;&#12400;&#12289;&#22810;&#23550;&#22810;&#38306;&#36899;&#12364;&#22949;&#24403;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="Parent"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;set name="children" table="childset"&gt;
            &lt;key column="parent_id"/&gt;
            &lt;many-to-many class="Child" column="child_id"/&gt;
        &lt;/set&gt;
    &lt;/class&gt;

    &lt;class name="Child"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"/&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#12486;&#12540;&#12502;&#12523;&#23450;&#32681;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p><pre class="programlisting">create table parent ( id bigint not null primary key )
create table child ( id bigint not null primary key, name varchar(255) )
create table childset ( parent_id bigint not null,
                        child_id bigint not null,
                        primary key ( parent_id, child_id ) )
alter table childset add constraint childsetfk0 (parent_id) references parent
alter table childset add constraint childsetfk1 (child_id) references child</pre><p>parent/child&#38306;&#20418;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12388;&#12356;&#12390;&#12398;&#12424;&#12426;&#22810;&#12367;&#12398;&#20363;&#12420;&#23436;&#20840;&#12394;&#25163;&#38918;&#12364;&#24517;&#35201;&#12391;&#12354;&#12428;&#12400;&#12289; <a href="#example-parentchild" title="&#31532;21&#31456; &#20363;&#65306;&#35242;/&#23376;&#20379;">&#31456;&nbsp;21. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#20363;&#65306;&#35242;/&#23376;&#20379;</i></a> &#12434;&#12372;&#35239;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#12414;&#12383;&#12289;&#12373;&#12425;&#12395;&#29305;&#27530;&#12394;&#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290;&#27425;&#12398;&#31456;&#12391;&#35443;&#12375;&#12367;&#36848;&#12409;&#12414;&#12377;&#12290; </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="associations"></a>&#31532;7&#31456; &#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="assoc-intro"></a>7.1. &#12452;&#12531;&#12488;&#12525;&#12480;&#12463;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#12375;&#12400;&#12375;&#12400;&#29702;&#35299;&#12364;&#26368;&#12418;&#38627;&#12375;&#12356;&#12418;&#12398;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#31456;&#12391;&#12399;&#12289;&#22522;&#26412;&#30340;&#12394;&#19968;&#12388;&#19968;&#12388;&#12398;&#12465;&#12540;&#12473;&#12395;&#12388;&#12356;&#12390;&#36848;&#12409;&#12414;&#12377;&#12290; &#21336;&#26041;&#21521;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12363;&#12425;&#22987;&#12417;&#12289;&#12381;&#12428;&#12363;&#12425;&#21452;&#26041;&#21521;&#12398;&#12465;&#12540;&#12473;&#12395;&#12388;&#12356;&#12390;&#32771;&#12360;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290; &#20363;&#12392;&#12375;&#12390;&#12289;<code class="literal">Person</code> &#12392; <code class="literal">Address</code> &#12434;&#29992;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <p>&#38306;&#36899;&#12399;&#12289;&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20837;&#12428;&#12427;&#12363;&#12363;&#12393;&#12358;&#12363;&#12392;&#12289; &#22810;&#37325;&#24230;&#12395;&#12424;&#12387;&#12390;&#20998;&#39006;&#12377;&#12427;&#12371;&#12392;&#12395;&#12375;&#12414;&#12377;&#12290; </p>
               <p>&#12377;&#12409;&#12390;&#12398;&#20363;&#12391;not null&#12398;&#22806;&#37096;&#12461;&#12540;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;Hibernate&#12398;&#35201;&#20214;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; not null&#21046;&#32004;&#12434;&#22806;&#12375;&#12383;&#12392;&#12375;&#12390;&#12418;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#21839;&#38988;&#12394;&#12367;&#21205;&#20316;&#12375;&#12414;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="assoc-unidirectional"></a>7.2. &#21336;&#26041;&#21521;&#38306;&#36899;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-m21"></a>7.2.1. &#22810;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#21336;&#26041;&#21521;&#22810;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#21336;&#26041;&#21521;&#38306;&#36899;&#12398;&#20013;&#12391;&#26368;&#12418;&#19968;&#33324;&#30340;&#12394;&#12418;&#12398;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;many-to-one name="address" 
        column="addressId"
        not-null="true"/&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key, addressId bigint not null )
create table Address ( addressId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-121"></a>7.2.2. &#19968;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#22806;&#37096;&#12461;&#12540;&#12398;&#21336;&#26041;&#21521;&#19968;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#12411;&#12392;&#12435;&#12393;&#21516;&#12376;&#12418;&#12398;&#12391;&#12377;&#12290; &#21807;&#19968;&#36949;&#12358;&#12398;&#12399;&#12289;&#12459;&#12521;&#12512;&#12398;&#12518;&#12491;&#12540;&#12463;&#12394;&#21046;&#32004;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;many-to-one name="address" 
        column="addressId" 
        unique="true"
        not-null="true"/&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key, addressId bigint not null unique )
create table Address ( addressId bigint not null primary key )
        </pre><p><span class="emphasis"><em>&#20027;&#12461;&#12540;&#12398;&#21336;&#26041;&#21521;&#19968;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#36890;&#24120;&#12289;&#29305;&#21029;&#12394;ID&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#65288;&#12371;&#12398;&#20363;&#12391;&#12399;&#38306;&#36899;&#12398;&#26041;&#21521;&#12364;&#36870;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="foreign"&gt;
            &lt;param name="property"&gt;person&lt;/param&gt;
        &lt;/generator&gt;
    &lt;/id&gt;
    &lt;one-to-one name="person" constrained="true"/&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table Address ( personId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-12m"></a>7.2.3. &#19968;&#23550;&#22810;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#22806;&#37096;&#12461;&#12540;&#12398;&#21336;&#26041;&#21521;&#19968;&#23550;&#22810;&#38306;&#36899;</em></span> &#12399;&#12392;&#12390;&#12418;&#29305;&#27530;&#12394;&#12465;&#12540;&#12473;&#12391;&#12289; &#12354;&#12414;&#12426;&#25512;&#22888;&#12373;&#12428;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="addresses"&gt;
        &lt;key column="personId" 
            not-null="true"/&gt;
        &lt;one-to-many class="Address"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table Address ( addressId bigint not null primary key, personId bigint not null )
        </pre><p>&#12371;&#12398;&#12424;&#12358;&#12394;&#38306;&#36899;&#12398;&#12383;&#12417;&#12395;&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12358;&#12371;&#12392;&#12434;&#12362;&#34214;&#12417;&#12375;&#12414;&#12377;&#12290; </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="assoc-unidirectional-join"></a>7.3. &#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12387;&#12383;&#21336;&#26041;&#21521;&#38306;&#36899;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-join-12m"></a>7.3.1. &#19968;&#23550;&#22810;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12387;&#12383;&#21336;&#26041;&#21521;&#19968;&#23550;&#22810;&#38306;&#36899;</em></span> &#12399;&#12424;&#12426;&#22909;&#12414;&#12375;&#12356;&#12391;&#12377;&#12290; <code class="literal">unique="true"</code> &#12398;&#25351;&#23450;&#12395;&#12424;&#12426;&#12289;&#22810;&#37325;&#24230;&#12364;&#22810;&#23550;&#22810;&#12363;&#12425;&#19968;&#23550;&#22810; &#12395;&#22793;&#12431;&#12387;&#12383;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#19979;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="addresses" table="PersonAddress"&gt;
        &lt;key column="personId"/&gt;
        &lt;many-to-many column="addressId"
            unique="true"
            class="Address"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId not null, addressId bigint not null primary key )
create table Address ( addressId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-join-m21"></a>7.3.2. &#22810;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12398;&#21336;&#26041;&#21521;&#22810;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399; &#38306;&#36899;&#12364;&#20219;&#24847;&#12391;&#12354;&#12427;&#12392;&#12365;&#12395;&#38750;&#24120;&#12395;&#19968;&#33324;&#30340;&#12394;&#12418;&#12398;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;join table="PersonAddress" 
        optional="true"&gt;
        &lt;key column="personId" unique="true"/&gt;
        &lt;many-to-one name="address"
            column="addressId" 
            not-null="true"/&gt;
    &lt;/join&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId bigint not null primary key, addressId bigint not null )
create table Address ( addressId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-join-121"></a>7.3.3. &#19968;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12398;&#21336;&#26041;&#21521;&#19968;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#12289;&#26412;&#24403;&#12395;&#29305;&#27530;&#12391;&#12377;&#12364; &#19981;&#21487;&#33021;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;join table="PersonAddress" 
        optional="true"&gt;
        &lt;key column="personId" 
            unique="true"/&gt;
        &lt;many-to-one name="address"
            column="addressId" 
            not-null="true"
            unique="true"/&gt;
    &lt;/join&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId bigint not null primary key, addressId bigint not null unique )
create table Address ( addressId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-unidirectional-join-m2m"></a>7.3.4. &#22810;&#23550;&#22810;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26368;&#24460;&#12395;&#12289;<span class="emphasis"><em>&#21336;&#26041;&#21521;&#22810;&#23550;&#22810;&#38306;&#36899;</em></span> &#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="addresses" table="PersonAddress"&gt;
        &lt;key column="personId"/&gt;
        &lt;many-to-many column="addressId"
            class="Address"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId bigint not null, addressId bigint not null, primary key (personId, addressId) )
create table Address ( addressId bigint not null primary key )
        </pre></div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="assoc-bidirectional"></a>7.4. &#21452;&#26041;&#21521;&#38306;&#36899;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-bidirectional-m21"></a>7.4.1. &#19968;&#23550;&#22810;/&#22810;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#21452;&#26041;&#21521;&#22810;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#26368;&#12418;&#19968;&#33324;&#30340;&#12394;&#38306;&#36899;&#12391;&#12377;&#12290; &#65288;&#27161;&#28310;&#30340;&#12394;&#35242;&#23376;&#38306;&#20418;&#12391;&#12377;&#65289; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;many-to-one name="address" 
        column="addressId"
        not-null="true"/&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="people" inverse="true"&gt;
        &lt;key column="addressId"/&gt;
        &lt;one-to-many class="Person"/&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key, addressId bigint not null )
create table Address ( addressId bigint not null primary key )
        </pre><p><code class="literal">List</code> &#65288;&#12414;&#12383;&#12399;&#20182;&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65289;&#12434;&#20351;&#12358;&#12394;&#12425;&#12289; &#22806;&#37096;&#12461;&#12540;&#12398; <code class="literal">key</code> &#12459;&#12521;&#12512;&#12434; <code class="literal">not null</code> &#12395;&#35373;&#23450;&#12375;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20596;&#12364;&#21508;&#35201;&#32032;&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12434;&#12513;&#12531;&#12486;&#12490;&#12531;&#12473;&#12377;&#12427;&#12424;&#12358;&#12395;&#12289; &#38306;&#36899;&#12434;&#25201;&#12358;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377; &#65288;<code class="literal">update="false"</code> &#12363;&#12388; <code class="literal">insert="false"</code> &#12392;&#35373;&#23450;&#12375;&#12390;&#12289;&#21453;&#23550;&#20596;&#12434;&#20206;&#24819;&#30340;&#12395;inverse&#12395;&#12375;&#12414;&#12377;&#65289;&#65306; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
   &lt;id name="id"/&gt;
   ...
   &lt;many-to-one name="address"
      column="addressId"
      not-null="true"
      insert="false"
      update="false"/&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
   &lt;id name="id"/&gt;
   ...
   &lt;list name="people"&gt;
      &lt;key column="addressId" not-null="true"/&gt;
      &lt;list-index column="peopleIdx"/&gt;
      &lt;one-to-many class="Person"/&gt;
   &lt;/list&gt;
&lt;/class&gt;</pre><p>&#12418;&#12375;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12364; <code class="literal">NOT NULL</code> &#12391;&#12354;&#12427;&#12394;&#12425;&#12400;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; <code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12434; <code class="literal">not-null="true"</code> &#12395;&#12377;&#12427;&#12371;&#12392;&#12399;&#37325;&#35201;&#12391;&#12377;&#12290; &#20837;&#12428;&#23376;&#12395;&#12394;&#12387;&#12383; <code class="literal">&lt;column&gt;</code> &#35201;&#32032;&#12384;&#12369;&#12391;&#12399;&#12394;&#12367;&#12289; <code class="literal">&lt;key&gt;</code> &#35201;&#32032;&#12418; <code class="literal">not-null="true"</code> &#12392;&#23450;&#32681;&#12375;&#12394;&#12356;&#12424;&#12358;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-bidirectional-121"></a>7.4.2. &#19968;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#22806;&#37096;&#12461;&#12540;&#12398;&#21452;&#26041;&#21521;&#19968;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#38750;&#24120;&#12395;&#19968;&#33324;&#30340;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;many-to-one name="address" 
        column="addressId" 
        unique="true"
        not-null="true"/&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
   &lt;one-to-one name="person" 
        property-ref="address"/&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key, addressId bigint not null unique )
create table Address ( addressId bigint not null primary key )
        </pre><p><span class="emphasis"><em>&#20027;&#12461;&#12540;&#12398;&#21452;&#26041;&#21521;&#19968;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#29305;&#27530;&#12394;ID&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;one-to-one name="address"/&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="foreign"&gt;
            &lt;param name="property"&gt;person&lt;/param&gt;
        &lt;/generator&gt;
    &lt;/id&gt;
    &lt;one-to-one name="person" 
        constrained="true"/&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table Address ( personId bigint not null primary key )
        </pre></div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="assoc-bidirectional-join"></a>7.5. &#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12434;&#20351;&#12387;&#12383;&#21452;&#26041;&#21521;&#38306;&#36899;
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-bidirectional-join-12m"></a>7.5.1. &#19968;&#23550;&#22810;/&#22810;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12398;&#21452;&#26041;&#21521;&#19968;&#23550;&#22810;&#38306;&#36899;</em></span> &#12391;&#12377;&#12290; <code class="literal">inverse="true"</code> &#12364;&#38306;&#36899;&#31471;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;&#32080;&#21512;&#12398;&#12356;&#12378;&#12428;&#12363;&#12395; &#35373;&#23450;&#12391;&#12365;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="addresses" 
        table="PersonAddress"&gt;
        &lt;key column="personId"/&gt;
        &lt;many-to-many column="addressId"
            unique="true"
            class="Address"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;join table="PersonAddress" 
        inverse="true" 
        optional="true"&gt;
        &lt;key column="addressId"/&gt;
        &lt;many-to-one name="person"
            column="personId"
            not-null="true"/&gt;
    &lt;/join&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId bigint not null, addressId bigint not null primary key )
create table Address ( addressId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-bidirectional-join-121"></a>7.5.2. &#19968;&#23550;&#19968;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>&#32080;&#21512;&#12486;&#12540;&#12502;&#12523;&#12398;&#21452;&#26041;&#21521;&#19968;&#23550;&#19968;&#38306;&#36899;</em></span> &#12399;&#38750;&#24120;&#12395;&#29305;&#27530;&#12391;&#12377;&#12364;&#12289;&#21487;&#33021;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;join table="PersonAddress" 
        optional="true"&gt;
        &lt;key column="personId" 
            unique="true"/&gt;
        &lt;many-to-one name="address"
            column="addressId" 
            not-null="true"
            unique="true"/&gt;
    &lt;/join&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;join table="PersonAddress" 
        optional="true"
        inverse="true"&gt;
        &lt;key column="addressId" 
            unique="true"/&gt;
        &lt;many-to-one name="person"
            column="personId" 
            not-null="true"
            unique="true"/&gt;
    &lt;/join&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId bigint not null primary key, addressId bigint not null unique )
create table Address ( addressId bigint not null primary key )
        </pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="assoc-bidirectional-join-m2m"></a>7.5.3. &#22810;&#23550;&#22810;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26368;&#24460;&#12395;&#12289;<span class="emphasis"><em>&#21452;&#26041;&#21521;&#22810;&#23550;&#22810;&#38306;&#36899;</em></span> &#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id" column="personId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="addresses" table="PersonAddress"&gt;
        &lt;key column="personId"/&gt;
        &lt;many-to-many column="addressId"
            class="Address"/&gt;
    &lt;/set&gt;
&lt;/class&gt;

&lt;class name="Address"&gt;
    &lt;id name="id" column="addressId"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;set name="people" inverse="true" table="PersonAddress"&gt;
        &lt;key column="addressId"/&gt;
        &lt;many-to-many column="personId"
            class="Person"/&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre><pre class="programlisting">
create table Person ( personId bigint not null primary key )
create table PersonAddress ( personId bigint not null, addressId bigint not null, primary key (personId, addressId) )
create table Address ( addressId bigint not null primary key )
        </pre></div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="assoc-complex"></a>7.6. &#12424;&#12426;&#35079;&#38609;&#12394;&#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12424;&#12426;&#35079;&#38609;&#12394;&#38306;&#36899;&#32080;&#21512;&#12399; <span class="emphasis"><em>&#26997;&#12417;&#12390;</em></span> &#31232;&#12391;&#12377;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12395;SQL&#25991;&#12434;&#22475;&#12417;&#36796;&#12416;&#12371;&#12392;&#12391;&#12289; &#12373;&#12425;&#12395;&#35079;&#38609;&#12394;&#29366;&#27841;&#12434;&#25201;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;<code class="literal">accountNumber</code>, <code class="literal">effectiveEndDate</code>, <code class="literal">effectiveStartDate</code> &#12459;&#12521;&#12512;&#12434;&#25345;&#12388;account&#65288;&#21475;&#24231;&#65289;&#24773;&#22577;&#12398;&#23653;&#27508;&#12434;&#25201;&#12358;&#12486;&#12540;&#12502;&#12523;&#12399;&#12289; &#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;properties name="currentAccountKey"&gt;
    &lt;property name="accountNumber" type="string" not-null="true"/&gt;
    &lt;property name="currentAccount" type="boolean"&gt;
        &lt;formula&gt;case when effectiveEndDate is null then 1 else 0 end&lt;/formula&gt;
    &lt;/property&gt;
&lt;/properties&gt;
&lt;property name="effectiveEndDate" type="date"/&gt;
&lt;property name="effectiveStateDate" type="date" not-null="true"/&gt;</pre><p>&#12381;&#12375;&#12390;&#12289;&#38306;&#36899;&#12434; <span class="emphasis"><em>&#29694;&#26178;&#28857;&#12398;</em></span> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473; &#65288;<code class="literal">effectiveEndDate</code> &#12364;null&#12391;&#12354;&#12427;&#12418;&#12398;&#65289;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; &#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#65306; 
               </p><pre class="programlisting">&lt;many-to-one name="currentAccountInfo" 
        property-ref="currentAccountKey"
        class="AccountInfo"&gt;
    &lt;column name="accountNumber"/&gt;
    &lt;formula&gt;'1'&lt;/formula&gt;
&lt;/many-to-one&gt;</pre><p>&#12373;&#12425;&#12395;&#35079;&#38609;&#12394;&#20363;&#12391;&#12399;&#12289;<code class="literal">Employee&#65288;&#24467;&#26989;&#21729;&#65289;</code> &#12392; <code class="literal">Organization&#65288;&#32068;&#32340;&#65289;</code> &#38291;&#12398;&#38306;&#36899;&#12364; <code class="literal">Employment&#65288;&#38599;&#29992;&#65289;</code> &#12486;&#12540;&#12502;&#12523;&#12391;&#20445;&#25345;&#12373;&#12428;&#12427;&#22580;&#21512;&#12434;&#24819;&#20687;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#12399;&#38599;&#29992;&#12487;&#12540;&#12479;&#12398;&#23653;&#27508;&#12364;&#12377;&#12409;&#12390;&#21547;&#12414;&#12428;&#12414;&#12377;&#12290; &#12377;&#12427;&#12392;&#24467;&#26989;&#21729;&#12398; <span class="emphasis"><em>&#26368;&#12418;&#26368;&#36817;&#12398;</em></span> &#38599;&#29992;&#32773;&#12434;&#34920;&#12377;&#38306;&#36899; &#65288;&#26368;&#12418;&#26368;&#36817;&#12398; <code class="literal">startDate</code> &#12434;&#25345;&#12388;&#12418;&#12398;&#65289;&#12399;&#12289;&#12371;&#12398;&#12424;&#12358;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12365;&#12414;&#12377;&#65306; 
               </p><pre class="programlisting">&lt;join&gt;
    &lt;key column="employeeId"/&gt;
    &lt;subselect&gt;
        select employeeId, orgId 
        from Employments 
        group by orgId 
        having startDate = max(startDate)
    &lt;/subselect&gt;
    &lt;many-to-one name="mostRecentEmployer" 
            class="Organization" 
            column="orgId"/&gt;
&lt;/join&gt;</pre><p>&#12371;&#12398;&#27231;&#33021;&#12399;&#38750;&#24120;&#12395;&#24375;&#21147;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12371;&#12398;&#12424;&#12358;&#12394;&#22580;&#21512;&#12289;&#26222;&#36890;&#12399;HQL&#12420;criteria&#12463;&#12456;&#12522;&#12434;&#20351;&#12358;&#26041;&#12364;&#12424;&#12426;&#23455;&#36341;&#30340;&#12391;&#12377;&#12290; </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="components"></a>&#31532;8&#31456; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <p><span class="emphasis"><em>&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;</em></span> &#12398;&#27010;&#24565;&#12399;&#12289;Hibernate&#12434;&#36890;&#12375;&#12390;&#27096;&#12293;&#12394;&#29366;&#27841;&#12398;&#20013;&#12391; &#30064;&#12394;&#12427;&#30446;&#30340;&#12398;&#12383;&#12417;&#12395;&#20877;&#21033;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="components-dependentobjects"></a>8.1. &#20381;&#23384;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21442;&#29031;&#12391;&#12399;&#12394;&#12367;&#20516;&#22411;&#12392;&#12375;&#12390;&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#12289; &#21253;&#21547;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#12377;&#12290;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12392;&#12356;&#12358;&#35328;&#33865;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;&#12467;&#12531;&#12509;&#12472;&#12471;&#12519;&#12531;&#12392;&#12356;&#12358; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12398;&#27010;&#24565;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65288;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12524;&#12505;&#12523;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#65289;&#12290;
                  &#20363;&#12360;&#12400;&#12289;&#20197;&#19979;&#12398;Person&#12514;&#12487;&#12523;&#12398;&#12424;&#12358;&#12394;&#12418;&#12398;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">public class Person {
    private java.util.Date birthday;
    private Name name;
    private String key;
    public String getKey() {
        return key;
    }
    private void setKey(String key) {
        this.key=key;
    }
    public java.util.Date getBirthday() {
        return birthday;
    }
    public void setBirthday(java.util.Date birthday) {
        this.birthday = birthday;
    }
    public Name getName() {
        return name;
    }
    public void setName(Name name) {
        this.name = name;
    }
    ......
    ......
}</pre><pre class="programlisting">public class Name {
    char initial;
    String first;
    String last;
    public String getFirst() {
        return first;
    }
    void setFirst(String first) {
        this.first = first;
    }
    public String getLast() {
        return last;
    }
    void setLast(String last) {
        this.last = last;
    }
    public char getInitial() {
        return initial;
    }
    void setInitial(char initial) {
        this.initial = initial;
    }
}</pre><p>&#12356;&#12414;&#12289;<code class="literal">Name</code> &#12399; <code class="literal">Person</code> &#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12392;&#12375;&#12390; &#27704;&#32154;&#21270;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290;&#12371;&#12371;&#12391; <code class="literal">Name</code> &#12399;&#27704;&#32154;&#21270;&#23646;&#24615;&#12395;&#23550;&#12375;&#12390;getter&#12289; setter&#12513;&#12477;&#12483;&#12489;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12364;&#12289;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12420;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23450;&#32681;&#12377;&#12427;&#24517;&#35201;&#12364; &#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#19979;&#12373;&#12356;&#12290; 
               </p>
               <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;class name="eg.Person" table="person"&gt;
    &lt;id name="Key" column="pid" type="string"&gt;
        &lt;generator class="uuid"/&gt;
    &lt;/id&gt;
    &lt;property name="birthday" type="date"/&gt;
    &lt;component name="Name" class="eg.Name"&gt; &lt;!-- class attribute optional --&gt;
        &lt;property name="initial"/&gt;
        &lt;property name="first"/&gt;
        &lt;property name="last"/&gt;
    &lt;/component&gt;
&lt;/class&gt;</pre><p>Person&#12486;&#12540;&#12502;&#12523;&#12399; <code class="literal">pid</code>&#12289; <code class="literal">birthday</code>&#12289; <code class="literal">initial</code>&#12289; <code class="literal">first</code>&#12289; <code class="literal">last</code> &#12459;&#12521;&#12512;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; 
               </p>
               <p>&#20840;&#12390;&#12398;&#20516;&#22411;&#12398;&#12424;&#12358;&#12395;&#12289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12399;&#21442;&#29031;&#12398;&#20849;&#26377;&#12434;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#35328;&#12356;&#25563;&#12360;&#12427;&#12392;&#12289;&#20108;&#20154;&#12398;Person&#12399;&#21516;&#12376;&#21517;&#21069;&#12434;&#25345;&#12388;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12364;&#12289;&#20108;&#12388;&#12398;Person&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399; "&#20516;&#12364;&#21516;&#12376;&#12384;&#12369;"&#12398;&#21029;&#12293;&#12398;name&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21547;&#12435;&#12391;&#12356;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290;
                  &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;null&#20516;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12399; <span class="emphasis"><em>&#12450;&#12489;&#12507;&#12483;&#12463;</em></span> &#12391;&#12377;&#12290; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20877;&#35501;&#12415;&#36796;&#12415;&#12377;&#12427;&#38555;&#12289;Hibernate&#12399;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12377;&#12409;&#12390;&#12398;&#12459;&#12521;&#12512;&#12364; null&#12391;&#12354;&#12427;&#12394;&#12425;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#33258;&#20307;&#12364;null&#12391;&#12354;&#12427;&#12392;&#32771;&#12360;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#22823;&#25269;&#12398;&#22580;&#21512;&#21839;&#38988;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#23646;&#24615;&#12399;&#12393;&#12435;&#12394;Hibernate&#12398;&#22411;&#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#65288;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;many-to-one&#38306;&#36899;&#12289; &#20182;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12394;&#12393;&#65289;&#12290;&#12493;&#12473;&#12488;&#12373;&#12428;&#12383;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12399;&#28357;&#22810;&#12395;&#20351;&#12431;&#12394;&#12356;&#12392;&#32771;&#12360;&#12427;&#12409;&#12365;&#12391;&#12399; <span class="emphasis"><em>&#12354;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290;Hibernate&#12399;&#38750;&#24120;&#12395;&#12365;&#12417;&#12398;&#32048;&#12363;&#12356;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12514;&#12487;&#12523;&#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12424;&#12358;&#12395;&#24847;&#22259;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <p><code class="literal">&lt;component&gt;</code> &#35201;&#32032;&#12399;&#35242;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#36870;&#21442;&#29031;&#12392;&#12375;&#12390;&#12289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12463;&#12521;&#12473;&#12398; &#23646;&#24615;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427; <code class="literal">&lt;parent&gt;</code> &#12469;&#12502;&#35201;&#32032;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;class name="eg.Person" table="person"&gt;
    &lt;id name="Key" column="pid" type="string"&gt;
        &lt;generator class="uuid"/&gt;
    &lt;/id&gt;
    &lt;property name="birthday" type="date"/&gt;
    &lt;component name="Name" class="eg.Name" unique="true"&gt;
        &lt;parent name="namedPerson"/&gt; &lt;!-- reference back to the Person --&gt;
        &lt;property name="initial"/&gt;
        &lt;property name="first"/&gt;
        &lt;property name="last"/&gt;
    &lt;/component&gt;
&lt;/class&gt;</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="components-incollections"></a>8.2. &#24467;&#23646;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12399;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#65288;&#20363;&#12360;&#12400; <code class="literal">Name</code> &#22411;&#12398;&#37197;&#21015;&#65289;&#12290; <code class="literal">&lt;element&gt;</code> &#12479;&#12464;&#12434; <code class="literal">&lt;composite-element&gt;</code> &#12479;&#12464;&#12395;&#21462;&#12426;&#26367;&#12360;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#23459;&#35328;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p><pre class="programlisting">&lt;set name="someNames" table="some_names" lazy="true"&gt;
    &lt;key column="id"/&gt;
    &lt;composite-element class="eg.Name"&gt; &lt;!-- class attribute required --&gt;
        &lt;property name="initial"/&gt;
        &lt;property name="first"/&gt;
        &lt;property name="last"/&gt;
    &lt;/composite-element&gt;
&lt;/set&gt;</pre><p>&#27880;&#24847;: &#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12398; <code class="literal">Set</code> &#12434;&#23450;&#32681;&#12375;&#12383;&#12394;&#12425;&#12289; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#27491;&#12375;&#12367;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12364;&#37325;&#35201;&#12391;&#12377;&#12290; 
               </p>
               <p>&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21547;&#12414;&#12378;&#12289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#21547;&#12416;&#12371;&#12392;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; &#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#33258;&#36523;&#12364;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#21547;&#12435;&#12391;&#12356;&#12427;&#22580;&#21512;&#12399; <code class="literal">&lt;nested-composite-element&gt;</code> &#12434; &#20351;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#33258;&#36523;&#12364;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#25345;&#12388;&#12392;&#12356;&#12358;&#12465;&#12540;&#12473;&#12399;&#12417;&#12387;&#12383;&#12395;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12398;&#27573;&#38542;&#12414;&#12391;&#12395;&#12289;one-to-many&#38306;&#36899;&#12398;&#26041;&#12364;&#12424;&#12426;&#36969;&#20999;&#12391;&#12394;&#12356;&#12363;&#12392;&#29087;&#32771;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12434;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#12375;&#12390;&#20877;&#24230;&#12514;&#12487;&#12522;&#12531;&#12464;&#12375;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
                  &#12375;&#12363;&#12375;&#12371;&#12428;&#12399;Java&#12398;&#12514;&#12487;&#12523;&#12392;&#12375;&#12390;&#12399;&#21516;&#12376;&#12391;&#12377;&#12364;&#12289;&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12514;&#12487;&#12523;&#12392;&#27704;&#32154;&#21205;&#20316;&#12399;&#12414;&#12384;&#33509;&#24178;&#30064;&#12394;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#12418;&#12375; <code class="literal">&lt;set&gt;</code> &#12434;&#20351;&#29992;&#12377;&#12427;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12364;null&#20516;&#12364;&#21487;&#33021;&#12394; &#23646;&#24615;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;Hibernate&#12399;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21066;&#38500;&#12377;&#12427;&#12392;&#12365;&#12289; &#12524;&#12467;&#12540;&#12489;&#12434;&#35672;&#21029;&#12377;&#12427;&#12383;&#12417;&#12395;&#12381;&#12428;&#12382;&#12428;&#12398;&#12459;&#12521;&#12512;&#12398;&#20516;&#12434;&#20351;&#29992;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12383;&#12417;&#12289;null&#20516;&#12434;&#25345;&#12388;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12379;&#12435;
                  &#65288;&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12486;&#12540;&#12502;&#12523;&#12395;&#12399;&#21029;&#12398;&#20027;&#12461;&#12540;&#12459;&#12521;&#12512;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#65289;&#12290; &#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12395;not-null&#12398;&#23646;&#24615;&#12398;&#12415;&#12434;&#20351;&#29992;&#12377;&#12427;&#12363;&#12289;&#12414;&#12383;&#12399; <code class="literal">&lt;list&gt;</code>&#12289;<code class="literal">&lt;map&gt;</code>&#12289; <code class="literal">&lt;bag&gt;</code>&#12289;<code class="literal">&lt;idbag&gt;</code> &#12434;&#36984;&#25246;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12398;&#29305;&#21029;&#12394;&#12465;&#12540;&#12473;&#12392;&#12375;&#12390;&#12289;&#12493;&#12473;&#12488;&#12373;&#12428;&#12383; <code class="literal">&lt;many-to-one&gt;</code> &#23646;&#24615;&#12434;&#25345;&#12388; &#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#12289;&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12463;&#12521;&#12473;&#12434;&#22810;&#23550;&#22810;&#38306;&#36899;&#12486;&#12540;&#12502;&#12523;&#12398; &#20313;&#20998;&#12394;&#12459;&#12521;&#12512;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; &#27425;&#12398;&#20363;&#12399; <code class="literal">Order</code> &#12363;&#12425;&#12289;<code class="literal">Item</code> &#12408;&#12398;&#22810;&#23550;&#22810;&#38306;&#36899;&#12391;&#12377;&#12290; <code class="literal">purchaseDate</code>&#12289;<code class="literal">price</code>&#12289;<code class="literal">quantity</code> &#12399;&#38306;&#36899;&#12398;&#23646;&#24615;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;class name="eg.Order" .... &gt;
    ....
    &lt;set name="purchasedItems" table="purchase_items" lazy="true"&gt;
        &lt;key column="order_id"&gt;
        &lt;composite-element class="eg.Purchase"&gt;
            &lt;property name="purchaseDate"/&gt;
            &lt;property name="price"/&gt;
            &lt;property name="quantity"/&gt;
            &lt;many-to-one name="item" class="eg.Item"/&gt; &lt;!-- class attribute is optional --&gt;
        &lt;/composite-element&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre><p>&#12418;&#12385;&#12429;&#12435;&#12289;&#21452;&#26041;&#21521;&#38306;&#36899;&#12398;&#12490;&#12499;&#12466;&#12540;&#12471;&#12519;&#12531;&#12398;&#12383;&#12417;&#12395;&#21453;&#23550;&#20596;&#12363;&#12425;purchase&#12408;&#12398;&#21442;&#29031;&#12434;&#20316;&#12427;&#12371;&#12392;&#12399;&#20986;&#26469;&#12414;&#12379;&#12435;&#12290; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12399;&#20516;&#22411;&#12391;&#12354;&#12426;&#12289;&#21442;&#29031;&#12434;&#20849;&#26377;&#12391;&#12365;&#12394;&#12356;&#12371;&#12392;&#12434;&#35226;&#12360;&#12390;&#12362;&#12356;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#19968;&#12388;&#12398; <code class="literal">Purchase</code> &#12399;&#19968;&#12388;&#12398; <code class="literal">Order</code> &#12398;set&#12395;&#23384;&#22312;&#12391;&#12365;&#12414;&#12377;&#12364;&#12289; &#21516;&#26178;&#12395; <code class="literal">Item</code> &#12363;&#12425;&#21442;&#29031;&#12377;&#12427;&#12371;&#12392;&#12399;&#20986;&#26469;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>3&#38917;&#38306;&#36899;&#65288;&#12354;&#12427;&#12356;&#12399;4&#38917;&#12394;&#12393;&#65289;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290;</p><pre class="programlisting">&lt;class name="eg.Order" .... &gt;
    ....
    &lt;set name="purchasedItems" table="purchase_items" lazy="true"&gt;
        &lt;key column="order_id"&gt;
        &lt;composite-element class="eg.OrderLine"&gt;
            &lt;many-to-one name="purchaseDetails class="eg.Purchase"/&gt;
            &lt;many-to-one name="item" class="eg.Item"/&gt;
        &lt;/composite-element&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre><p>&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;&#12399;&#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408;&#12398;&#38306;&#36899;&#12392;&#12375;&#12390;&#12289; &#21516;&#12376;&#12471;&#12531;&#12479;&#12483;&#12463;&#12473;&#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12463;&#12456;&#12522;&#20869;&#12391;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="components-asmapindex"></a>8.3. Map&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12392;&#12375;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">&lt;composite-map-key&gt;</code> &#35201;&#32032;&#12399; <code class="literal">Map</code> &#12398;&#12461;&#12540;&#12392;&#12375;&#12390;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12463;&#12521;&#12473;&#12434; &#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12463;&#12521;&#12473;&#19978;&#12391; <code class="literal">hashCode()</code> &#12392; <code class="literal">equals()</code> &#12434;&#27491;&#30906;&#12395;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="components-compositeid"></a>8.4. &#35079;&#21512;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12398;&#35672;&#21029;&#23376;&#12392;&#12375;&#12390;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12463;&#12521;&#12473;&#12399;&#20197;&#19979;&#12398;&#26465;&#20214;&#12434;&#28288;&#12383;&#12377;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">java.io.Serializable</code> &#12434;&#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#19978;&#12398;&#35079;&#21512;&#12461;&#12540;&#12398;&#31561;&#20385;&#24615;&#12392;&#30683;&#30462;&#12398;&#12394;&#12356;&#12424;&#12358;&#12395;&#12289;<code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#20877;&#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>
                  <span class="emphasis"><em>&#27880;&#24847;: Hibernate3&#12395;&#12362;&#12356;&#12390;&#12289;2&#30058;&#30446;&#12398;&#26465;&#20214;&#12399;&#32118;&#23550;&#30340;&#12394;&#26465;&#20214;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#12392;&#12395;&#12363;&#12367;&#26465;&#20214;&#12434;&#28288;&#12383;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;</em></span>
                  
               </p>
               <p>&#35079;&#21512;&#12461;&#12540;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12395; <code class="literal">IdentifierGenerator</code> &#12434;&#20351;&#29992;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#20195;&#12431;&#12426;&#12395;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#35672;&#21029;&#23376;&#12434;&#21106;&#12426;&#24403;&#12390;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#36890;&#24120;&#12398; <code class="literal">&lt;id&gt;</code> &#23459;&#35328;&#12398;&#20195;&#12431;&#12426;&#12395; <code class="literal">&lt;composite-id&gt;</code> &#12479;&#12464;&#12434; &#65288;&#12493;&#12473;&#12488;&#12373;&#12428;&#12383; <code class="literal">&lt;key-property&gt;</code> &#23646;&#24615;&#12392;&#20849;&#12395;&#65289;&#20351;&#12356;&#12414;&#12377;&#12290; &#20197;&#19979;&#12398;&#20363;&#12391;&#12399;&#12289;<code class="literal">OrderLine</code> &#12463;&#12521;&#12473;&#12399; <code class="literal">Order</code> &#12398;&#65288;&#35079;&#21512;&#65289;&#20027;&#12461;&#12540;&#12395; &#20381;&#23384;&#12375;&#12383;&#20027;&#12461;&#12540;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;class name="OrderLine"&gt;
    
    &lt;composite-id name="id" class="OrderLineId"&gt;
        &lt;key-property name="lineId"/&gt;
        &lt;key-property name="orderId"/&gt;
        &lt;key-property name="customerId"/&gt;
    &lt;/composite-id&gt;
    
    &lt;property name="name"/&gt;
    
    &lt;many-to-one name="order" class="Order"
            insert="false" update="false"&gt;
        &lt;column name="orderId"/&gt;
        &lt;column name="customerId"/&gt;
    &lt;/many-to-one&gt;
    ....
    
&lt;/class&gt;</pre><p>&#12371;&#12398;&#12392;&#12365;&#12289;<code class="literal">OrderLine</code> &#12486;&#12540;&#12502;&#12523;&#12408;&#38306;&#36899;&#12377;&#12427;&#22806;&#37096;&#12461;&#12540;&#12418;&#12414;&#12383;&#35079;&#21512;&#12391;&#12377;&#12290; &#20182;&#12398;&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391;&#12371;&#12428;&#12434;&#23459;&#35328;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">OrderLine</code> &#12408;&#12398;&#38306;&#36899;&#12399;&#27425;&#12398;&#12424;&#12358;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;many-to-one name="orderLine" class="OrderLine"&gt;
&lt;!-- the "class" attribute is optional, as usual --&gt;
    &lt;column name="lineId"/&gt;
    &lt;column name="orderId"/&gt;
    &lt;column name="customerId"/&gt;
&lt;/many-to-one&gt;</pre><p>&#65288;<code class="literal">&lt;column&gt;</code> &#12479;&#12464;&#12399;&#12393;&#12371;&#12391;&#12354;&#12387;&#12390;&#12418; <code class="literal">column</code> &#23646;&#24615;&#12398; &#20195;&#12431;&#12426;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;&#65289; 
               </p>
               <p><code class="literal">OrderLine</code> &#12408;&#12398; <code class="literal">many-to-many</code> &#38306;&#36899;&#12418; &#35079;&#21512;&#22806;&#37096;&#12461;&#12540;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;set name="undeliveredOrderLines"&gt;
    &lt;key column name="warehouseId"/&gt;
    &lt;many-to-many class="OrderLine"&gt;
        &lt;column name="lineId"/&gt;
        &lt;column name="orderId"/&gt;
        &lt;column name="customerId"/&gt;
    &lt;/many-to-many&gt;
&lt;/set&gt;</pre><p><code class="literal">Order</code> &#12395;&#12354;&#12427; <code class="literal">OrderLine</code> &#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399; &#27425;&#12398;&#12418;&#12398;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;set name="orderLines" inverse="true"&gt;
    &lt;key&gt;
        &lt;column name="orderId"/&gt;
        &lt;column name="customerId"/&gt;
    &lt;/key&gt;
    &lt;one-to-many class="OrderLine"/&gt;
&lt;/set&gt;</pre><p>&#65288;<code class="literal">&lt;one-to-many&gt;</code> &#23646;&#24615;&#12399;&#12289;&#20363;&#12395;&#12424;&#12387;&#12390;&#12459;&#12521;&#12512;&#12434;&#23459;&#35328;&#12375;&#12414;&#12379;&#12435;&#65289; 
               </p>
               <p><code class="literal">OrderLine</code> &#33258;&#36523;&#12364;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289; &#21516;&#26178;&#12395;&#35079;&#21512;&#22806;&#37096;&#12461;&#12540;&#12418;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;class name="OrderLine"&gt;
    ....
    ....
    &lt;list name="deliveryAttempts"&gt;
        &lt;key&gt;   &lt;!-- a collection inherits the composite key type --&gt;
            &lt;column name="lineId"/&gt;
            &lt;column name="orderId"/&gt;
            &lt;column name="customerId"/&gt;
        &lt;/key&gt;
        &lt;list-index column="attemptId" base="1"/&gt;
        &lt;composite-element class="DeliveryAttempt"&gt;
            ...
        &lt;/composite-element&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="components-dynamic"></a>8.5. &#21205;&#30340;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Map</code> &#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;dynamic-component name="userAttributes"&gt;
    &lt;property name="foo" column="FOO" type="string"/&gt;
    &lt;property name="bar" column="BAR" type="integer"/&gt;
    &lt;many-to-one name="baz" class="Baz" column="BAZ_ID"/&gt;
&lt;/dynamic-component&gt;</pre><p><code class="literal">&lt;dynamic-component&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12399; <code class="literal">&lt;component&gt;</code> &#12392;&#21516;&#19968;&#12398;&#12418;&#12398;&#12391;&#12377;&#12290;&#12371;&#12398;&#31278;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#21033;&#28857;&#12399;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#32232;&#38598;&#12395;&#12424;&#12426;&#12289;&#37197;&#32622;&#26178;&#12395;bean&#12398;&#23646;&#24615;&#12434; &#27770;&#23450;&#12391;&#12365;&#12427;&#28857;&#12391;&#12377;&#12290;&#12414;&#12383;&#12289;DOM&#12497;&#12540;&#12469;&#12434;&#21033;&#29992;&#12375;&#12390;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#12521;&#12531;&#12479;&#12452;&#12512;&#25805;&#20316;&#12364;&#21487;&#33021;&#12391;&#12377;&#12290; &#12373;&#12425;&#12395;&#12289;<code class="literal">Configuration</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#32076;&#30001;&#12391;Hibernate&#12398;&#12467;&#12531;&#12501;&#12451;&#12464;&#12524;&#12540;&#12471;&#12519;&#12531;&#26178;&#12398;&#12513;&#12479;&#12514;&#12487;&#12523;&#12395; &#12450;&#12463;&#12475;&#12473;&#65288;&#12414;&#12383;&#12399;&#22793;&#26356;&#65289;&#12364;&#21487;&#33021;&#12391;&#12377;&#12290; 
               </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="inheritance"></a>&#31532;9&#31456; &#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="inheritance-strategies"></a>9.1. 3&#12388;&#12398;&#25126;&#30053;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12399;3&#12388;&#12398;&#22522;&#26412;&#30340;&#12394;&#32153;&#25215;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>&#12463;&#12521;&#12473;&#38542;&#23652;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-class-hierarchy&#65289; </p>
                     </li>
                     <li>
                        <p>table per subclass </p>
                     </li>
                     <li>
                        <p>&#20855;&#35937;&#12463;&#12521;&#12473;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-concrete-class&#65289; </p>
                     </li>
                  </ul>
               </div>
               <p>&#21152;&#12360;&#12390;4&#12388;&#30446;&#12395;&#12289;Hibernate&#12399;&#12431;&#12378;&#12363;&#12395;&#30064;&#12394;&#12427;&#24615;&#36074;&#12434;&#25345;&#12387;&#12383;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512; </p>
                     </li>
                  </ul>
               </div>
               <p>&#21516;&#19968;&#12398;&#32153;&#25215;&#38542;&#23652;&#12398;&#30064;&#12394;&#12427;&#12502;&#12521;&#12531;&#12481;&#12395;&#23550;&#12375;&#12390;&#30064;&#12394;&#12427;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12381;&#12398;&#22580;&#21512;&#12395;&#12399;&#20840;&#20307;&#12398;&#38542;&#23652;&#12395;&#28193;&#12427;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#23455;&#29694;&#12377;&#12427;&#12383;&#12417;&#12395;&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;Hibernate&#12399;&#21516;&#12376;&#12523;&#12540;&#12488; <code class="literal">&lt;class&gt;</code> &#35201;&#32032;&#20869;&#12391; <code class="literal">&lt;subclass&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12289;<code class="literal">&lt;joined-subclass&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12289; <code class="literal">&lt;union-subclass&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#21516;&#26178;&#20351;&#29992;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; <code class="literal">&lt;subclass&gt;</code> &#35201;&#32032;&#12392; <code class="literal">&lt;join&gt;</code> &#35201;&#32032;&#12434;&#32068;&#12415;&#21512;&#12431;&#12379;&#12427;&#12371;&#12392;&#12391;&#12289; &#21516;&#19968; <code class="literal">&lt;class&gt;</code> &#35201;&#32032;&#20869;&#12391;&#12398; table-per-hierarchy &#25126;&#30053;&#12392; table-per-subclass &#25126;&#30053;&#12398;&#21516;&#26178;&#20351;&#29992;&#12399;&#21487;&#33021;&#12391;&#12377;&#12290;&#27425;&#12398;&#20363;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p><code class="literal">subclass</code>, <code class="literal">union-subclass</code> &#12392; <code class="literal">joined-subclass</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#35079;&#25968;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12395;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12289; <code class="literal">hibernate-mapping</code> &#12398;&#30452;&#19979;&#12395;&#37197;&#32622;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#26032;&#12375;&#12356;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434;&#36861;&#21152;&#12377;&#12427;&#12384;&#12369;&#12391;&#12289;&#12463;&#12521;&#12473;&#38542;&#23652;&#12434;&#25313;&#24373;&#12391;&#12365;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#12354;&#12425;&#12363;&#12376;&#12417;&#12510;&#12483;&#12503;&#12375;&#12383;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12434;&#25351;&#23450;&#12375;&#12390;&#12289;&#12469;&#12502;&#12463;&#12521;&#12473;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395; <code class="literal">extends</code> &#23646;&#24615;&#12434;&#35352;&#36848;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#27880;&#24847;&#65306;&#12371;&#12398;&#29305;&#24500;&#12395;&#12424;&#12426;&#12289;&#20197;&#21069;&#12399;&#12510;&#12483;&#12500;&#12531;&#12464;&#12539;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#38918;&#30058;&#12364;&#37325;&#35201;&#12391;&#12375;&#12383;&#12290; Hibernate3&#12363;&#12425;&#12399;&#12289;extends&#12461;&#12540;&#12527;&#12540;&#12489;&#12434;&#20351;&#12358;&#22580;&#21512;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#38918;&#30058;&#12399;&#21839;&#38988;&#12395;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#65297;&#12388;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#20869;&#12391;&#38918;&#30058;&#20184;&#12369;&#12434;&#34892;&#12358;&#12392;&#12365;&#12399;&#12289;
                  &#20381;&#28982;&#12392;&#12375;&#12390;&#12289;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#23450;&#32681;&#12377;&#12427;&#21069;&#12395;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12434;&#23450;&#32681;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;) 
               </p><pre class="programlisting">
 &lt;hibernate-mapping&gt;
     &lt;subclass name="DomesticCat" extends="Cat" discriminator-value="D"&gt;
          &lt;property name="name" type="string"/&gt;
     &lt;/subclass&gt;
 &lt;/hibernate-mapping&gt;</pre><div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritance-tableperclass"></a>9.1.1. &#12463;&#12521;&#12473;&#38542;&#23652;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-class-hierarchy&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#20363;&#12360;&#12400;&#12289;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473; <code class="literal">Payment</code> &#12392;&#12289;&#12381;&#12428;&#12434;&#23455;&#35013;&#12375;&#12383; <code class="literal">CreditCardPayment</code>&#12289;<code class="literal">CashPayment</code>&#12289; <code class="literal">ChequePayment</code> &#12364;&#12354;&#12427;&#12392;&#12375;&#12414;&#12377;&#12290;&#38542;&#23652;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399; &#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Payment" table="PAYMENT"&gt;
    &lt;id name="id" type="long" column="PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;discriminator column="PAYMENT_TYPE" type="string"/&gt;
    &lt;property name="amount" column="AMOUNT"/&gt;
    ...
    &lt;subclass name="CreditCardPayment" discriminator-value="CREDIT"&gt;
        &lt;property name="creditCardType" column="CCTYPE"/&gt;
        ...
    &lt;/subclass&gt;
    &lt;subclass name="CashPayment" discriminator-value="CASH"&gt;
        ...
    &lt;/subclass&gt;
    &lt;subclass name="ChequePayment" discriminator-value="CHEQUE"&gt;
        ...
    &lt;/subclass&gt;
&lt;/class&gt;</pre><p>&#12385;&#12423;&#12358;&#12393;&#19968;&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; &#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12395;&#12399;&#19968;&#12388;&#22823;&#12365;&#12394;&#21046;&#38480;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">CCTYPE</code> &#12398;&#12424;&#12358;&#12394;&#12289;&#12469;&#12502;&#12463;&#12521;&#12473;&#12391;&#23459;&#35328;&#12373;&#12428;&#12383;&#12459;&#12521;&#12512;&#12399; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12434;&#25345;&#12390;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritance-tablepersubclass"></a>9.1.2. &#12469;&#12502;&#12463;&#12521;&#12473;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-subclass&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>table-per-subclass &#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;class name="Payment" table="PAYMENT"&gt;
    &lt;id name="id" type="long" column="PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;property name="amount" column="AMOUNT"/&gt;
    ...
    &lt;joined-subclass name="CreditCardPayment" table="CREDIT_PAYMENT"&gt;
        &lt;key column="PAYMENT_ID"/&gt;
        &lt;property name="creditCardType" column="CCTYPE"/&gt;
        ...
    &lt;/joined-subclass&gt;
    &lt;joined-subclass name="CashPayment" table="CASH_PAYMENT"&gt;
        &lt;key column="PAYMENT_ID"/&gt;
        ...
    &lt;/joined-subclass&gt;
    &lt;joined-subclass name="ChequePayment" table="CHEQUE_PAYMENT"&gt;
        &lt;key column="PAYMENT_ID"/&gt;
        ...
    &lt;/joined-subclass&gt;
&lt;/class&gt;</pre><p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;4&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290;3&#12388;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12486;&#12540;&#12502;&#12523;&#12399; &#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12486;&#12540;&#12502;&#12523;&#12392;&#12398;&#38306;&#36899;&#12434;&#31034;&#12377;&#20027;&#12461;&#12540;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377; &#65288;&#23455;&#38555;&#12289;&#38306;&#20418;&#12514;&#12487;&#12523;&#19978;&#12399;&#19968;&#23550;&#19968;&#38306;&#36899;&#12391;&#12377;&#65289;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritance-tablepersubclass-discriminator"></a>9.1.3. &#24321;&#21029;&#23376;&#12434;&#29992;&#12356;&#12383; table-per-subclass
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12398; table-per-subclass &#23455;&#35013;&#12399;&#12289;discriminator&#12459;&#12521;&#12512;&#12434;&#24517;&#35201;&#12392;&#12375;&#12394;&#12356;&#12371;&#12392;&#12434;&#35226;&#12360;&#12390;&#12362;&#12356;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; Hibernate&#20197;&#22806;&#12398;O/R&#12510;&#12483;&#12497;&#12540;&#12399;&#12289;table-per-subclass &#12395;&#30064;&#12394;&#12427;&#23455;&#35013;&#12434;&#29992;&#12356;&#12414;&#12377;&#12290;
                     &#12381;&#12428;&#12399;&#12289;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#12479;&#12452;&#12503;discriminator&#12459;&#12521;&#12512;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#23455;&#35013;&#12364;&#22256;&#38627;&#12395;&#12394;&#12426;&#12414;&#12377;&#12364;&#12289;&#38306;&#20418;&#12398;&#35222;&#28857;&#12363;&#12425;&#35211;&#12427;&#12392;&#12289;&#12424;&#12426;&#27491;&#30906;&#12394;&#12418;&#12398;&#12391;&#12377;&#12290; table-per-subclass &#25126;&#30053;&#12391;discriminator&#12459;&#12521;&#12512;&#12434;&#20351;&#12356;&#12383;&#12369;&#12428;&#12400;&#12289;
                     <code class="literal">&lt;subclass&gt;</code> &#12392; <code class="literal">&lt;join&gt;</code> &#12434;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#32068;&#12415;&#21512;&#12431;&#12379;&#12390;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Payment" table="PAYMENT"&gt;
    &lt;id name="id" type="long" column="PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;discriminator column="PAYMENT_TYPE" type="string"/&gt;
    &lt;property name="amount" column="AMOUNT"/&gt;
    ...
    &lt;subclass name="CreditCardPayment" discriminator-value="CREDIT"&gt;
        &lt;join table="CREDIT_PAYMENT"&gt;
            &lt;key column="PAYMENT_ID"/&gt;
            &lt;property name="creditCardType" column="CCTYPE"/&gt;
            ...
        &lt;/join&gt;
    &lt;/subclass&gt;
    &lt;subclass name="CashPayment" discriminator-value="CASH"&gt;
        &lt;join table="CASH_PAYMENT"&gt;
            &lt;key column="PAYMENT_ID"/&gt;
            ...
        &lt;/join&gt;
    &lt;/subclass&gt;
    &lt;subclass name="ChequePayment" discriminator-value="CHEQUE"&gt;
        &lt;join table="CHEQUE_PAYMENT" fetch="select"&gt;
            &lt;key column="PAYMENT_ID"/&gt;
            ...
        &lt;/join&gt;
    &lt;/subclass&gt;
&lt;/class&gt;</pre><p>&#12458;&#12503;&#12471;&#12519;&#12531;&#12398; <code class="literal">fetch="select"</code> &#23459;&#35328;&#12399;&#12289; &#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12398;&#12463;&#12456;&#12522;&#23455;&#34892;&#26178;&#12395;&#22806;&#37096;&#32080;&#21512;&#12434;&#20351;&#12387;&#12390;&#12289; &#12469;&#12502;&#12463;&#12521;&#12473;&#12398; <code class="literal">ChequePayment</code> &#12487;&#12540;&#12479;&#12434;&#21462;&#24471;&#12375;&#12394;&#12356;&#12424;&#12358;&#12395;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12398;&#12418;&#12398;&#12391;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritance-mixing-tableperclass-tablepersubclass"></a>9.1.4. table-per-subclass &#12392; table-per-class-hierarchy &#12398;&#28151;&#21512;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#20351;&#29992;&#12377;&#12427;&#12392;&#12289;table-per-hierarchy &#12392; table-per-subclass &#25126;&#30053;&#12434; &#32068;&#12415;&#21512;&#12431;&#12379;&#12427;&#20107;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;class name="Payment" table="PAYMENT"&gt;
    &lt;id name="id" type="long" column="PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;discriminator column="PAYMENT_TYPE" type="string"/&gt;
    &lt;property name="amount" column="AMOUNT"/&gt;
    ...
    &lt;subclass name="CreditCardPayment" discriminator-value="CREDIT"&gt;
        &lt;join table="CREDIT_PAYMENT"&gt;
            &lt;property name="creditCardType" column="CCTYPE"/&gt;
            ...
        &lt;/join&gt;
    &lt;/subclass&gt;
    &lt;subclass name="CashPayment" discriminator-value="CASH"&gt;
        ...
    &lt;/subclass&gt;
    &lt;subclass name="ChequePayment" discriminator-value="CHEQUE"&gt;
        ...
    &lt;/subclass&gt;
&lt;/class&gt;</pre><p>&#12356;&#12378;&#12428;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289;&#12523;&#12540;&#12488;&#12391;&#12354;&#12427; <code class="literal">Payment</code> &#12463;&#12521;&#12473;&#12408;&#12398; &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#38306;&#36899;&#12399; <code class="literal">&lt;many-to-one&gt;</code> &#12434;&#20351;&#12387;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;many-to-one name="payment" column="PAYMENT_ID" class="Payment"/&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritance-tableperconcrete"></a>9.1.5. &#20855;&#35937;&#12463;&#12521;&#12473;&#12372;&#12392;&#12398;&#12486;&#12540;&#12502;&#12523;&#65288;table-per-concrete-class&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>table-per-concrete-class &#25126;&#30053;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23550;&#12377;&#12427;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289;2&#12388;&#12354;&#12426;&#12414;&#12377;&#12290; 1&#12388;&#30446;&#12399; <code class="literal">&lt;union-subclass&gt;</code> &#12434;&#21033;&#29992;&#12377;&#12427;&#26041;&#27861;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Payment"&gt;
    &lt;id name="id" type="long" column="PAYMENT_ID"&gt;
        &lt;generator class="sequence"/&gt;
    &lt;/id&gt;
    &lt;property name="amount" column="AMOUNT"/&gt;
    ...
    &lt;union-subclass name="CreditCardPayment" table="CREDIT_PAYMENT"&gt;
        &lt;property name="creditCardType" column="CCTYPE"/&gt;
        ...
    &lt;/union-subclass&gt;
    &lt;union-subclass name="CashPayment" table="CASH_PAYMENT"&gt;
        ...
    &lt;/union-subclass&gt;
    &lt;union-subclass name="ChequePayment" table="CHEQUE_PAYMENT"&gt;
        ...
    &lt;/union-subclass&gt;
&lt;/class&gt;</pre><p>&#12469;&#12502;&#12463;&#12521;&#12473;&#12372;&#12392;&#12395;3&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290;&#12381;&#12428;&#12382;&#12428;&#12398;&#12486;&#12540;&#12502;&#12523;&#12399;&#12289;&#32153;&#25215;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#21547;&#12435;&#12384;&#12289; &#12463;&#12521;&#12473;&#12398;&#20840;&#12390;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#23550;&#12377;&#12427;&#12459;&#12521;&#12512;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; </p>
                  <p>&#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12395;&#12399;&#21046;&#38480;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12383;&#22580;&#21512;&#12289; &#20840;&#12390;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12395;&#12362;&#12356;&#12390;&#12459;&#12521;&#12512;&#21517;&#12364;&#21516;&#12376;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12392;&#12356;&#12358;&#12418;&#12398;&#12391;&#12377;&#12290; &#65288;Hibernate&#12398;&#20170;&#24460;&#12398;&#12522;&#12522;&#12540;&#12473;&#12391;&#32233;&#21644;&#12373;&#12428;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#65289;&#12290; &lt;union-subclass&gt;
                     &#12434;&#20351;&#12387;&#12383; table-per-concrete-class &#25126;&#30053;&#12391;&#12399;&#35672;&#21029;&#23376;&#29983;&#25104;&#25126;&#30053;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#20027;&#12461;&#12540;&#12434;&#29983;&#25104;&#12377;&#12427;&#12383;&#12417;&#12398;&#12471;&#12540;&#12489;&#12399;&#12289;&#20840;&#12390;&#12398; union subclass &#12398;&#38542;&#23652;&#20869;&#12391;&#20849;&#26377;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12418;&#12375;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12364;&#25277;&#35937;&#12463;&#12521;&#12473;&#12394;&#12425;&#12289;<code class="literal">abstract="true"</code>&#12392;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; &#12418;&#12385;&#12429;&#12435;&#12289;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12364;&#25277;&#35937;&#12463;&#12521;&#12473;&#12391;&#12394;&#12356;&#12394;&#12425;&#12289;&#12473;&#12540;&#12497;&#12540;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434; &#20445;&#25345;&#12377;&#12427;&#12383;&#12417;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#36861;&#21152;&#12364;&#24517;&#35201;&#12392;&#12394;&#12426;&#12414;&#12377;(&#19978;&#12398;&#20363;&#12391;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#12399; <code class="literal">PAYMENT</code> )&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritance-tableperconcreate-polymorphism"></a>9.1.6. &#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#29992;&#12356;&#12383; table-per-concrete-class
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12418;&#12358;&#19968;&#12388;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12398;&#20351;&#29992;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;class name="CreditCardPayment" table="CREDIT_PAYMENT"&gt;
    &lt;id name="id" type="long" column="CREDIT_PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;property name="amount" column="CREDIT_AMOUNT"/&gt;
    ...
&lt;/class&gt;

&lt;class name="CashPayment" table="CASH_PAYMENT"&gt;
    &lt;id name="id" type="long" column="CASH_PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;property name="amount" column="CASH_AMOUNT"/&gt;
    ...
&lt;/class&gt;

&lt;class name="ChequePayment" table="CHEQUE_PAYMENT"&gt;
    &lt;id name="id" type="long" column="CHEQUE_PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;property name="amount" column="CHEQUE_AMOUNT"/&gt;
    ...
&lt;/class&gt;</pre><p><code class="literal">Payment</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12364;&#12393;&#12371;&#12395;&#12418;&#26126;&#31034;&#30340;&#12395;&#31034;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12375;&#12390;&#12289;<code class="literal">Payment</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12381;&#12428;&#12382;&#12428;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#12418;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12418;&#12375;&#37325;&#35079;&#12434;&#36991;&#12369;&#12383;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;XML&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21033;&#29992;&#12434;&#32771;&#12360;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#65288;&#20363;&#65306; <code class="literal">DOCTYPE</code> &#23459;&#35328;&#12395;&#12362;&#12369;&#12427; <code class="literal">[ &lt;!ENTITY allproperties SYSTEM "allproperties.xml"&gt; ]</code> &#12392;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12362;&#12369;&#12427; <code class="literal">&amp;allproperties;</code>&#65289; 
                  </p>
                  <p>&#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12398;&#27424;&#28857;&#12399;&#12289;Hibernate&#12364;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#12463;&#12456;&#12522;&#12398;&#23455;&#34892;&#26178;&#12395;SQL <code class="literal">UNION</code> &#12434;&#29983;&#25104;&#12375;&#12394;&#12356;&#28857;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12395;&#23550;&#12375;&#12390;&#12399;&#12289;<code class="literal">Payment</code> &#12408;&#12398;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#38306;&#36899;&#12399; &#36890;&#24120;&#12289;<code class="literal">&lt;any&gt;</code> &#12434;&#20351;&#12387;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;any name="payment" meta-type="string" id-type="long"&gt;
    &lt;meta-value value="CREDIT" class="CreditCardPayment"/&gt;
    &lt;meta-value value="CASH" class="CashPayment"/&gt;
    &lt;meta-value value="CHEQUE" class="ChequePayment"/&gt;
    &lt;column name="PAYMENT_CLASS"/&gt;
    &lt;column name="PAYMENT_ID"/&gt;
&lt;/any&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="inheritace-mixingpolymorphism"></a>9.1.7. &#20182;&#12398;&#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;&#12392;&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12398;&#32068;&#12415;&#21512;&#12431;&#12379;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12388;&#12356;&#12390;&#12398;&#26356;&#12394;&#12427;&#27880;&#24847;&#28857;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12469;&#12502;&#12463;&#12521;&#12473;&#12364;&#33258;&#36523;&#12434; <code class="literal">&lt;class&gt;</code> &#35201;&#32032;&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12390;&#12356;&#12427;&#12398;&#12391;&#12289; &#65288;&#12363;&#12388; <code class="literal">Payment</code> &#12399;&#21336;&#12394;&#12427;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12394;&#12398;&#12391;&#65289;&#12289; &#12381;&#12428;&#12382;&#12428;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12399;&#31777;&#21336;&#12395;&#12381;&#12398;&#20182;&#12398;&#32153;&#25215;&#38542;&#23652;&#12398;&#19968;&#37096;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290; &#65288;&#12375;&#12363;&#12418;&#12289;&#20170;&#12414;&#12391;&#12393;&#12362;&#12426; <code class="literal">Payment</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12395;&#23550;&#12377;&#12427;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#12463;&#12456;&#12522; &#12434;&#20351;&#29992;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65289; 
                  </p><pre class="programlisting">&lt;class name="CreditCardPayment" table="CREDIT_PAYMENT"&gt;
    &lt;id name="id" type="long" column="CREDIT_PAYMENT_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;discriminator column="CREDIT_CARD" type="string"/&gt;
    &lt;property name="amount" column="CREDIT_AMOUNT"/&gt;
    ...
    &lt;subclass name="MasterCardPayment" discriminator-value="MDC"/&gt;
    &lt;subclass name="VisaPayment" discriminator-value="VISA"/&gt;
&lt;/class&gt;

&lt;class name="NonelectronicTransaction" table="NONELECTRONIC_TXN"&gt;
    &lt;id name="id" type="long" column="TXN_ID"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    ...
    &lt;joined-subclass name="CashPayment" table="CASH_PAYMENT"&gt;
        &lt;key column="PAYMENT_ID"/&gt;
        &lt;property name="amount" column="CASH_AMOUNT"/&gt;
        ...
    &lt;/joined-subclass&gt;
    &lt;joined-subclass name="ChequePayment" table="CHEQUE_PAYMENT"&gt;
        &lt;key column="PAYMENT_ID"/&gt;
        &lt;property name="amount" column="CHEQUE_AMOUNT"/&gt;
        ...
    &lt;/joined-subclass&gt;
&lt;/class&gt;</pre><p>&#12418;&#12358;&#19968;&#24230;&#36848;&#12409;&#12414;&#12377;&#12364;&#12289;<code class="literal">Payment</code> &#12399;&#26126;&#31034;&#30340;&#12395;&#23450;&#32681;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290; &#12418;&#12375;&#12289;<code class="literal">Payment</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12395;&#23550;&#12375;&#12390;&#12463;&#12456;&#12522;&#12434;&#23455;&#34892;&#12377;&#12427;&#12394;&#12425; &#65288;&#20363;&#12360;&#12400; <code class="literal">from Payment</code> &#31680;&#12434;&#20351;&#12387;&#12390;&#65289;&#12289; Hibernate&#12399;&#33258;&#21205;&#30340;&#12395; <code class="literal">CreditCardPayment</code> &#65288;&#12392;CreditCardPayment&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12289;<code class="literal">Payment</code> &#12398;&#23455;&#35013;&#12391;&#12354;&#12427;&#12383;&#12417;&#65289;&#12289; &#12362;&#12424;&#12403;&#12289;<code class="literal">CashPayment</code> &#12289;<code class="literal">ChequePayment</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; <code class="literal">NonelectronicTransaction</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#36820;&#12375;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="inheritance-limitations"></a>9.2. &#21046;&#38480;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>table-per-concrete-class &#12510;&#12483;&#12500;&#12531;&#12464;&#25126;&#30053;&#12408;&#12398;&#12300;&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12301;&#12450;&#12503;&#12525;&#12540;&#12481;&#12395;&#12399; &#12356;&#12367;&#12388;&#12363;&#12398;&#21046;&#38480;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;<code class="literal">&lt;union-subclass&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23550;&#12375;&#12390;&#12418; &#23569;&#12375;&#24369;&#12417;&#12398;&#21046;&#38480;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#27425;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#12289;Hibernate&#12395;&#12362;&#12369;&#12427;table-per-concrete-class&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; &#21046;&#38480;&#12420;&#26263;&#40665;&#30340;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12398;&#21046;&#38480;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; </p>
               <div class="table"><a name="d0e8963"></a><p class="title"><b>&#34920; 9.1. &#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#27231;&#33021;</b></p>
                  <div class="table-contents">
                     <table summary="&#32153;&#25215;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#27231;&#33021;" border="1">
                        <colgroup>
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                        </colgroup>
                        <thead>
                           <tr>
                              <th align="left">&#32153;&#25215;&#25126;&#30053;</th>
                              <th align="left">&#22810;&#23550;&#19968;&#12398;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;</th>
                              <th align="left">&#19968;&#23550;&#19968;&#12398;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;</th>
                              <th align="left">&#19968;&#23550;&#22810;&#12398;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;</th>
                              <th align="left">&#22810;&#23550;&#22810;&#12398;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;</th>
                              <th align="left">Polymorphic <code class="literal">load()/get()</code></th>
                              <th align="left">&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#20351;&#12387;&#12383;&#12463;&#12456;&#12522;</th>
                              <th align="left">&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12434;&#20351;&#12387;&#12383;&#32080;&#21512;</th>
                              <th align="left">&#22806;&#37096;&#32080;&#21512;&#12395;&#12424;&#12427;&#12501;&#12455;&#12483;&#12481;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td align="left">table per class-hierarchy</td>
                              <td align="left"><code class="literal">&lt;many-to-one&gt;</code></td>
                              <td align="left"><code class="literal">&lt;one-to-one&gt;</code></td>
                              <td align="left"><code class="literal">&lt;one-to-many&gt;</code></td>
                              <td align="left"><code class="literal">&lt;many-to-many&gt;</code></td>
                              <td align="left"><code class="literal">s.get(Payment.class, id)</code></td>
                              <td align="left"><code class="literal">from Payment p</code></td>
                              <td align="left"><code class="literal">from Order o join o.payment p</code></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;</em></span></td>
                           </tr>
                           <tr>
                              <td align="left">table per subclass</td>
                              <td align="left"><code class="literal">&lt;many-to-one&gt;</code></td>
                              <td align="left"><code class="literal">&lt;one-to-one&gt;</code></td>
                              <td align="left"><code class="literal">&lt;one-to-many&gt;</code></td>
                              <td align="left"><code class="literal">&lt;many-to-many&gt;</code></td>
                              <td align="left"><code class="literal">s.get(Payment.class, id)</code></td>
                              <td align="left"><code class="literal">from Payment p</code></td>
                              <td align="left"><code class="literal">from Order o join o.payment p</code></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;</em></span></td>
                           </tr>
                           <tr>
                              <td align="left">table per concrete-class (union-subclass)</td>
                              <td align="left"><code class="literal">&lt;many-to-one&gt;</code></td>
                              <td align="left"><code class="literal">&lt;one-to-one&gt;</code></td>
                              <td align="left"><code class="literal">&lt;one-to-many&gt;</code> (for <code class="literal">inverse="true"</code> only)
                              </td>
                              <td align="left"><code class="literal">&lt;many-to-many&gt;</code></td>
                              <td align="left"><code class="literal">s.get(Payment.class, id)</code></td>
                              <td align="left"><code class="literal">from Payment p</code></td>
                              <td align="left"><code class="literal">from Order o join o.payment p</code></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;</em></span></td>
                           </tr>
                           <tr>
                              <td align="left">table per concrete class (implicit polymorphism)</td>
                              <td align="left"><code class="literal">&lt;any&gt;</code></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;</em></span></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;</em></span></td>
                              <td align="left"><code class="literal">&lt;many-to-any&gt;</code></td>
                              <td align="left"><code class="literal">s.createCriteria(Payment.class).add( Restrictions.idEq(id) ).uniqueResult()</code></td>
                              <td align="left"><code class="literal">from Payment p</code></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;</em></span></td>
                              <td align="left"><span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;</em></span></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="objectstate"></a>&#31532;10&#31456; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25201;&#12358;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate &#12399;&#23436;&#20840;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;/&#12522;&#12524;&#12540;&#12471;&#12519;&#12490;&#12523;&#12510;&#12483;&#12500;&#12531;&#12464;&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12391;&#12354;&#12426;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#31649;&#29702;&#12471;&#12473;&#12486;&#12512;&#12398;&#35443;&#32048;&#12434;&#38283;&#30330;&#32773;&#12363;&#12425;&#38560;&#34109;&#12377;&#12427;&#12384;&#12369;&#12391;&#12394;&#12367;&#12289; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398; <span class="emphasis"><em>&#29366;&#24907;&#31649;&#29702;</em></span> &#12418;&#34892;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;JDBC/SQL&#27704;&#32154;&#23652;&#12392;&#21516;&#12376;&#12424;&#12358;&#12394;SQL <code class="literal">&#25991;</code> &#12398;&#31649;&#29702;&#12392;&#12399;&#30064;&#12394;&#12426;&#12289; Java&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12362;&#12369;&#12427;&#27704;&#32154;&#21270;&#12395;&#23550;&#12377;&#12427;&#12289;&#12392;&#12390;&#12418;&#33258;&#28982;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12398;&#32771;&#12360;&#26041;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; 
            </p>
            <p>&#35328;&#12356;&#12363;&#12360;&#12428;&#12400;&#12289;Hibernate&#12434;&#29992;&#12356;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#38283;&#30330;&#32773;&#12399;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398; <span class="emphasis"><em>&#29366;&#24907;</em></span> &#12395;&#12388;&#12356;&#12390;&#12399; &#24120;&#12395;&#24847;&#35672;&#12377;&#12409;&#12365;&#12391;&#12354;&#12426;&#12289;SQL&#25991;&#12398;&#23455;&#34892;&#12395;&#12388;&#12356;&#12390;&#12399;&#24517;&#12378;&#12375;&#12418;&#12381;&#12358;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12398;&#37096;&#20998;&#12399;&#12289;&#36890;&#24120;&#12289;Hibernate&#12364;&#20966;&#29702;&#12375;&#12289;&#12471;&#12473;&#12486;&#12512;&#12398;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;&#12377;&#12427;&#12392;&#12365;&#12395;&#12384;&#12369;&#12289; &#21839;&#38988;&#12395;&#12394;&#12387;&#12390;&#12365;&#12414;&#12377;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-overview"></a>10.1. Hibernate&#12395;&#12362;&#12369;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12399;&#27425;&#12398;&#12424;&#12358;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12434;&#23450;&#32681;&#12375;&#12289;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em> &#19968;&#26178;&#30340;(Transient) </em></span> - <code class="literal">new</code> &#28436;&#31639;&#23376;&#12434;&#20351;&#12387;&#12390; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12384;&#12369;&#12391;&#12289; Hibernate&#12398; <code class="literal">Session</code> &#12395;&#38306;&#36899;&#20184;&#12369;&#12425;&#12428;&#12390;&#12356;&#12394;&#12356;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12289; &#19968;&#26178;&#30340;(transient)&#12391;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#27704;&#32154;&#30340;&#12394;&#34920;&#29694;&#12434;&#25345;&#12383;&#12378;&#12289;&#35672;&#21029;&#23376;&#12392;&#12394;&#12427;&#20516;&#12399;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290; &#19968;&#26178;&#30340;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12381;&#12398;&#21442;&#29031;&#12434;&#12393;&#12371;&#12395;&#12418;&#20445;&#25345;&#12375;&#12394;&#12356;&#22580;&#21512;&#12395;&#12289;
                           &#12460;&#12505;&#12540;&#12472;&#12467;&#12524;&#12463;&#12479;&#12395;&#12424;&#12387;&#12390;&#30772;&#26820;&#12373;&#12428;&#12414;&#12377;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#27704;&#32154;&#30340;(persistent)&#12394;&#29366;&#24907;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;Hibernate&#12398; <code class="literal">Session</code> &#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290; &#65288;&#12371;&#12398;&#29366;&#24907;&#36983;&#31227;&#12395;&#24517;&#35201;&#12392;&#12394;&#12427;SQL&#25991;&#12398;&#30330;&#34892;&#12399;&#12289;Hibernate&#12395;&#20219;&#12379;&#12414;&#12375;&#12423;&#12358;&#12290;&#65289; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#27704;&#32154;&#30340;(Persistent)</em></span> - &#27704;&#32154;&#30340;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395; &#27704;&#32154;&#30340;&#12394;&#34920;&#29694;&#12434;&#25345;&#12385;&#12289;&#35672;&#21029;&#23376;&#12392;&#12394;&#12427;&#20516;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#12475;&#12540;&#12502;&#12373;&#12428;&#12383;&#12426;&#12289;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#12426;&#12377;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12364;&#12289; &#23450;&#32681;&#19978;&#12399;&#12289; <code class="literal">Session</code> &#12398;&#12473;&#12467;&#12540;&#12503;&#12398;&#20013;&#12395;&#23384;&#22312;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; Hibernate&#12399;&#12289;&#20316;&#26989;&#21336;&#20301;&#65288;Unit of work&#65289;&#12364;&#23436;&#20102;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289; &#27704;&#32154;&#29366;&#24907;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#21152;&#12360;&#12425;&#12428;&#12383;&#22793;&#26356;&#12434;&#26908;&#20986;&#12375;&#12289; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12392;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#21516;&#26399;&#12375;&#12414;&#12377;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#19968;&#26178;&#30340;(transient)&#12395;&#12377;&#12427;&#12392;&#12365;&#12399;&#12289;&#38283;&#30330;&#32773;&#12399;&#12289;&#25163;&#20316;&#26989;&#12391;
                           <code class="literal">UPDATE</code> &#25991;&#12420; <code class="literal">DELETE</code> &#25991;&#12434;&#23455;&#34892;&#12375;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#20998;&#38626;(Detached)</em></span> - &#20998;&#38626;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#12399;&#12289;&#27704;&#32154;&#21270;&#12373;&#12428;&#12390;&#12356;&#12427;&#12364;&#12289; &#12381;&#12428;&#12392;&#38306;&#36899;&#20184;&#12356;&#12390;&#12356;&#12383; <code class="literal">Session</code> &#12364;&#12463;&#12525;&#12540;&#12474;&#12373;&#12428;&#12390;&#12356;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12371;&#12392;&#12391;&#12377;&#12290; &#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#12398;&#21442;&#29031;&#12399;&#12289;&#20381;&#28982;&#12392;&#12375;&#12390;&#26377;&#21177;&#12391;&#12377;&#12290; &#12381;&#12375;&#12390;&#12289;&#12418;&#12385;&#12429;&#12435;&#12289;&#20998;&#38626;&#12373;&#12428;&#12383;&#29366;&#24907;&#12395;&#12354;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12289;&#20462;&#27491;&#12377;&#12427;&#12371;&#12392;&#12373;&#12360;&#12391;&#12365;&#12414;&#12377;&#12290; &#20998;&#38626;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#12418;&#12358;&#19968;&#24230;&#27704;&#32154;&#21270;&#12375;&#12383;&#12356;&#65288;&#12381;&#12375;&#12390;&#12289;&#12377;&#12409;&#12390;&#12398;&#22793;&#26356;&#12434;&#27704;&#32154;&#21270;&#12375;&#12383;&#12356;&#65289;&#12392;&#12365;&#12395;&#12289;
                           &#26032;&#12375;&#12356; <code class="literal">Session</code> &#12395;&#20877;&#36861;&#21152;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#27231;&#33021;&#12399;&#12289;&#12518;&#12540;&#12470;&#12364;&#32771;&#12360;&#12427;&#26178;&#38291;&#12434;&#24517;&#35201;&#12392;&#12377;&#12427;&#12424;&#12358;&#12394;&#12289;&#38263;&#26399;&#38291;&#12395;&#21450;&#12406;&#20316;&#26989;&#21336;&#20301;&#12395;&#23550;&#12377;&#12427; &#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#12514;&#12487;&#12523;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;&#12290; &#25105;&#12293;&#12399;&#12289;&#12371;&#12428;&#12434; <span class="emphasis"><em>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#65288;application transactions&#65289;</em></span> &#12392;&#21628;&#12435;&#12391;&#12356;&#12414;&#12377;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;&#12518;&#12540;&#12470;&#12363;&#12425;&#35211;&#12383;&#20316;&#26989;&#21336;&#20301;&#12384;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12371;&#12428;&#12363;&#12425;&#12289;&#29366;&#24907;&#12392;&#29366;&#24907;&#36983;&#31227;&#65288;&#12381;&#12375;&#12390;&#12289;&#36983;&#31227;&#12398;&#12365;&#12387;&#12363;&#12369;&#12392;&#12394;&#12427;Hibernate&#12398;&#12513;&#12477;&#12483;&#12489;&#65289;&#12395;&#12388;&#12356;&#12390; &#12289;&#35443;&#32048;&#12395;&#36848;&#12409;&#12414;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-makingpersistent"></a>10.2. &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#27704;&#32154;&#29366;&#24907;&#12395;&#12377;&#12427;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; Hibernate&#12391;&#12399; <span class="emphasis"><em>&#19968;&#26178;&#30340;(transient)</em></span> &#12392;&#35211;&#12394;&#12373;&#12428;&#12414;&#12377;&#12290; &#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#38306;&#36899;&#12389;&#12369;&#12427;&#12371;&#12392;&#12391;&#12289;&#19968;&#26178;&#30340;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434; <span class="emphasis"><em>&#27704;&#32154;&#29366;&#24907;(persistent)</em></span> &#12395;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">DomesticCat fritz = new DomesticCat();
fritz.setColor(Color.GINGER);
fritz.setSex('M');
fritz.setName("Fritz");
Long generatedId = (Long) sess.save(fritz);</pre><p><code class="literal">Cat</code> &#12463;&#12521;&#12473;&#12398;&#35672;&#21029;&#23376;&#12364;&#33258;&#21205;&#29983;&#25104;&#12373;&#12428;&#12427;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289; <code class="literal">save()</code> &#12364;&#21628;&#12400;&#12428;&#12427;&#12392;&#12365;&#12395;&#12289; &#35672;&#21029;&#23376;&#12364;&#29983;&#25104;&#12373;&#12428;&#12289; <code class="literal">cat</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12414;&#12377;&#12290; <code class="literal">Cat</code> &#12398;&#35672;&#21029;&#23376;&#12364;&#20182;&#12363;&#12425;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12427;&#65288; <code class="literal">assigned</code> &#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#65289;&#12363;&#12289;&#35079;&#21512;&#12461;&#12540;&#12391;&#12354;&#12427;&#12394;&#12425;&#12289; <code class="literal">save()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#21069;&#12395;&#12289;&#35672;&#21029;&#23376;&#12434;&#21106;&#12426;&#24403;&#12390;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">save()</code> &#12398;&#20195;&#12431;&#12426;&#12395;&#12289;EJB3 &#12398;&#21021;&#26399;&#12489;&#12521;&#12501;&#12488;&#12391;&#23450;&#32681;&#12373;&#12428;&#12383; <code class="literal">persist()</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">persist()</code> makes a transient instance persistent. However, it doesn't guarantee that the identifier value will be assigned to the persistent
                           instance immediately, the assignment might happen at flush time. <code class="literal">persist()</code> also guarantees that it will not execute an <code class="literal">INSERT</code> statement if it is called outside of transaction boundaries. This is useful in long-running conversations with an extended
                           Session/persistence context. 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">save()</code> does guarantee to return an identifier. If an INSERT has to be executed to get the identifier ( e.g. "identity" generator,
                           not "sequence"), this INSERT happens immediately, no matter if you are inside or outside of a transaction. This is problematic
                           in a long-running conversation with an extended Session/persistence context. 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#20195;&#12431;&#12426;&#12395;&#12289;&#35672;&#21029;&#23376;&#12434;&#24341;&#25968;&#12395;&#12392;&#12427; <code class="literal">save()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12387;&#12390;&#12289; &#35672;&#21029;&#23376;&#12434;&#21106;&#12426;&#24403;&#12390;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">DomesticCat pk = new DomesticCat();
pk.setColor(Color.TABBY);
pk.setSex('F');
pk.setName("PK");
pk.setKittens( new HashSet() );
pk.addKitten(fritz);
sess.save( pk, new Long(1234) );</pre><p>&#27704;&#32154;&#21270;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#22580;&#21512; &#65288;&#20363;&#12360;&#12400;&#12289;&#21069;&#12398;&#20363;&#12395;&#12362;&#12369;&#12427; <code class="literal">kittens</code> &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12424;&#12358;&#12395;&#65289;&#12289; &#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12395;&#12289; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12434;&#12388;&#12369;&#12394;&#12356;&#38480;&#12426;&#12399;&#12289; &#12371;&#12428;&#12425;&#12398;&#19968;&#36899;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12393;&#12435;&#12394;&#38918;&#30058;&#12391;&#27704;&#32154;&#21270;&#12375;&#12390;&#12418;&#12363;&#12414;&#12356;&#12414;&#12379;&#12435;&#12290; &#22806;&#37096;&#12461;&#12540;&#21046;&#32004;&#12434;&#36949;&#21453;&#12377;&#12427;&#24656;&#12428;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#12289; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;&#38291;&#36949;&#12387;&#12383;&#38918;&#30058;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">save()</code> &#12375;&#12390;&#12375;&#12414;&#12358;&#12392;&#12289; &#21046;&#32004;&#12395;&#36949;&#21453;&#12377;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#38306;&#36899;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#33258;&#21205;&#30340;&#12395;&#20445;&#23384;&#12377;&#12427;&#12289; Hibernate&#12398; <span class="emphasis"><em>&#36983;&#31227;&#30340;&#12394;&#27704;&#32154;&#21270;(transitive persistence)</em></span> &#27231;&#33021;&#12434; &#20351;&#12358;&#12388;&#12418;&#12426;&#12394;&#12425;&#12400;&#12289;&#12381;&#12398;&#12424;&#12358;&#12394;&#35443;&#32048;&#12434;&#27671;&#12395;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12381;&#12375;&#12390;&#12289; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12398;&#36949;&#21453;&#12377;&#12425;&#36215;&#12371;&#12426;&#12414;&#12379;&#12435;&#12290; Hibernate&#12364;&#12377;&#12409;&#12390;&#38754;&#20498;&#12434;&#12415;&#12390;&#12367;&#12428;&#12414;&#12377;&#12290;&#36983;&#31227;&#30340;&#12394;&#27704;&#32154;&#21270;&#12399;&#12289;&#12371;&#12398;&#31456;&#12398;&#24460;&#21322;&#12395;&#26360;&#12363;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-loading"></a>10.3. &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12525;&#12540;&#12489;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#35672;&#21029;&#23376;&#12364;&#12354;&#12425;&#12363;&#12376;&#12417;&#20998;&#12363;&#12387;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289; <code class="literal">Session</code> &#12398; <code class="literal">load()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12387;&#12390;&#12289;&#24489;&#20803;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">load()</code> &#12399;&#12289;Class &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#24341;&#25968;&#12395;&#12392;&#12426;&#12289; &#12381;&#12398;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#26032;&#12383;&#12395;&#29983;&#25104;&#12375;&#12289;&#29366;&#24907;&#12434;&#12525;&#12540;&#12489;&#12375;&#12414;&#12377;&#12290; &#12381;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#29366;&#24907;&#12399;&#12289;&#27704;&#32154;(persistent)&#29366;&#24907;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">Cat fritz = (Cat) sess.load(Cat.class, generatedId);</pre><pre class="programlisting">// you need to wrap primitive identifiers
long id = 1234;
DomesticCat pk = (DomesticCat) sess.load( DomesticCat.class, new Long(id) );</pre><p>&#12354;&#12427;&#12356;&#12399;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289;&#26082;&#23384;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#29366;&#24907;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">Cat cat = new DomesticCat();
// load pk's state into cat
sess.load( cat, new Long(pkId) );
Set kittens = cat.getKittens();</pre><p>DB&#12395;&#35442;&#24403;&#12377;&#12427;&#34892;&#12364;&#28961;&#12356;&#22580;&#21512;&#12289; <code class="literal">load()</code> &#12399;&#22238;&#24489;&#19981;&#21487;&#33021;&#12394;&#20363;&#22806;&#12434; &#25237;&#12370;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12381;&#12398;&#12463;&#12521;&#12473;&#12364;&#12503;&#12525;&#12461;&#12471;&#12434;&#20351;&#12387;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289; <code class="literal">load()</code> &#12399;&#21021;&#26399;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12503;&#12525;&#12461;&#12471;&#12434;&#36820;&#12375;&#12289;&#12503;&#12525;&#12461;&#12471;&#12398;&#12513;&#12477;&#12483;&#12489;&#12364;&#21628;&#12400;&#12428;&#12427;&#12414;&#12391;&#23455;&#38555;&#12395;&#12399; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12414;&#12379;&#12435;&#12290; &#12418;&#12375;&#12289;&#23455;&#38555;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12525;&#12540;&#12489;&#12379;&#12378;&#12395;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#23550;&#12377;&#12427;&#38306;&#36899;&#12434;&#20316;&#12426;&#12383;&#12356;&#22580;&#21512;&#12289; &#12371;&#12398;&#25391;&#12427;&#33310;&#12356;&#12399;&#12392;&#12390;&#12418;&#24441;&#31435;&#12385;&#12414;&#12377;&#12290; <code class="literal">batch-size</code> &#12364;&#12463;&#12521;&#12473;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12427;&#12394;&#12425;&#12400;&#12289; &#35079;&#25968;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#19968;&#25324;&#12391;&#12525;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12364;&#21487;&#33021;&#12391;&#12377;&#12290; 
               </p>
               <p>&#35442;&#24403;&#12377;&#12427;&#34892;&#12364;&#23384;&#22312;&#12377;&#12427;&#12371;&#12392;&#12434;&#30906;&#20449;&#12391;&#12365;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289; <code class="literal">get()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12358;&#12409;&#12365;&#12391;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12377;&#12368;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12289;&#35442;&#24403;&#12377;&#12427;&#34892;&#12364;&#28961;&#12356;&#22580;&#21512;&#12399;null&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Cat cat = (Cat) sess.get(Cat.class, id);
if (cat==null) {
    cat = new Cat();
    sess.save(cat, id);
}
return cat;</pre><p><code class="literal">LockMode</code> &#12434;&#20351;&#12360;&#12400;&#12289; <code class="literal">SELECT ... FOR UPDATE</code>&#12392;&#12356;&#12358;SQL&#12434; &#20351;&#12387;&#12390;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#35443;&#32048;&#12394;&#24773;&#22577;&#12399;&#12289;API&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p><pre class="programlisting">Cat cat = (Cat) sess.get(Cat.class, id, LockMode.UPGRADE);</pre><p>&#38306;&#36899;&#12395;&#23550;&#12377;&#12427;&#12459;&#12473;&#12465;&#12540;&#12489;&#26041;&#27861;&#12392;&#12375;&#12390; <code class="literal">lock</code> &#12420; <code class="literal">all</code> &#12434; &#25351;&#23450;&#12375;&#12394;&#12356;&#38480;&#12426;&#12289;&#38306;&#36899;&#12377;&#12427;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12420;&#21547;&#12414;&#12428;&#12427;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399; <code class="literal">FOR UPDATE</code> &#12391;&#24489;&#20803; <span class="emphasis"><em>&#12373;&#12428;&#12394;&#12356;</em></span> &#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; 
               </p>
               <p><code class="literal">refresh()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289;&#12393;&#12435;&#12394;&#12392;&#12365;&#12391;&#12418;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12420;&#12381;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434; &#12522;&#12525;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12488;&#12522;&#12460;&#12364;&#12486;&#12540;&#12502;&#12523;&#12434;&#26356;&#26032;&#12375;&#12383;&#38555;&#12395;&#12289; &#12381;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#24540;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#21516;&#26399;&#12377;&#12427;&#22580;&#21512;&#12289;&#12371;&#12398;&#12513;&#12477;&#12483;&#12489;&#12364;&#24441;&#12395;&#31435;&#12385;&#12414;&#12377;&#12290;
                  
               </p><pre class="programlisting">sess.save(cat);
sess.flush(); //force the SQL INSERT
sess.refresh(cat); //re-read the state (after the trigger executes)</pre><p>&#22823;&#20999;&#12394;&#21839;&#38988;&#12399;&#12289;&#12356;&#12388;&#12418;&#27425;&#12398;&#28857;&#12395;&#38306;&#12377;&#12427;&#12418;&#12398;&#12391;&#12377;&#12290;&#12381;&#12428;&#12399;&#12289;Hibernate&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12289; &#12393;&#12398;&#12367;&#12425;&#12356;&#12398;&#37327;&#12434;&#24489;&#20803;&#12377;&#12427;&#12398;&#12363;&#12392;&#12289;&#12393;&#12398;&#12367;&#12425;&#12356;&#12398;&#25968;&#12398;SQL&#12398; <code class="literal">SELECT</code> &#25991;&#12364;&#20351;&#12431;&#12428;&#12427;&#12398;&#12363;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289; <span class="emphasis"><em>&#12501;&#12455;&#12483;&#12481;&#12398;&#25126;&#30053;</em></span> &#12395;&#12424;&#12426;&#12414;&#12377;&#12290;&#12371;&#12428;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;<a href="#performance-fetching" title="19.1. &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;">&#38917;19.1. &#12300;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12301;</a> &#12391;&#35500;&#26126;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-querying"></a>10.4. &#12463;&#12456;&#12522;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#25506;&#12375;&#12383;&#12356;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12364;&#20998;&#12363;&#12425;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289;&#12463;&#12456;&#12522;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; Hibernate&#12399;&#20351;&#12356;&#12420;&#12377;&#12367;&#12390;&#24375;&#21147;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12398;&#12463;&#12456;&#12522;&#35328;&#35486; (HQL)&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12503;&#12525;&#12464;&#12521;&#12512;&#12395;&#12424;&#12387;&#12390;&#12463;&#12456;&#12522;&#12364;&#20316;&#25104;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12289;Hibernate&#12399;&#27927;&#32244;&#12373;&#12428;&#12383;Criteria&#12392;Example&#12463;&#12456;&#12522;&#27231;&#33021;(QBC&#12392;QBE&#65289;&#12434;
                  &#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;ResultSet&#12434;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#22793;&#25563;&#12377;&#12427;Hibernate&#12398;&#12458;&#12503;&#12471;&#12519;&#12531;&#27231;&#33021;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12493;&#12452;&#12486;&#12451;&#12502;&#12394;SQL&#12391;&#12463;&#12456;&#12522;&#12434;&#34920;&#29694;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="objectstate-querying-executing"></a>10.4.1. &#12463;&#12456;&#12522;&#12398;&#23455;&#34892;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>HQL&#12420;&#12493;&#12452;&#12486;&#12451;&#12502;&#12394;SQL&#12463;&#12456;&#12522;&#12399;&#12289; <code class="literal">org.hibernate.Query</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#12375;&#12390;&#34920;&#29694;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12399;&#12289;&#12497;&#12521;&#12513;&#12540;&#12479;&#12496;&#12452;&#12531;&#12487;&#12451;&#12531;&#12464;&#12420;ResultSet&#12398;&#12495;&#12531;&#12489;&#12522;&#12531;&#12464;&#12420; &#12463;&#12456;&#12522;&#12398;&#23455;&#34892;&#12434;&#34892;&#12358;&#12513;&#12477;&#12483;&#12489;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#36890;&#24120;&#12289; <code class="literal">Query</code> &#12399;&#12289;&#20197;&#19979;&#12395;&#31034;&#12377;&#12424;&#12358;&#12395;&#12289; &#12381;&#12398;&#26178;&#28857;&#12398; <code class="literal">Session</code> &#12434;&#20351;&#12387;&#12390;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">List cats = session.createQuery(
    "from Cat as cat where cat.birthdate &lt; ?")
    .setDate(0, date)
    .list();

List mothers = session.createQuery(
    "select mother from Cat as cat join cat.mother as mother where cat.name = ?")
    .setString(0, name)
    .list();

List kittens = session.createQuery(
    "from Cat as cat where cat.mother = ?")
    .setEntity(0, pk)
    .list();

Cat mother = (Cat) session.createQuery(
    "select cat.mother from Cat as cat where cat = ?")
    .setEntity(0, izi)
    .uniqueResult();]]

Query mothersWithKittens = (Cat) session.createQuery(
    "select mother from Cat as mother left join fetch mother.kittens");
Set uniqueMothers = new HashSet(mothersWithKittens.list());</pre><p>&#12463;&#12456;&#12522;&#12399;&#12289;&#26222;&#36890;&#12289; <code class="literal">list()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#23455;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290; &#12463;&#12456;&#12522;&#12398;&#32080;&#26524;&#12399;&#12289;&#12513;&#12514;&#12522;&#19978;&#12395;&#12354;&#12427;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12377;&#12409;&#12390;&#12525;&#12540;&#12489;&#12373;&#12428;&#12414;&#12377;&#12290; &#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#24489;&#20803;&#12373;&#12428;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#27704;&#32154;&#29366;&#24907;&#12391;&#12377;&#12290; &#12418;&#12375;&#12289;&#12463;&#12456;&#12522;&#12364;&#12383;&#12387;&#12383;1&#20491;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36820;&#12377;&#12392;&#20998;&#12363;&#12387;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289;
                     <code class="literal">uniqueResult()</code> &#12513;&#12477;&#12483;&#12489;&#12364;&#25163;&#12387;&#21462;&#12426;&#26089;&#12356;&#26041;&#27861;&#12391;&#12377;&#12290; &#21363;&#26178;&#12501;&#12455;&#12483;&#12481;&#12434;&#21033;&#29992;&#12375;&#12383;&#12463;&#12456;&#12522;&#12398;&#22580;&#21512;&#12289;&#12405;&#12388;&#12358;&#12289;&#24471;&#12425;&#12428;&#12383;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12399;&#12289; &#12523;&#12540;&#12488;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#37325;&#35079;&#12375;&#12390;&#21547;&#12414;&#12428;&#12390;&#12356;&#12414;&#12377; &#65288;&#12375;&#12363;&#12375;&#12289;&#12523;&#12540;&#12488;&#12364;&#25345;&#12388;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#21021;&#26399;&#21270;(&#12525;&#12540;&#12489;&#65289;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290; &#12371;&#12398;&#37325;&#35079;&#12399; <code class="literal">Set</code> &#12434;&#20351;&#12387;&#12390;&#21462;&#12426;&#38500;&#12367;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-iterate"></a>10.4.1.1. &#32080;&#26524;&#12434;&#12452;&#12486;&#12524;&#12540;&#12488;&#12377;&#12427;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#26178;&#12293;&#12289; <code class="literal">iterate()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12387;&#12390;&#12463;&#12456;&#12522;&#12434;&#23455;&#34892;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#12424;&#12426;&#33391;&#12356;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#24471;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;&#36890;&#24120;&#12289;&#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#24471;&#12425;&#12428;&#12383;&#23455;&#38555;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12289; &#12377;&#12391;&#12395;&#12475;&#12483;&#12471;&#12519;&#12531;&#12414;&#12383;&#12399;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#23384;&#22312;&#12377;&#12427;&#12371;&#12392;&#12364;&#26399;&#24453;&#12391;&#12365;&#12427;&#22580;&#21512;&#12384;&#12369;&#12391;&#12377;&#12290; &#12381;&#12428;&#12425;&#12364;&#12289;&#12414;&#12384;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12394;&#12425;&#12289;
                        <code class="literal">iterate()</code> &#12399;&#12289; <code class="literal">list()</code> &#12424;&#12426;&#12418;&#36933;&#12367;&#12289;&#31777;&#21336;&#12394;&#12463;&#12456;&#12522;&#12395;&#23550;&#12375;&#12390;&#12418;&#22810;&#12367;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12450;&#12463;&#12475;&#12473;&#12434; &#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290;&#12381;&#12398;&#12450;&#12463;&#12475;&#12473;&#12392;&#12399;&#12289;&#35672;&#21029;&#23376;&#12384;&#12369;&#12434;&#21462;&#24471;&#12377;&#12427;&#12383;&#12417;&#12398;&#26368;&#21021;&#12398;select&#65297;&#22238;&#12392;&#12289; &#23455;&#38555;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#21021;&#26399;&#21270;&#12377;&#12427;&#12383;&#12417;&#12395;&#24460;&#12363;&#12425;&#34892;&#12358;n&#22238;&#12398;select&#12398;&#12371;&#12392;&#12391;&#12377;&#12290; 
                     </p><pre class="programlisting">// fetch ids
Iterator iter = sess.createQuery("from eg.Qux q order by q.likeliness").iterate();
while ( iter.hasNext() ) {
    Qux qux = (Qux) iter.next();  // fetch the object
    // something we couldnt express in the query
    if ( qux.calculateComplicatedAlgorithm() ) {
        // delete the current instance
        iter.remove();
        // dont need to process the rest
        break;
    }
}</pre></div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-tuples"></a>10.4.1.2. &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#32068;&#65288;tuple&#65289;&#12434;&#36820;&#12377;&#12463;&#12456;&#12522;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>Hibernate&#12398;&#12463;&#12456;&#12522;&#12391;&#12399;&#12289;&#26178;&#12293;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#32068;&#12434;&#36820;&#12377;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12381;&#12398;&#22580;&#21512;&#12399;&#12289;&#21508;&#12479;&#12503;&#12523;&#12399;&#37197;&#21015;&#12392;&#12375;&#12390;&#36820;&#12373;&#12428;&#12414;&#12377;&#12290; </p><pre class="programlisting">Iterator kittensAndMothers = sess.createQuery(
            "select kitten, mother from Cat kitten join kitten.mother mother")
            .list()
            .iterator();

while ( kittensAndMothers.hasNext() ) {
    Object[] tuple = (Object[]) kittensAndMothers.next();
    Cat kitten = (Cat) tuple[0];
    Cat mother = (Cat) tuple[1];
    ....
}</pre></div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-scalar"></a>10.4.1.3. &#12473;&#12459;&#12521;&#12540;&#12398;&#32080;&#26524;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#12463;&#12456;&#12522;&#12391;&#12399;&#12289; <code class="literal">select</code> &#31680;&#12391;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; SQL&#12398;&#38598;&#21512;&#38306;&#25968;&#12434;&#21628;&#12406;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#38598;&#21512;&#38306;&#25968;&#12399;&#12289; &#65288;&#27704;&#32154;&#29366;&#24907;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12399;&#12394;&#12367;&#65289;&#12300;&#12473;&#12459;&#12521;&#12540;&#20516;&#12301;&#12391;&#12354;&#12427;&#12392;&#35211;&#12394;&#12373;&#12428;&#12414;&#12377;&#12290; 
                     </p><pre class="programlisting">Iterator results = sess.createQuery(
        "select cat.color, min(cat.birthdate), count(cat) from Cat cat " +
        "group by cat.color")
        .list()
        .iterator();

while ( results.hasNext() ) {
    Object[] row = (Object[]) results.next();
    Color type = (Color) row[0];
    Date oldest = (Date) row[1];
    Integer count = (Integer) row[2];
    .....
}</pre></div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-parameters"></a>10.4.1.4. &#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#12496;&#12452;&#12531;&#12489;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p><code class="literal">Query</code> &#12399;&#12289;&#21517;&#21069;&#20184;&#12365;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12420;JDBC&#12473;&#12479;&#12452;&#12523;&#12398; <code class="literal">?</code> &#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#20516;&#12434;&#12496;&#12452;&#12531;&#12489;&#12377;&#12427;&#12383;&#12417;&#12398;&#12513;&#12477;&#12483;&#12489;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; <span class="emphasis"><em>JDBC&#12392;&#12399;&#36949;&#12356;&#12289;Hibernate&#12399;&#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#12476;&#12525;&#12363;&#12425;&#30058;&#21495;&#12434;&#25391;&#12387;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290;</em></span> &#21517;&#21069;&#20184;&#12365;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12392;&#12399;&#12289;&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;&#12398;&#12394;&#12363;&#12395;&#12354;&#12427; <code class="literal">:name</code> &#24418;&#24335;&#12398;&#35672;&#21029;&#23376;&#12391;&#12377;&#12290; &#21517;&#21069;&#20184;&#12365;&#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#21033;&#28857;&#12399;&#27425;&#12398;&#36890;&#12426;&#12391;&#12377;&#12290; 
                     </p>
                     <div class="itemizedlist">
                        <ul type="disc" compact>
                           <li>
                              <p>&#21517;&#21069;&#20184;&#12365;&#12497;&#12521;&#12513;&#12540;&#12479;&#12399;&#12289;&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;&#12395;&#30331;&#22580;&#12377;&#12427;&#38918;&#30058;&#12392;&#28961;&#38306;&#20418;&#12391;&#12377; </p>
                           </li>
                           <li>
                              <p>&#21516;&#12376;&#12463;&#12456;&#12522;&#20869;&#12395;&#35079;&#25968;&#22238;&#30331;&#22580;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377; </p>
                           </li>
                           <li>
                              <p>&#33258;&#20998;&#33258;&#36523;&#12434;&#35500;&#26126;&#12375;&#12414;&#12377; </p>
                           </li>
                        </ul>
                     </div><pre class="programlisting">//named parameter (preferred)
Query q = sess.createQuery("from DomesticCat cat where cat.name = :name");
q.setString("name", "Fritz");
Iterator cats = q.iterate();</pre><pre class="programlisting">//positional parameter
Query q = sess.createQuery("from DomesticCat cat where cat.name = ?");
q.setString(0, "Izi");
Iterator cats = q.iterate();</pre><pre class="programlisting">//named parameter list
List names = new ArrayList();
names.add("Izi");
names.add("Fritz");
Query q = sess.createQuery("from DomesticCat cat where cat.name in (:namesList)");
q.setParameterList("namesList", names);
List cats = q.list();</pre></div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-pagination"></a>10.4.1.5. &#12506;&#12540;&#12472;&#20998;&#12369;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>ResultSet&#12395;&#21046;&#38480;&#65288;&#24489;&#20803;&#12375;&#12383;&#12356;&#26368;&#22823;&#34892;&#25968;&#12420;&#24489;&#20803;&#12375;&#12383;&#12356;&#26368;&#21021;&#12398;&#34892;&#65289;&#12434;&#21152;&#12360;&#12427;&#24517;&#35201;&#12364;&#12354;&#12428;&#12400;&#12289; &#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289; <code class="literal">Query</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; 
                     </p><pre class="programlisting">Query q = sess.createQuery("from DomesticCat cat");
q.setFirstResult(20);
q.setMaxResults(10);
List cats = q.list();</pre><p>&#21046;&#38480;&#20184;&#12365;&#12398;&#12463;&#12456;&#12522;&#12434;DBMS&#12398;&#12493;&#12452;&#12486;&#12451;&#12502;&#12394;SQL&#12395;&#22793;&#25563;&#12377;&#12427;&#26041;&#27861;&#12434;&#12289;Hibernate&#12399;&#30693;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-scrolling"></a>10.4.1.6. &#12473;&#12463;&#12525;&#12540;&#12523;&#21487;&#33021;&#12394;&#12452;&#12486;&#12524;&#12540;&#12471;&#12519;&#12531;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>JDBC&#12489;&#12521;&#12452;&#12496;&#12364;&#12473;&#12463;&#12525;&#12540;&#12523;&#21487;&#33021;&#12394; <code class="literal">ResultSet</code> &#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12428;&#12400;&#12289; <code class="literal">Query</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#20351;&#12387;&#12390;&#12289; <code class="literal">ScrollableResults</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; &#21462;&#24471;&#12391;&#12365;&#12414;&#12377;&#12290;&#12381;&#12428;&#12434;&#20351;&#12358;&#12392;&#12289;&#12463;&#12456;&#12522;&#12398;&#32080;&#26524;&#12395;&#23550;&#12375;&#12390;&#26580;&#36575;&#12395;&#12490;&#12499;&#12466;&#12540;&#12471;&#12519;&#12531;&#12391;&#12365;&#12414;&#12377;&#12290; 
                     </p><pre class="programlisting">Query q = sess.createQuery("select cat.name, cat from DomesticCat cat " +
                            "order by cat.name");
ScrollableResults cats = q.scroll();
if ( cats.first() ) {

    // find the first name on each page of an alphabetical list of cats by name
    firstNamesOfPages = new ArrayList();
    do {
        String name = cats.getString(0);
        firstNamesOfPages.add(name);
    }
    while ( cats.scroll(PAGE_SIZE) );

    // Now get the first page of cats
    pageOfCats = new ArrayList();
    cats.beforeFirst();
    int i=0;
    while( ( PAGE_SIZE &gt; i++ ) &amp;&amp; cats.next() ) pageOfCats.add( cats.get(1) );

}
cats.close()</pre><p>&#12371;&#12398;&#27231;&#33021;&#12395;&#12399;&#12458;&#12540;&#12503;&#12531;&#29366;&#24907;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12364;&#24517;&#35201;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12418;&#12375;&#12289;&#12458;&#12501;&#12521;&#12452;&#12531;&#12398;&#12506;&#12540;&#12472;&#20998;&#12369;&#27231;&#33021;&#12364;&#24517;&#35201;&#12391;&#12354;&#12428;&#12400;&#12289; <code class="literal">setMaxResult()</code> / <code class="literal">setFirstResult()</code> &#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290; 
                     </p>
                  </div>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="objectstate-querying-executing-named"></a>10.4.1.7. &#21517;&#21069;&#20184;&#12365;&#12463;&#12456;&#12522;&#12398;&#22806;&#20986;&#12375;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12395;&#21517;&#21069;&#20184;&#12365;&#12398;&#12463;&#12456;&#12522;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#65288;&#12510;&#12540;&#12463;&#12450;&#12483;&#12503;&#12392;&#35299;&#37320;&#12373;&#12428;&#12427;&#25991;&#23383;&#12364;&#12463;&#12456;&#12522;&#12395;&#21547;&#12414;&#12428;&#12427;&#12394;&#12425;&#12289; <code class="literal">CDATA</code> &#12475;&#12463;&#12471;&#12519;&#12531;&#12434; &#20351;&#12358;&#12371;&#12392;&#12434;&#24536;&#12428;&#12394;&#12356;&#12424;&#12358;&#12395;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;&#65289; 
                     </p><pre class="programlisting">&lt;query name="ByNameAndMaximumWeight"&gt;&lt;![CDATA[
    from eg.DomesticCat as cat
        where cat.name = ?
        and cat.weight &gt; ?
] ]&gt;&lt;/query&gt;</pre><p>&#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#12496;&#12452;&#12531;&#12487;&#12451;&#12531;&#12464;&#12392;&#23455;&#34892;&#12399;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#34892;&#12431;&#12428;&#12414;&#12377;&#12290; </p><pre class="programlisting">Query q = sess.getNamedQuery("ByNameAndMaximumWeight");
q.setString(0, name);
q.setInt(1, minWeight);
List cats = q.list();</pre><p>&#23455;&#38555;&#12398;&#12503;&#12525;&#12464;&#12521;&#12512;&#12467;&#12540;&#12489;&#12399;&#12289;&#20351;&#12431;&#12428;&#12427;&#12463;&#12456;&#12522;&#35328;&#35486;&#12395;&#20381;&#23384;&#12375;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12513;&#12479;&#12487;&#12540;&#12479;&#12395;&#12399;&#12289;&#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12463;&#12456;&#12522;&#12434;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;&#26082;&#23384;&#12398;&#12463;&#12456;&#12522;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12395;&#31227;&#12377;&#12371;&#12392;&#12391;&#12289; Hibernate&#12395;&#31227;&#34892;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290;
                        
                     </p>
                     <p><code class="literal">&lt;hibernate-mapping&gt;</code> &#12398;&#20013;&#12398;&#12463;&#12456;&#12522;&#23450;&#32681;&#12399;&#12289;&#12463;&#12456;&#12522;&#12395;&#23550;&#12377;&#12427; &#12518;&#12491;&#12540;&#12463;&#12394;&#21517;&#21069;&#12364;&#24517;&#35201;&#12394;&#12371;&#12392;&#12395;&#12418;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12381;&#12428;&#12395;&#23550;&#12375;&#12390;&#12289; <code class="literal">&lt;class&gt;</code> &#12398;&#20013;&#12398; &#12463;&#12456;&#12522;&#23450;&#32681;&#12399;&#12289;&#12463;&#12521;&#12473;&#12398;&#23436;&#20840;&#38480;&#23450;&#21517;&#12364;&#21069;&#12395;&#20184;&#12369;&#12425;&#12428;&#12427;&#12398;&#12391;&#12289;&#33258;&#21205;&#30340;&#12395;&#12518;&#12491;&#12540;&#12463;&#12394;&#21517;&#21069;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#20363;&#65306; <code class="literal">eg.Cat.ByNameAndMaximumWeight</code> 
                     </p>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="objectstate-filtering"></a>10.4.2. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12501;&#12451;&#12523;&#12479;&#12522;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531; <span class="emphasis"><em>&#12501;&#12451;&#12523;&#12479;</em></span> &#12399;&#12289;&#27704;&#32154;&#21270;&#12373;&#12428;&#12390;&#12356;&#12427;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#37197;&#21015;&#12395;&#36969;&#29992;&#12373;&#12428;&#12427; &#29305;&#27530;&#12394;&#12479;&#12452;&#12503;&#12398;&#12463;&#12456;&#12522;&#12391;&#12377;&#12290;&#12381;&#12398;&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;&#12391;&#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12381;&#12398;&#26178;&#28857;&#12391;&#12398;&#35201;&#32032;&#12434;&#24847;&#21619;&#12377;&#12427; <code class="literal">this</code> &#12434;&#20351;&#12356;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">Collection blackKittens = session.createFilter(
    pk.getKittens(), 
    "where this.color = ?")
    .setParameter( Color.BLACK, Hibernate.custom(ColorUserType.class) )
    .list()
);</pre><p>&#36820;&#12373;&#12428;&#12427;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;Bag&#12392;&#12415;&#12394;&#12373;&#12428;&#12414;&#12377;&#12290;&#12381;&#12375;&#12390;&#12289;&#12381;&#12428;&#12399;&#12418;&#12392;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12467;&#12500;&#12540;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#20803;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#20462;&#27491;&#12373;&#12428;&#12414;&#12379;&#12435;&#65288;&#12371;&#12428;&#12399;&#12289;"filter"&#12392;&#12356;&#12358;&#21517;&#21069;&#12398;&#24847;&#21619;&#12392;&#12399;&#30064;&#12394;&#12426;&#12414;&#12377;&#12364;&#12289; &#26399;&#24453;&#12373;&#12428;&#12427;&#21205;&#12365;&#12392;&#12399;&#19968;&#33268;&#12375;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290; </p>
                  <p>&#12501;&#12451;&#12523;&#12479;&#12395;&#12399; <code class="literal">from</code> &#31680;&#12364;&#19981;&#35201;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27671;&#12389;&#12367;&#12391;&#12375;&#12423;&#12358;&#65288;&#24517;&#35201;&#12394;&#12425;&#12289;&#25345;&#12388;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12364;&#65289;&#12290; &#12501;&#12451;&#12523;&#12479;&#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#33258;&#20307;&#12434;&#36820;&#12375;&#12390;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">Collection blackKittenMates = session.createFilter(
    pk.getKittens(), 
    "select this.mate where this.color = eg.Color.BLACK.intValue")
    .list();</pre><p>&#12463;&#12456;&#12522;&#12434;&#21547;&#12414;&#12394;&#12356;&#12501;&#12451;&#12523;&#12479;&#12418;&#24441;&#12395;&#31435;&#12385;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;&#38750;&#24120;&#12395;&#22823;&#12365;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#37096;&#20998;&#38598;&#21512;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12360;&#12414;&#12377;&#12290; </p><pre class="programlisting">Collection tenKittens = session.createFilter(
    mother.getKittens(), "")
    .setFirstResult(0).setMaxResults(10)
    .list();</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="objecstate-querying-criteria"></a>10.4.3. &#12463;&#12521;&#12452;&#12486;&#12522;&#12450;&#12398;&#12463;&#12456;&#12522;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>HQL&#12399;&#38750;&#24120;&#12395;&#24375;&#21147;&#12391;&#12377;&#12364;&#12289;&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;&#12434;&#20316;&#12427;&#12424;&#12426;&#12418;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12398;API&#12434;&#20351;&#12387;&#12390; &#21205;&#30340;&#12395;&#12463;&#12456;&#12522;&#12434;&#20316;&#12427;&#26041;&#12434;&#22909;&#12416;&#38283;&#30330;&#32773;&#12418;&#12356;&#12414;&#12377;&#12290; &#12371;&#12358;&#12356;&#12387;&#12383;&#22580;&#21512;&#12398;&#12383;&#12417;&#12395;&#12289;Hibernate&#12399;&#30452;&#24863;&#30340;&#12394; <code class="literal">Criteria</code> &#12463;&#12456;&#12522;API&#12434;&#25552;&#20379;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">Criteria crit = session.createCriteria(Cat.class);
crit.add( Restrictions.eq( "color", eg.Color.BLACK ) );
crit.setMaxResults(10);
List cats = crit.list();</pre><p><code class="literal">Criteria</code> &#12392; <code class="literal">Example</code> API&#12398;&#35443;&#32048;&#12399;&#12289; <a href="#querycriteria" title="&#31532;15&#31456; Criteria&#12463;&#12456;&#12522;">&#31456;&nbsp;15. <i xmlns:xlink="http://www.w3.org/1999/xlink">Criteria&#12463;&#12456;&#12522;</i></a> &#12395;&#36848;&#12409;&#12425;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="objectstate-querying-nativesql"></a>10.4.4. &#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12398;&#12463;&#12456;&#12522;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">createSQLQuery()</code> &#12434;&#20351;&#12387;&#12390;&#12289;SQL&#12391;&#12463;&#12456;&#12522;&#12434;&#34920;&#29694;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12381;&#12375;&#12390;&#12289;Hibernate&#12395;&#12289;ResultSet &#12363;&#12425;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12414;&#12363;&#12379;&#12414;&#12377;&#12290; <code class="literal">session.connection()</code> &#12434;&#21628;&#12409;&#12400;&#12393;&#12435;&#12394;&#12392;&#12365;&#12391;&#12418;&#12289;&#30452;&#25509;&#12289;JDBC <code class="literal">Connection</code> &#12434;&#20351;&#29992;&#12391;&#12365;&#12427;&#12371;&#12392;&#12434;&#35226;&#12360;&#12390;&#12362;&#12365;&#12414;&#12375;&#12423;&#12358;&#12290; &#12418;&#12375;&#12289;Hibernate API&#12434;&#20351;&#12358;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;&#19979;&#35352;&#12398;&#12424;&#12358;&#12395;SQL&#12398;&#21029;&#21517;&#12434;&#25324;&#24359;&#12391;&#12367;&#12367;&#12425;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">List cats = session.createSQLQuery("SELECT {cat.*} FROM CAT {cat} WHERE ROWNUM&lt;10")
    .addEntity("cat", Cat.class)
.list();</pre><pre class="programlisting">List cats = session.createSQLQuery(
    "SELECT {cat}.ID AS {cat.id}, {cat}.SEX AS {cat.sex}, " +
           "{cat}.MATE AS {cat.mate}, {cat}.SUBCLASS AS {cat.class}, ... " +
    "FROM CAT {cat} WHERE ROWNUM&lt;10")
    .addEntity("cat", Cat.class)
.list()</pre><p>SQL&#12463;&#12456;&#12522;&#12399;&#12289;Hibernate&#12463;&#12456;&#12522;&#12392;&#21516;&#12376;&#12424;&#12358;&#12395;&#12289;&#21517;&#21069;&#20184;&#12365;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12392;&#20301;&#32622;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#25345;&#12388;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; Hibernate&#12395;&#12362;&#12369;&#12427;&#12493;&#12452;&#12486;&#12451;&#12502;&#12394;SQL&#12463;&#12456;&#12522;&#12398;&#35443;&#32048;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289; <a href="#querysql" title="&#31532;16&#31456; &#12493;&#12452;&#12486;&#12451;&#12502;SQL">&#31456;&nbsp;16. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12493;&#12452;&#12486;&#12451;&#12502;SQL</i></a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-modifying"></a>10.5. &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20462;&#27491;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><span class="emphasis"><em>&#20966;&#29702;&#20013;&#12398;&#27704;&#32154;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;</em></span> &#65288;&#20363;&#65306; <code class="literal">Session</code> &#12395;&#12424;&#12387;&#12390;&#12289; &#12525;&#12540;&#12489;&#12289;&#12475;&#12540;&#12502;&#12289;&#20316;&#25104;&#12289;&#12463;&#12456;&#12522;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#65289;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#25805;&#20316;&#12373;&#12428;&#12414;&#12377;&#12290; &#12381;&#12398;&#38555;&#12395;&#22793;&#26356;&#12373;&#12428;&#12383;&#27704;&#32154;&#29366;&#24907;&#12399;&#12289; <code class="literal">Session</code> &#12364; <span class="emphasis"><em>&#12501;&#12521;&#12483;&#12471;&#12517;</em></span> &#12373;&#12428;&#12427;&#12392;&#12365;&#12395;&#12289;&#27704;&#32154;&#21270;&#12373;&#12428;&#12414;&#12377;&#65288;&#12371;&#12428;&#12399;&#12289;&#12371;&#12398;&#31456;&#12398;&#24460;&#21322;&#12391;&#36848;&#12409;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290; &#22793;&#26356;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#29305;&#27530;&#12394;&#12513;&#12477;&#12483;&#12489;&#65288; <code class="literal">update()</code> &#12398;&#12424;&#12358;&#12394;&#12418;&#12398;&#12290;&#12371;&#12428;&#12399;&#12289;&#21029;&#12398;&#30446;&#30340;&#12391;&#20351;&#29992;&#12375;&#12414;&#12377;&#65289;&#12434; &#21628;&#12406;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12434;&#26356;&#26032;&#12377;&#12427;&#19968;&#30058;&#31777;&#21336;&#12394;&#26041;&#27861;&#12399;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">load()</code> &#12375;&#12289; <code class="literal">Session</code> &#12434;&#12458;&#12540;&#12503;&#12531;&#12395;&#12375;&#12390;&#12356;&#12427;&#38291;&#12395;&#12289;&#30452;&#25509;&#25805;&#20316;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">DomesticCat cat = (DomesticCat) sess.load( Cat.class, new Long(69) );
cat.setName("PK");
sess.flush();  // changes to cat are automatically detected and persisted</pre><p>&#65288;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12383;&#12417;&#12398;&#65289;SQL&#12398; <code class="literal">SELECT</code> &#12392;&#65288;&#26356;&#26032;&#12373;&#12428;&#12383;&#29366;&#24907;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#12383;&#12417;&#12398;&#65289; SQL&#12398; <code class="literal">UPDATE</code> &#12364;&#21516;&#12376;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#24517;&#35201;&#12392;&#12394;&#12427;&#12398;&#12391;&#12289;&#12371;&#12398;&#12503;&#12525;&#12464;&#12521;&#12511;&#12531;&#12464;&#12514;&#12487;&#12523;&#12399;&#12289; &#21177;&#29575;&#12364;&#24746;&#12367;&#12394;&#12427;&#22580;&#21512;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12289;Hibernate&#12399;&#21029;&#12398;&#26041;&#27861;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#12381;&#12428;&#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20998;&#38626;&#12377;&#12427;&#65288;detached&#65289;&#26041;&#27861;&#12391;&#12377;&#12290; 
               </p>
               <p>
                  <span class="emphasis"><em>Note that Hibernate does not offer its own API for direct execution of <code class="literal">UPDATE</code> or <code class="literal">DELETE</code> statements. Hibernate is a <span class="emphasis"><em>state management</em></span> service, you don't have to think in <span class="emphasis"><em>statements</em></span> to use it. JDBC is a perfect API for executing SQL statements, you can get a JDBC <code class="literal">Connection</code> at any time by calling <code class="literal">session.connection()</code>. Furthermore, the notion of mass operations conflicts with object/relational mapping for online transaction processing-oriented
                        applications. Future versions of Hibernate may however provide special mass operation functions. See <a href="#batch" title="&#31532;13&#31456; &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;">&#31456;&nbsp;13. <i xmlns:xlink="http://www.w3.org/1999/xlink">&atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;</i></a> for some possible batch operation tricks.</em></span>
                  
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-detached"></a>10.6. &#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20462;&#27491;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#22810;&#12367;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#27425;&#12398;&#12371;&#12392;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#12354;&#12427;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#24489;&#20803;&#12375;&#12289;&#25805;&#20316;&#12377;&#12427;&#12383;&#12417;&#12395;&#12381;&#12428;&#12434;UI&#23652;&#12395;&#36865;&#12426;&#12289; &#12381;&#12398;&#24460;&#12395;&#12289;&#26032;&#12375;&#12356;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12391;&#22793;&#26356;&#12434;&#12475;&#12540;&#12502;&#12377;&#12427;&#12392;&#12356;&#12387;&#12383;&#12371;&#12392;&#12391;&#12377;&#12290; &#20006;&#34892;&#24615;&#12398;&#39640;&#12356;&#29872;&#22659;&#12391;&#12289;&#12371;&#12398;&#12479;&#12452;&#12503;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#20351;&#12358;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;
                  "&#26399;&#38291;&#12398;&#38263;&#12356;" &#20316;&#26989;&#21336;&#20301;&#12398;&#38548;&#38626;&#24615;&#12434;&#20445;&#35388;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12487;&#12540;&#12479;&#12364;&#36890;&#24120;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>Hibernate&#12399;&#12289; <code class="literal">Session.update()</code> &#12420; <code class="literal">Session.merge()</code> &#12513;&#12477;&#12483;&#12489;&#12434; &#20351;&#12387;&#12390;&#12289;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20877;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;&#12371;&#12398;&#12514;&#12487;&#12523;&#12395;&#23550;&#24540;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">// in the first session
Cat cat = (Cat) firstSession.load(Cat.class, catId);
Cat potentialMate = new Cat();
firstSession.save(potentialMate);

// in a higher layer of the application
cat.setMate(potentialMate);

// later, in a new session
secondSession.update(cat);  // update cat
secondSession.update(mate); // update mate</pre><p>&#35672;&#21029;&#23376;<code class="literal">catId</code> &#12434;&#25345;&#12388; <code class="literal">Cat</code> &#12364;&#12289;&#26082;&#12395; <code class="literal">secondSession</code> &#12391;&#12525;&#12540;&#12489;&#12373;&#12428;&#12390;&#12356;&#12383;&#22580;&#21512;&#12399;&#12289;&#20877;&#36861;&#21152;&#12375;&#12424;&#12358;&#12392;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289;&#20363;&#22806;&#12364;&#25237;&#12370;&#12425;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>&#21516;&#12376;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#27704;&#32154;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#26082;&#12395;&#20445;&#25345;&#12375;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12434; &#30906;&#20449;&#12391;&#12365;&#12427;&#12394;&#12425; <code class="literal">update()</code> &#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290; &#12381;&#12375;&#12390;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#29366;&#24907;&#12434;&#32771;&#12360;&#12378;&#12395;&#12289;&#12393;&#12435;&#12394;&#22580;&#21512;&#12391;&#12418;&#22793;&#26356;&#12434;&#12510;&#12540;&#12472;&#12375;&#12383;&#12356;&#22580;&#21512;&#12399;&#12289; <code class="literal">merge()</code> &#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;&#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20877;&#36861;&#21152;&#25805;&#20316;&#12364;&#12289;&#26368;&#21021;&#12395;&#23455;&#34892;&#12373;&#12428;&#12427;&#12371;&#12392;&#12434;&#30906;&#23455;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#36890;&#24120;&#12399; <code class="literal">update()</code> &#12364;&#26032;&#12375;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12394;&#12363;&#12391;&#26368;&#21021;&#12395;&#21628;&#12400;&#12428;&#12427;&#12513;&#12477;&#12483;&#12489;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12363;&#12425;&#21040;&#36948;&#21487;&#33021;&#12394;&#12289;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#20491;&#21029;&#12395; <code class="literal">update()</code> &#12377;&#12409;&#12365;&#12391;&#12377;&#12290;&#12381;&#12428;&#12399;&#12289;&#12381;&#12398;&#29366;&#24907;&#12434;&#26356;&#26032;&#12375;&#12383;&#12356;&#22580;&#21512;&#12395; <span class="emphasis"><em>&#38480;&#12426;</em></span> &#12414;&#12377;&#12290; <span class="emphasis"><em>&#36983;&#31227;&#30340;&#12394;&#27704;&#32154;&#21270;</em></span> &#12434;&#20351;&#12360;&#12400;&#12289;&#12418;&#12385;&#12429;&#12435;&#33258;&#21205;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290; <a href="#objectstate-transitive" title="10.11. &#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;">&#38917;10.11. &#12300;&#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#12513;&#12477;&#12483;&#12489;&#12391;&#12418;&#12414;&#12383;&#12289;&#26032;&#12375;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20877;&#38306;&#36899;&#20184;&#12369;&#12391;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#28961;&#20462;&#27491;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; </p><pre class="programlisting">//just reassociate:
sess.lock(fritz, LockMode.NONE);
//do a version check, then reassociate:
sess.lock(izi, LockMode.READ);
//do a version check, using SELECT ... FOR UPDATE, then reassociate:
sess.lock(pk, LockMode.UPGRADE);</pre><p><code class="literal">lock()</code> &#12399;&#12289;&#12373;&#12414;&#12374;&#12414;&#12394; <code class="literal">LockMode</code> &#12392;&#12392;&#12418;&#12395;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#35443;&#32048;&#12399;&#12289;API&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12392;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#20966;&#29702;&#12398;&#31456;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#20877;&#36861;&#21152;&#12398;&#12392;&#12365;&#12395;&#12384;&#12369;&#12289; <code class="literal">lock()</code> &#12364;&#20351;&#12431;&#12428;&#12427;&#12431;&#12369;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#26399;&#38291;&#12398;&#38263;&#12356;&#20316;&#26989;&#21336;&#20301;&#12398;&#12289;&#12381;&#12398;&#20182;&#12398;&#12514;&#12487;&#12523;&#12399;&#12289;??? &#12391;&#36848;&#12409;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-saveorupdate"></a>10.7. &#33258;&#21205;&#30340;&#12394;&#29366;&#24907;&#26908;&#20986;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12398;&#12518;&#12540;&#12470;&#12399;&#27425;&#12398;2&#12388;&#12398;&#12465;&#12540;&#12473;&#12398;&#12393;&#12385;&#12425;&#12395;&#12418;&#20351;&#12360;&#12427;&#27726;&#29992;&#30340;&#12394;&#12513;&#12477;&#12483;&#12489;&#12434;&#35201;&#27714;&#12375;&#12390;&#12356;&#12414;&#12375;&#12383;&#12290; &#12381;&#12428;&#12399;&#12289;&#26032;&#12375;&#12356;&#35672;&#21029;&#23376;&#12434;&#29983;&#25104;&#12375;&#12390;&#19968;&#26178;&#30340;&#12394;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12475;&#12540;&#12502;&#12377;&#12427;&#12371;&#12392;&#12392;&#12289; &#12381;&#12398;&#26178;&#28857;&#12398;&#35672;&#21029;&#23376;&#12392;&#38306;&#36899;&#12389;&#12356;&#12390;&#12356;&#12427;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#26356;&#26032;/&#20877;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12398;&#12391;&#12365;&#12427;&#12513;&#12477;&#12483;&#12489;&#12391;&#12377;&#12290;
                  <code class="literal">saveOrUpdate()</code> &#12399;&#12371;&#12398;&#12424;&#12358;&#12394;&#27231;&#33021;&#12434;&#23455;&#29694;&#12375;&#12383;&#12513;&#12477;&#12483;&#12489;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">// in the first session
Cat cat = (Cat) firstSession.load(Cat.class, catID);

// in a higher tier of the application
Cat mate = new Cat();
cat.setMate(mate);

// later, in a new session
secondSession.saveOrUpdate(cat);   // update existing state (cat has a non-null id)
secondSession.saveOrUpdate(mate);  // save the new instance (mate has a null id)</pre><p><code class="literal">saveOrUpdate()</code> &#12398;&#20351;&#29992;&#26041;&#27861;&#12392;&#24847;&#21619;&#12399;&#12289; &#26032;&#12375;&#12356;&#12518;&#12540;&#12470;&#12395;&#12392;&#12387;&#12390;&#28151;&#20081;&#12434;&#25307;&#12367;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#12414;&#12378;&#31532;&#19968;&#12395;&#12289;&#12354;&#12427;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#20351;&#29992;&#12375;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#21029;&#12398;&#26032;&#12375;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#20351;&#12362;&#12358;&#12392;&#12375;&#12394;&#12356;&#38480;&#12426;&#12289; <code class="literal">update()</code> &#12420; <code class="literal">saveOrUpdate()</code> &#12420; <code class="literal">merge()</code> &#12434;&#20351;&#12358;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20840;&#20307;&#12434;&#36890;&#12376;&#12390;&#12289;&#12371;&#12428;&#12425;&#12398;&#12513;&#12477;&#12483;&#12489;&#12434;&#20840;&#12367;&#20351;&#12431;&#12394;&#12356;&#12371;&#12392;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#36890;&#24120;&#12289; <code class="literal">update()</code> &#12420; <code class="literal">saveOrUpdate()</code> &#12399;&#27425;&#12398;&#12471;&#12490;&#12522;&#12458;&#12391; &#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#26368;&#21021;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12540;&#12489;&#12375;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;UI&#23652;&#12395;&#36865;&#12425;&#12428;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#23550;&#12375;&#12390;&#22793;&#26356;&#12364;&#21152;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12499;&#12472;&#12493;&#12473;&#12525;&#12472;&#12483;&#12463;&#23652;&#12395;&#36865;&#12425;&#12428;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;2&#30058;&#30446;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391; <code class="literal">update()</code> &#12434;&#21628;&#12406;&#12371;&#12392;&#12391;&#12289;&#12371;&#12428;&#12425;&#12398;&#22793;&#26356;&#12434;&#27704;&#32154;&#21270;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p><code class="literal">saveOrUpdate()</code> &#12399;&#20197;&#19979;&#12398;&#12371;&#12392;&#12434;&#34892;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12371;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#12289;&#12377;&#12391;&#12395;&#27704;&#32154;&#21270;&#12373;&#12428;&#12390;&#12356;&#12428;&#12400;&#12289;&#20309;&#12418;&#12375;&#12414;&#12379;&#12435;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12381;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#38306;&#36899;&#12389;&#12356;&#12390;&#12356;&#12427;&#21029;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#21516;&#12376;&#35672;&#21029;&#23376;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289; &#20363;&#22806;&#12434;&#25237;&#12370;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12364;&#20516;&#12434;&#25345;&#12383;&#12394;&#12356;&#12394;&#12425;&#12400;&#12289; <code class="literal">save()</code> &#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12364;&#20516;&#12434;&#25345;&#12385;&#12289;&#12381;&#12398;&#20516;&#12364;&#26032;&#12383;&#12395;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12383;&#12417;&#12398;&#20516;&#12391;&#12354;&#12427;&#22580;&#21512;&#12289; &#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">save()</code> &#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#65288; <code class="literal">&lt;version&gt;</code> &#12420; <code class="literal">&lt;timestamp&gt;</code> &#12395;&#12424;&#12387;&#12390;&#65289; &#12496;&#12540;&#12472;&#12519;&#12531;&#12389;&#12369;&#12373;&#12428;&#12390;&#12356;&#12390;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#20516;&#12434;&#25345;&#12385;&#12289; &#12381;&#12398;&#20516;&#12364;&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12383;&#12417;&#12398;&#20516;&#12391;&#12354;&#12427;&#22580;&#21512;&#12289; &#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">save()</code> &#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#12381;&#12358;&#12391;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289;&#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">update()</code> &#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12381;&#12375;&#12390;&#12289; <code class="literal">merge()</code> &#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12392;&#12390;&#12418;&#30064;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#21516;&#12376;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#27704;&#32154;&#21270;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12381;&#12398;&#26178;&#28857;&#12391;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#38306;&#36899;&#20184;&#12356;&#12390;&#12356;&#12427;&#12394;&#12425;&#12400;&#12289; &#24341;&#25968;&#12391;&#21463;&#12369;&#21462;&#12387;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12434;&#27704;&#32154;&#21270;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#12467;&#12500;&#12540;&#12375;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#27704;&#32154;&#21270;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12381;&#12398;&#26178;&#28857;&#12391;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#38306;&#36899;&#20184;&#12356;&#12390;&#12356;&#12394;&#12356;&#12394;&#12425;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12381;&#12428;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12363;&#12289;&#12354;&#12427;&#12356;&#12399;&#12289;&#26032;&#12375;&#12356;&#27704;&#32154;&#21270;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#27704;&#32154;&#21270;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#36820;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#24341;&#25968;&#12392;&#12375;&#12390;&#19982;&#12360;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#38306;&#36899;&#12434;&#25345;&#12385;&#12414;&#12379;&#12435;&#12290; &#12381;&#12428;&#12399;&#12289;&#20998;&#38626;&#29366;&#24907;&#12398;&#12414;&#12414;&#12391;&#12377;&#12290; </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-deleting"></a>10.8. &#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#21066;&#38500;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Session.delete()</code> &#12399;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12434;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#21066;&#38500;&#12375;&#12414;&#12377;&#12290; &#12418;&#12385;&#12429;&#12435;&#12289;&#21066;&#38500;&#12375;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#20445;&#25345;&#12375;&#12383;&#12414;&#12414;&#12391;&#12418;&#12424;&#12356;&#12391;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12289; <code class="literal">delete()</code> &#12399;&#27704;&#32154;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#19968;&#26178;&#30340;&#12395;&#12377;&#12427;&#12418;&#12398;&#12392;&#32771;&#12360;&#12427;&#12398;&#12364;&#19968;&#30058;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">sess.delete(cat);</pre><p>&#22806;&#37096;&#12461;&#12540;&#21046;&#32004;&#12395;&#36949;&#21453;&#12377;&#12427;&#12522;&#12473;&#12463;&#12418;&#12394;&#12367;&#12289;&#22909;&#12365;&#12394;&#38918;&#30058;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21066;&#38500;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12383;&#12384;&#12375;&#12289;&#38291;&#36949;&#12387;&#12383;&#38918;&#30058;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21066;&#38500;&#12377;&#12427;&#12392;&#12289;&#22806;&#37096;&#12461;&#12540;&#12459;&#12521;&#12512;&#12398; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12395;&#36949;&#21453;&#12377;&#12427;&#21487;&#33021;&#24615;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;&#35242;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21066;&#38500;&#12375;&#12383;&#12392;&#12365;&#12395;&#12289;&#23376;&#20379;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21066;&#38500;&#12375;&#24536;&#12428;&#12383;&#22580;&#21512;&#12391;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-replicating"></a>10.9. &#30064;&#12394;&#12427;&#20108;&#12388;&#12398;&#12487;&#12540;&#12479;&#12473;&#12488;&#12450;&#38291;&#12391;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12524;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27704;&#32154;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12464;&#12521;&#12501;&#12434;&#21029;&#12398;&#12487;&#12540;&#12479;&#12473;&#12488;&#12450;&#12395;&#27704;&#32154;&#21270;&#12377;&#12427;&#22580;&#21512;&#12395;&#12289; &#35672;&#21029;&#23376;&#12398;&#20516;&#12434;&#20877;&#29983;&#25104;&#12379;&#12378;&#12395;&#12377;&#12416;&#12392;&#20415;&#21033;&#12394;&#22580;&#21512;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p><pre class="programlisting">//retrieve a cat from one database
Session session1 = factory1.openSession();
Transaction tx1 = session1.beginTransaction();
Cat cat = session1.get(Cat.class, catId);
tx1.commit();
session1.close();

//reconcile with a second database
Session session2 = factory2.openSession();
Transaction tx2 = session2.beginTransaction();
session2.replicate(cat, ReplicationMode.LATEST_VERSION);
tx2.commit();
session2.close();</pre><p>&#12524;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20808;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#34892;&#12364;&#26082;&#12395;&#12354;&#12427;&#22580;&#21512;&#12289; <code class="literal">replicate()</code> &#12364;&#34909;&#31361;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#25201;&#12358;&#12363;&#12434; <code class="literal">ReplicationMode</code> &#12391;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">ReplicationMode.IGNORE</code> - &#21516;&#12376;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#34892;&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23384;&#22312;&#12377;&#12427;&#12394;&#12425;&#12289; &#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#28961;&#35222;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">ReplicationMode.OVERWRITE</code> - &#21516;&#12376;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#26082;&#23384;&#12398;&#34892;&#12434; &#12377;&#12409;&#12390;&#19978;&#26360;&#12365;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">ReplicationMode.EXCEPTION</code> - &#21516;&#12376;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#34892;&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23384;&#22312;&#12377;&#12427;&#12394;&#12425;&#12289; &#20363;&#22806;&#12434;&#25237;&#12370;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">ReplicationMode.LATEST_VERSION</code> - &#34892;&#12395;&#20445;&#23384;&#12373;&#12428;&#12390;&#12356;&#12427;&#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12364;&#12289; &#24341;&#25968;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12424;&#12426;&#21476;&#12356;&#12394;&#12425;&#12400;&#12289;&#12381;&#12398;&#34892;&#12434;&#19978;&#26360;&#12365;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#27425;&#12398;&#12424;&#12358;&#12394;&#12465;&#12540;&#12473;&#12391;&#12289;&#12371;&#12398;&#27231;&#33021;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#30064;&#12394;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#20837;&#12428;&#12425;&#12428;&#12383;&#12487;&#12540;&#12479;&#12398;&#21516;&#26399;&#12289; &#35069;&#21697;&#26356;&#26032;&#26178;&#12395;&#12362;&#12369;&#12427;&#12471;&#12473;&#12486;&#12512;&#35373;&#23450;&#24773;&#22577;&#12398;&#26356;&#26032;&#12289;&#38750;ACID&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12394;&#12363;&#12391;&#21152;&#12360;&#12425;&#12428;&#12383;&#22793;&#26356;&#12398;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12394;&#12393;&#12391;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-flushing"></a>10.10. &#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12398;&#29366;&#24907;&#12392;&#12513;&#12514;&#12522;&#19978;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12434;&#21516;&#26399;&#12373;&#12379;&#12427;&#12383;&#12417;&#12395;&#24517;&#35201;&#12394; SQL&#25991;&#12434; <code class="literal">Session</code> &#12364;&#23455;&#34892;&#12377;&#12427;&#12371;&#12392;&#12364;&#12392;&#12365;&#12393;&#12365;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#20966;&#29702; <span class="emphasis"><em>flush</em></span> &#12399;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#27425;&#12398;&#12392;&#12365;&#12395;&#36215;&#12371;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#12463;&#12456;&#12522;&#12434;&#23455;&#34892;&#12377;&#12427;&#21069; </p>
                     </li>
                     <li>
                        <p><code class="literal">org.hibernate.Transaction.commit()</code> &#12434;&#23455;&#34892;&#12375;&#12383;&#12392;&#12365; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">Session.flush()</code> &#12434;&#23455;&#34892;&#12375;&#12383;&#12392;&#12365; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>SQL&#25991;&#12399;&#20197;&#19979;&#12398;&#38918;&#30058;&#12391;&#30330;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
               <div class="orderedlist">
                  <ol type="1" compact>
                     <li>
                        <p>&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#25407;&#20837;&#12290;&#12371;&#12428;&#12399;&#12289; <code class="literal">Session.save()</code> &#12434;&#20351;&#12387;&#12390;&#12475;&#12540;&#12502;&#12375;&#12383; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#38918;&#12395;&#23455;&#34892;&#12375;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#26356;&#26032; </p>
                     </li>
                     <li>
                        <p>&#12377;&#12409;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#21066;&#38500; </p>
                     </li>
                     <li>
                        <p>&#12377;&#12409;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12395;&#23550;&#12377;&#12427;&#21066;&#38500;&#12289;&#26356;&#26032;&#12289;&#25407;&#20837; </p>
                     </li>
                     <li>
                        <p>&#12377;&#12409;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#25407;&#20837; </p>
                     </li>
                     <li>
                        <p>&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21066;&#38500;&#12290;&#12371;&#12428;&#12399;&#12289;<code class="literal">Session.delete()</code> &#12434;&#20351;&#12387;&#12390; &#21066;&#38500;&#12375;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#38918;&#12395;&#23455;&#34892;&#12375;&#12390;&#12356;&#12365;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ol>
               </div>
               <p>(&#65297;&#12388;&#20363;&#22806;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">native</code> ID &#29983;&#25104;&#12434;&#20351;&#12387;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12289; &#12381;&#12428;&#12425;&#12364;&#12475;&#12540;&#12502;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#25407;&#20837;&#12373;&#12428;&#12414;&#12377;&#12290;&#65289; 
               </p>
               <p>&#26126;&#31034;&#30340;&#12395; <code class="literal">flush()</code> &#12377;&#12427;&#12392;&#12365;&#12434;&#38500;&#12356;&#12390;&#12289; <span class="emphasis"><em>&#12356;&#12388;</em></span><code class="literal">Session</code> &#12364;JDBC&#12434;&#12467;&#12540;&#12523;&#12377;&#12427;&#12398;&#12363;&#12395;&#12388;&#12356;&#12390; &#32118;&#23550;&#30340;&#12394;&#20445;&#35388;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12383;&#12384;&#12375;&#12289;&#12381;&#12428;&#12425;&#12364;&#23455;&#34892;&#12373;&#12428;&#12427; <span class="emphasis"><em>&#38918;&#30058;</em></span> &#12384;&#12369;&#12399; &#20445;&#35388;&#12373;&#12428;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;Hibernate &#12399;&#12289; <code class="literal">Query.list(..)</code> &#12364;&#21476;&#12356;&#12487;&#12540;&#12479;&#12420;&#38291;&#36949;&#12387;&#12383;&#12487;&#12540;&#12479;&#36820;&#12373;&#12394;&#12356;&#12371;&#12392;&#12434; &#20445;&#35388;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12501;&#12521;&#12483;&#12471;&#12517;&#12364;&#38971;&#32321;&#12395;&#36215;&#12371;&#12425;&#12394;&#12356;&#12424;&#12358;&#12395;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434;&#22793;&#12360;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">FlushMode</code> &#12463;&#12521;&#12473;&#12399;3&#12388;&#12398;&#30064;&#12394;&#12427;&#12514;&#12540;&#12489;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#12467;&#12511;&#12483;&#12488;&#26178;&#12395;&#12384;&#12369;&#12501;&#12521;&#12483;&#12471;&#12517;&#12377;&#12427;&#12514;&#12540;&#12489; &#65288;Hibernate&#12398; <code class="literal">Transaction</code> API&#12364;&#20351;&#12431;&#12428;&#12427;&#22580;&#21512;&#12384;&#12369;&#12391;&#12377;&#65289;&#12289; &#35500;&#26126;&#12398;&#12354;&#12387;&#12383;&#20966;&#29702;&#38918;&#12395;&#22522;&#12389;&#12356;&#12390;&#33258;&#21205;&#12391;&#12501;&#12521;&#12483;&#12471;&#12517;&#12377;&#12427;&#12514;&#12540;&#12489;&#12289; <code class="literal">flush()</code> &#12364;&#26126;&#31034;&#30340;&#12395;&#21628;&#12400;&#12428;&#12394;&#12356;&#38480;&#12426;&#12501;&#12521;&#12483;&#12471;&#12517;&#12375;&#12394;&#12356;&#12514;&#12540;&#12489;&#12398;&#65299;&#12388;&#12391;&#12377;&#12290; &#26368;&#24460;&#12398;&#12514;&#12540;&#12489;&#12399;&#12289;&#20316;&#26989;&#21336;&#20301;&#12364;&#38263;&#26399;&#38291;&#12395;&#21450;&#12406;&#22580;&#21512;&#12395;&#24441;&#12395;&#31435;&#12385;&#12414;&#12377; ( <a href="#transactions-optimistic-longsession" title="11.3.2. &#25313;&#24373;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;">&#38917;11.3.2. &#12300;&#25313;&#24373;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;)&#12290; 
               </p><pre class="programlisting">sess = sf.openSession();
Transaction tx = sess.beginTransaction();
sess.setFlushMode(FlushMode.COMMIT); // allow queries to return stale state

Cat izi = (Cat) sess.load(Cat.class, id);
izi.setName(iznizi);

// might return stale data
sess.find("from Cat as cat left outer join cat.kittens kitten");

// change to izi is not flushed!
...
tx.commit(); // flush occurs
sess.close();</pre><p>&#12501;&#12521;&#12483;&#12471;&#12517;&#12398;&#12392;&#12365;&#12289;&#20363;&#22806;&#12364;&#30330;&#29983;&#12377;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#65288;&#20363;&#12360;&#12400;&#12289;DML&#25805;&#20316;&#12364;&#21046;&#32004;&#12434;&#36949;&#21453;&#12377;&#12427;&#12424;&#12358;&#12394;&#22580;&#21512;&#12391;&#12377;&#12290;&#65289; &#20363;&#22806;&#20966;&#29702;&#12434;&#29702;&#35299;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;Hibernate&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434;&#29702;&#35299;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12383;&#12417;&#12289; <a href="#transactions" title="&#31532;11&#31456; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;">&#31456;&nbsp;11. <i xmlns:xlink="http://www.w3.org/1999/xlink">&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;</i></a> &#12391;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-transitive"></a>10.11. &#36899;&#37782;&#30340;&#12394;&#27704;&#32154;&#21270;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#20491;&#12293;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12475;&#12540;&#12502;&#12375;&#12383;&#12426;&#12289;&#21066;&#38500;&#12375;&#12383;&#12426;&#12289;&#20877;&#36861;&#21152;&#12375;&#12383;&#12426;&#12377;&#12427;&#12371;&#12392;&#12399; &#12363;&#12394;&#12426;&#38754;&#20498;&#12391;&#12377;&#12290;&#29305;&#12395;&#12289;&#38306;&#36899;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#25201;&#12358;&#12424;&#12358;&#12394;&#22580;&#21512;&#12395;&#12399;&#38555;&#31435;&#12385;&#12414;&#12377;&#12290; &#12424;&#12367;&#12354;&#12427;&#12398;&#12399;&#12289;&#35242;&#23376;&#38306;&#20418;&#12434;&#25201;&#12358;&#12465;&#12540;&#12473;&#12391;&#12377;&#12290; &#20197;&#19979;&#12398;&#20363;&#12434;&#32771;&#12360;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#12290; </p>
               <p>&#12418;&#12375;&#12289;&#35242;&#23376;&#38306;&#20418;&#12398;&#23376;&#12364;&#20516;&#22411;&#12394;&#12425;&#65288;&#20363;&#12360;&#12400;&#12289;&#20303;&#25152;&#12420;&#25991;&#23383;&#21015;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65289;&#12289; &#12381;&#12428;&#12425;&#12398;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12399;&#35242;&#12395;&#20381;&#23384;&#12375;&#12390;&#12362;&#12426;&#12289;&#20415;&#21033;&#12394;&#29366;&#24907;&#22793;&#21270;&#12398;"&#12459;&#12473;&#12465;&#12540;&#12489;"&#12434;&#20351;&#12358;&#12383;&#12417;&#12395;&#12289; &#36861;&#21152;&#12398;&#20316;&#26989;&#12399;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#35242;&#12364;&#12475;&#12540;&#12502;&#12373;&#12428;&#12383;&#12392;&#12365;&#12289;&#20516;&#22411;&#12398;&#23376;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12418;&#21516;&#12376;&#12424;&#12358;&#12395;&#12475;&#12540;&#12502;&#12373;&#12428;&#12414;&#12377;&#12375;&#12289;
                  &#35242;&#12364;&#21066;&#38500;&#12373;&#12428;&#12383;&#12392;&#12365;&#12399;&#12289;&#23376;&#12418;&#21066;&#38500;&#12373;&#12428;&#12414;&#12377;&#12290;&#12381;&#12398;&#20182;&#12398;&#25805;&#20316;&#12418;&#21516;&#12376;&#12391;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;1&#12388;&#12398;&#23376;&#12434;&#21066;&#38500;&#12377;&#12427;&#12424;&#12358;&#12394;&#25805;&#20316;&#12391;&#12418;&#12358;&#12414;&#12367;&#12356;&#12365;&#12414;&#12377;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;Hibernate&#12399;&#12371;&#12398;&#21066;&#38500;&#25805;&#20316;&#12434;&#26908;&#20986;&#12377;&#12427;&#12392;&#12289; &#20516;&#22411;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#21442;&#29031;&#12434;&#20849;&#26377;&#12391;&#12365;&#12394;&#12356;&#12398;&#12391;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12381;&#12398;&#23376;&#20379;&#12434;&#21066;&#38500;&#12375;&#12414;&#12377;&#12290;
                  
               </p>
               <p>&#12371;&#12371;&#12391;&#12289;&#35242;&#12392;&#23376;&#12364;&#20516;&#22411;&#12391;&#12394;&#12367;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12354;&#12427;&#12392;&#12375;&#12390;&#21516;&#12376;&#12471;&#12490;&#12522;&#12458;&#12434;&#32771;&#12360;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#12290; &#65288;&#20363;&#12360;&#12400;&#12289;&#12459;&#12486;&#12468;&#12522;&#12540;&#12392;&#21697;&#30446;&#12398;&#38306;&#20418;&#12420;&#35242;&#12392;&#23376;&#12398;&#29483;&#12398;&#38306;&#20418;&#12391;&#12377;&#12290;&#65289; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#12289;&#12381;&#12428;&#33258;&#36523;&#12364;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12434;&#25345;&#12385;&#12289;&#21442;&#29031;&#12398;&#20849;&#26377;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; &#65288;&#12381;&#12398;&#12383;&#12417;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#21066;&#38500;&#12377;&#12427;&#12371;&#12392;&#12399;&#12289;
                  &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#33258;&#36523;&#12398;&#21066;&#38500;&#12434;&#24847;&#21619;&#12375;&#12414;&#12379;&#12435;&#12290;&#65289; &#12414;&#12383;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;&#38306;&#36899;&#12377;&#12427;&#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12408; &#29366;&#24907;&#12434;&#12459;&#12473;&#12465;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399; <span class="emphasis"><em>&#21040;&#36948;&#21487;&#33021;&#24615;&#12395;&#12424;&#12427;&#27704;&#32154;&#21270;</em></span> &#12434;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#23455;&#34892;&#12375;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>Hibernate&#12398;Session&#12398;&#22522;&#26412;&#25805;&#20316;&#65288; <code class="literal">persist(), merge(), saveOrUpdate(), delete(), lock(), refresh(), evict(), replicate()</code> &#12364;&#21547;&#12414;&#12428;&#12414;&#12377;&#65289;&#12395;&#23550;&#12375;&#12390;&#12289; &#12381;&#12428;&#12382;&#12428;&#12395;&#23550;&#24540;&#12377;&#12427;&#12459;&#12473;&#12465;&#12540;&#12489;&#12473;&#12479;&#12452;&#12523;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12381;&#12428;&#12382;&#12428;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;&#12473;&#12479;&#12452;&#12523;&#12395;&#12399;&#12289; <code class="literal">create, merge, save-update, delete, lock, refresh, evict, replicate</code> &#12392;&#12356;&#12358;&#21517;&#21069;&#12364;&#12388;&#12356;&#12390;&#12356;&#12414;&#12377;&#12290; &#12418;&#12375;&#12289;&#38306;&#36899;&#12395;&#27839;&#12387;&#12390;&#12459;&#12473;&#12465;&#12540;&#12489;&#12373;&#12379;&#12383;&#12356;&#25805;&#20316;&#12364;&#12354;&#12427;&#12394;&#12425;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12395;&#12381;&#12358;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#20363;&#12360;&#12400;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;one-to-one name="person" cascade="persist"/&gt;</pre><p>&#12459;&#12473;&#12465;&#12540;&#12489;&#12473;&#12479;&#12452;&#12523;&#12399;&#12289;&#32068;&#12415;&#21512;&#12431;&#12379;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;one-to-one name="person" cascade="persist,delete,lock"/&gt;</pre><p><span class="emphasis"><em>&#12377;&#12409;&#12390;&#12398;</em></span> &#25805;&#20316;&#12434;&#38306;&#36899;&#12395;&#27839;&#12387;&#12390;&#12459;&#12473;&#12465;&#12540;&#12489;&#12377;&#12427;&#12424;&#12358;&#25351;&#23450;&#12377;&#12427;&#12392;&#12365;&#12399;&#12289; <code class="literal">cascade="all"</code> &#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12398; <code class="literal">cascade="none"</code> &#12399;&#12289;&#12393;&#12398;&#25805;&#20316;&#12418;&#12459;&#12473;&#12465;&#12540;&#12489;&#12375;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p>&#29305;&#27530;&#12394;&#12459;&#12473;&#12465;&#12540;&#12489;&#12473;&#12479;&#12452;&#12523; <code class="literal">delete-orphan</code> &#12399;&#12289;&#19968;&#23550;&#22810;&#38306;&#36899;&#12395;&#12384;&#12369; &#36969;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;&#38306;&#36899;&#12363;&#12425;&#21066;&#38500;&#12373;&#12428;&#12383;&#23376;&#20379;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#23550;&#12375;&#12390;&#12289; <code class="literal">delete()</code> &#25805;&#20316;&#12364;&#36969;&#29992;&#12373;&#12428;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12362;&#12377;&#12377;&#12417;&#65306; </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#26222;&#36890;&#12289; <code class="literal">&lt;many-to-one&gt;</code> &#12420; <code class="literal">&lt;many-to-many&gt;</code> &#38306;&#36899;&#12395;&#23550;&#12375;&#12390;&#12399;&#12289; &#12459;&#12473;&#12465;&#12540;&#12489;&#12434;&#35373;&#23450;&#12377;&#12427;&#24847;&#21619;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">&lt;one-to-one&gt;</code> &#12392; <code class="literal">&lt;one-to-many&gt;</code> &#38306;&#36899;&#12395;&#23550;&#12375;&#12390;&#12399;&#12289; &#12459;&#12473;&#12465;&#12540;&#12489;&#12364;&#24441;&#12395;&#31435;&#12388;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#23376;&#20379;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#23551;&#21629;&#12364;&#35242;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#23551;&#21629;&#12395;&#21046;&#38480;&#12434;&#21463;&#12369;&#12427;&#12394;&#12425;&#12400;&#12289; <code class="literal">cascade="all,delete-orphan"</code> &#12434;&#25351;&#23450;&#12375;&#12289; &#23376;&#20379;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <span class="emphasis"><em>&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;</em></span> &#12395;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>. &#12381;&#12428;&#20197;&#22806;&#12398;&#22580;&#21512;&#12399;&#12289;&#12459;&#12473;&#12465;&#12540;&#12489;&#12399;&#12411;&#12392;&#12435;&#12393;&#24517;&#35201;&#12394;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; &#12375;&#12363;&#12375;&#12289;&#21516;&#12376;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12394;&#12363;&#12391;&#35242;&#12392;&#23376;&#12364;&#19968;&#32210;&#12395;&#21205;&#20316;&#12377;&#12427;&#12371;&#12392;&#12364;&#22810;&#12356;&#12392;&#24605;&#12356;&#12289; &#12356;&#12367;&#12425;&#12363;&#12398;&#12467;&#12540;&#12489;&#12434;&#26360;&#12367;&#25163;&#38291;&#12434;&#30465;&#12365;&#12383;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289; <code class="literal">cascade="persist,merge,save-update"</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12434;&#32771;&#12360;&#12414;&#12375;&#12423;&#12358;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p><code class="literal">cascade="all"</code> &#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#38306;&#36899;&#65288;&#21336;&#20516;&#38306;&#36899;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65289;&#12399;&#12289; <span class="emphasis"><em>&#35242;&#23376;</em></span> &#12473;&#12479;&#12452;&#12523;&#12398;&#38306;&#36899;&#12392;&#12510;&#12540;&#12463;&#12373;&#12428;&#12414;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;&#35242;&#12398;&#12475;&#12540;&#12502;/&#26356;&#26032;/&#21066;&#38500;&#12364;&#12289;&#23376;&#12398;&#12475;&#12540;&#12502;/&#26356;&#26032;/&#21066;&#38500;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#38306;&#20418;&#12398;&#12371;&#12392;&#12391;&#12377;&#12290; 
               </p>
               <p>&#12373;&#12425;&#12395;&#12289;&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#35242;&#12364;&#23376;&#12434;&#21336;&#12395;&#21442;&#29031;&#12375;&#12390;&#12356;&#12427;&#12384;&#12369;&#12391;&#12289;&#23376;&#12398;&#12475;&#12540;&#12502;/&#26356;&#26032;&#12434;&#24341;&#12365;&#36215;&#12371;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#12371;&#12398;&#12513;&#12479;&#12501;&#12449;&#12540;&#12399;&#19981;&#23436;&#20840;&#12391;&#12377;&#12290;&#35242;&#12363;&#12425;&#21442;&#29031;&#12373;&#12428;&#12394;&#12367;&#12394;&#12387;&#12383;&#23376;&#12399;&#12289;&#33258;&#21205;&#30340;&#12395;&#21066;&#38500; <span class="emphasis"><em>&#12373;&#12428;&#12414;&#12379;&#12435;</em></span> &#12290; &#12383;&#12384;&#12375;&#12289; <code class="literal">cascade="delete-orphan"</code> &#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383; <code class="literal">&lt;one-to-many&gt;</code> &#38306;&#36899;&#12434; &#38500;&#12356;&#12390;&#12391;&#12377;&#12290; &#35242;&#23376;&#38306;&#20418;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;&#25805;&#20316;&#12398;&#27491;&#30906;&#12394;&#24847;&#21619;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#35242;&#12364; <code class="literal">persist()</code> &#12395;&#28193;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289; &#12377;&#12409;&#12390;&#12398;&#23376;&#12399; <code class="literal">persist()</code> &#12395;&#28193;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">merge()</code> &#12395;&#28193;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289; &#12377;&#12409;&#12390;&#12398;&#23376;&#12399; <code class="literal">merge()</code> &#12395;&#28193;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#35242;&#12364; <code class="literal">save()</code> &#12289; <code class="literal">update()</code> &#12289; <code class="literal">saveOrUpdate()</code> &#12395;&#28193;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289;&#12377;&#12409;&#12390;&#12398;&#23376;&#12399; <code class="literal">saveOrUpdate()</code> &#12395;&#28193;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#19968;&#26178;&#30340;&#12414;&#12383;&#12399;&#20998;&#38626;&#29366;&#24907;&#12398;&#23376;&#12364;&#12289;&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#35242;&#12395;&#21442;&#29031;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289; <code class="literal">saveOrUpdate()</code> &#12395;&#28193;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#35242;&#12364;&#21066;&#38500;&#12373;&#12428;&#12383;&#12394;&#12425;&#12400;&#12289;&#12377;&#12409;&#12390;&#12398;&#23376;&#12399;&#12289; <code class="literal">delete()</code> &#12395;&#28193;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#23376;&#12364;&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#35242;&#12363;&#12425;&#21442;&#29031;&#12373;&#12428;&#12394;&#12367;&#12394;&#12387;&#12383;&#12392;&#12365;&#12399;&#12289; <span class="emphasis"><em>&#29305;&#12395;&#20309;&#12418;&#36215;&#12371;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; &#12424;&#12387;&#12390;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#24517;&#35201;&#12391;&#12354;&#12428;&#12400;&#12289;&#26126;&#31034;&#30340;&#12395;&#21066;&#38500;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12383;&#12384;&#12375;&#12289; <code class="literal">cascade="delete-orphan"</code> &#12398;&#22580;&#21512;&#12434;&#38500;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#22580;&#21512;&#12289;&#12300;&#35242;&#12398;&#12394;&#12356;&#12301;&#23376;&#12399;&#21066;&#38500;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#26368;&#24460;&#12395;&#12289;&#25805;&#20316;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;&#12364;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12464;&#12521;&#12501;&#12395;&#36969;&#29992;&#12373;&#12428;&#12427;&#12398;&#12399;&#12289; <span class="emphasis"><em>&#12467;&#12540;&#12523;&#12375;&#12383;&#26178;</em></span> &#12354;&#12427;&#12356;&#12399;&#12289; <span class="emphasis"><em>flush&#12375;&#12383;&#26178;</em></span> &#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12377;&#12409;&#12390;&#12398;&#25805;&#20316;&#12399;&#12289;&#12381;&#12398;&#25805;&#20316;&#12364;&#23455;&#34892;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289;&#21040;&#36948;&#21487;&#33021;&#12394;&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390; &#12459;&#12473;&#12465;&#12540;&#12489;&#12364;&#21487;&#33021;&#12394;&#12425;&#12459;&#12473;&#12465;&#12540;&#12489;&#12375;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289; <code class="literal">save-upate</code> &#12392; <code class="literal">delete-orphan</code> &#12399;&#12289; <code class="literal">Session</code> &#12364;flush&#12375;&#12390;&#12356;&#12427;&#38291;&#12395;&#12289; &#12377;&#12409;&#12390;&#12398;&#21040;&#36948;&#21487;&#33021;&#12394;&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#20253;&#25773;&#12375;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-metadata"></a>10.12. &#12513;&#12479;&#12487;&#12540;&#12479;&#12398;&#20351;&#29992;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12399;&#12289;&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;&#20516;&#22411;&#12398;&#38750;&#24120;&#12395;&#12522;&#12483;&#12481;&#12394;&#12513;&#12479;&#12524;&#12505;&#12523;&#12398;&#12514;&#12487;&#12523;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#12290; &#12392;&#12365;&#12393;&#12365;&#12289;&#12371;&#12398;&#12514;&#12487;&#12523;&#12399;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12392;&#12387;&#12390;&#12392;&#12390;&#12418;&#24441;&#12395;&#31435;&#12385;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;Hibernate&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;&#12434;&#20351;&#12387;&#12390;&#12289;"&#36066;&#12356;"
                  &#12487;&#12451;&#12540;&#12503;&#12467;&#12500;&#12540;&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12434; &#23455;&#35013;&#12391;&#12365;&#12427;&#12363;&#12418;&#12375;&#12414;&#12379;&#12435;&#12290;&#12381;&#12398;&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12392;&#12399;&#12289;&#12393;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12467;&#12500;&#12540;&#12373;&#12428;&#12427;&#12409;&#12365;&#12363;&#65288;&#20363;&#65306;&#21487;&#22793;&#12398;&#20516;&#22411;&#65289;&#12420; &#12393;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12467;&#12500;&#12540;&#12373;&#12428;&#12394;&#12356;&#12409;&#12365;&#12363;&#65288;&#20363;&#65306;&#19981;&#22793;&#12394;&#20516;&#22411;&#12420;&#21487;&#33021;&#12394;&#12425;&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#65289;&#12434; &#21028;&#26029;&#12391;&#12365;&#12427;&#12418;&#12398;&#12391;&#12377;&#12290;
                  
               </p>
               <p>Hibernate&#12399;<code class="literal">ClassMetadata</code> &#12392;<code class="literal">CollectionMetadata</code> &#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12392; <code class="literal">Type</code> &#38542;&#23652;&#12434;&#36890;&#12375;&#12390;&#12513;&#12479;&#12487;&#12540;&#12479;&#12434;&#20844;&#38283;&#12375;&#12414;&#12377;&#12290; &#12513;&#12479;&#12487;&#12540;&#12479;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; <code class="literal">SessionFactory</code> &#12363;&#12425;&#24471;&#12425;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Cat fritz = ......;
ClassMetadata catMeta = sessionfactory.getClassMetadata(Cat.class);

Object[] propertyValues = catMeta.getPropertyValues(fritz);
String[] propertyNames = catMeta.getPropertyNames();
Type[] propertyTypes = catMeta.getPropertyTypes();

// get a Map of all properties which are not collections or associations
Map namedValues = new HashMap();
for ( int i=0; i&lt;propertyNames.length; i++ ) {
    if ( !propertyTypes[i].isEntityType() &amp;&amp; !propertyTypes[i].isCollectionType() ) {
        namedValues.put( propertyNames[i], propertyValues[i] );
    }
}</pre></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="transactions"></a>&#31532;11&#31456; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12392;&#20006;&#34892;&#24615;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&#12392;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;&#12395;&#12388;&#12356;&#12390;&#26368;&#12418;&#37325;&#35201;&#12394;&#28857;&#12399;&#12289;&#23481;&#26131;&#12395;&#29702;&#35299;&#12391;&#12365;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; Hibernate&#12399;&#26032;&#12383;&#12394;&#12525;&#12483;&#12463;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434;&#36861;&#21152;&#12375;&#12390;&#12362;&#12425;&#12378;&#12289;&#30452;&#25509;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12392;JTA&#12522;&#12477;&#12540;&#12473;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; JDBC&#12289;ANSI&#12289;&#12362;&#12424;&#12403;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#31649;&#29702;&#12471;&#12473;&#12486;&#12512;&#65288;DBMS&#65289;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#20998;&#38626;&#12398;&#20181;&#27096;&#12434;
               &#23569;&#12375;&#26178;&#38291;&#12434;&#12363;&#12369;&#12390;&#21193;&#24375;&#12377;&#12427;&#12371;&#12392;&#12434;&#24375;&#12367;&#25512;&#22888;&#12375;&#12414;&#12377;&#12290; 
            </p>
            <p>Hibernate&#12399;&#12513;&#12514;&#12522;&#20869;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12525;&#12483;&#12463;&#12375;&#12414;&#12379;&#12435;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20998;&#38626;&#12524;&#12505;&#12523;&#12391; &#23450;&#32681;&#12375;&#12383;&#25391;&#12427;&#33310;&#12356;&#12434;&#26399;&#24453;&#12391;&#12365;&#12414;&#12377;&#12290; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12473;&#12467;&#12540;&#12503;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12391;&#12418;&#12354;&#12427; <code class="literal">Session</code> &#12398;&#12362;&#38512;&#12391;&#12289; &#35672;&#21029;&#23376;&#12420;&#12463;&#12456;&#12522;&#12395;&#12424;&#12426;&#26908;&#32034;&#12375;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#12522;&#12500;&#12540;&#12479;&#12502;&#12523;&#12522;&#12540;&#12489;&#12395;&#12394;&#12426;&#12414;&#12377; &#65288;&#12473;&#12459;&#12521;&#12540;&#20516;&#12434;&#36820;&#12377;&#12424;&#12358;&#12394;&#12524;&#12509;&#12540;&#12488;&#12463;&#12456;&#12522;&#12399;&#36949;&#12356;&#12414;&#12377;&#65289;&#12290; 
            </p>
            <p>&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;&#12395;&#12424;&#12427;&#33258;&#21205;&#30340;&#12394;&#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;&#12395;&#21152;&#12360;&#12390;&#12289; <code class="literal">SELECT FOR UPDATE</code> &#25991;&#12434;&#20351;&#29992;&#12375;&#12390;&#12289; &#34892;&#12434;&#24754;&#35251;&#30340;&#12525;&#12483;&#12463;&#12377;&#12427;&#12383;&#12417;&#12398;&#65288;&#12510;&#12452;&#12490;&#12540;&#12394;&#65289;API&#12418;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;&#12392;&#12371;&#12398;API&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;&#12371;&#12398;&#31456;&#12398;&#24460;&#12398;&#12411;&#12358;&#12391;&#35696;&#35542;&#12375;&#12414;&#12377;&#12290; 
            </p>
            <p>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12420;&#38263;&#12356;&#23550;&#35441;&#65288;conversation&#12289;&#12525;&#12531;&#12464;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#65289;&#12384;&#12369;&#12391;&#12394;&#12367;&#12289; <code class="literal">Configuration</code>&#12289;<code class="literal">SessionFactory</code>&#12289;&#12362;&#12424;&#12403; <code class="literal">Session</code> &#12392;&#12356;&#12358;&#31890;&#24230;&#12391;Hibernate&#12364;&#34892;&#12358;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;&#12398;&#35696;&#35542;&#12434;&#22987;&#12417;&#12414;&#12377;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="transactions-basics"></a>11.1. session&#12473;&#12467;&#12540;&#12503;&#12392;transaction&#12473;&#12467;&#12540;&#12503;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">SessionFactory</code> &#12399;&#29983;&#25104;&#12377;&#12427;&#12371;&#12392;&#12364;&#39640;&#20385;&#12391;&#12289; &#12473;&#12524;&#12483;&#12489;&#12475;&#12540;&#12501;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#12377;&#12290; &#12424;&#12387;&#12390;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12377;&#12409;&#12390;&#12398;&#12473;&#12524;&#12483;&#12489;&#12391;&#20849;&#26377;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#36890;&#24120;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#36215;&#21205;&#26178;&#12395;&#12289; <code class="literal">Configuration</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12363;&#12425;&#65297;&#24230;&#12384;&#12369;&#29983;&#25104;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p><code class="literal">Session</code> &#12399;&#39640;&#20385;&#12391;&#12399;&#12394;&#12367;&#12289;&#12473;&#12524;&#12483;&#12489;&#12475;&#12540;&#12501;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#12418;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12424;&#12387;&#12390;&#12289;&#65297;&#12388;&#12398;&#35201;&#27714;&#12420;&#65297;&#12388;&#12398;&#23550;&#35441;&#12289;&#65297;&#12388;&#12398;&#20316;&#26989;&#21336;&#20301;&#65288;unit of work&#65289;&#12395;&#23550;&#12375;&#12390;&#65297;&#24230;&#12384;&#12369;&#20351;&#12356;&#12289; &#12381;&#12398;&#24460;&#12391;&#25448;&#12390;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; <code class="literal">Session</code> &#12399;&#24517;&#35201;&#12395;&#12394;&#12427;&#12414;&#12391;&#12289; JDBC <code class="literal">Connection</code>&#65288;&#12418;&#12375;&#12367;&#12399; <code class="literal">DataSource</code>&#65289;&#12434;&#29554;&#24471;&#12375;&#12414;&#12379;&#12435;&#12290; &#12422;&#12360;&#12395;&#12289;&#23455;&#38555;&#12395;&#20351;&#29992;&#12377;&#12427;&#12392;&#12365;&#12414;&#12391;&#12522;&#12477;&#12540;&#12473;&#12434;&#28040;&#36027;&#12375;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#12371;&#12398;&#29366;&#27841;&#12434;&#23436;&#20102;&#12373;&#12379;&#12427;&#12383;&#12417;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#12388;&#12356;&#12390;&#12418;&#32771;&#12360;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#20869;&#12398;&#12525;&#12483;&#12463;&#12398;&#31478;&#21512;&#12434;&#23569;&#12394;&#12367;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12399;&#21487;&#33021;&#12394;&#38480;&#12426;&#30701;&#12367;&#12377;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#38263;&#12356;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#39640;&#12356;&#20006;&#21015;&#23455;&#34892;&#24615;&#12434;&#38459;&#23475;&#12375;&#12414;&#12377;&#12290;
                  &#12422;&#12360;&#12395;&#12289;&#12518;&#12540;&#12470;&#12540;&#12364;&#32771;&#12360;&#12390;&#12356;&#12427;&#38291;&#65288;&#20316;&#26989;&#21336;&#20301;&#12364;&#23436;&#20102;&#12377;&#12427;&#12414;&#12391;&#65289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434; &#38283;&#12356;&#12383;&#12414;&#12414;&#12395;&#12377;&#12427;&#12398;&#12399;&#12289;&#12383;&#12356;&#12390;&#12356;&#12398;&#22580;&#21512;&#12424;&#12356;&#35373;&#35336;&#12392;&#12399;&#12356;&#12360;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#20316;&#26989;&#21336;&#20301;&#12392;&#12356;&#12358;&#12473;&#12467;&#12540;&#12503;&#12392;&#12399;&#20309;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#65297;&#12388;&#12398;Hibernate <code class="literal">Session</code> &#12399;&#12289; &#12356;&#12367;&#12388;&#12363;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12414;&#12383;&#12364;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12414;&#12383;&#12399;&#12289;&#12473;&#12467;&#12540;&#12503;&#12392;&#19968;&#23550;&#19968;&#12398;&#38306;&#20418;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12356;&#12388; <code class="literal">Session</code> &#12434;&#38283;&#12365;&#12289;&#38281;&#12376;&#12427;&#12409;&#12365;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12381;&#12375;&#12390;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#20998;&#12369;&#12427;&#12398;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-basics-uow"></a>11.1.1. &#20316;&#26989;&#21336;&#20301;&#65288;Unit of work&#65289;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#65297;&#12388;&#30446;&#12399;&#12289;<span class="emphasis"><em>session-per-operation</em></span> &#12450;&#12531;&#12481;&#12497;&#12479;&#12540;&#12531;&#12434;&#20351;&#12387;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;&#65297;&#12388;&#12398;&#12473;&#12524;&#12483;&#12489;&#12398;&#20013;&#12391;&#12289;&#21336;&#32020;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#21628;&#12403;&#20986;&#12375;&#12398;&#12383;&#12403;&#12395; <code class="literal">Session</code> &#12434;&#38283;&#12356;&#12390;&#12289;&#38281;&#12376;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#65281; &#12418;&#12385;&#12429;&#12435;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#12388;&#12356;&#12390;&#12418;&#21516;&#27096;&#12391;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20013;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#21628;&#12403;&#20986;&#12375;&#12399;&#12289; &#35336;&#30011;&#12373;&#12428;&#12383;&#12471;&#12540;&#12465;&#12531;&#12473;&#65288;planned sequence&#65289;&#12434;&#20351;&#12356;&#12289; &#12450;&#12488;&#12511;&#12483;&#12463;&#12394;&#20316;&#26989;&#21336;&#20301;&#12395;&#20998;&#39006;&#12373;&#12428;&#12414;&#12377;&#12290;
                     &#65288;&#65297;&#12388;&#12398;SQL&#25991;&#12372;&#12392;&#12395;&#12467;&#12511;&#12483;&#12488;&#12377;&#12427;&#33258;&#21205;&#12467;&#12511;&#12483;&#12488;&#12364;&#12289; &#20351;&#12431;&#12428;&#12394;&#12356;&#12392;&#12356;&#12358;&#24847;&#21619;&#12391;&#12418;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#33258;&#21205;&#12467;&#12511;&#12483;&#12488;&#12399;&#12289;SQL&#12467;&#12531;&#12477;&#12540;&#12523;&#12391;&#12450;&#12489;&#12507;&#12483;&#12463;&#12394;&#20316;&#26989;&#12434;&#12377;&#12427;&#38555;&#12395;&#20351;&#12358;&#12418;&#12398;&#12391;&#12377;&#12290; Hibernate&#12399;&#30452;&#12385;&#12395;&#33258;&#21205;&#12467;&#12511;&#12483;&#12488;&#12514;&#12540;&#12489;&#12434;&#28961;&#21177;&#12395;&#12375;&#12414;&#12377;&#12290;
                     &#12418;&#12375;&#12367;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#12364;&#28961;&#21177;&#21270;&#12377;&#12427;&#12371;&#12392;&#12434;&#26399;&#24453;&#12375;&#12414;&#12377;&#12290;&#65289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12399;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#12398;&#12377;&#12409;&#12390;&#12398;&#36890;&#20449;&#12399;&#12289;&#12487;&#12540;&#12479;&#12398;&#35501;&#12415;&#36796;&#12415;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289;&#26360;&#12365;&#36796;&#12415;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20013;&#12391;&#34892;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;
                     &#35500;&#26126;&#12377;&#12427;&#12392;&#12289;&#12487;&#12540;&#12479;&#35501;&#12415;&#36796;&#12415;&#12395;&#23550;&#12375;&#12390;&#12289;&#33258;&#21205;&#12467;&#12511;&#12483;&#12488;&#12399;&#36991;&#12369;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#22810;&#25968;&#12398;&#23567;&#12373;&#12394;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289;&#26126;&#30906;&#12395;&#23450;&#32681;&#12373;&#12428;&#12383;&#65297;&#12388;&#12398;&#20316;&#26989;&#21336;&#20301;&#12392;&#27604;&#12409;&#12390;&#12289; &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12364;&#12424;&#12367;&#12394;&#12427;&#12371;&#12392;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#24460;&#32773;&#12399;&#20445;&#23432;&#24615;&#12420;&#25313;&#24373;&#24615;&#12418;&#12424;&#12426;&#12377;&#12368;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>The most common pattern in a multi-user client/server application is <span class="emphasis"><em>session-per-request</em></span>. In this model, a request from the client is sent to the server (where the Hibernate persistence layer runs), a new Hibernate
                     <code class="literal">Session</code> is opened, and all database operations are executed in this unit of work. Once the work has been completed (and the response
                     for the client has been prepared), the session is flushed and closed. You would also use a single database transaction to
                     serve the clients request, starting and committing it when you open and close the <code class="literal">Session</code>. The relationship between the two is one-to-one and this model is a perfect fit for many applications. 
                  </p>
                  <p>The challenge lies in the implementation. Hibernate provides built-in management of the "current session" to simplify this
                     pattern. All you have to do is start a transaction when a server request has to be processed, and end the transaction before
                     the response is sent to the client. You can do this in any way you like, common solutions are <code class="literal">ServletFilter</code>, AOP interceptor with a pointcut on the service methods, or a proxy/interception container. An EJB container is a standardized
                     way to implement cross-cutting aspects such as transaction demarcation on EJB session beans, declaratively with CMT. If you
                     decide to use programmatic transaction demarcation, prefer the Hibernate <code class="literal">Transaction</code> API shown later in this chapter, for ease of use and code portability. 
                  </p>
                  <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12467;&#12540;&#12489;&#12399;&#12289;&#24517;&#35201;&#12394;&#12392;&#12365;&#12395;&#12393;&#12371;&#12391;&#12418;&#12289;&#20309;&#22238;&#12391;&#12418;&#12289; &#21336;&#12395; <code class="literal">sessionFactory.getCurrentSession()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12384;&#12369;&#12391; &#12300;&#29694;&#22312;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;&#12395;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12414;&#12377;&#12290; &#29694;&#22312;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12408;&#12398; <code class="literal">&#12475;&#12483;&#12471;&#12519;&#12531;</code> &#12434;&#24120;&#12395;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290; &#12522;&#12477;&#12540;&#12473;&#12539;&#12525;&#12540;&#12459;&#12523;&#12394;&#29872;&#22659;&#12289;&#12418;&#12375;&#12367;&#12399;JTA&#29872;&#22659;&#12434;&#27083;&#25104;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435; &#65288;<a href="#architecture-current-session" title="2.5. &#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;">&#38917;2.5. &#12300;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#19978;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; 
                  </p>
                  <p>&#12392;&#12365;&#12393;&#12365;&#12289;&#12300;&#12499;&#12517;&#12540;&#12434;&#25551;&#30011;&#12377;&#12427;&#12301;&#12414;&#12391; <code class="literal">&#12475;&#12483;&#12471;&#12519;&#12531;</code> &#12392;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12473;&#12467;&#12540;&#12503;&#12434;&#25313;&#24373;&#12377;&#12427;&#12392;&#20415;&#21033;&#12394;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;&#35201;&#27714;&#12398;&#20966;&#29702;&#12392;&#25551;&#30011;&#12398;&#12501;&#12455;&#12540;&#12474;&#12434;&#20998;&#12369;&#12390;&#12356;&#12427; &#12469;&#12540;&#12502;&#12524;&#12483;&#12488;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12362;&#12356;&#12390;&#29305;&#12395;&#24441;&#31435;&#12385;&#12414;&#12377;&#12290; &#29420;&#33258;&#12398;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12434;&#23455;&#35013;&#12377;&#12428;&#12400;&#12289; &#12499;&#12517;&#12540;&#12434;&#25551;&#30011;&#12377;&#12427;&#12414;&#12391;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#25313;&#24373;&#12377;&#12427;&#12398;&#12399;&#31777;&#21336;&#12391;&#12377;&#12290;
                     &#12375;&#12363;&#12375;&#12289;&#12467;&#12531;&#12486;&#12490;&#31649;&#29702;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;EJB&#12395;&#38972;&#12427;&#22580;&#21512;&#12399;&#12289;&#31777;&#21336;&#12395;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#12499;&#12517;&#12540;&#12398;&#25551;&#30011;&#12434;&#38283;&#22987;&#12377;&#12427;&#21069;&#12395;&#12289;EJB&#12398;&#12513;&#12477;&#12483;&#12489;&#12364;&#12522;&#12479;&#12540;&#12531;&#12375;&#12383;&#38555;&#12395;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#23436;&#20102;&#12377;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; &#12371;&#12398; <span class="emphasis"><em>Open Session in View</em></span> &#12497;&#12479;&#12540;&#12531;&#12395;&#38306;&#36899;&#12377;&#12427;&#12498;&#12531;&#12488;&#12392;&#20363;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289; Hibernate&#12398;Web&#12469;&#12452;&#12488;&#12420;&#12501;&#12457;&#12540;&#12521;&#12512;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-basics-apptx"></a>11.1.2. &#38263;&#12356;&#23550;&#35441;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>session-per-request&#12497;&#12479;&#12540;&#12531;&#12399;&#12289;&#20316;&#26989;&#21336;&#20301;&#12434;&#35373;&#35336;&#12377;&#12427;&#38555;&#12395;&#24441;&#31435;&#12388;&#32771;&#12360;&#12392;&#12356;&#12358;&#12384;&#12369;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#22810;&#12367;&#12398;&#12499;&#12472;&#12493;&#12473;&#12503;&#12525;&#12475;&#12473;&#12399;&#12289;&#12518;&#12540;&#12470;&#12540;&#12392;&#12398;&#19968;&#36899;&#12398;&#30456;&#20114;&#20316;&#29992;&#20840;&#20307;&#12434;&#35201;&#27714;&#12375;&#12414;&#12377;&#12290; &#12381;&#12398;&#30456;&#20114;&#20316;&#29992;&#12395;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12450;&#12463;&#12475;&#12473;&#12364;&#21547;&#12414;&#12428;&#12414;&#12377;&#12290; Web&#12392;&#12456;&#12531;&#12479;&#12540;&#12503;&#12521;&#12452;&#12474;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;
                     &#12518;&#12540;&#12470;&#12392;&#12398;&#30456;&#20114;&#20316;&#29992;&#12395;&#12414;&#12391;&#28193;&#12427;&#12371;&#12392;&#12399;&#35377;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290; &#27425;&#12398;&#20363;&#12434;&#12424;&#12367;&#32771;&#12360;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#12480;&#12452;&#12450;&#12525;&#12464;&#12398;&#26368;&#21021;&#12398;&#30011;&#38754;&#12364;&#38283;&#12365;&#12289;&#20491;&#12293;&#12398; <code class="literal">Session</code> &#12392;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20013;&#12391;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#12487;&#12540;&#12479;&#12434;&#12518;&#12540;&#12470;&#12540;&#12395;&#35211;&#12379;&#12414;&#12377;&#12290; &#12518;&#12540;&#12470;&#12540;&#12399;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#33258;&#30001;&#12395;&#20462;&#27491;&#12391;&#12365;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>5&#20998;&#24460;&#12395;&#12518;&#12540;&#12470;&#12540;&#12399;&#12300;Save&#12301;&#12434;&#12463;&#12522;&#12483;&#12463;&#12375;&#12289;&#20462;&#27491;&#12364;&#27704;&#32154;&#21270;&#12373;&#12428;&#12427;&#12398;&#12434;&#26399;&#24453;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#12289;&#12371;&#12398;&#24773;&#22577;&#12434;&#32232;&#38598;&#12375;&#12383;&#12398;&#12399;&#33258;&#20998;&#65297;&#20154;&#12384;&#12369;&#12391;&#12289; &#20462;&#27491;&#12398;&#12467;&#12531;&#12501;&#12522;&#12463;&#12488;&#12399;&#30330;&#29983;&#12375;&#12394;&#12356;&#12392;&#26399;&#24453;&#12375;&#12414;&#12377;&#12290; </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#12371;&#12398;&#20316;&#26989;&#21336;&#20301;&#12434;&#65288;&#12518;&#12540;&#12470;&#12540;&#12398;&#35222;&#28857;&#12391;&#65289;&#38263;&#26399;&#12398; <span class="emphasis"><em>&#23550;&#35441;</em></span> &#65288;&#12418;&#12375;&#12367;&#12399;&#12289;<span class="emphasis"><em>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;</em></span> &#65289;&#12392;&#21628;&#12403;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12371;&#12428;&#12434;&#23455;&#35013;&#12377;&#12427;&#26041;&#27861;&#12399;&#12383;&#12367;&#12373;&#12435;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#26368;&#21021;&#12395;&#24605;&#12356;&#12388;&#12367;&#23455;&#35013;&#12399;&#12289;&#12518;&#12540;&#12470;&#12540;&#12364;&#32771;&#12360;&#12390;&#12356;&#12427;&#38291;&#12289;<code class="literal">Session</code> &#12392;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#38283;&#12356;&#12383;&#12414;&#12414;&#12395;&#12375;&#12390;&#12362;&#12367;&#12371;&#12392;&#12391;&#12377;&#12290; &#21516;&#26178;&#12395;&#20462;&#27491;&#12373;&#12428;&#12378;&#12289;&#20998;&#38626;&#12392;&#21407;&#23376;&#24615;&#12364;&#20445;&#35388;&#12373;&#12428;&#12427;&#12424;&#12358;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#20869;&#12398;&#12525;&#12483;&#12463;&#12399;&#20445;&#25345;&#12375;&#12383;&#12414;&#12414;&#12395;&#12375;&#12414;&#12377;&#12290; &#12418;&#12385;&#12429;&#12435;&#12289;&#12371;&#12428;&#12399;&#12450;&#12531;&#12481;&#12497;&#12479;&#12540;&#12531;&#12391;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#12525;&#12483;&#12463;&#12398;&#31478;&#21512;&#12364;&#30330;&#29983;&#12377;&#12427;&#12392;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#21516;&#26178;&#12518;&#12540;&#12470;&#12540;&#25968;&#12395;&#24540;&#12376;&#12390;&#12473;&#12465;&#12540;&#12523;&#12450;&#12483;&#12503;&#12391;&#12365;&#12394;&#12367;&#12394;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290;
                     
                  </p>
                  <p>Clearly, we have to use several database transactions to implement the conversation. In this case, maintaining isolation of
                     business processes becomes the partial responsibility of the application tier. A single conversation usually spans several
                     database transactions. It will be atomic if only one of these database transactions (the last one) stores the updated data,
                     all others simply read data (e.g. in a wizard-style dialog spanning several request/response cycles). This is easier to implement
                     than it might sound, especially if you use Hibernate's features: 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p><span class="emphasis"><em>Automatic Versioning</em></span> - Hibernate can do automatic optimistic concurrency control for you, it can automatically detect if a concurrent modification
                              occurred during user think time. Usually we only check at the end of the conversation. 
                           </p>
                        </li>
                        <li>
                           <p><span class="emphasis"><em>&#20998;&#38626;&#65288;Detached&#65289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;</em></span> - &#12377;&#12391;&#12395;&#35696;&#35542;&#12375;&#12383; <span class="emphasis"><em>session-per-request</em></span> &#12497;&#12479;&#12540;&#12531;&#12434;&#20351;&#12358;&#12392;&#27770;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289; &#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#12377;&#12409;&#12390;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289;&#12518;&#12540;&#12470;&#12364;&#32771;&#12360;&#12390;&#12356;&#12427;&#38291;&#12399;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12363;&#12425;&#20998;&#38626;&#12373;&#12428;&#12383;&#29366;&#24907;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#20877;&#36861;&#21152;&#12375;&#12289;&#20462;&#27491;&#12434;&#27704;&#32154;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12434; <span class="emphasis"><em>session-per-request-with-detached-objects</em></span> &#12497;&#12479;&#12540;&#12531;&#12392;&#21628;&#12403;&#12414;&#12377;&#12290; &#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289;&#21516;&#26178;&#12395;&#34892;&#12431;&#12428;&#12427;&#20462;&#27491;&#12434;&#20998;&#38626;&#12391;&#12365;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><span class="emphasis"><em>Extended (or Long) Session</em></span> - The Hibernate <code class="literal">Session</code> may be disconnected from the underlying JDBC connection after the database transaction has been committed, and reconnected
                              when a new client request occurs. This pattern is known as <span class="emphasis"><em>session-per-conversation</em></span> and makes even reattachment unnecessary. Automatic versioning is used to isolate concurrent modifications and the <code class="literal">Session</code> is usually not allowed to be flushed automatically, but explicitly. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="emphasis"><em>session-per-request-with-detached-objects</em></span> &#12392; <span class="emphasis"><em>session-per-conversation</em></span> &#12398;&#65298;&#12388;&#12399;&#12289; &#21033;&#28857;&#12392;&#27424;&#28857;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;&#12371;&#12398;&#31456;&#12398;&#24460;&#12398;&#12411;&#12358;&#12391;&#12289;&#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;&#12398;&#25991;&#33032;&#12398;&#20013;&#12391;&#35696;&#35542;&#12375;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-basics-identity"></a>11.1.3. &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#35672;&#21029;&#23376;&#12434;&#32771;&#12360;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#65298;&#12388;&#12398;&#30064;&#12394;&#12427; <code class="literal">Session</code> &#12363;&#12425; &#21516;&#12376;&#27704;&#32154;&#29366;&#24907;&#12395;&#21516;&#26178;&#12395;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#65298;&#12388;&#12398; <code class="literal">Session</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364; &#27704;&#32154;&#24615;&#12463;&#12521;&#12473;&#12398;&#65297;&#12388;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20849;&#26377;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#12422;&#12360;&#12395;&#12289;&#35672;&#21029;&#23376;&#12395;&#12399;&#65298;&#12388;&#12398;&#30064;&#12394;&#12427;&#27010;&#24565;&#12364;&#12354;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#35672;&#21029;&#23376;</span></dt>
                        <dd>
                           <p>
                              <code class="literal">foo.getId().equals( bar.getId() )</code>
                              
                           </p>
                        </dd>
                        <dt><span class="term">JVM&#35672;&#21029;&#23376;</span></dt>
                        <dd>
                           <p>
                              <code class="literal">foo==bar</code>
                              
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <p>Then for objects attached to a <span class="emphasis"><em>particular</em></span> <code class="literal">Session</code> (i.e. in the scope of a <code class="literal">Session</code>) the two notions are equivalent, and JVM identity for database identity is guaranteed by Hibernate. However, while the application
                     might concurrently access the "same" (persistent identity) business object in two different sessions, the two instances will
                     actually be "different" (JVM identity). Conflicts are resolved using (automatic versioning) at flush/commit time, using an
                     optimistic approach. 
                  </p>
                  <p>&#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12399;&#12289;Hibernate&#12392;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#21516;&#26178;&#23455;&#34892;&#12395;&#12388;&#12356;&#12390;&#12398;&#24515;&#37197;&#12364;&#27531;&#12426;&#12414;&#12377;&#12290; &#19968;&#26041;&#12391;&#12289;&#26368;&#39640;&#12398;&#12473;&#12465;&#12540;&#12521;&#12499;&#12522;&#12486;&#12451;&#12364;&#25552;&#20379;&#12373;&#12428;&#12414;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#65297;&#12473;&#12524;&#12483;&#12489;&#12398;&#20316;&#26989;&#21336;&#20301;&#12398;&#20013;&#12391;&#19968;&#24847;&#24615;&#12364;&#20445;&#35388;&#12373;&#12428;&#12428;&#12400;&#12289; &#39640;&#20385;&#12394;&#12525;&#12483;&#12463;&#12420;&#21516;&#26399;&#21270;&#12364;&#19981;&#35201;&#12395;&#12394;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; <code class="literal">Session</code> &#12372;&#12392;&#12395;&#65297;&#12388;&#12398;&#12473;&#12524;&#12483;&#12489;&#12434;&#36028;&#12426;&#20184;&#12369;&#12427;&#38480;&#12426;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12499;&#12472;&#12493;&#12473;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;synchronize&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">Session</code> &#20869;&#12391;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#27604;&#36611;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">==</code> &#12434;&#23433;&#20840;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12369;&#12428;&#12393;&#12418;&#12289;<code class="literal">Session</code> &#12398;&#22806;&#12391; <code class="literal">==</code> &#12434;&#20351;&#12358;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#20104;&#26399;&#12375;&#12394;&#12356;&#32080;&#26524;&#12395;&#36973;&#36935;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#20104;&#26399;&#12375;&#12394;&#12356;&#22580;&#25152;&#12391;&#36215;&#12371;&#12426;&#12360;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;&#65298;&#12388;&#12398;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#21516;&#12376; <code class="literal">Set</code> &#12395; put&#12375;&#12383;&#12392;&#12365;&#12394;&#12393;&#12391;&#12377;&#12290; &#20001;&#26041;&#12392;&#12418;&#21516;&#12376;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#35672;&#21029;&#23376;&#12434;&#25345;&#12385;&#12414;&#12377;&#65288;&#12377;&#12394;&#12431;&#12385;&#12289;&#21516;&#12376;&#34892;&#12434;&#34920;&#12375;&#12414;&#12377;&#65289;&#12290; &#12375;&#12363;&#12375;&#12289;&#20998;&#38626;&#29366;&#24907;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;JVM&#35672;&#21029;&#23376;&#12399;&#24403;&#28982;&#20445;&#35388;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290; &#38283;&#30330;&#32773;&#12399;&#12289;&#27704;&#32154;&#24615;&#12463;&#12521;&#12473;&#12398; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#31561;&#20385;&#24615;&#12398;&#27010;&#24565;&#12434;&#23455;&#35013;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#35686;&#21578;&#12364;&#65297;&#12388;&#12354;&#12426;&#12414;&#12377;&#12290;&#31561;&#20385;&#24615;&#12398;&#23455;&#35013;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#35672;&#21029;&#23376;&#12434;&#20351;&#12431;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290; &#12518;&#12491;&#12540;&#12463;&#12394;&#65288;&#26222;&#36890;&#12399;&#19981;&#22793;&#12398;&#65289;&#23646;&#24615;&#12398;&#32068;&#12415;&#21512;&#12431;&#12379;&#12391;&#12354;&#12427;&#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12418;&#12375;&#12289;&#19968;&#26178;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#27704;&#32154;&#21270;&#12373;&#12428;&#12383;&#22580;&#21512;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#35672;&#21029;&#23376;&#12364;&#22793;&#12431;&#12426;&#12414;&#12377;&#12290;
                     &#19968;&#26178;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#65288;&#36890;&#24120;&#20998;&#38626;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#20849;&#12395;&#65289; <code class="literal">Set</code> &#12395;&#20445;&#25345;&#12377;&#12427;&#22580;&#21512;&#12289;&#12495;&#12483;&#12471;&#12517;&#12467;&#12540;&#12489;&#12364;&#22793;&#12431;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12399;&#12289;<code class="literal">Set</code> &#12398;&#22865;&#32004;&#12434;&#30772;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#12499;&#12472;&#12493;&#12473;&#12461;&#12540;&#12398;&#12383;&#12417;&#12398;&#23646;&#24615;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#20027;&#12461;&#12540;&#12411;&#12393;&#23433;&#23450;&#12377;&#12409;&#12365;&#12391;&#12399;&#12394;&#12356;&#12391;&#12377;&#12290; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#21516;&#12376; <code class="literal">Set</code> &#12398;&#20013;&#12395;&#12356;&#12427;&#38291;&#12384;&#12369;&#12289;&#23433;&#23450;&#12434;&#20445;&#35388;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#12371;&#12398;&#21839;&#38988;&#12398;&#12424;&#12426;&#24505;&#24213;&#30340;&#12394;&#35696;&#35542;&#12399;&#12289;Hibernate&#12398;Web&#12469;&#12452;&#12488;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12414;&#12383;&#12289;&#12371;&#12428;&#12399;Hibernate&#12398;&#21839;&#38988;&#12391;&#12399;&#12394;&#12367;&#12289;&#21336;&#12395;Java&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#35672;&#21029;&#23376;&#12420;&#31561;&#20385;&#24615;&#12434; &#12393;&#12398;&#12424;&#12358;&#12395;&#23455;&#35013;&#12377;&#12409;&#12365;&#12363;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290;
                     
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-basics-issues"></a>11.1.4. &#19968;&#33324;&#30340;&#12394;&#21839;&#38988;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><span class="emphasis"><em>session-per-user-session</em></span> &#12392; <span class="emphasis"><em>session-per-application</em></span> &#12450;&#12531;&#12481;&#12497;&#12479;&#12540;&#12531; &#12399;&#20351;&#12387;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#65288;&#12418;&#12385;&#12429;&#12435;&#12289;&#12414;&#12428;&#12395;&#20363;&#22806;&#12364;&#12354;&#12426;&#12414;&#12377;&#65289;&#12290; &#27880;&#24847;&#65306;&#19979;&#35352;&#12398;&#21839;&#38988;&#12398;&#12356;&#12367;&#12388;&#12363;&#12399;&#12289;&#25512;&#22888;&#12373;&#12428;&#12427;&#12497;&#12479;&#12540;&#12531;&#12392;&#12375;&#12390;&#12418;&#20986;&#29694;&#12375;&#12414;&#12377;&#12290; &#35373;&#35336;&#12434;&#27770;&#23450;&#12377;&#12427;&#21069;&#12395;&#12289;&#35023;&#12398;&#24847;&#21619;&#12434;&#29702;&#35299;&#12377;&#12427;&#12424;&#12358;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p><code class="literal">Session</code> &#12399;&#12473;&#12524;&#12483;&#12489;&#12475;&#12540;&#12501;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; HTTP&#12522;&#12463;&#12456;&#12473;&#12488;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;Bean&#12289;Swing&#12527;&#12540;&#12459;&#12540;&#12398;&#12424;&#12358;&#12395;&#12289; &#21516;&#26178;&#23455;&#34892;&#12364;&#21487;&#33021;&#12394;&#12418;&#12398;&#12364; <code class="literal">Session</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20849;&#26377;&#12377;&#12427;&#12392;&#12289; &#31478;&#21512;&#29366;&#24907;&#12434;&#24341;&#12365;&#36215;&#12371;&#12375;&#12414;&#12377;&#12290; &#65288;&#24460;&#12391;&#35696;&#35542;&#12377;&#12427;&#65289;<code class="literal">HttpSession</code> &#12398;&#20013;&#12391; Hibernate <code class="literal">Session</code> &#12434;&#20445;&#25345;&#12377;&#12427;&#22580;&#21512;&#12289; HttpSession&#12408;&#12398;&#12450;&#12463;&#12475;&#12473;&#12434;&#21516;&#26399;&#21270;&#12377;&#12427;&#12371;&#12392;&#12434;&#32771;&#24942;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#12373;&#12418;&#12394;&#12369;&#12428;&#12400;&#12289;&#12518;&#12540;&#12470;&#12540;&#12364;&#21313;&#20998;&#26089;&#12367;&#12522;&#12525;&#12540;&#12489;&#12434;&#12463;&#12522;&#12483;&#12463;&#12377;&#12427;&#12392;&#12289; &#21516;&#26178;&#12395;&#36208;&#12427;&#65298;&#12388;&#12398;&#12473;&#12524;&#12483;&#12489;&#12398;&#20013;&#12391;&#12289;&#21516;&#12376; <code class="literal">Session</code> &#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>Hibernate&#12364;&#20363;&#22806;&#12434;&#25237;&#12370;&#12383;&#22580;&#21512;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12375;&#12289; &#30452;&#12385;&#12395; <code class="literal">Session</code> &#12434;&#38281;&#12376;&#12427;&#12409;&#12365;&#12391;&#12377;&#65288;&#35443;&#32048;&#12434;&#24460;&#12391;&#35696;&#35542;&#12375;&#12414;&#12377;&#65289;&#12290; <code class="literal">Session</code> &#12364;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#32080;&#12403;&#20184;&#12369;&#12425;&#12428;&#12390;&#12356;&#12427;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#20572;&#27490;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12375;&#12390;&#12418;&#12289;&#12499;&#12472;&#12493;&#12473;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#38283;&#22987;&#12375;&#12383;&#12392;&#12365;&#12398;&#29366;&#24907;&#12395;&#25147;&#12426;&#12414;&#12379;&#12435;&#12290; &#12371;&#12428;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#29366;&#24907;&#12392;&#12499;&#12472;&#12493;&#12473;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#21516;&#26399;&#12375;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290;
                              &#36890;&#24120;&#12371;&#12428;&#12399;&#21839;&#38988;&#12395;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#20363;&#22806;&#12399;&#22238;&#24489;&#12391;&#12365;&#12394;&#12356;&#12363;&#12425;&#12391;&#12377;&#12290; &#12392;&#12395;&#12363;&#12367;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12375;&#12383;&#24460;&#12395;&#12420;&#12426;&#30452;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">Session</code> &#12399;&#27704;&#32154;&#65288;persistent&#65289;&#29366;&#24907;&#12398;&#12377;&#12409;&#12390;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; &#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12414;&#12377;&#65288;Hibernate&#12399;&#30435;&#35222;&#12375;&#12289;&#12480;&#12540;&#12486;&#12451;&#29366;&#24907;&#12363;&#12481;&#12455;&#12483;&#12463;&#12375;&#12414;&#12377;&#65289;&#12290; &#12371;&#12428;&#12399;&#12289;&#38263;&#12356;&#38291;&#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#38283;&#12356;&#12383;&#12414;&#12414;&#12395;&#12377;&#12427;&#12363;&#12289; &#38750;&#24120;&#12395;&#22810;&#12367;&#12398;&#12487;&#12540;&#12479;&#12434;&#12525;&#12540;&#12489;&#12375;&#32154;&#12369;&#12427;&#12363;&#12375;&#12383;&#22580;&#21512;&#12399;&#12289; OutOfMemoryException&#12364;&#30330;&#29983;&#12377;&#12427;&#12414;&#12391;&#28961;&#38480;&#12395;&#22823;&#12365;&#12367;&#12394;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290;
                              &#35299;&#27770;&#31574;&#12398;&#65297;&#12388;&#12399;&#12289;<code class="literal">Session</code> &#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#31649;&#29702;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">clear()</code> &#12363; <code class="literal">evict()</code> &#12434;&#21628;&#12406;&#12371;&#12392;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#22823;&#12365;&#12394;&#12487;&#12540;&#12479;&#12434;&#20966;&#29702;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12394;&#12425;&#12289; &#12383;&#12406;&#12435;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#32771;&#24942;&#12377;&#12427;&#12409;&#12365;&#12391;&#12375;&#12423;&#12358;&#12290; &#12356;&#12367;&#12388;&#12363;&#12398;&#35299;&#27770;&#31574;&#12399;&#12289;<a href="#batch" title="&#31532;13&#31456; &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;">&#31456;&nbsp;13. <i xmlns:xlink="http://www.w3.org/1999/xlink">&atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;</i></a> &#12391;&#32057;&#20171;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12518;&#12540;&#12470;&#12540;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#38291;&#12289;<code class="literal">Session</code> &#12434;&#38283;&#12356;&#12383;&#12414;&#12414;&#12395;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12399;&#12289; &#12487;&#12540;&#12479;&#12364;&#26032;&#39854;&#12391;&#12394;&#12367;&#12394;&#12427;&#30906;&#29575;&#12364;&#39640;&#12367;&#12394;&#12427;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="transactions-demarcation"></a>11.2. &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Database (or system) transaction boundaries are always necessary. No communication with the database can occur outside of
                  a database transaction (this seems to confuse many developers who are used to the auto-commit mode). Always use clear transaction
                  boundaries, even for read-only operations. Depending on your isolation level and database capabilities this might not be required
                  but there is no downside if you always demarcate transactions explicitly. Certainly, a single database transaction is going
                  to perform better than many small transactions, even for reading data. 
               </p>
               <p>J2EE&#29872;&#22659;&#12395;&#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29366;&#24907; &#65288;&#12377;&#12394;&#12431;&#12385;&#12289;&#12473;&#12479;&#12531;&#12489;&#12450;&#12525;&#12531;&#12289;&#21336;&#32020;&#12394;Web&#12420;Swing&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#65289;&#12391;&#12418;&#12289; &#31649;&#29702;&#12373;&#12428;&#12383;&#29366;&#24907;&#12391;&#12418;&#12289;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12434;&#23455;&#34892;&#12391;&#12365;&#12414;&#12377;&#12290; &#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29872;&#22659;&#12391;&#12399;&#12289;Hiberante&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290;
                  &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#38283;&#30330;&#32773;&#12399;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12434;&#25163;&#21205;&#12391;&#35373;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#35328;&#12356;&#25563;&#12360;&#12427;&#12392;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#38283;&#22987;&#12289;&#12467;&#12511;&#12483;&#12488;&#12289;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12434; &#38283;&#30330;&#32773;&#33258;&#36523;&#12364;&#35373;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; &#36890;&#24120;&#12289;&#31649;&#29702;&#12373;&#12428;&#12383;&#29872;&#22659;&#12391;&#12399;&#12289;&#12467;&#12531;&#12486;&#12490;&#31649;&#29702;&#12395;&#12424;&#12427;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#65288;CMT&#65289;&#12364;&#25552;&#20379;&#12373;&#12428;&#12414;&#12377;&#12290;
                  &#20363;&#12360;&#12400;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;Bean&#12398;&#12487;&#12503;&#12525;&#12452;&#12513;&#12531;&#12488;&#12487;&#12451;&#12473;&#12463;&#12522;&#12503;&#12479;&#12391;&#23459;&#35328;&#30340;&#12395;&#23450;&#32681;&#12375;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#32068;&#12415;&#31435;&#12390;&#12414;&#12377;&#12290; &#12503;&#12525;&#12464;&#12521;&#12512;&#12395;&#12424;&#12427;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12399;&#12418;&#12358;&#24517;&#35201;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>However, it is often desirable to keep your persistence layer portable between non-managed resource-local environments, and
                  systems that can rely on JTA but use BMT instead of CMT. In both cases you'd use programmatic transaction demarcation. Hibernate
                  offers a wrapper API called <code class="literal">Transaction</code> that translates into the native transaction system of your deployment environment. This API is actually optional, but we
                  strongly encourage its use unless you are in a CMT session bean. 
               </p>
               <p>&#36890;&#24120;&#12289;<code class="literal">Session</code> &#32066;&#20102;&#12399;&#12289;&#65300;&#12388;&#12398;&#30064;&#12394;&#12427;&#12501;&#12455;&#12540;&#12474;&#12434;&#21547;&#12415;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517; </p>
                     </li>
                     <li>
                        <p>&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12467;&#12511;&#12483;&#12488; </p>
                     </li>
                     <li>
                        <p>&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12463;&#12525;&#12540;&#12474; </p>
                     </li>
                     <li>
                        <p>&#20363;&#22806;&#12398;&#12495;&#12531;&#12489;&#12522;&#12531;&#12464; </p>
                     </li>
                  </ul>
               </div>
               <p>&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;&#21069;&#12398;&#12411;&#12358;&#12391;&#12377;&#12391;&#12395;&#35696;&#35542;&#12375;&#12414;&#12375;&#12383;&#12290; &#31649;&#29702;&#12373;&#12428;&#12383;&#29872;&#22659;&#12392;&#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29872;&#22659;&#12398;&#20001;&#26041;&#12395;&#12388;&#12356;&#12390;&#12289; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12392;&#20363;&#22806;&#12495;&#12531;&#12489;&#12522;&#12531;&#12464;&#12434;&#12418;&#12387;&#12392;&#35443;&#12375;&#12367;&#35211;&#12390;&#12356;&#12365;&#12414;&#12375;&#12423;&#12358;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-demarcation-nonmanaged"></a>11.2.1. &#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29872;&#22659;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#27704;&#32154;&#21270;&#23652;&#12434;&#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29872;&#22659;&#12391;&#23455;&#35013;&#12377;&#12427;&#22580;&#21512;&#12399;&#12289; &#36890;&#24120;&#21336;&#32020;&#12394;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#65288;&#12377;&#12394;&#12431;&#12385;DataSource&#12391;&#12399;&#12394;&#12356;&#65289;&#12395;&#12424;&#12387;&#12390;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#21046;&#24481;&#12375;&#12414;&#12377;&#12290; Hibernate&#12399;&#12381;&#12398;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12540;&#12523;&#12363;&#12425;&#24517;&#35201;&#12394;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290;
                     &#12475;&#12483;&#12471;&#12519;&#12531;&#65295;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#21046;&#24481;&#12398;&#12452;&#12487;&#12451;&#12458;&#12512;&#12399;&#27425;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">// Non-managed environment idiom
Session sess = factory.openSession();
Transaction tx = null;
try {
    tx = sess.beginTransaction();

    // do some work
    ...

    tx.commit();
}
catch (RuntimeException e) {
    if (tx != null) tx.rollback();
    throw e; // or display error message
}
finally {
    sess.close();
}</pre><p>&#26126;&#31034;&#30340;&#12395; <code class="literal">Session</code> &#12398; <code class="literal">flush()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12409;&#12365;&#12391;&#12399;&#12394;&#12367;&#12289; <code class="literal">commit()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12395;&#12424;&#12426;&#12289;&#33258;&#21205;&#30340;&#12395;&#21516;&#26399;&#21270;&#20966;&#29702;&#12364;&#23455;&#34892;&#12373;&#12428;&#12414;&#12377; &#65288;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398; <a href="#objectstate-flushing" title="10.10. &#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517;">&#38917;10.10. &#12300;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#12501;&#12521;&#12483;&#12471;&#12517;&#12301;</a> &#12395;&#20381;&#23384;&#12375;&#12390;&#12356;&#12427;&#65289;&#12290; <code class="literal">close()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12395;&#12424;&#12426;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#32066;&#12431;&#12426;&#12434;&#26126;&#30906;&#12395;&#12375;&#12414;&#12377;&#12290; <code class="literal">close()</code> &#12364;&#26263;&#40665;&#30340;&#12395;&#34892;&#12358;&#20027;&#12394;&#12371;&#12392;&#12399;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12364;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#38283;&#25918;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; &#19978;&#35352;&#12398;Java&#12467;&#12540;&#12489;&#12399;&#12509;&#12540;&#12479;&#12502;&#12523;&#12391;&#12354;&#12426;&#12289;&#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#29872;&#22659;&#12392;JTA&#29872;&#22659;&#12398;&#20001;&#26041;&#12391;&#23455;&#34892;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12424;&#12426;&#36969;&#24540;&#24615;&#12398;&#12354;&#12427;&#35299;&#27770;&#31574;&#12399;&#12289;Hibernate&#12395;&#20104;&#12417;&#32068;&#12415;&#36796;&#12414;&#12428;&#12390;&#12356;&#12427; &#12300;current session&#12301;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#31649;&#29702;&#12391;&#12377;&#12290; &#35328;&#33865;&#12391;&#35500;&#26126;&#12377;&#12427;&#12424;&#12426;&#19979;&#35352;&#12434;&#35211;&#12383;&#12411;&#12358;&#12364;&#36895;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; </p><pre class="programlisting">// Non-managed environment idiom with getCurrentSession()
try {
    factory.getCurrentSession().beginTransaction();

    // do some work
    ...

    factory.getCurrentSession().getTransaction().commit();
}
catch (RuntimeException e) {
    factory.getCurrentSession().getTransaction().rollback();
    throw e; // or display error message
}</pre><p>&#27491;&#35215;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#20013;&#12391;&#12399;&#12289;&#12371;&#12398;&#12424;&#12358;&#12394;&#12467;&#12540;&#12489;&#12398;&#20999;&#12428;&#31471;&#12434;&#27770;&#12375;&#12390;&#35211;&#12394;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; &#33268;&#21629;&#30340;&#12394;&#65288;&#12471;&#12473;&#12486;&#12512;&#65289;&#20363;&#22806;&#12399;&#12289;&#24120;&#12395;&#12300;&#26368;&#19978;&#20301;&#12301;&#12391;&#12461;&#12515;&#12483;&#12481;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; &#35328;&#12356;&#25563;&#12360;&#12428;&#12400;&#12289;&#65288;&#27704;&#32154;&#21270;&#23652;&#12391;&#65289;Hibernate&#21628;&#12403;&#20986;&#12375;&#12434;&#23455;&#34892;&#12377;&#12427;&#12467;&#12540;&#12489;&#12392;&#12289; <code class="literal">RuntimeException</code> &#12434;&#21046;&#24481;&#12377;&#12427; &#65288;&#36890;&#24120;&#12399;&#12463;&#12522;&#12540;&#12531;&#12450;&#12483;&#12503;&#12392;&#32066;&#20102;&#12398;&#12415;&#34892;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#65289;&#12467;&#12540;&#12489;&#12399;&#12289;&#21029;&#12293;&#12398;&#23652;&#12398;&#20013;&#12395;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12395;&#12424;&#12427;&#12459;&#12524;&#12531;&#12488;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#31649;&#29702;&#12399;&#12289;&#12371;&#12398;&#35373;&#35336;&#12434;&#12363;&#12394;&#12426;&#21336;&#32020;&#12395;&#12375;&#12414;&#12377;&#12290; &#24517;&#35201;&#12394;&#12398;&#12399;&#12289;<code class="literal">SessionFactory</code> &#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12371;&#12392;&#12384;&#12369;&#12391;&#12377;&#12290; &#20363;&#22806;&#20966;&#29702;&#12399;&#12289;&#12371;&#12398;&#31456;&#12398;&#24460;&#12398;&#12411;&#12358;&#12391;&#35696;&#35542;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#27880;&#24847;&#65306;&#65288;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12377;&#12364;&#65289; <code class="literal">org.hibernate.transaction.JDBCTransactionFactory</code> &#12434;&#36984;&#25246;&#12377;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#31532;2&#12398;&#29992;&#20363;&#12392;&#12375;&#12390;&#12399;&#12289; <code class="literal">hibernate.current_session_context_class</code> &#12434; <code class="literal">"thread"</code> &#12392;&#12377;&#12427;&#12392;&#12424;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-demarcation-jta"></a>11.2.2. JTA&#12434;&#20351;&#29992;&#12377;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#27704;&#32154;&#21270;&#23652;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#65288;&#20363;&#12360;&#12400;&#12289;EJB&#12475;&#12483;&#12471;&#12519;&#12531;Bean&#12398;&#32972;&#24460;&#65289;&#12391;&#23455;&#34892;&#12377;&#12427;&#22580;&#21512;&#12289; Hibernate&#12363;&#12425;&#21462;&#24471;&#12377;&#12427;&#12377;&#12409;&#12390;&#12398;&#12487;&#12540;&#12479;&#12477;&#12540;&#12473;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289; &#33258;&#21205;&#30340;&#12395;&#12464;&#12525;&#12540;&#12496;&#12523;JTA&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#19968;&#37096;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; EJB&#12434;&#20351;&#12431;&#12378;&#12395;&#12289;&#12473;&#12479;&#12531;&#12489;&#12450;&#12525;&#12531;&#12398;JTA&#23455;&#35013;&#12434;&#23566;&#20837;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290;
                     JTA&#32113;&#21512;&#12398;&#12383;&#12417;&#12395;&#12289;Hibernate&#12399;&#65298;&#12388;&#12398;&#25126;&#30053;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>Bean&#31649;&#29702;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#65288;BMT&#65289;&#12434;&#20351;&#12356;&#12289;<code class="literal">Transaction</code> API&#12434;&#20351;&#12358;&#22580;&#21512;&#12289; Hibernate&#12399;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12469;&#12540;&#12496;&#12540;&#12395;BMT&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#38283;&#22987;&#12392;&#32066;&#12431;&#12426;&#12434;&#21578;&#12370;&#12414;&#12377;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#31649;&#29702;&#12398;&#12467;&#12540;&#12489;&#12399;&#12289;&#31649;&#29702;&#12373;&#12428;&#12394;&#12356;&#29872;&#22659;&#12392;&#21516;&#12376;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">// BMT idiom
Session sess = factory.openSession();
Transaction tx = null;
try {
    tx = sess.beginTransaction();

    // do some work
    ...

    tx.commit();
}
catch (RuntimeException e) {
    if (tx != null) tx.rollback();
    throw e; // or display error message
}
finally {
    sess.close();
}</pre><p>&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#22659;&#30028;&#12392;&#12375;&#12390; <code class="literal">Session</code> &#12434;&#20351;&#12356;&#12383;&#12356;&#22580;&#21512;&#12289; &#31777;&#21336;&#12395;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12434;&#20253;&#25773;&#12377;&#12427;&#27231;&#33021;&#12391;&#12354;&#12427; <code class="literal">getCurrentSession()</code> &#12364;&#12354;&#12427;&#12398;&#12391;&#12289; JTA&#12398; <code class="literal">UserTransaction</code> API&#12434;&#30452;&#25509;&#20351;&#29992;&#12377;&#12409;&#12365;&#12391;&#12375;&#12423;&#12358;&#12290; 
                  </p><pre class="programlisting">// BMT idiom with getCurrentSession()
try {
    UserTransaction tx = (UserTransaction)new InitialContext()
                            .lookup("java:comp/UserTransaction");

    tx.begin();

    // Do some work on Session bound to transaction
    factory.getCurrentSession().load(...);
    factory.getCurrentSession().persist(...);

    tx.commit();
}
catch (RuntimeException e) {
    tx.rollback();
    throw e; // or display error message
}</pre><p>With CMT, transaction demarcation is done in session bean deployment descriptors, not programmatically, hence, the code is
                     reduced to: 
                  </p><pre class="programlisting">// CMT idiom
 Session sess = factory.getCurrentSession();

 // do some work
 ...
</pre><p>CMT/EJB&#12398;&#20013;&#12391;&#12399;&#12289;&#24120;&#12395;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12364;&#33258;&#21205;&#30340;&#12395;&#23455;&#26045;&#12373;&#12428;&#12414;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12499;&#12540;&#12531;&#12398;&#12513;&#12477;&#12483;&#12489;&#12395;&#12424;&#12426;&#25237;&#12370;&#12425;&#12428;&#12383;&#21046;&#24481;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356; <code class="literal">RuntimeException</code> &#12399;&#12289;&#12464;&#12525;&#12540;&#12496;&#12523;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434; &#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12377;&#12427;&#12424;&#12358;&#12395;&#12467;&#12531;&#12486;&#12490;&#12395;&#20253;&#12360;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; <span class="emphasis"><em>&#12371;&#12428;&#12399;&#12289;BMT&#12418;&#12375;&#12367;&#12399;CMT&#12392;&#12356;&#12387;&#12375;&#12423;&#12395;Hibernate <code class="literal">Transaction</code> API&#12434;&#20351;&#12358;&#24517;&#35201;&#12399;&#23569;&#12375;&#12418;&#12394;&#12356;&#12392;&#12356;&#12358;&#24847;&#21619;&#12391;&#12377;&#12290;</em></span> 
                  </p>
                  <p>Note that you should choose <code class="literal">org.hibernate.transaction.JTATransactionFactory</code> if you use JTA directly (BMT), and <code class="literal">org.hibernate.transaction.CMTTransactionFactory</code> in a CMT session bean, when you configure Hibernate's transaction factory. Remember to also set <code class="literal">hibernate.transaction.manager_lookup_class</code>. Furthermore, make sure that your <code class="literal">hibernate.current_session_context_class</code> is either unset (backwards compatibility), or set to <code class="literal">"jta"</code>. 
                  </p>
                  <p>The <code class="literal">getCurrentSession()</code> operation has one downside in a JTA environment. There is one caveat to the use of <code class="literal">after_statement</code> connection release mode, which is then used by default. Due to a silly limitation of the JTA spec, it is not possible for
                     Hibernate to automatically clean up any unclosed <code class="literal">ScrollableResults</code> or <code class="literal">Iterator</code> instances returned by <code class="literal">scroll()</code> or <code class="literal">iterate()</code>. You <span class="emphasis"><em>must</em></span> release the underlying database cursor by calling <code class="literal">ScrollableResults.close()</code> or <code class="literal">Hibernate.close(Iterator)</code> explicitly from a <code class="literal">finally</code> block. (Of course, most applications can easily avoid using <code class="literal">scroll()</code> or <code class="literal">iterate()</code> at all from the JTA or CMT code.) 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-demarcation-exceptions"></a>11.2.3. &#20363;&#22806;&#12495;&#12531;&#12489;&#12522;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">Session</code> &#12364;&#20363;&#22806;&#65288;<code class="literal">SQLException</code>&#12434;&#21547;&#12416;&#65289;&#12434;&#25237;&#12370;&#12383;&#22580;&#21512;&#12289; &#30452;&#12385;&#12395;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12375;&#12289;<code class="literal">Session.close()</code> &#12434;&#21628;&#12403;&#12289;<code class="literal">Session</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#30772;&#26820;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; <code class="literal">Session</code> &#12398;&#12356;&#12367;&#12388;&#12363;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#29366;&#24907;&#12434; <span class="emphasis"><em>&#30683;&#30462;&#12375;&#12383;&#12414;&#12414;</em></span> &#12395;&#12375;&#12414;&#12377;&#12290; Hibernate&#12364;&#25237;&#12370;&#12383;&#20363;&#22806;&#12434;&#12289;&#22238;&#24489;&#12391;&#12365;&#12427;&#12418;&#12398;&#12392;&#12375;&#12390;&#25201;&#12358;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; <code class="literal">finally</code> &#12502;&#12525;&#12483;&#12463;&#12398;&#20013;&#12391; <code class="literal">close()</code> &#12434;&#21628;&#12435;&#12391;&#12289; <code class="literal">Session</code> &#12434;&#30906;&#23455;&#12395;&#38281;&#12376;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">HibernateException</code> &#12399;&#12289;Hibernate&#27704;&#32154;&#21270;&#23652;&#12398;&#20013;&#12391;&#30330;&#29983;&#12377;&#12427;&#22810;&#12367;&#12398;&#12456;&#12521;&#12540;&#12434; &#12521;&#12483;&#12503;&#12377;&#12427;&#12289;&#26908;&#26619;&#12373;&#12428;&#12394;&#12356;&#20363;&#22806;&#12391;&#12377;&#65288;Hibernate&#12398;&#21476;&#12356;&#12496;&#12540;&#12472;&#12519;&#12531;&#12399;&#36949;&#12356;&#12414;&#12375;&#12383;&#65289;&#12290; &#31169;&#12383;&#12385;&#12398;&#24847;&#35211;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#38283;&#30330;&#32773;&#12395;&#22238;&#24489;&#19981;&#21487;&#33021;&#12394;&#20363;&#22806;&#12434; &#19979;&#23652;&#12391;&#12461;&#12515;&#12483;&#12481;&#12377;&#12427;&#12371;&#12392;&#12434;&#24375;&#35201;&#12377;&#12409;&#12365;&#12391;&#12399;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290;
                     &#22810;&#12367;&#12398;&#12471;&#12473;&#12486;&#12512;&#12391;&#12399;&#12289;&#26908;&#26619;&#12373;&#12428;&#12394;&#12356;&#20363;&#22806;&#12392;&#33268;&#21629;&#30340;&#12394;&#20363;&#22806;&#12399;&#12289; &#12467;&#12540;&#12523;&#12473;&#12479;&#12483;&#12463;&#12398;&#26368;&#21021;&#12398;&#12501;&#12524;&#12540;&#12512;&#12398;&#65297;&#12388;&#65288;&#20363;&#12360;&#12400;&#12289;&#26368;&#19978;&#20301;&#12398;&#23652;&#12391;&#65289;&#12391;&#12495;&#12531;&#12489;&#12522;&#12531;&#12464;&#12375;&#12289; &#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12518;&#12540;&#12470;&#12540;&#12395;&#34920;&#31034;&#12375;&#12414;&#12377; &#65288;&#12418;&#12375;&#12367;&#12399;&#12289;&#20182;&#12398;&#36969;&#20999;&#12394;&#20966;&#29702;&#12434;&#23455;&#26045;&#12375;&#12414;&#12377;&#65289;&#12290; Hibernate&#12399;&#12289;<code class="literal">HibernateException</code> &#20197;&#22806;&#12398;&#26908;&#26619;&#12373;&#12428;&#12394;&#12356;&#20363;&#22806;&#12418; &#25237;&#12370;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12428;&#12425;&#12418;&#12414;&#12383;&#12289;&#22238;&#24489;&#19981;&#21487;&#33021;&#12391;&#12354;&#12426;&#12289;&#36969;&#20999;&#12394;&#20966;&#29702;&#12434;&#23455;&#26045;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; 
                  </p>
                  <p>Hibernate wraps <code class="literal">SQLException</code>s thrown while interacting with the database in a <code class="literal">JDBCException</code>. In fact, Hibernate will attempt to convert the exception into a more meaningful subclass of <code class="literal">JDBCException</code>. The underlying <code class="literal">SQLException</code> is always available via <code class="literal">JDBCException.getCause()</code>. Hibernate converts the <code class="literal">SQLException</code> into an appropriate <code class="literal">JDBCException</code> subclass using the <code class="literal">SQLExceptionConverter</code> attached to the <code class="literal">SessionFactory</code>. By default, the <code class="literal">SQLExceptionConverter</code> is defined by the configured dialect; however, it is also possible to plug in a custom implementation (see the javadocs for
                     the <code class="literal">SQLExceptionConverterFactory</code> class for details). The standard <code class="literal">JDBCException</code> subtypes are: 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">JDBCConnectionException</code> - &#22522;&#30990;&#12392;&#12394;&#12427;JDBC&#36890;&#20449;&#12398;&#12456;&#12521;&#12540;&#12434;&#34920;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">SQLGrammarException</code> - &#30330;&#34892;&#12377;&#12427;SQL&#12398;&#25991;&#27861;&#12418;&#12375;&#12367;&#12399;&#27083;&#25991;&#12398;&#21839;&#38988;&#12434;&#34920;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">ConstraintViolationException</code> - &#20309;&#12425;&#12363;&#12398;&#24418;&#24335;&#12398;&#23436;&#20840;&#24615;&#21046;&#32004;&#36949;&#21453;&#12434;&#34920;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">LockAcquisitionException</code> - &#35201;&#27714;&#12373;&#12428;&#12383;&#25805;&#20316;&#12434;&#23455;&#26045;&#12377;&#12427;&#12398;&#12395;&#24517;&#35201;&#12394;&#12525;&#12483;&#12463;&#12524;&#12505;&#12523;&#12434;&#24471;&#12427;&#38555;&#12398;&#12456;&#12521;&#12540;&#12434;&#34920;&#12375;&#12414;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">GenericJDBCException</code> - &#20182;&#12398;&#12459;&#12486;&#12468;&#12522;&#12395;&#19968;&#33268;&#12375;&#12394;&#12363;&#12387;&#12383;&#19968;&#33324;&#30340;&#12394;&#20363;&#22806;&#12391;&#12377;&#12290; 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-demarcation-timeout"></a>11.2.4. &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12479;&#12452;&#12512;&#12450;&#12454;&#12488;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>One extremely important feature provided by a managed environment like EJB that is never provided for non-managed code is
                     transaction timeout. Transaction timeouts ensure that no misbehaving transaction can indefinitely tie up resources while returning
                     no response to the user. Outside a managed (JTA) environment, Hibernate cannot fully provide this functionality. However,
                     Hibernate can at least control data access operations, ensuring that database level deadlocks and queries with huge result
                     sets are limited by a defined timeout. In a managed environment, Hibernate can delegate transaction timeout to JTA. This functionality
                     is abstracted by the Hibernate <code class="literal">Transaction</code> object. 
                  </p><pre class="programlisting">
Session sess = factory.openSession();
try {
    //set transaction timeout to 3 seconds
    sess.getTransaction().setTimeout(3);
    sess.getTransaction().begin();

    // do some work
    ...

    sess.getTransaction().commit()
}
catch (RuntimeException e) {
    sess.getTransaction().rollback();
    throw e; // or display error message
}
finally {
    sess.close();
}</pre><p>CMT&#12499;&#12540;&#12531;&#12398;&#20013;&#12391;&#12399; <code class="literal">setTimeout()</code> &#12434; &#21628;&#12403;&#20986;&#12379;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12479;&#12452;&#12512;&#12450;&#12454;&#12488;&#12399;&#23459;&#35328;&#30340;&#12395;&#23450;&#32681;&#12373;&#12428;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="transactions-optimistic"></a>11.3. &#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#39640;&#12356;&#20006;&#21015;&#24615;&#12392;&#39640;&#12356;&#12473;&#12465;&#12540;&#12521;&#12499;&#12522;&#12486;&#12451;&#12398;&#20001;&#26041;&#12434;&#23455;&#29694;&#12377;&#12427;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289; &#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;&#12434;&#20351;&#12387;&#12383;&#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#21046;&#24481;&#12398;&#12415;&#12391;&#12377;&#12290; &#26356;&#26032;&#12398;&#34909;&#31361;&#12434;&#35211;&#12388;&#12369;&#12427;&#12383;&#12417;&#12395;&#65288;&#12362;&#12424;&#12403;&#12289;&#26356;&#26032;&#12364;&#22833;&#12431;&#12428;&#12427;&#12398;&#12434;&#38450;&#12368;&#12383;&#12417;&#12395;&#65289;&#12289; &#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12418;&#12375;&#12367;&#12399;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12434;&#20351;&#12387;&#12390;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12414;&#12377;&#12290;
                  Hibernate&#12399;&#12289;&#27005;&#35251;&#30340;&#21516;&#26178;&#23455;&#34892;&#12434;&#34892;&#12358;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12467;&#12540;&#12489;&#12434;&#26360;&#12367;&#12383;&#12417;&#12398; &#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#65299;&#12388;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#31169;&#12383;&#12385;&#12364;&#35211;&#12379;&#12427;&#12518;&#12540;&#12473;&#12465;&#12540;&#12473;&#12399;&#12289;&#38263;&#12356;&#23550;&#35441;&#12434;&#25345;&#12385;&#12414;&#12377;&#12364;&#12289; &#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12399;&#12414;&#12384;&#65297;&#12388;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20013;&#12391;&#26356;&#26032;&#12434;&#22833;&#12358;&#12371;&#12392;&#12434;&#38450;&#12368;
                  &#21033;&#28857;&#12418;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-optimistic-manual"></a>11.3.1. &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12427;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12395;&#12411;&#12392;&#12435;&#12393;&#21161;&#12369;&#12390;&#12418;&#12425;&#12431;&#12378;&#12395;&#23455;&#35013;&#12377;&#12427;&#12465;&#12540;&#12473;&#12391;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#12398;&#12420;&#12426;&#21462;&#12426;&#12399;&#12289;&#12381;&#12428;&#12382;&#12428;&#26032;&#12375;&#12356; <code class="literal">Session</code> &#12398;&#20013;&#12391;&#36215;&#12371;&#12426;&#12414;&#12377;&#12290; &#38283;&#30330;&#32773;&#12399;&#12289;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#24615;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#25805;&#20316;&#12377;&#12427;&#21069;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#20877;&#35501;&#12415;&#36796;&#12415;&#12377;&#12427;&#36012;&#21209;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12399;&#12289;&#23550;&#35441;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20998;&#38626;&#12434;&#23432;&#12427;&#12383;&#12417;&#12395;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#33258;&#36523;&#12364;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12434;&#34892;&#12358;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;
                     &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12450;&#12463;&#12475;&#12473;&#12398;&#20013;&#12391;&#12399;&#12289;&#26368;&#12418;&#38750;&#21177;&#29575;&#12391;&#12377;&#12290; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;EJB&#12392;&#26368;&#12418;&#20284;&#12390;&#12356;&#12427;&#12450;&#12503;&#12525;&#12540;&#12481;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">// foo is an instance loaded by a previous Session
session = factory.openSession();
Transaction t = session.beginTransaction();

int oldVersion = foo.getVersion();
session.load( foo, foo.getKey() ); // load the current state
if ( oldVersion != foo.getVersion() ) throw new StaleObjectStateException();
foo.setProperty("bar");

t.commit();
session.close();</pre><p><code class="literal">&lt;version&gt;</code> &#12434;&#20351;&#12387;&#12390;&#12289;<code class="literal">version</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;&#12290; Hibernate&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12427;&#22580;&#21512;&#12289;&#12501;&#12521;&#12483;&#12471;&#12517;&#12375;&#12289; &#12381;&#12398;&#38291;&#12395; <code class="literal">version</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#33258;&#21205;&#30340;&#12395;&#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12488;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12418;&#12385;&#12429;&#12435;&#12289;&#12487;&#12540;&#12479;&#12398;&#20006;&#21015;&#24615;&#12364;&#20302;&#12356;&#29872;&#22659;&#12391;&#36939;&#29992;&#12375;&#12390;&#12362;&#12426;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12364;&#19981;&#35201;&#12394;&#12425;&#12289; &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12434;&#20351;&#12356;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12434;&#12473;&#12461;&#12483;&#12503;&#12377;&#12427;&#12384;&#12369;&#12391;&#12377;&#12290; &#12381;&#12398;&#22580;&#21512;&#12399;&#12289;&#38263;&#12356;&#23550;&#35441;&#12395;&#12399;&#12289; <span class="emphasis"><em>&#12300;&#26368;&#24460;&#12395;&#12467;&#12511;&#12483;&#12488;&#12375;&#12383;&#12418;&#12398;&#12364;&#21213;&#12388;&#12301;</em></span> &#12364;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#25126;&#30053;&#12391;&#12375;&#12423;&#12358;&#12290; &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12518;&#12540;&#12470;&#12540;&#12434;&#28151;&#20081;&#12373;&#12379;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12371;&#12392;&#12434; &#24515;&#12395;&#30041;&#12417;&#12390;&#32622;&#12356;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12381;&#12428;&#12399;&#12289;&#12456;&#12521;&#12540;&#12513;&#12483;&#12475;&#12540;&#12472;&#12420;&#31478;&#21512;&#12375;&#12383;&#22793;&#26356;&#12434;&#12510;&#12540;&#12472;&#12377;&#12427;&#27231;&#20250;&#12364; &#12394;&#12356;&#12414;&#12414;&#12289;&#26356;&#26032;&#12434;&#22833;&#12358;&#32076;&#39443;&#12434;&#12377;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; 
                  </p>
                  <p>Clearly, manual version checking is only feasible in very trivial circumstances and not practical for most applications. Often
                     not only single instances, but complete graphs of modified objects have to be checked. Hibernate offers automatic version
                     checking with either an extended <code class="literal">Session</code> or detached instances as the design paradigm. 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-optimistic-longsession"></a>11.3.2. &#25313;&#24373;&#12475;&#12483;&#12471;&#12519;&#12531;&#12392;&#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#65297;&#12388;&#12398; <code class="literal">Session</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12392;&#12381;&#12398;&#27704;&#32154;&#24615;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; <span class="emphasis"><em>session-per-conversation</em></span> &#12392;&#12375;&#12390;&#30693;&#12425;&#12428;&#12427;&#12289; &#23550;&#35441;&#20840;&#20307;&#12391;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; Hibernate&#12399;&#12501;&#12521;&#12483;&#12471;&#12517;&#12377;&#12427;&#38555;&#12395;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#12481;&#12455;&#12483;&#12463;&#12375;&#12414;&#12377;&#12290; &#21516;&#26178;&#12395;&#20462;&#27491;&#12373;&#12428;&#12383;&#12371;&#12392;&#12434;&#26908;&#20986;&#12377;&#12427;&#12392;&#12289;&#20363;&#22806;&#12434;&#25237;&#12370;&#12414;&#12377;&#12290; &#12371;&#12398;&#20363;&#22806;&#12434;&#12461;&#12515;&#12483;&#12481;&#12375;&#12390;&#25201;&#12358;&#12398;&#12399;&#12289;&#38283;&#30330;&#32773;&#12398;&#36012;&#20219;&#12391;&#12377; &#65288;&#19968;&#33324;&#30340;&#12394;&#36984;&#25246;&#32930;&#12399;&#12289;&#22793;&#26356;&#12434;&#12510;&#12540;&#12472;&#12377;&#12427;&#12363;&#21476;&#12367;&#12394;&#12356;&#12487;&#12540;&#12479;&#12391;&#12499;&#12472;&#12493;&#12473;&#23550;&#35441;&#12434;
                     &#20877;&#12473;&#12479;&#12540;&#12488;&#12377;&#12427;&#27231;&#20250;&#12434;&#12518;&#12540;&#12470;&#12540;&#12395;&#25552;&#20379;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#65289;&#12290; 
                  </p>
                  <p>&#12518;&#12540;&#12470;&#12540;&#12398;&#23550;&#35441;&#12434;&#24453;&#12387;&#12390;&#12356;&#12427;&#12392;&#12365;&#12399;&#12289; <code class="literal">Session</code> &#12434;&#22522;&#30990;&#12392;&#12394;&#12427;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#20999;&#12426;&#38626;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12450;&#12463;&#12475;&#12473;&#12398;&#20013;&#12391;&#12399;&#12289;&#26368;&#12418;&#21177;&#29575;&#30340;&#12391;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12420;&#20998;&#38626;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20877;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392; &#12395;&#38306;&#24515;&#12434;&#25345;&#12388;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12414;&#12383;&#12289;&#12354;&#12425;&#12422;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#20013;&#12391;
                     &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20877;&#35501;&#12415;&#36796;&#12415;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p><pre class="programlisting">// foo is an instance loaded earlier by the old session
Transaction t = session.beginTransaction(); // Obtain a new JDBC connection, start transaction

foo.setProperty("bar");

session.flush();    // Only for last transaction in conversation
t.commit();         // Also return JDBC connection
session.close();    // Only for last transaction in conversation</pre><p><code class="literal">foo</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12289;&#33258;&#20998;&#12434;&#12525;&#12540;&#12489;&#12375;&#12383; <code class="literal">Session</code> &#12434;&#12414;&#12384;&#30693;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#21476;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#19978;&#12391;&#26032;&#12375;&#12356;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#38283;&#22987;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#26032;&#12375;&#12356;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#21462;&#24471;&#12375;&#12289;&#12381;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#20877;&#38283;&#12373;&#12428;&#12414;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12467;&#12511;&#12483;&#12488;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12363;&#12425;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#20999;&#26029;&#12375;&#12289;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#12503;&#12540;&#12523;&#12395;&#36820;&#12375;&#12414;&#12377;&#12290;
                     &#20877;&#25509;&#32154;&#12375;&#12383;&#24460;&#12289;&#26356;&#26032;&#12375;&#12390;&#12356;&#12394;&#12356;&#12487;&#12540;&#12479;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12434;&#24375;&#21046;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#20182;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#12424;&#12426;&#26356;&#26032;&#12373;&#12428;&#12390;&#12356;&#12427;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;&#38306;&#12375;&#12390;&#12289; <code class="literal">LockMode.READ</code> &#12434;&#12388;&#12369;&#12390; <code class="literal">Session.lock()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#26356;&#26032;&#12375;&#12390; <span class="emphasis"><em>&#12356;&#12427;</em></span> &#12487;&#12540;&#12479;&#12434;&#12525;&#12483;&#12463;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#36890;&#24120;&#12289;&#25313;&#24373; <code class="literal">Session</code> &#12395; <code class="literal">FlushMode.MANUAL</code> &#12434;&#12475;&#12483;&#12488;&#12375;&#12414;&#12377;&#12290; &#26368;&#24460;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#21608;&#26399;&#12391;&#12398;&#12415;&#12289; &#23550;&#35441;&#12398;&#20013;&#12391;&#22793;&#26356;&#12373;&#12428;&#12383;&#12377;&#12409;&#12390;&#12434;&#23455;&#38555;&#12395;&#27704;&#32154;&#21270;&#12373;&#12379;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; &#12422;&#12360;&#12395;&#12289;&#26368;&#24460;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12415; <code class="literal">flush()</code> &#12458;&#12506;&#12524;&#12540;&#12471;&#12519;&#12531;&#12434;&#21547;&#12415;&#12414;&#12377;&#12290;&#12381;&#12375;&#12390;&#12289;&#23550;&#35441;&#12434;&#32066;&#12431;&#12425;&#12379;&#12427;&#12383;&#12417;&#12395;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12418; <code class="literal">close()</code> &#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12518;&#12540;&#12470;&#12540;&#12364;&#32771;&#24942;&#20013;&#12395;&#12289;&#26684;&#32013;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12394;&#12356;&#12367;&#12425;&#12356; <code class="literal">Session</code> &#12364;&#22823;&#12365;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;&#12371;&#12398;&#12497;&#12479;&#12540;&#12531;&#12399;&#21839;&#38988;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400;&#12289;<code class="literal">HttpSession</code> &#12399;&#21487;&#33021;&#12394;&#38480;&#12426;&#23567;&#12373;&#12367;&#20445;&#12388;&#12409;&#12365;&#12391;&#12377;&#12290; <code class="literal">Session</code> &#12399;&#65288;&#24375;&#21046;&#30340;&#12395;&#65289;&#65297;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12391;&#12418;&#12354;&#12426;&#12289; &#12525;&#12540;&#12489;&#12375;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12377;&#12409;&#12390;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; &#12362;&#12381;&#12425;&#12367;&#12289;&#12522;&#12463;&#12456;&#12473;&#12488;&#65295;&#12524;&#12473;&#12509;&#12531;&#12473;&#12398;&#12469;&#12452;&#12463;&#12523;&#12364;&#25968;&#22238;&#12391;&#12354;&#12428;&#12400;&#12289;&#12371;&#12398;&#25126;&#30053;&#12364;&#20351;&#12360;&#12414;&#12377;&#12290; &#65297;&#12388;&#12398;&#23550;&#35441;&#12398;&#12383;&#12417;&#12384;&#12369;&#12395; <code class="literal">Session</code> &#12434;&#20351;&#12358;&#12409;&#12365;&#12391;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#12377;&#12368;&#12395;&#26032;&#39854;&#12391;&#12394;&#12356;&#12487;&#12540;&#12479;&#12434;&#25345;&#12388;&#12383;&#12417;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#65288;Hibernate&#12398;&#20197;&#21069;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#12399;&#12289;&#26126;&#31034;&#30340;&#12394; <code class="literal">Session</code> &#12398; &#20999;&#26029;&#12392;&#20877;&#25509;&#32154;&#12364;&#24517;&#35201;&#12384;&#12387;&#12383;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12428;&#12425;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;&#38750;&#25512;&#22888;&#12395;&#12394;&#12426;&#12414;&#12375;&#12383;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#38283;&#22987;&#12392;&#32066;&#20102;&#12399;&#21516;&#12376;&#21177;&#26524;&#12364;&#12354;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290;&#65289; 
                  </p>
                  <p>&#20999;&#26029;&#12375;&#12383; <code class="literal">Session</code> &#12434;&#27704;&#32154;&#21270;&#23652;&#12398;&#36817;&#12367;&#12391;&#20445;&#25345;&#12377;&#12409;&#12365;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395; &#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#35328;&#12356;&#25563;&#12360;&#12427;&#12392;&#12289;&#65299;&#23652;&#29872;&#22659;&#12398;&#20013;&#12391; <code class="literal">Session</code> &#12434;&#20445;&#25345;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; EJB&#12473;&#12486;&#12540;&#12488;&#12501;&#12523;&#12475;&#12483;&#12471;&#12519;&#12531;Bean&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; <code class="literal">HttpSession</code> &#12395;&#26684;&#32013;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;Web&#23652;&#12395;&#36578;&#36865;&#12375;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356; &#65288;&#21029;&#12398;&#23652;&#12408;&#12398;&#12471;&#12522;&#12450;&#12521;&#12452;&#12474;&#12418;&#12375;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; 
                  </p>
                  <p>&#25313;&#24373;&#12475;&#12483;&#12471;&#12519;&#12531;&#12497;&#12479;&#12540;&#12531;&#65288;&#12418;&#12375;&#12367;&#12399;&#12289;<span class="emphasis"><em>session-per-conversation</em></span>&#65289;&#12399;&#12289; &#33258;&#21205;&#30340;&#12394;&#12459;&#12524;&#12531;&#12488;&#12475;&#12483;&#12471;&#12519;&#12531;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#31649;&#29702;&#12434;&#23455;&#26045;&#12377;&#12427;&#12424;&#12426;&#38627;&#12375;&#12356;&#12290; &#12371;&#12398;&#12383;&#12417;&#12395;&#12289;&#12354;&#12394;&#12383;&#12399; <code class="literal">CurrentSessionContext</code> &#12398;&#23455;&#35013;&#12434;&#20379;&#32102;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate Wiki&#12395;&#12354;&#12427;&#20363;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-optimistic-detached"></a>11.3.3. &#12487;&#12479;&#12483;&#12481;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26032;&#12375;&#12356; <code class="literal">Session</code>&#12395;&#12424;&#12426;&#12289;&#27704;&#32154;&#21270;&#12473;&#12488;&#12450;&#65288;&#35379;&#27880;&#65306;&#65316;&#65314;&#65289;&#12392;&#12398;&#23550;&#35441;&#12364;&#30330;&#29983;&#12375;&#12414;&#12377;&#12290; &#12414;&#12383;&#19968;&#26041;&#12289;&#21516;&#12376;&#27704;&#32154;&#24615;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#12398;&#23550;&#35441;&#12372;&#12392;&#12395;&#20877;&#21033;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#20803;&#12293;&#12399;&#20182;&#12398; <code class="literal">Session</code> &#12391;&#12525;&#12540;&#12489;&#12373;&#12428;&#12289; &#12487;&#12479;&#12483;&#12481;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#29366;&#24907;&#12434;&#25805;&#20316;&#12375;&#12414;&#12377;&#12290; &#12381;&#12375;&#12390;&#12289;<code class="literal">Session.update()</code> &#12418;&#12375;&#12367;&#12399;&#12289;<code class="literal">Session.saveOrUpdate()</code>&#12289; <code class="literal">Session.merge()</code> &#12434;&#20351;&#12387;&#12390;&#12289;&#12381;&#12428;&#12425;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20877;&#36861;&#21152;&#12375;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">// foo is an instance loaded by a previous Session
foo.setProperty("bar");
session = factory.openSession();
Transaction t = session.beginTransaction();
session.saveOrUpdate(foo); // Use merge() if "foo" might have been loaded already
t.commit();
session.close();</pre><p>Again, Hibernate will check instance versions during flush, throwing an exception if conflicting updates occurred. </p>
                  <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#20462;&#27491;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12371;&#12392;&#12434;&#30906;&#20449;&#12375;&#12390;&#12356;&#12427;&#22580;&#21512;&#12399;&#12289; <code class="literal">update()</code> &#12398;&#20195;&#12431;&#12426;&#12395;&#12289;<code class="literal">LockMode.READ</code> &#12434;&#20351;&#12387;&#12390;&#12289; <code class="literal">lock()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377; &#65288;&#12377;&#12409;&#12390;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#36802;&#22238;&#12375;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12481;&#12455;&#12483;&#12463;&#12434;&#23455;&#26045;&#12375;&#12414;&#12377;&#65289;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="transactions-optimistic-customizing"></a>11.3.4. &#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12491;&#12531;&#12464;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; <code class="literal">optimistic-lock</code> &#23646;&#24615;&#12395; <code class="literal">false</code> &#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;&#12289;&#29305;&#23450;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12383;&#12417;&#12395; &#33258;&#21205;&#12496;&#12540;&#12472;&#12519;&#12531;&#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12488;&#12434;&#28961;&#21177;&#12395;&#12391;&#12365;&#12414;&#12377;&#12290; &#12503;&#12525;&#12497;&#12486;&#12451;&#12364;&#12480;&#12540;&#12486;&#12451;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#12434;&#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12488;&#12375;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>Legacy database schemas are often static and can't be modified. Or, other applications might also access the same database
                     and don't know how to handle version numbers or even timestamps. In both cases, versioning can't rely on a particular column
                     in a table. To force a version check without a version or timestamp property mapping, with a comparison of the state of all
                     fields in a row, turn on <code class="literal">optimistic-lock="all"</code> in the <code class="literal">&lt;class&gt;</code> mapping. Note that this conceptually only works if Hibernate can compare the old and new state, i.e. if you use a single
                     long <code class="literal">Session</code> and not session-per-request-with-detached-objects. 
                  </p>
                  <p>&#12392;&#12365;&#12393;&#12365;&#12289;&#34892;&#12431;&#12428;&#12383;&#22793;&#26356;&#12364;&#37325;&#12394;&#12425;&#12394;&#12356;&#38480;&#12426;&#12289;&#21516;&#26178;&#12395;&#34892;&#12431;&#12428;&#12383;&#22793;&#26356;&#12434;&#21463;&#12369;&#20837;&#12428;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">&lt;class&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12395; <code class="literal">optimistic-lock="dirty"</code> &#12434;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289;&#12501;&#12521;&#12483;&#12471;&#12517;&#12377;&#12427;&#38555;&#12395;&#12289;Hibernate&#12399;&#12480;&#12540;&#12486;&#12451;&#12501;&#12451;&#12540;&#12523;&#12489;&#12398;&#12415;&#12434;&#27604;&#36611;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>In both cases, with dedicated version/timestamp columns or with full/dirty field comparison, Hibernate uses a single <code class="literal">UPDATE</code> statement (with an appropriate <code class="literal">WHERE</code> clause) per entity to execute the version check and update the information. If you use transitive persistence to cascade
                     reattachment to associated entities, Hibernate might execute unnecessary updates. This is usually not a problem, but <span class="emphasis"><em>on update</em></span> triggers in the database might be executed even when no changes have been made to detached instances. You can customize this
                     behavior by setting <code class="literal">select-before-update="true"</code> in the <code class="literal">&lt;class&gt;</code> mapping, forcing Hibernate to <code class="literal">SELECT</code> the instance to ensure that changes did actually occur, before updating the row. 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="transactions-locking"></a>11.4. &#24754;&#35251;&#30340;&#12525;&#12483;&#12463;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>It is not intended that users spend much time worrying about locking strategies. It's usually enough to specify an isolation
                  level for the JDBC connections and then simply let the database do all the work. However, advanced users may sometimes wish
                  to obtain exclusive pessimistic locks, or re-obtain locks at the start of a new transaction. 
               </p>
               <p>Hibernate&#12399;&#12356;&#12388;&#12418;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12525;&#12483;&#12463;&#12398;&#20181;&#32068;&#12415;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12513;&#12514;&#12522;&#20869;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#27770;&#12375;&#12390;&#12525;&#12483;&#12463;&#12375;&#12414;&#12379;&#12435;&#65281; </p>
               <p><code class="literal">LockMode</code> &#12463;&#12521;&#12473;&#12399;&#12289;Hibernate&#12364;&#29554;&#24471;&#12391;&#12365;&#12427;&#30064;&#12394;&#12427;&#12525;&#12483;&#12463;&#12524;&#12505;&#12523;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; &#20197;&#19979;&#12398;&#20181;&#32068;&#12415;&#12395;&#12424;&#12426;&#12289;&#12525;&#12483;&#12463;&#12434;&#29554;&#24471;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">LockMode.WRITE</code> &#12399;&#12289; Hibernate&#12364;&#34892;&#12434;&#26356;&#26032;&#12418;&#12375;&#12367;&#12399;&#25407;&#20837;&#12377;&#12427;&#38555;&#12395;&#33258;&#21205;&#30340;&#12395;&#24471;&#12425;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">LockMode.UPGRADE</code> &#12399;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12391;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12427;&#25991;&#27861; <code class="literal">SELECT ... FOR UPDATE</code> &#12434;&#20351;&#12387;&#12383;&#12289;&#26126;&#31034;&#30340;&#12394;&#12518;&#12540;&#12470;&#12540;&#35201;&#27714;&#12395;&#12424;&#12426;&#24471;&#12425;&#12428;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">LockMode.UPGRADE_NOWAIT</code> &#12399;&#12289; Oracle &#12391; <code class="literal">SELECT ... FOR UPDATE NOWAIT</code> &#12434;&#20351;&#12387;&#12383;&#12289; &#26126;&#31034;&#30340;&#12394;&#12518;&#12540;&#12470;&#12540;&#35201;&#27714;&#12395;&#12424;&#12426;&#24471;&#12425;&#12428;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">LockMode.READ</code> &#12399;&#12289; Repeatable Read&#12418;&#12375;&#12367;&#12399;Serializable&#12398;&#20998;&#38626;&#12524;&#12505;&#12523;&#12391;&#12289;&#12487;&#12540;&#12479;&#12434;&#35501;&#12435;&#12384;&#38555;&#12395;&#33258;&#21205;&#30340;&#12395;&#24471;&#12425;&#12428;&#12414;&#12377;&#12290; &#12362;&#12381;&#12425;&#12367;&#12289;&#26126;&#31034;&#30340;&#12394;&#12518;&#12540;&#12470;&#12540;&#35201;&#27714;&#12395;&#12424;&#12426;&#12289;&#20877;&#21462;&#24471;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">LockMode.NONE</code> &#12399;&#12289;&#12525;&#12483;&#12463;&#12375;&#12394;&#12356;&#12371;&#12392;&#12434;&#34920;&#12375;&#12414;&#12377;&#12290; <code class="literal">Transaction</code> &#12398;&#32066;&#12431;&#12426;&#12395;&#12289; &#12377;&#12409;&#12390;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#12371;&#12398;&#12525;&#12483;&#12463;&#12514;&#12540;&#12489;&#12395;&#20999;&#12426;&#26367;&#12431;&#12426;&#12414;&#12377;&#12290; <code class="literal">update()</code> &#12420; <code class="literal">saveOrUpdate()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#38306;&#36899;&#20184;&#12369;&#12425;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12418;&#12289;&#12371;&#12398;&#12525;&#12483;&#12463;&#12514;&#12540;&#12489;&#12391;&#20986;&#30330;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12300;&#26126;&#31034;&#30340;&#12394;&#12518;&#12540;&#12470;&#12540;&#35201;&#27714;&#12301;&#12392;&#12399;&#12289;&#19979;&#35352;&#12398;&#26041;&#27861;&#12398;&#65297;&#12388;&#12391;&#35328;&#12356;&#34920;&#12379;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">LockMode</code> &#12434;&#25351;&#23450;&#12375;&#12383; <code class="literal">Session.load()</code> &#12398;&#21628;&#12403;&#20986;&#12375;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">Session.lock()</code> &#12398;&#21628;&#12403;&#20986;&#12375;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">Query.setLockMode()</code> &#12398;&#21628;&#12403;&#20986;&#12375;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p><code class="literal">UPGRADE</code> &#12418;&#12375;&#12367;&#12399; <code class="literal">UPGRADE_NOWAIT</code> &#12364;&#25351;&#23450;&#12373;&#12428;&#12383; <code class="literal">Session.load()</code> &#12364;&#21628;&#12403;&#20986;&#12373;&#12428;&#12289; &#12363;&#12388;&#35201;&#27714;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#12414;&#12384;&#12525;&#12540;&#12489;&#12373;&#12428;&#12390;&#12356;&#12394;&#12363;&#12387;&#12383;&#22580;&#21512;&#12399;&#12289; <code class="literal">SELECT ... FOR UPDATE</code> &#12434;&#20351;&#12387;&#12390;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12525;&#12540;&#12489;&#12373;&#12428;&#12414;&#12377;&#12290; <code class="literal">load()</code> &#12391;&#21628;&#12403;&#20986;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12289; &#35201;&#27714;&#12373;&#12428;&#12390;&#12356;&#12427;&#12424;&#12426;&#21046;&#38480;&#12364;&#23569;&#12394;&#12356;&#12525;&#12483;&#12463;&#12391;&#12377;&#12391;&#12395;&#12525;&#12540;&#12489;&#12373;&#12428;&#12390;&#12356;&#12383;&#22580;&#21512;&#12399;&#12289; Hibernate&#12399;&#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12383;&#12417;&#12395;&#12289;<code class="literal">lock()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p>&#25351;&#23450;&#12373;&#12428;&#12383;&#12525;&#12483;&#12463;&#12514;&#12540;&#12489;&#12364; <code class="literal">READ</code> &#12418;&#12375;&#12367;&#12399;&#12289;<code class="literal">UPGRADE</code>&#12289; <code class="literal">UPGRADE_NOWAIT</code> &#12384;&#12387;&#12383;&#22580;&#21512;&#12289;<code class="literal">Session.lock()</code> &#12399;&#12289;&#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12398;&#12481;&#12455;&#12483;&#12463;&#12434;&#23455;&#26045;&#12375;&#12414;&#12377;&#12290; &#65288;<code class="literal">UPGRADE</code> &#12418;&#12375;&#12367;&#12399; <code class="literal">UPGRADE_NOWAIT</code> &#12398;&#22580;&#21512;&#12289; <code class="literal">SELECT ... FOR UPDATE</code> &#12364;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290;&#65289; 
               </p>
               <p>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#35201;&#27714;&#12373;&#12428;&#12383;&#12525;&#12483;&#12463;&#12514;&#12540;&#12489;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12394;&#12356;&#22580;&#21512;&#12289; Hibernate&#12399;&#65288;&#20363;&#22806;&#12434;&#25237;&#12370;&#12427;&#20195;&#12431;&#12426;&#12395;&#12289;&#65289;&#36969;&#20999;&#12394;&#20195;&#12431;&#12426;&#12398;&#12514;&#12540;&#12489;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12509;&#12540;&#12479;&#12502;&#12523;&#12391;&#12354;&#12427;&#12371;&#12392;&#12434;&#20445;&#35388;&#12375;&#12414;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="transactions-connection-release"></a>11.5. &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#38283;&#25918;&#12514;&#12540;&#12489;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12398;&#12524;&#12460;&#12471;&#12540;&#65288;2.x&#65289;&#12398;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#31649;&#29702;&#12395;&#38306;&#12377;&#12427;&#25391;&#12427;&#33310;&#12356;&#12399;&#12289; &#26368;&#21021;&#12395;&#24517;&#35201;&#12392;&#12375;&#12383;&#38555;&#12395; <code class="literal">Session</code> &#12364;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#24471;&#12427;&#12392;&#12356;&#12358;&#12418;&#12398;&#12391;&#12375;&#12383;&#12290; &#12381;&#12375;&#12390;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#38281;&#12376;&#12425;&#12428;&#12427;&#12414;&#12391;&#12289;&#12381;&#12398;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#20445;&#25345;&#12375;&#12414;&#12375;&#12383;&#12290; Hibernate 3.x&#12399;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#21046;&#24481;&#12377;&#12427;&#12363;&#12434;&#20253;&#12360;&#12427; &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#38283;&#25918;&#12514;&#12540;&#12489;&#12392;&#12356;&#12358;&#27010;&#24565;&#12434;&#23566;&#20837;&#12375;&#12414;&#12375;&#12383;&#12290;
                  &#20197;&#38477;&#12398;&#35696;&#35542;&#12399;&#12289;&#27083;&#25104;&#12373;&#12428;&#12383; <code class="literal">ConnectionProvider</code> &#12434;&#36890;&#12375;&#12390;&#25552;&#20379;&#12373;&#12428;&#12427; &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12395;&#36969;&#20999;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#30064;&#12394;&#12427;&#38283;&#25918;&#12514;&#12540;&#12489;&#12399;&#12289;<code class="literal">org.hibernate.ConnectionReleaseMode</code> &#12395; &#21015;&#25369;&#12373;&#12428;&#12383;&#20516;&#12395;&#12424;&#12426;&#30906;&#35469;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">ON_CLOSE</code> - is essentially the legacy behavior described above. The Hibernate session obtains a connection when it first needs to perform
                           some JDBC access and holds unto that connection until the session is closed. 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">AFTER_TRANSACTION</code> - <code class="literal">org.hibernate.Transaction</code> &#12364;&#23436;&#20102;&#12375;&#12383;&#24460;&#12289; &#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#38283;&#25918;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">AFTER_STATEMENT</code> &#65288;&#31309;&#26997;&#30340;&#12394;&#38283;&#25918;&#12392;&#12418;&#21628;&#12400;&#12428;&#12427;&#65289; - &#12377;&#12409;&#12390;&#12398;&#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#12364;&#12381;&#12428;&#12382;&#12428;&#23455;&#34892;&#12373;&#12428;&#12383;&#24460;&#12289;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12364;&#38283;&#25918;&#12373;&#12428;&#12414;&#12377;&#12290; &#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#12364;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#38306;&#36899;&#12377;&#12427;&#12522;&#12477;&#12540;&#12473;&#12434;&#38283;&#12356;&#12383;&#12414;&#12414;&#12395;&#12377;&#12427;&#22580;&#21512;&#12399;&#12289; &#12371;&#12398;&#31309;&#26997;&#30340;&#12394;&#38283;&#25918;&#12399;&#12473;&#12461;&#12483;&#12503;&#12373;&#12428;&#12414;&#12377;&#12290; &#20170;&#12398;&#12392;&#12371;&#12429;&#12289;&#12371;&#12428;&#12364;&#36215;&#12371;&#12427;&#12398;&#12399;
                           <code class="literal">org.hibernate.ScrollableResults</code> &#12364;&#20351;&#12431;&#12428;&#12427;&#22580;&#21512;&#12398;&#12415;&#12391;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12467;&#12531;&#12501;&#12451;&#12464;&#12524;&#12540;&#12471;&#12519;&#12531;&#12497;&#12521;&#12513;&#12540;&#12479;&#12398; <code class="literal">hibernate.connection.release_mode</code> &#12399;&#12289;&#20351;&#29992;&#12377;&#12427;&#38283;&#25918;&#12514;&#12540;&#12489;&#12434;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290; &#25351;&#23450;&#12391;&#12365;&#12427;&#20516;&#12399;&#27425;&#12398;&#36890;&#12426;&#12391;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">auto</code> &#65288;&#12487;&#12501;&#12457;&#12523;&#12488;&#65289; - &#12371;&#12428;&#12434;&#36984;&#25246;&#12377;&#12427;&#12392; <code class="literal">org.hibernate.transaction.TransactionFactory.getDefaultReleaseMode()</code> &#12513;&#12477;&#12483;&#12489;&#12395;&#12424;&#12387;&#12390;&#36820;&#12373;&#12428;&#12427;&#38283;&#25918;&#12514;&#12540;&#12489;&#12395;&#22996;&#35698;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;&#12289; JTATransactionFactory&#12395;&#12399;ConnectionReleaseMode.AFTER_STATEMENT&#12434;&#36820;&#12375;&#12289; JDBCTransactionFactory&#12395;&#12399;ConnectionReleaseMode.AFTER_TRANSACTION&#12434;&#36820;&#12375;&#12414;&#12377;&#12290;
                           &#12371;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434;&#22793;&#12360;&#12390;&#12358;&#12414;&#12367;&#12356;&#12387;&#12383;&#35430;&#12375;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12381;&#12428;&#12399;&#12289;&#12371;&#12398;&#35373;&#23450;&#20516;&#12364;&#21407;&#22240;&#12391;&#36215;&#12371;&#12427;&#38556;&#23475;&#12399;&#12289; &#12518;&#12540;&#12470;&#12467;&#12540;&#12489;&#12398;&#20013;&#12391;&#12496;&#12464;&#12420;&#38291;&#36949;&#12387;&#12383;&#26465;&#20214;&#12395;&#12394;&#12426;&#12420;&#12377;&#12356;&#12363;&#12425;&#12391;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">on_close</code> - ConnectionReleaseMode.ON_CLOSE&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#35373;&#23450;&#12399;&#24460;&#26041;&#20114;&#25563;&#12398;&#12383;&#12417;&#12395;&#27531;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12364;&#12289;&#20351;&#12431;&#12394;&#12356;&#12371;&#12392;&#12434;&#24375;&#12367;&#21223;&#12417;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">after_transaction</code> - ConnectionReleaseMode.AFTER_TRANSACTION&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#35373;&#23450;&#12399;JTA&#29872;&#22659;&#12398;&#20013;&#12391;&#12399;&#20351;&#12358;&#12409;&#12365;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; ConnectionReleaseMode.AFTER_TRANSACTION&#12434;&#25351;&#23450;&#12375;&#12289;&#33258;&#21205;&#12467;&#12511;&#12483;&#12488;&#12514;&#12540;&#12489;&#12398;&#20013;&#12391;&#12399;&#12289;
                           &#38283;&#25918;&#12514;&#12540;&#12489;&#12364;AFTER_STATEMENT&#12391;&#12354;&#12427;&#12363;&#12398;&#12424;&#12358;&#12395;&#12289;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12399;&#38283;&#25918;&#12373;&#12428;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">after_statement</code> - ConnectionReleaseMode.AFTER_STATEMENT&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12373;&#12425;&#12395;&#12289;&#35373;&#23450;&#12373;&#12428;&#12383; <code class="literal">ConnectionProvider</code> &#12399;&#12289; &#12371;&#12398;&#35373;&#23450; (<code class="literal">supportsAggressiveRelease()</code>) &#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363; &#12434;&#35519;&#12409;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#12418;&#12375;&#12381;&#12358;&#12391;&#12394;&#12356;&#22580;&#21512;&#12289;&#38283;&#25918;&#12514;&#12540;&#12489;&#12399;ConnectionReleaseMode.AFTER_TRANSACTION &#12395;&#12522;&#12475;&#12483;&#12488;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#35373;&#23450;&#12399;&#27425;&#12398;&#29872;&#22659;&#12391;&#12398;&#12415;&#23433;&#20840;&#12391;&#12377;&#12290; &#12381;&#12428;&#12399;&#12289;<code class="literal">ConnectionProvider.getConnection()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12383;&#12403;&#12395; &#22522;&#30436;&#12392;&#12394;&#12427;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12364;&#21516;&#12376;&#12418;&#12398;&#12434;&#21462;&#24471;&#12391;&#12365;&#12427;&#12363;&#12289; &#21516;&#12376;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12364;&#24471;&#12425;&#12428;&#12427;&#12371;&#12392;&#12364;&#21839;&#38988;&#12392;&#12394;&#12425;&#12394;&#12356;&#33258;&#21205;&#12467;&#12511;&#12483;&#12488;&#29872;&#22659;&#12398;&#20013;&#12391;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="events"></a>&#31532;12&#31456; &#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12392;&#12452;&#12505;&#12531;&#12488;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;Hibernate&#12398;&#20869;&#37096;&#12391;&#30330;&#29983;&#12377;&#12427;&#12452;&#12505;&#12531;&#12488;&#12395;&#23550;&#24540;&#12391;&#12365;&#12427;&#12392;&#24441;&#12395;&#31435;&#12388;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12354;&#12427;&#31278;&#12398;&#19968;&#33324;&#30340;&#12394;&#27231;&#33021;&#12434;&#23455;&#35013;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12289; &#12414;&#12383;Hibernate&#12398;&#27231;&#33021;&#12434;&#25313;&#24373;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-interceptors"></a>12.1. &#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Interceptor</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#20351;&#12387;&#12390;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12363;&#12425;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12408;&#12467;&#12540;&#12523;&#12496;&#12483;&#12463;&#12434;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12424;&#12426;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20445;&#23384;&#12289;&#26356;&#26032;&#12289;&#21066;&#38500;&#12289;&#35501;&#12415;&#36796;&#12415;&#12398;&#21069;&#12395;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#26908;&#26619;&#12375;&#12383;&#12426;&#25805;&#20316;&#12375;&#12383;&#12426;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#30435;&#26619;&#24773;&#22577;&#12398;&#36861;&#36321;&#12395;&#21033;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;
                  &#19979;&#12398;&#20363;&#12391; <code class="literal">Interceptor</code> &#12399; <code class="literal">Auditable</code> &#12364;&#20316;&#25104;&#12373;&#12428;&#12427;&#12392;&#33258;&#21205;&#30340;&#12395; <code class="literal">createTimestamp</code> &#12434;&#35373;&#23450;&#12375;&#12289; <code class="literal">Auditable</code> &#12364;&#26356;&#26032;&#12373;&#12428;&#12427;&#12392;&#33258;&#21205;&#30340;&#12395; <code class="literal">lastUpdateTimestamp</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#26356;&#26032;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p><code class="literal">Interceptor</code> &#12434;&#30452;&#25509;&#23455;&#35013;&#12375;&#12383;&#12426;&#12289; &#65288;&#12373;&#12425;&#12395;&#12424;&#12356;&#12398;&#12399;&#65289;<code class="literal">EmptyInterceptor</code> &#12434;&#25313;&#24373;&#12375;&#12383;&#12426;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">package org.hibernate.test;

import java.io.Serializable;
import java.util.Date;
import java.util.Iterator;

import org.hibernate.EmptyInterceptor;
import org.hibernate.Transaction;
import org.hibernate.type.Type;

public class AuditInterceptor extends EmptyInterceptor {

    private int updates;
    private int creates;
    private int loads;

    public void onDelete(Object entity,
                         Serializable id,
                         Object[] state,
                         String[] propertyNames,
                         Type[] types) {
        // do nothing
    }

    public boolean onFlushDirty(Object entity,
                                Serializable id,
                                Object[] currentState,
                                Object[] previousState,
                                String[] propertyNames,
                                Type[] types) {

        if ( entity instanceof Auditable ) {
            updates++;
            for ( int i=0; i &lt; propertyNames.length; i++ ) {
                if ( "lastUpdateTimestamp".equals( propertyNames[i] ) ) {
                    currentState[i] = new Date();
                    return true;
                }
            }
        }
        return false;
    }

    public boolean onLoad(Object entity,
                          Serializable id,
                          Object[] state,
                          String[] propertyNames,
                          Type[] types) {
        if ( entity instanceof Auditable ) {
            loads++;
        }
        return false;
    }

    public boolean onSave(Object entity,
                          Serializable id,
                          Object[] state,
                          String[] propertyNames,
                          Type[] types) {

        if ( entity instanceof Auditable ) {
            creates++;
            for ( int i=0; i&lt;propertyNames.length; i++ ) {
                if ( "createTimestamp".equals( propertyNames[i] ) ) {
                    state[i] = new Date();
                    return true;
                }
            }
        }
        return false;
    }

    public void afterTransactionCompletion(Transaction tx) {
        if ( tx.wasCommitted() ) {
            System.out.println("Creations: " + creates + ", Updates: " + updates, "Loads: " + loads);
        }
        updates=0;
        creates=0;
        loads=0;
    }

}</pre><p>&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12395;&#12399;&#20108;&#31278;&#39006;&#12354;&#12426;&#12414;&#12377;&#65306; <code class="literal">Session</code> &#12473;&#12467;&#12540;&#12503;&#12398;&#12418;&#12398;&#12392; <code class="literal">SessionFactory</code> &#12473;&#12467;&#12540;&#12503;&#12398;&#12418;&#12398;&#12391;&#12377;&#12290; 
               </p>
               <p><code class="literal">Session</code> &#12473;&#12467;&#12540;&#12503;&#12398;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12399;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#12458;&#12540;&#12503;&#12531;&#12377;&#12427;&#12392;&#12365;&#12395;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; <code class="literal">Interceptor</code> &#12434;&#24341;&#25968;&#12395;&#21462;&#12427;SessionFactory.openSession() &#12398;&#12458;&#12540;&#12496;&#12540;&#12525;&#12540;&#12489;&#12513;&#12477;&#12483;&#12489;&#12398;&#19968;&#12388;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Session session = sf.openSession( new AuditInterceptor() );</pre><p><code class="literal">SessionFactory</code> &#12473;&#12467;&#12540;&#12503;&#12398;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12399; <code class="literal">Configuration</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20351;&#12387;&#12390;&#30331;&#37682;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399; <code class="literal">SessionFactory</code> &#12398;&#27083;&#31689;&#12424;&#12426;&#12418;&#20778;&#20808;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#22580;&#21512;&#12289;&#25552;&#20379;&#12373;&#12428;&#12427;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12399; <code class="literal">SessionFactory</code> &#12363;&#12425;&#12458;&#12540;&#12503;&#12531;&#12373;&#12428;&#12383;&#12377;&#12409;&#12390;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12395;&#36969;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#20351;&#29992;&#12377;&#12427;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12434;&#26126;&#31034;&#30340;&#12395;&#25351;&#23450;&#12375;&#12390;&#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12394;&#12356;&#38480;&#12426;&#12289;&#12381;&#12358;&#12394;&#12426;&#12414;&#12377;&#12290; <code class="literal">SessionFactory</code> &#12473;&#12467;&#12540;&#12503;&#12398;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12399;&#12473;&#12524;&#12483;&#12489;&#12475;&#12540;&#12501;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#35079;&#25968;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#65288;&#28508;&#22312;&#30340;&#12395;&#65289;&#12371;&#12398;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12434;&#21516;&#26178;&#20006;&#34892;&#12391;&#20351;&#29992;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12383;&#12417;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#22266;&#26377;&#12398;&#29366;&#24907;&#12434;&#26684;&#32013;&#12375;&#12394;&#12356;&#12424;&#12358;&#12395;&#27671;&#12434;&#12388;&#12369;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p><pre class="programlisting">new Configuration().setInterceptor( new AuditInterceptor() );</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-events"></a>12.2. &#12452;&#12505;&#12531;&#12488;&#12471;&#12473;&#12486;&#12512;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27704;&#32154;&#21270;&#23652;&#12391;&#29305;&#23450;&#12398;&#12452;&#12505;&#12531;&#12488;&#12395;&#23550;&#24540;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#22580;&#21512;&#12289; Hibernate3&#12398; <span class="emphasis"><em>&#12452;&#12505;&#12531;&#12488;</em></span> &#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12434;&#20351;&#12358;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12452;&#12505;&#12531;&#12488;&#12471;&#12473;&#12486;&#12512;&#12399;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12392;&#19968;&#32210;&#12395;&#20351;&#12358;&#12363;&#12289;&#12414;&#12383;&#12399;&#12452;&#12531;&#12479;&#12540;&#12475;&#12503;&#12479;&#12398;&#20195;&#12431;&#12426;&#12392;&#12375;&#12390;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p>
               <p>&#26412;&#36074;&#30340;&#12395; <code class="literal">Session</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#12377;&#12409;&#12390;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;&#12289; 1&#20491;&#12398;&#12452;&#12505;&#12531;&#12488;&#12392;&#30456;&#20114;&#12395;&#38306;&#36899;&#12375;&#12414;&#12377;&#12290; &#20363;&#12360;&#12400; <code class="literal">LoadEvent</code>&#12289;<code class="literal">FlushEvent</code> &#12394;&#12393;&#12364;&#12354;&#12426;&#12414;&#12377; &#65288;&#23450;&#32681;&#28168;&#12415;&#12398;&#12452;&#12505;&#12531;&#12488;&#22411;&#12398;&#19968;&#35239;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12398;DTD&#12420; <code class="literal">org.hibernate.event</code> &#12497;&#12483;&#12465;&#12540;&#12472;&#12434;&#35519;&#12409;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; &#12522;&#12463;&#12456;&#12473;&#12488;&#12364;&#12371;&#12428;&#12425;&#12398;&#12513;&#12477;&#12483;&#12489;&#12398;1&#12388;&#12363;&#12425;&#20316;&#12425;&#12428;&#12427;&#12392;&#12365;&#12289; Hibernate&#12398; <code class="literal">Session</code> &#12399;&#36969;&#20999;&#12394;&#12452;&#12505;&#12531;&#12488;&#12434;&#29983;&#25104;&#12375;&#12289; &#12381;&#12398;&#12452;&#12505;&#12531;&#12488;&#22411;&#12395;&#35373;&#23450;&#12373;&#12428;&#12383;&#12452;&#12505;&#12531;&#12488;&#12522;&#12473;&#12490;&#12395;&#28193;&#12375;&#12414;&#12377;&#12290; &#12377;&#12400;&#12425;&#12375;&#12356;&#12371;&#12392;&#12395;&#12289;&#12371;&#12428;&#12425;&#12398;&#12522;&#12473;&#12490;&#12399;&#12381;&#12398;&#12513;&#12477;&#12483;&#12489;&#12392;&#21516;&#12376;&#20966;&#29702;&#12434;&#23455;&#35013;&#12375;&#12414;&#12377;&#12290; &#12392;&#12399;&#12356;&#12360;&#12289;&#12522;&#12473;&#12490;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#19968;&#12388;&#12434;&#33258;&#30001;&#12395;&#12459;&#12473;&#12479;&#12512;&#23455;&#35013;&#12391;&#12365;&#12414;&#12377; &#65288;&#12388;&#12414;&#12426;&#12289;<code class="literal">LoadEvent</code> &#12399;&#30331;&#37682;&#12373;&#12428;&#12383; <code class="literal">LoadEventListener</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#23455;&#35013;&#12395;&#12424;&#12426;&#20966;&#29702;&#12373;&#12428;&#12414;&#12377;&#65289;&#12290; &#12381;&#12398;&#22580;&#21512;&#12289;&#12381;&#12398;&#23455;&#35013;&#12395;&#12399; <code class="literal">Session</code> &#12363;&#12425;&#20316;&#12425;&#12428;&#12383;&#12393;&#12398;&#12424;&#12358;&#12394; <code class="literal">load()</code> &#12522;&#12463;&#12456;&#12473;&#12488;&#12434;&#12418;&#20966;&#29702;&#12377;&#12427;&#36012;&#20219;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12522;&#12473;&#12490;&#12399;&#20107;&#23455;&#19978;&#12471;&#12531;&#12464;&#12523;&#12488;&#12531;&#12391;&#12354;&#12427;&#12392;&#35211;&#12394;&#12379;&#12414;&#12377;&#12290; &#12388;&#12414;&#12426;&#12522;&#12473;&#12490;&#12399;&#12522;&#12463;&#12456;&#12473;&#12488;&#38291;&#12391;&#20849;&#26377;&#12373;&#12428;&#12427;&#12383;&#12417;&#12289; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12392;&#12375;&#12390;&#29366;&#24907;&#12434;&#20445;&#25345;&#12377;&#12427;&#12409;&#12365;&#12391;&#12399;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; </p>
               <p>&#12459;&#12473;&#12479;&#12512;&#12522;&#12473;&#12490;&#12399;&#20966;&#29702;&#12375;&#12383;&#12356;&#12452;&#12505;&#12531;&#12488;&#12395;&#12388;&#12356;&#12390;&#36969;&#20999;&#12394;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12377;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#20415;&#21033;&#12394;&#22522;&#24213;&#12463;&#12521;&#12473;&#12398;&#12358;&#12385;&#12398;&#19968;&#12388;&#12434;&#32153;&#25215;&#12375;&#12390;&#12418;&#12424;&#12356;&#12391;&#12377; &#65288;&#12414;&#12383;&#12399;Hibernate&#12364;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#20351;&#29992;&#12377;&#12427;&#12452;&#12505;&#12531;&#12488;&#12522;&#12473;&#12490;&#12434;&#32153;&#25215;&#12375;&#12390;&#12418;&#12424;&#12356;&#12391;&#12377;&#12290; &#12377;&#12400;&#12425;&#12375;&#12356;&#12371;&#12392;&#12395;&#12289;&#12371;&#12398;&#30446;&#30340;&#12398;&#12383;&#12417;&#12395;&#38750;final&#12392;&#12375;&#12390;&#23459;&#35328;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290;
                  &#12459;&#12473;&#12479;&#12512;&#12522;&#12473;&#12490;&#12399; <code class="literal">Configuration</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20351;&#12387;&#12390;&#12503;&#12525;&#12464;&#12521;&#12512;&#12363;&#12425;&#30331;&#37682;&#12377;&#12427;&#12363;&#12289; Hibernate&#12398;XML&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12391;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377; &#65288;&#12503;&#12525;&#12497;&#12486;&#12451;&#12501;&#12449;&#12452;&#12523;&#12391;&#23459;&#35328;&#30340;&#12395;&#35373;&#23450;&#12377;&#12427;&#26041;&#27861;&#12399;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12414;&#12379;&#12435;&#65289;&#12290; &#12459;&#12473;&#12479;&#12512;&#12525;&#12540;&#12489;&#12452;&#12505;&#12531;&#12488;&#12522;&#12473;&#12490;&#12398;&#20363;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">public class MyLoadListener implements LoadEventListener {
    // this is the single method defined by the LoadEventListener interface
    public void onLoad(LoadEvent event, LoadEventListener.LoadType loadType)
            throws HibernateException {
        if ( !MySecurity.isAuthorized( event.getEntityClassName(), event.getEntityId() ) ) {
            throw MySecurityException("Unauthorized access");
        }
    }
}</pre><p>&#12487;&#12501;&#12457;&#12523;&#12488;&#12522;&#12473;&#12490;&#20197;&#22806;&#12398;&#12522;&#12473;&#12490;&#12434;&#20351;&#12358;&#12395;&#12399;&#12289;Hibernate&#12408;&#12398;&#35373;&#23450;&#12418;&#24517;&#35201;&#12391;&#12377;&#65306; </p><pre class="programlisting">&lt;hibernate-configuration&gt;
    &lt;session-factory&gt;
        ...
        &lt;event type="load"&gt;
            &lt;listener class="com.eg.MyLoadListener"/&gt;
            &lt;listener class="org.hibernate.event.def.DefaultLoadEventListener"/&gt;
        &lt;/event&gt;
    &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;</pre><p>&#12414;&#12383;&#12381;&#12398;&#20182;&#12395;&#12289;&#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#30331;&#37682;&#12377;&#12427;&#26041;&#27861;&#12418;&#12354;&#12426;&#12414;&#12377;&#65306; </p><pre class="programlisting">Configuration cfg = new Configuration();
LoadEventListener[] stack = { new MyLoadListener(), new DefaultLoadEventListener() };
cfg.EventListeners().setLoadEventListeners(stack);</pre><p>&#12522;&#12473;&#12490;&#12434;&#23459;&#35328;&#30340;&#12395;&#30331;&#37682;&#12377;&#12427;&#12392;&#12289;&#12381;&#12398;&#12522;&#12473;&#12490;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20849;&#26377;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#35079;&#25968;&#12398; <code class="literal">&lt;listener/&gt;</code> &#35201;&#32032;&#12391;&#21516;&#12376;&#12463;&#12521;&#12473;&#21517;&#12364;&#20351;&#12431;&#12428;&#12427;&#12392;&#12289; &#12381;&#12428;&#12382;&#12428;&#12398;&#21442;&#29031;&#12399;&#12381;&#12398;&#12463;&#12521;&#12473;&#12398;&#21029;&#12293;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#25351;&#12377;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12522;&#12473;&#12490;&#22411;&#12398;&#38291;&#12391;&#12522;&#12473;&#12490;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20849;&#26377;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12428;&#12400;&#12289; &#12503;&#12525;&#12464;&#12521;&#12512;&#12391;&#30331;&#37682;&#12377;&#12427;&#26041;&#27861;&#12434;&#25505;&#12425;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <p>&#12394;&#12380;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12375;&#12390;&#12289;&#29305;&#21270;&#12375;&#12383;&#22411;&#12434;&#35373;&#23450;&#26178;&#12395;&#25351;&#23450;&#12377;&#12427;&#12398;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12522;&#12473;&#12490;&#12398;&#23455;&#35013;&#12463;&#12521;&#12473;&#12395;&#12289;&#35079;&#25968;&#12398;&#12452;&#12505;&#12531;&#12488;&#12522;&#12473;&#12490;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12391;&#12365;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290; &#30331;&#37682;&#26178;&#12395;&#36861;&#21152;&#12391;&#22411;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;&#12459;&#12473;&#12479;&#12512;&#12522;&#12473;&#12490;&#12398;on/off&#12434;&#35373;&#23450;&#26178;&#12395;&#31777;&#21336;&#12395;&#20999;&#12426;&#26367;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290;
                  
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-decl-security"></a>12.3. Hibernate&#12398;&#23459;&#35328;&#30340;&#12394;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#19968;&#33324;&#30340;&#12395;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#23459;&#35328;&#30340;&#12394;&#12475;&#12461;&#12517;&#12522;&#12486;&#12451;&#12399;&#12289;&#12475;&#12483;&#12471;&#12519;&#12531;&#12501;&#12449;&#12469;&#12540;&#12489;&#23652;&#12391;&#31649;&#29702;&#12375;&#12414;&#12377;&#12290; &#29694;&#22312;&#12289;Hiberenate3&#12399;JACC&#12391;&#35377;&#21487;&#12375;&#12363;&#12388;&#12289;JAAS&#12391;&#35469;&#35388;&#12375;&#12383;&#12450;&#12463;&#12471;&#12519;&#12531;&#12434;&#35377;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12452;&#12505;&#12531;&#12488;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12398;&#26368;&#19978;&#20301;&#12395;&#32068;&#12415;&#36796;&#12414;&#12428;&#12390;&#12356;&#12427;&#12458;&#12503;&#12471;&#12519;&#12531;&#12398;&#27231;&#33021;&#12391;&#12377;&#12290;
                  
               </p>
               <p>&#12414;&#12378;&#26368;&#21021;&#12395;&#12289;&#36969;&#20999;&#12394;&#12452;&#12505;&#12531;&#12488;&#12522;&#12473;&#12490;&#12434;&#35373;&#23450;&#12375;&#12390;JAAS&#35469;&#35388;&#12434;&#20351;&#12360;&#12427;&#12424;&#12358;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; </p><pre class="programlisting">&lt;listener type="pre-delete" class="org.hibernate.secure.JACCPreDeleteEventListener"/&gt;
&lt;listener type="pre-update" class="org.hibernate.secure.JACCPreUpdateEventListener"/&gt;
&lt;listener type="pre-insert" class="org.hibernate.secure.JACCPreInsertEventListener"/&gt;
&lt;listener type="pre-load" class="org.hibernate.secure.JACCPreLoadEventListener"/&gt;</pre><p>&#29305;&#23450;&#12398;&#12452;&#12505;&#12531;&#12488;&#22411;&#12395;&#23550;&#12375;&#12390;&#12385;&#12423;&#12358;&#12393;&#19968;&#12388;&#12398;&#12522;&#12473;&#12490;&#12364;&#12354;&#12427;&#12392;&#12365;&#12289; <code class="literal">&lt;listener type="..." class="..."/&gt;</code> &#12399; <code class="literal">&lt;event type="..."&gt;&lt;listener class="..."/&gt;&lt;/event&gt;</code> &#12398;&#31777;&#30053;&#24418;&#12395;&#36942;&#12366;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#27425;&#12395;&#12289;&#21516;&#12376;&#12367; <code class="literal">hibernate.cfg.xml</code> &#12391;&#12525;&#12540;&#12523;&#12395;&#12497;&#12540;&#12511;&#12483;&#12471;&#12519;&#12531;&#12434;&#19982;&#12360;&#12390;&#12367;&#12384;&#12373;&#12356;&#65306; 
               </p><pre class="programlisting">&lt;grant role="admin" entity-name="User" actions="insert,update,read"/&gt;
&lt;grant role="su" entity-name="User" actions="*"/&gt;</pre><p>&#12371;&#12398;&#12525;&#12540;&#12523;&#21517;&#12399;&#20351;&#29992;&#12377;&#12427;JACC&#12503;&#12525;&#12496;&#12452;&#12480;&#12395;&#29702;&#35299;&#12373;&#12428;&#12427;&#12525;&#12540;&#12523;&#12391;&#12377;&#12290; </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="batch"></a>&#31532;13&#31456; &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&atilde;&#129;&laquo;100,000&egrave;&iexcl;&#140;&atilde;&#130;&#146;&aelig;&#140;&iquest;&aring;&#133;&yen;&atilde;&#129;&#153;&atilde;&#130;&#139;&aelig;&#132;&#154;&ccedil;&#155;&acute;&atilde;&#129;&ordf;&aelig;&#150;&sup1;&aelig;&sup3;&#149;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&ordf;&atilde;&#130;&#130;&atilde;&#129;&reg;&atilde;&#129;&sect;&atilde;&#129;&#153;&iuml;&frac14;&#154; </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();
for ( int i=0; i&lt;100000; i++ ) {
    Customer customer = new Customer(.....);
    session.save(customer);
}
tx.commit();
session.close();</pre><p>&atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;50,000&ccedil;&#149;&ordf;&ccedil;&#155;&reg;&atilde;&#129;&reg;&egrave;&iexcl;&#140;&atilde;&#129;&reg;&atilde;&#129;&#130;&atilde;&#129;&#159;&atilde;&#130;&#138;&atilde;&#129;&sect; <code class="literal">OutOfMemoryException</code> &atilde;&#129;&sect;&aring;&curren;&plusmn;&aelig;&#149;&#151;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&sect;&atilde;&#129;&#151;&atilde;&#130;&#135;&atilde;&#129;&#134;&atilde;&#128;&#130; Hibernate&atilde;&#129;&#140;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#131;&not;&atilde;&#131;&#153;&atilde;&#131;&laquo;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#129;&sect;&atilde;&#128;&#129; &aelig;&#150;&deg;&atilde;&#129;&#151;&atilde;&#129;&#143;&aelig;&#140;&iquest;&aring;&#133;&yen;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159;&atilde;&#129;&#153;&atilde;&#129;&sup1;&atilde;&#129;&brvbar;&atilde;&#129;&reg;
               <code class="literal">Customer</code> &atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#130;&#146;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#139;&atilde;&#130;&#137;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; 
            </p>
            <p>&atilde;&#129;&#147;&atilde;&#129;&reg;&ccedil;&laquo;&nbsp;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#129;&reg;&aring;&#149;&#143;&eacute;&iexcl;&#140;&atilde;&#130;&#146;&aring;&#155;&#158;&eacute;&#129;&iquest;&atilde;&#129;&#153;&atilde;&#130;&#139;&aelig;&#150;&sup1;&aelig;&sup3;&#149;&atilde;&#130;&#146;&ccedil;&acute;&sup1;&auml;&raquo;&#139;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#151;&atilde;&#129;&#139;&atilde;&#129;&#151;&atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aring;&#135;&brvbar;&ccedil;&#144;&#134;&atilde;&#130;&#146;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&ordf;&atilde;&#130;&#137;&atilde;&#128;&#129;JDBC&atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&atilde;&#129;&#140;&auml;&frac12;&iquest;&ccedil;&#148;&uml;&aring;&#143;&macr;&egrave;&#131;&frac12;&atilde;&#129;&sect;&atilde;&#129;&#130;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&eacute;&#157;&#158;&aring;&cedil;&cedil;&atilde;&#129;&laquo;&eacute;&#135;&#141;&egrave;&brvbar;&#129;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130;
               &atilde;&#129;&#157;&atilde;&#129;&#134;&atilde;&#129;&sect;&atilde;&#129;&ordf;&atilde;&#129;&#145;&atilde;&#130;&#140;&atilde;&#129;&deg;&aelig;&#137;&#139;&eacute;&nbsp;&#131;&atilde;&#129;&ordf;&atilde;&#131;&#145;&atilde;&#131;&#149;&atilde;&#130;&copy;&atilde;&#131;&frac14;&atilde;&#131;&#158;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#129;&#140;&aring;&frac34;&#151;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; JDBC&atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&atilde;&#130;&micro;&atilde;&#130;&curren;&atilde;&#130;&ordm;&atilde;&#130;&#146;&aelig;&#137;&#139;&eacute;&nbsp;&#131;&atilde;&#129;&ordf;&aelig;&#149;&deg;&aring;&#128;&curren;&iuml;&frac14;&#136;&auml;&frac34;&#139;&atilde;&#129;&#136;&atilde;&#129;&deg;&atilde;&#128;&#129;10&atilde;&#129;&#139;&atilde;&#130;&#137;50&iuml;&frac14;&#137;&atilde;&#129;&laquo;&egrave;&uml;&shy;&aring;&reg;&#154;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&iuml;&frac14;&#154;
               
            </p><pre class="programlisting">hibernate.jdbc.batch_size 20</pre><p><a name="disablebatching"></a>Note that Hibernate disables insert batching at the JDBC level transparently if you use an <code class="literal">identiy</code> identifier generator. 
            </p>
            <p>&atilde;&#129;&frac34;&atilde;&#129;&#159;&auml;&ordm;&#140;&aelig;&not;&iexcl;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#129;&#140;&aring;&#133;&uml;&atilde;&#129;&#143;&aring;&#138;&sup1;&atilde;&#129;&#139;&atilde;&#129;&ordf;&atilde;&#129;&#132;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#130;&raquo;&atilde;&#130;&sup1;&atilde;&#129;&sect;&atilde;&#128;&#129; &atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&ordf;&auml;&frac12;&#156;&aelig;&yen;&shy;&atilde;&#130;&#146;&atilde;&#129;&#151;&atilde;&#129;&#159;&atilde;&#129;&#132;&atilde;&#129;&uml;&aelig;&#128;&#157;&atilde;&#129;&#134;&atilde;&#129;&#139;&atilde;&#130;&#130;&atilde;&#129;&#151;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&iuml;&frac14;&#154;
               
            </p><pre class="programlisting">hibernate.cache.use_second_level_cache false</pre><p>&atilde;&#129;&#151;&atilde;&#129;&#139;&atilde;&#129;&#151;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;&ccedil;&micro;&para;&aring;&macr;&frac34;&atilde;&#129;&laquo;&aring;&iquest;&#133;&egrave;&brvbar;&#129;&atilde;&#129;&uml;&atilde;&#129;&#132;&atilde;&#129;&#134;&atilde;&#130;&#143;&atilde;&#129;&#145;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; &atilde;&#129;&ordf;&atilde;&#129;&#156;&atilde;&#129;&ordf;&atilde;&#130;&#137;&aelig;&#152;&#142;&ccedil;&curren;&ordm;&ccedil;&#154;&#132;&atilde;&#129;&laquo; <code class="literal">CacheMode</code> &atilde;&#130;&#146;&egrave;&uml;&shy;&aring;&reg;&#154;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129; &auml;&ordm;&#140;&aelig;&not;&iexcl;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#129;&uml;&atilde;&#129;&reg;&ccedil;&#155;&cedil;&auml;&ordm;&#146;&auml;&frac12;&#156;&ccedil;&#148;&uml;&atilde;&#130;&#146;&ccedil;&#132;&iexcl;&aring;&#138;&sup1;&atilde;&#129;&laquo;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#130;&#139;&atilde;&#129;&#139;&atilde;&#130;&#137;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="batch-inserts"></a>13.1. &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aelig;&#140;&iquest;&aring;&#133;&yen;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&aelig;&#150;&deg;&atilde;&#129;&#151;&atilde;&#129;&#132;&atilde;&#130;&ordf;&atilde;&#131;&#150;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#130;&macr;&atilde;&#131;&#136;&atilde;&#130;&#146;&aelig;&deg;&cedil;&ccedil;&para;&#154;&aring;&#140;&#150;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&uml;&atilde;&#129;&#141;&atilde;&#128;&#129;&auml;&cedil;&#128;&aelig;&not;&iexcl;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#129;&reg;&atilde;&#130;&micro;&atilde;&#130;&curren;&atilde;&#130;&ordm;&atilde;&#130;&#146;&aring;&#136;&para;&eacute;&#153;&#144;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#159;&atilde;&#130;&#129;&atilde;&#128;&#129; &atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#130;&#146;
                  <code class="literal">flush()</code> &atilde;&#129;&#151;&atilde;&#129;&brvbar; <code class="literal">clear()</code> &atilde;&#129;&#151;&atilde;&#129;&ordf;&atilde;&#129;&#145;&atilde;&#130;&#140;&atilde;&#129;&deg;&atilde;&#129;&ordf;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; 
               </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();
   
for ( int i=0; i&lt;100000; i++ ) {
    Customer customer = new Customer(.....);
    session.save(customer);
    if ( i % 20 == 0 ) { //20, same as the JDBC batch size
        //flush a batch of inserts and release memory:
        session.flush();
        session.clear();
    }
}
   
tx.commit();
session.close();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="batch-update"></a>13.2. &atilde;&#131;&#144;&atilde;&#131;&#131;&atilde;&#131;&#129;&aelig;&#155;&acute;&aelig;&#150;&deg;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#130;&#146;&aring;&frac34;&copy;&aring;&#133;&#131;&atilde;&#129;&#151;&atilde;&#129;&#159;&atilde;&#130;&#138;&aelig;&#155;&acute;&aelig;&#150;&deg;&atilde;&#129;&#151;&atilde;&#129;&#159;&atilde;&#130;&#138;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&laquo;&atilde;&#129;&macr;&aring;&#144;&#140;&atilde;&#129;&#152;&atilde;&#130;&cent;&atilde;&#130;&curren;&atilde;&#131;&#135;&atilde;&#130;&pound;&atilde;&#130;&cent;&atilde;&#130;&#146;&eacute;&#129;&copy;&ccedil;&#148;&uml;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#157;&atilde;&#130;&#140;&atilde;&#129;&laquo;&aring;&#138;&nbsp;&atilde;&#129;&#136;&atilde;&#129;&brvbar;&atilde;&#128;&#129;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#129;&reg;&egrave;&iexcl;&#140;&atilde;&#130;&#146;&aring;&curren;&#154;&atilde;&#129;&#143;&egrave;&iquest;&#148;&atilde;&#129;&#153;&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#129;&laquo;&aring;&macr;&frac34;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&aelig;&#156;&#137;&aring;&#138;&sup1;&atilde;&#129;&ordf;
                  &atilde;&#130;&micro;&atilde;&#131;&frac14;&atilde;&#131;&#144;&atilde;&#131;&frac14;&atilde;&#130;&micro;&atilde;&#130;&curren;&atilde;&#131;&#137;&atilde;&#129;&reg;&atilde;&#130;&laquo;&atilde;&#131;&frac14;&atilde;&#130;&frac12;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aring;&#136;&copy;&ccedil;&#130;&sup1;&atilde;&#130;&#146;&ccedil;&#148;&#159;&atilde;&#129;&#139;&atilde;&#129;&#151;&atilde;&#129;&#159;&atilde;&#129;&#145;&atilde;&#130;&#140;&atilde;&#129;&deg; <code class="literal">scroll()</code> &atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&#134;&aring;&iquest;&#133;&egrave;&brvbar;&#129;&atilde;&#129;&#140;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; 
               </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();
   
ScrollableResults customers = session.getNamedQuery("GetCustomers")
    .setCacheMode(CacheMode.IGNORE)
    .scroll(ScrollMode.FORWARD_ONLY);
int count=0;
while ( customers.next() ) {
    Customer customer = (Customer) customers.get(0);
    customer.updateStuff(...);
    if ( ++count % 20 == 0 ) {
        //flush a batch of updates and release memory:
        session.flush();
        session.clear();
    }
}
   
tx.commit();
session.close();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="batch-statelesssession"></a>13.3. StatelessSession&atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&iquest;&atilde;&#131;&frac14;&atilde;&#131;&#149;&atilde;&#130;&sect;&atilde;&#130;&curren;&atilde;&#130;&sup1;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&atilde;&#129;&frac34;&atilde;&#129;&#159;&aring;&#136;&yen;&atilde;&#129;&reg;&aelig;&#150;&sup1;&aelig;&sup3;&#149;&atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129;Hibernate&atilde;&#129;&macr;&atilde;&#130;&sup3;&atilde;&#131;&#158;&atilde;&#131;&sup3;&atilde;&#131;&#137;&aelig;&#140;&#135;&aring;&#144;&#145;&atilde;&#129;&reg;API&atilde;&#130;&#146;&ccedil;&#148;&uml;&aelig;&#132;&#143;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;&aring;&#136;&#134;&eacute;&#155;&cent;&atilde;&#130;&ordf;&atilde;&#131;&#150;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#130;&macr;&atilde;&#131;&#136;&atilde;&#129;&reg;&aring;&frac12;&cent;&atilde;&#129;&sect;&atilde;&#128;&#129;
                  &atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&atilde;&#129;&uml;&atilde;&#129;&reg;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#131;&ordf;&atilde;&#131;&frac14;&atilde;&#131;&nbsp;&atilde;&#129;&reg;&atilde;&#130;&#132;&atilde;&#130;&#138;&aring;&#143;&#150;&atilde;&#130;&#138;&atilde;&#129;&laquo;&auml;&frac12;&iquest;&atilde;&#129;&#134;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; <code class="literal">StatelessSession</code> &atilde;&#129;&macr;&eacute;&#150;&cent;&eacute;&#128;&pound;&atilde;&#129;&#153;&atilde;&#130;&#139;&aelig;&deg;&cedil;&ccedil;&para;&#154;&atilde;&#130;&sup3;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&shy;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#130;&#146;&aelig;&#140;&#129;&atilde;&#129;&#159;&atilde;&#129;&#154;&atilde;&#128;&#129; &eacute;&laquo;&#152;&atilde;&#131;&not;&atilde;&#131;&#153;&atilde;&#131;&laquo;&atilde;&#129;&reg;&atilde;&#131;&copy;&atilde;&#130;&curren;&atilde;&#131;&#149;&atilde;&#130;&micro;&atilde;&#130;&curren;&atilde;&#130;&macr;&atilde;&#131;&laquo;&atilde;&#130;&raquo;&atilde;&#131;&#158;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#130;&macr;&atilde;&#130;&sup1;&atilde;&#129;&reg;&aring;&curren;&#154;&atilde;&#129;&#143;&atilde;&#130;&#146;&aelig;&#143;&#144;&auml;&frac34;&#155;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                  &ccedil;&#137;&sup1;&atilde;&#129;&laquo;&atilde;&#130;&sup1;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#131;&not;&atilde;&#130;&sup1;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&macr;&atilde;&#128;&#129;&auml;&cedil;&#128;&aelig;&#153;&#130;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#130;&#146;&aring;&reg;&#159;&egrave;&pound;&#133;&atilde;&#129;&#155;&atilde;&#129;&#154;&atilde;&#128;&#129; &atilde;&#129;&frac34;&atilde;&#129;&#159;&atilde;&#129;&copy;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&ordf;&auml;&ordm;&#140;&aelig;&not;&iexcl;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#130;&#132;&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#129;&uml;&atilde;&#130;&#130;&ccedil;&#155;&cedil;&auml;&ordm;&#146;&auml;&frac12;&#156;&ccedil;&#148;&uml;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                  &atilde;&#131;&#136;&atilde;&#131;&copy;&atilde;&#131;&sup3;&atilde;&#130;&para;&atilde;&#130;&macr;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&#138;&atilde;&#131;&laquo;&atilde;&#129;&ordf;write-behind&atilde;&#130;&#132;&egrave;&#135;&ordf;&aring;&#139;&#149;&atilde;&#131;&#128;&atilde;&#131;&frac14;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#129;&atilde;&#130;&sect;&atilde;&#131;&#131;&atilde;&#130;&macr;&atilde;&#130;&#130;&aring;&reg;&#159;&egrave;&pound;&#133;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; &atilde;&#130;&sup1;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#131;&not;&atilde;&#130;&sup1;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&egrave;&iexcl;&#140;&atilde;&#130;&#143;&atilde;&#130;&#140;&atilde;&#130;&#139;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&#140;&atilde;&#128;&#129;
                  &eacute;&#150;&cent;&eacute;&#128;&pound;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#129;&cedil;&atilde;&#130;&laquo;&atilde;&#130;&sup1;&atilde;&#130;&plusmn;&atilde;&#131;&frac14;&atilde;&#131;&#137;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&macr;&aelig;&plusmn;&ordm;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; &atilde;&#130;&sup3;&atilde;&#131;&not;&atilde;&#130;&macr;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#130;&sup1;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#131;&not;&atilde;&#130;&sup1;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&#139;&atilde;&#130;&#137;&atilde;&#129;&macr;&ccedil;&#132;&iexcl;&egrave;&brvbar;&#150;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                  &atilde;&#130;&sup1;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#131;&not;&atilde;&#130;&sup1;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#130;&#146;&eacute;&#128;&#154;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&egrave;&iexcl;&#140;&atilde;&#130;&#143;&atilde;&#130;&#140;&atilde;&#130;&#139;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&macr;&atilde;&#128;&#129; Hibernate&atilde;&#129;&reg;&atilde;&#130;&curren;&atilde;&#131;&#153;&atilde;&#131;&sup3;&atilde;&#131;&#136;&atilde;&#131;&cent;&atilde;&#131;&#135;&atilde;&#131;&laquo;&atilde;&#130;&#132;&atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&iquest;&atilde;&#131;&frac14;&atilde;&#130;&raquo;&atilde;&#131;&#151;&atilde;&#130;&iquest;&atilde;&#129;&reg;&aring;&frac12;&plusmn;&eacute;&#159;&iquest;&atilde;&#130;&#146;&aring;&#143;&#151;&atilde;&#129;&#145;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                  &auml;&cedil;&#128;&aelig;&#153;&#130;&atilde;&#130;&shy;&atilde;&#131;&pound;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&yen;&atilde;&#130;&#146;&aelig;&#140;&#129;&atilde;&#129;&#159;&atilde;&#129;&ordf;&atilde;&#129;&#132;&atilde;&#129;&#159;&atilde;&#130;&#129;&atilde;&#128;&#129; &atilde;&#130;&sup1;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#131;&not;&atilde;&#130;&sup1;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&macr;&aring;&#136;&yen;&aring;&#144;&#141;&atilde;&#130;&#146;&aelig;&#140;&#129;&atilde;&#129;&curren;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#129;&laquo;&auml;&cedil;&#138;&aelig;&#137;&#139;&atilde;&#129;&#143;&aring;&macr;&frac34;&aring;&#135;&brvbar;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                  &atilde;&#130;&sup1;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#131;&not;&atilde;&#130;&sup1;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&macr;&auml;&frac12;&#142;&atilde;&#131;&not;&atilde;&#131;&#153;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aelig;&#138;&frac12;&egrave;&plusmn;&iexcl;&aring;&#140;&#150;&atilde;&#129;&sect;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#128;&#129;JDBC&atilde;&#129;&laquo;&eacute;&#157;&#158;&aring;&cedil;&cedil;&atilde;&#129;&laquo;&atilde;&#130;&#136;&atilde;&#129;&#143;&auml;&frac14;&frac14;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; 
               </p><pre class="programlisting">StatelessSession session = sessionFactory.openStatelessSession();
Transaction tx = session.beginTransaction();
   
ScrollableResults customers = session.getNamedQuery("GetCustomers")
    .scroll(ScrollMode.FORWARD_ONLY);
while ( customers.next() ) {
    Customer customer = (Customer) customers.get(0);
    customer.updateStuff(...);
    session.update(customer);
}
   
tx.commit();
session.close();</pre><p>&atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#130;&sup3;&atilde;&#131;&frac14;&atilde;&#131;&#137;&auml;&frac34;&#139;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#129;&#140;&egrave;&iquest;&#148;&atilde;&#129;&#153; <code class="literal">Customer</code> &atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#131;&sup3;&atilde;&#130;&sup1;&atilde;&#129;&macr;&aring;&#141;&sup3;&aring;&ordm;&sect;&atilde;&#129;&laquo;&iuml;&frac14;&#136;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&#139;&atilde;&#130;&#137;&iuml;&frac14;&#137;&aring;&#136;&#134;&eacute;&#155;&cent;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&laquo;&aelig;&sup3;&uml;&aelig;&#132;&#143;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#129;&copy;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&ordf;&aelig;&deg;&cedil;&ccedil;&para;&#154;&atilde;&#130;&sup3;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&shy;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&uml;&atilde;&#130;&#130;&aelig;&plusmn;&ordm;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&eacute;&#150;&cent;&eacute;&#128;&pound;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                  
               </p>
               <p><code class="literal">StatelessSession</code> &atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&iquest;&atilde;&#131;&frac14;&atilde;&#131;&#149;&atilde;&#130;&sect;&atilde;&#130;&curren;&atilde;&#130;&sup1;&atilde;&#129;&sect;&aring;&reg;&#154;&ccedil;&frac34;&copy;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#130;&#139; <code class="literal">insert(), update(), delete()</code> &atilde;&#129;&macr;&atilde;&#128;&#129; &auml;&frac12;&#142;&atilde;&#131;&not;&atilde;&#131;&#153;&atilde;&#131;&laquo;&atilde;&#129;&reg;&ccedil;&#155;&acute;&aelig;&#142;&yen;&ccedil;&#154;&#132;&atilde;&#129;&ordf;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&uml;&egrave;&#128;&#131;&atilde;&#129;&#136;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &ccedil;&micro;&#144;&aelig;&#158;&#156;&atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129;SQL&atilde;&#129;&reg; <code class="literal">INSERT, UPDATE, DELETE</code> &atilde;&#129;&#140;&atilde;&#129;&#157;&atilde;&#130;&#140;&atilde;&#129;&#158;&atilde;&#130;&#140;&aring;&#141;&sup3;&aring;&ordm;&sect;&atilde;&#129;&laquo;&aring;&reg;&#159;&egrave;&iexcl;&#140;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&laquo;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#130;&#137;&atilde;&#129;&macr; <code class="literal">Session</code> &atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#130;&iquest;&atilde;&#131;&frac14;&atilde;&#131;&#149;&atilde;&#130;&sect;&atilde;&#130;&curren;&atilde;&#130;&sup1;&atilde;&#129;&sect;&aring;&reg;&#154;&ccedil;&frac34;&copy;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#130;&#139; <code class="literal">save(), saveOrUpdate(), delete()</code> &atilde;&#129;&uml;&atilde;&#129;&macr;&eacute;&#157;&#158;&aring;&cedil;&cedil;&atilde;&#129;&laquo;&ccedil;&#149;&deg;&atilde;&#129;&ordf;&atilde;&#130;&#139;&aelig;&#132;&#143;&aring;&#145;&sup3;&atilde;&#130;&#146;&aelig;&#140;&#129;&atilde;&#129;&iexcl;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="batch-direct"></a>13.4. DML&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#130;&curren;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aelig;&#147;&#141;&auml;&frac12;&#156;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&atilde;&#129;&#153;&atilde;&#129;&sect;&atilde;&#129;&laquo;&egrave;&shy;&deg;&egrave;&laquo;&#150;&atilde;&#129;&#151;&atilde;&#129;&#159;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&laquo;&atilde;&#128;&#129;&egrave;&#135;&ordf;&aring;&#139;&#149;&ccedil;&#154;&#132;&atilde;&#129;&#139;&atilde;&#129;&curren;&eacute;&#128;&#143;&eacute;&#129;&#142;&ccedil;&#154;&#132;&atilde;&#129;&ordf;&atilde;&#130;&ordf;&atilde;&#131;&#150;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#130;&macr;&atilde;&#131;&#136;/&atilde;&#131;&ordf;&atilde;&#131;&not;&atilde;&#131;&frac14;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&#138;&atilde;&#131;&laquo;&atilde;&#131;&#158;&atilde;&#131;&#131;&atilde;&#131;&#148;&atilde;&#131;&sup3;&atilde;&#130;&deg;&atilde;&#129;&macr;&atilde;&#128;&#129;
                  &atilde;&#130;&ordf;&atilde;&#131;&#150;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#130;&macr;&atilde;&#131;&#136;&atilde;&#129;&reg;&ccedil;&#138;&para;&aelig;&#133;&#139;&atilde;&#129;&reg;&ccedil;&reg;&iexcl;&ccedil;&#144;&#134;&atilde;&#129;&sect;&atilde;&#129;&#130;&atilde;&#130;&#139;&atilde;&#129;&uml;&egrave;&#128;&#131;&atilde;&#129;&#136;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;&atilde;&#131;&iexcl;&atilde;&#131;&cent;&atilde;&#131;&ordf;&aring;&#134;&#133;&atilde;&#129;&reg;&atilde;&#130;&ordf;&atilde;&#131;&#150;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#130;&macr;&atilde;&#131;&#136;&atilde;&#129;&reg;&ccedil;&#138;&para;&aelig;&#133;&#139;&atilde;&#130;&#146;&aring;&#136;&copy;&ccedil;&#148;&uml;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#130;&#139;&atilde;&#129;&uml;&atilde;&#129;&#132;&atilde;&#129;&#134;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130;
                  &atilde;&#129;&#157;&atilde;&#129;&reg;&atilde;&#129;&#159;&atilde;&#130;&#129;&iuml;&frac14;&#136;SQL&atilde;&#129;&reg; <code class="literal">&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&aelig;&#147;&#141;&auml;&frac12;&#156;&egrave;&uml;&#128;&egrave;&ordf;&#158;</code> (DML) &aelig;&#150;&#135;&iuml;&frac14;&#154; <code class="literal">INSERT</code>, <code class="literal">UPDATE</code>, <code class="literal">DELETE</code> &atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&iuml;&frac14;&#137;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&aring;&#134;&#133;&atilde;&#129;&reg;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#130;&#146;&ccedil;&#155;&acute;&aelig;&#142;&yen;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#130;&#130;&atilde;&#128;&#129; &atilde;&#131;&iexcl;&atilde;&#131;&cent;&atilde;&#131;&ordf;&aring;&#134;&#133;&atilde;&#129;&reg;&ccedil;&#138;&para;&aelig;&#133;&#139;&atilde;&#129;&laquo;&atilde;&#129;&macr;&aring;&frac12;&plusmn;&eacute;&#159;&iquest;&atilde;&#130;&#146;&auml;&cedil;&#142;&atilde;&#129;&#136;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                  &atilde;&#129;&#151;&atilde;&#129;&#139;&atilde;&#129;&#151;Hibernate&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#131;&#144;&atilde;&#131;&laquo;&atilde;&#130;&macr;SQL&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#130;&curren;&atilde;&#131;&laquo;&atilde;&#129;&reg;DML&aelig;&#150;&#135;&aring;&reg;&#159;&egrave;&iexcl;&#140;&atilde;&#129;&laquo;&aring;&macr;&frac34;&aring;&iquest;&#156;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#131;&iexcl;&atilde;&#130;&frac12;&atilde;&#131;&#131;&atilde;&#131;&#137;&atilde;&#130;&#146;&ccedil;&#148;&uml;&aelig;&#132;&#143;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;Hibernate&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&egrave;&uml;&#128;&egrave;&ordf;&#158;&iuml;&frac14;&#136;<a href="#queryhql" title="&#31532;14&#31456; HQL: The Hibernate Query Language">&#31456;&nbsp;14. <i xmlns:xlink="http://www.w3.org/1999/xlink">HQL: The Hibernate Query Language</i></a>&iuml;&frac14;&#137; &atilde;&#130;&#146;&eacute;&#128;&#154;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&aring;&reg;&#159;&egrave;&iexcl;&#140;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; 
               </p>
               <p><code class="literal">UPDATE</code> &atilde;&#129;&uml; <code class="literal">DELETE</code> &aelig;&#150;&#135;&atilde;&#129;&reg;&ccedil;&#150;&#145;&auml;&frac14;&frac14;&aelig;&sect;&#139;&aelig;&#150;&#135;&atilde;&#129;&macr;&iuml;&frac14;&#154; <code class="literal">( UPDATE | DELETE ) FROM? &atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#144;&#141; (WHERE &aelig;&#157;&iexcl;&auml;&raquo;&para;&ccedil;&macr;&#128;)?</code> &atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; &aelig;&sup3;&uml;&aelig;&#132;&#143;&atilde;&#129;&#153;&atilde;&#129;&sup1;&atilde;&#129;&#141;&ccedil;&#130;&sup1;&atilde;&#129;&#140;&atilde;&#129;&#132;&atilde;&#129;&#143;&atilde;&#129;&curren;&atilde;&#129;&#139;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&iuml;&frac14;&#154; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>from&ccedil;&macr;&#128;&atilde;&#129;&laquo;&atilde;&#129;&#138;&atilde;&#129;&#132;&atilde;&#129;&brvbar;&atilde;&#128;&#129;FROM&atilde;&#130;&shy;&atilde;&#131;&frac14;&atilde;&#131;&macr;&atilde;&#131;&frac14;&atilde;&#131;&#137;&atilde;&#129;&macr;&atilde;&#130;&ordf;&atilde;&#131;&#151;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; </p>
                     </li>
                     <li>
                        <p>from&ccedil;&macr;&#128;&atilde;&#129;&sect;&atilde;&#129;&macr;&aring;&#141;&#152;&auml;&cedil;&#128;&atilde;&#129;&reg;&atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#144;&#141;&atilde;&#129;&nbsp;&atilde;&#129;&#145;&atilde;&#129;&#140;&aring;&#143;&macr;&egrave;&#131;&frac12;&atilde;&#129;&sect;&atilde;&#128;&#129; &auml;&raquo;&raquo;&aelig;&#132;&#143;&atilde;&#129;&sect;&aring;&#136;&yen;&aring;&#144;&#141;&atilde;&#130;&#146;&auml;&raquo;&#152;&atilde;&#129;&#145;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#144;&#141;&atilde;&#129;&laquo;&aring;&#136;&yen;&aring;&#144;&#141;&atilde;&#129;&#140;&auml;&cedil;&#142;&atilde;&#129;&#136;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#130;&#139;&atilde;&#129;&uml;&atilde;&#128;&#129;&atilde;&#129;&copy;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&ordf;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#143;&#130;&ccedil;&#133;&sect;&atilde;&#130;&#130;&atilde;&#128;&#129;
                           &atilde;&#129;&#157;&atilde;&#129;&reg;&aring;&#136;&yen;&aring;&#144;&#141;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&auml;&iquest;&reg;&eacute;&pound;&frac34;&atilde;&#129;&#151;&atilde;&#129;&ordf;&atilde;&#129;&#145;&atilde;&#130;&#140;&atilde;&#129;&deg;&atilde;&#129;&ordf;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; &atilde;&#130;&#130;&atilde;&#129;&#151;&atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#144;&#141;&atilde;&#129;&laquo;&aring;&#136;&yen;&aring;&#144;&#141;&atilde;&#129;&#140;&auml;&cedil;&#142;&atilde;&#129;&#136;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&ordf;&atilde;&#129;&#145;&atilde;&#130;&#140;&atilde;&#129;&deg;&atilde;&#128;&#129;
                           &atilde;&#129;&copy;&atilde;&#129;&reg;&atilde;&#130;&#136;&atilde;&#129;&#134;&atilde;&#129;&ordf;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#143;&#130;&ccedil;&#133;&sect;&atilde;&#130;&#130;&auml;&iquest;&reg;&eacute;&pound;&frac34;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&macr;&atilde;&#129;&ordf;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; 
                        </p>
                     </li>
                     <li>
                        <p>&iuml;&frac14;&#136;&aelig;&#154;&#151;&eacute;&raquo;&#153;&ccedil;&#154;&#132;&atilde;&#129;&sect;&atilde;&#129;&#130;&atilde;&#130;&#140;&aelig;&#152;&#142;&ccedil;&curren;&ordm;&ccedil;&#154;&#132;&atilde;&#129;&sect;&atilde;&#129;&#130;&atilde;&#130;&#140;&iuml;&frac14;&#137;<a href="#queryhql-joins-forms" title="14.4. &#32080;&#21512;&#27083;&#25991;&#12398;&#24418;&#24335;">&#38917;14.4. &#12300;&#32080;&#21512;&#27083;&#25991;&#12398;&#24418;&#24335;&#12301;</a> &atilde;&#130;&#146;&atilde;&#131;&#144;&atilde;&#131;&laquo;&atilde;&#130;&macr;HQL&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&aring;&#134;&#133;&atilde;&#129;&sect;&aelig;&#140;&#135;&aring;&reg;&#154;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&macr;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; &atilde;&#130;&micro;&atilde;&#131;&#150;&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#129;&macr;where&ccedil;&macr;&#128;&atilde;&#129;&sect;&auml;&frac12;&iquest;&atilde;&#129;&#134;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#153;
                           &atilde;&#130;&micro;&atilde;&#131;&#150;&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#129;&#157;&atilde;&#129;&reg;&atilde;&#130;&#130;&atilde;&#129;&reg;&atilde;&#129;&macr;&atilde;&#128;&#129;&ccedil;&micro;&#144;&aring;&#144;&#136;&atilde;&#130;&#146;&aring;&#144;&laquo;&atilde;&#130;&#129;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; 
                        </p>
                     </li>
                     <li>
                        <p>where&ccedil;&macr;&#128;&atilde;&#129;&macr;&atilde;&#130;&ordf;&atilde;&#131;&#151;&atilde;&#130;&middot;&atilde;&#131;&sect;&atilde;&#131;&sup3;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; </p>
                     </li>
                  </ul>
               </div>
               <p>&auml;&frac34;&#139;&atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129;HQL&atilde;&#129;&reg; <code class="literal">UPDATE</code> &atilde;&#130;&#146;&aring;&reg;&#159;&egrave;&iexcl;&#140;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&laquo;&atilde;&#129;&macr;&atilde;&#128;&#129; <code class="literal">Query.executeUpdate()</code> &atilde;&#131;&iexcl;&atilde;&#130;&frac12;&atilde;&#131;&#131;&atilde;&#131;&#137;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&atilde;&#128;&#130; &iuml;&frac14;&#136;&atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#131;&iexcl;&atilde;&#130;&frac12;&atilde;&#131;&#131;&atilde;&#131;&#137;&atilde;&#129;&macr;&atilde;&#129;&#138;&atilde;&#129;&ordf;&atilde;&#129;&#152;&atilde;&#129;&iquest;&atilde;&#129;&reg;JDBC <code class="literal">PreparedStatement.executeUpdate()</code> &atilde;&#129;&#139;&atilde;&#130;&#137;&aring;&#144;&#141;&auml;&raquo;&#152;&atilde;&#129;&#145;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#151;&atilde;&#129;&#159;&iuml;&frac14;&#137;&iuml;&frac14;&#154; d 
               </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

String hqlUpdate = "update Customer c set c.name = :newName where c.name = :oldName";
// or String hqlUpdate = "update Customer set name = :newName where name = :oldName";
int updatedEntities = s.createQuery( hqlUpdate )
        .setString( "newName", newName )
        .setString( "oldName", oldName )
        .executeUpdate();
tx.commit();
session.close();</pre><p>HQL&atilde;&#129;&reg; <code class="literal">UPDATE</code> &aelig;&#150;&#135;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#131;&#135;&atilde;&#131;&#149;&atilde;&#130;&copy;&atilde;&#131;&laquo;&atilde;&#131;&#136;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#128;&#129;&auml;&frac12;&#156;&ccedil;&#148;&uml;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&reg; <a href="#mapping-declaration-version" title="5.1.9. version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;">&#38917;5.1.9. &#12300;version&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12301;</a> &atilde;&#130;&#132; <a href="#mapping-declaration-timestamp" title="5.1.10. timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;">&#38917;5.1.10. &#12300;timestamp&#65288;&#12458;&#12503;&#12471;&#12519;&#12531;&#65289;&#12301;</a> &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&reg;&aring;&#128;&curren;&atilde;&#129;&laquo;&atilde;&#129;&macr;&aring;&frac12;&plusmn;&eacute;&#159;&iquest;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr;EJB3&atilde;&#129;&reg;&auml;&raquo;&#149;&aelig;&sect;&#152;&atilde;&#129;&laquo;&atilde;&#130;&#130;&aring;&#143;&#151;&atilde;&#129;&#145;&ccedil;&para;&#153;&atilde;&#129;&#140;&atilde;&#130;&#140;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#151;&atilde;&#129;&#139;&atilde;&#129;&#151; <code class="literal">versioned update</code> &atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&atilde;&#128;&#129; <code class="literal">version</code> &atilde;&#130;&#132; <code class="literal">timestamp</code> &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&reg;&aring;&#128;&curren;&atilde;&#130;&#146;&aring;&frac14;&middot;&aring;&#136;&para;&ccedil;&#154;&#132;&atilde;&#129;&laquo;&atilde;&#131;&ordf;&atilde;&#130;&raquo;&atilde;&#131;&#131;&atilde;&#131;&#136;&atilde;&#129;&#149;&atilde;&#129;&#155;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr; <code class="literal">UPDATE</code> &atilde;&#130;&shy;&atilde;&#131;&frac14;&atilde;&#131;&macr;&atilde;&#131;&frac14;&atilde;&#131;&#137;&atilde;&#129;&reg;&aring;&frac34;&#140;&atilde;&#129;&laquo; <code class="literal">VERSIONED</code> &atilde;&#130;&shy;&atilde;&#131;&frac14;&atilde;&#131;&macr;&atilde;&#131;&frac14;&atilde;&#131;&#137;&atilde;&#130;&#146;&egrave;&iquest;&frac12;&aring;&#138;&nbsp;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&sect;&egrave;&iexcl;&#140;&atilde;&#129;&#136;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; 
               </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();
String hqlVersionedUpdate = "update versioned Customer set name = :newName where name = :oldName";
int updatedEntities = s.createQuery( hqlUpdate )
        .setString( "newName", newName )
        .setString( "oldName", oldName )
        .executeUpdate();
tx.commit();
session.close();</pre><p>&atilde;&#130;&laquo;&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#131;&nbsp;&atilde;&#131;&#144;&atilde;&#131;&frac14;&atilde;&#130;&cedil;&atilde;&#131;&sect;&atilde;&#131;&sup3;&aring;&#158;&#139;&iuml;&frac14;&#136;<code class="literal">org.hibernate.usertype.UserVersionType</code>&iuml;&frac14;&#137; &atilde;&#129;&macr; <code class="literal">update versioned</code> &aelig;&#150;&#135;&atilde;&#129;&uml;&auml;&cedil;&#128;&ccedil;&middot;&#146;&atilde;&#129;&laquo;&auml;&frac12;&iquest;&atilde;&#129;&#136;&atilde;&#129;&ordf;&atilde;&#129;&#132;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&laquo;&aelig;&sup3;&uml;&aelig;&#132;&#143;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&atilde;&#128;&#130; 
               </p>
               <p>HQL&atilde;&#129;&reg; <code class="literal">DELETE</code> &atilde;&#130;&#146;&aring;&reg;&#159;&egrave;&iexcl;&#140;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&laquo;&atilde;&#129;&macr;&atilde;&#128;&#129; &aring;&#144;&#140;&atilde;&#129;&#152; <code class="literal">Query.executeUpdate()</code> &atilde;&#131;&iexcl;&atilde;&#130;&frac12;&atilde;&#131;&#131;&atilde;&#131;&#137;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&iuml;&frac14;&#154; 
               </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

String hqlDelete = "delete Customer c where c.name = :oldName";
// or String hqlDelete = "delete Customer where name = :oldName";
int deletedEntities = s.createQuery( hqlDelete )
        .setString( "oldName", oldName )
        .executeUpdate();
tx.commit();
session.close();</pre><p><code class="literal">Query.executeUpdate()</code> &atilde;&#131;&iexcl;&atilde;&#130;&frac12;&atilde;&#131;&#131;&atilde;&#131;&#137;&atilde;&#129;&#140;&egrave;&iquest;&#148;&atilde;&#129;&#153; <code class="literal">int</code> &atilde;&#129;&reg;&aring;&#128;&curren;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#129;&reg;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&#140;&aring;&frac12;&plusmn;&eacute;&#159;&iquest;&atilde;&#130;&#146;&aring;&#143;&#138;&atilde;&#129;&frac14;&atilde;&#129;&#151;&atilde;&#129;&#159;&atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&reg;&aelig;&#149;&deg;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&#140;&aring;&frac12;&plusmn;&eacute;&#159;&iquest;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&aring;&#134;&#133;&atilde;&#129;&reg;&egrave;&iexcl;&#140;&aelig;&#149;&deg;&atilde;&#129;&uml;&atilde;&#128;&#129;&ccedil;&#155;&cedil;&auml;&ordm;&#146;&atilde;&#129;&laquo;&eacute;&#150;&cent;&auml;&iquest;&#130;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#139;&atilde;&#129;&copy;&atilde;&#129;&#134;&atilde;&#129;&#139;&atilde;&#130;&#146;&egrave;&#128;&#131;&atilde;&#129;&#136;&atilde;&#129;&brvbar;&atilde;&#129;&iquest;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&atilde;&#128;&#130;
                  HQL&atilde;&#131;&#144;&atilde;&#131;&laquo;&atilde;&#130;&macr;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&macr;&atilde;&#128;&#129;&ccedil;&micro;&#144;&aelig;&#158;&#156;&atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129;&aring;&reg;&#159;&eacute;&#154;&#155;&atilde;&#129;&reg;SQL&aelig;&#150;&#135;&atilde;&#129;&#140;&egrave;&curren;&#135;&aelig;&#149;&deg;&aring;&reg;&#159;&egrave;&iexcl;&#140;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&laquo;&atilde;&#129;&ordf;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &auml;&frac34;&#139;&atilde;&#129;&#136;&atilde;&#129;&deg;joined-subclass&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130;
                  &egrave;&iquest;&#148;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#130;&#139;&aelig;&#149;&deg;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#129;&#157;&atilde;&#129;&reg;&aelig;&#150;&#135;&atilde;&#129;&laquo;&atilde;&#130;&#136;&atilde;&#129;&pound;&atilde;&#129;&brvbar;&aring;&frac12;&plusmn;&eacute;&#159;&iquest;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159;&aring;&reg;&#159;&eacute;&#154;&#155;&atilde;&#129;&reg;&atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&reg;&aelig;&#149;&deg;&atilde;&#130;&#146;&ccedil;&curren;&ordm;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; joined-subclass&atilde;&#129;&reg;&auml;&frac34;&#139;&atilde;&#129;&laquo;&aelig;&#136;&raquo;&atilde;&#130;&#139;&atilde;&#129;&uml;&atilde;&#128;&#129;&atilde;&#130;&micro;&atilde;&#131;&#150;&atilde;&#130;&macr;&atilde;&#131;&copy;&atilde;&#130;&sup1;&atilde;&#129;&reg;&auml;&cedil;&#128;&atilde;&#129;&curren;&atilde;&#129;&laquo;&aring;&macr;&frac34;&atilde;&#129;&#153;&atilde;&#130;&#139;&aring;&#137;&#138;&eacute;&#153;&curren;&atilde;&#129;&macr;&atilde;&#128;&#129;
                  &atilde;&#129;&#157;&atilde;&#129;&reg;&atilde;&#130;&micro;&atilde;&#131;&#150;&atilde;&#130;&macr;&atilde;&#131;&copy;&atilde;&#130;&sup1;&atilde;&#129;&#140;&atilde;&#131;&#158;&atilde;&#131;&#131;&atilde;&#131;&#148;&atilde;&#131;&sup3;&atilde;&#130;&deg;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#150;&atilde;&#131;&laquo;&atilde;&#129;&nbsp;&atilde;&#129;&#145;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#129;&ordf;&atilde;&#129;&#143;&atilde;&#128;&#129; &atilde;&#128;&#140;&atilde;&#131;&laquo;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#128;&#141;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#150;&atilde;&#131;&laquo;&atilde;&#129;&uml;&ccedil;&para;&#153;&aelig;&#137;&iquest;&eacute;&#154;&#142;&aring;&plusmn;&curren;&atilde;&#130;&#146;&atilde;&#129;&#149;&atilde;&#130;&#137;&atilde;&#129;&laquo;&auml;&cedil;&#139;&atilde;&#129;&pound;&atilde;&#129;&#159;joined-subclass&atilde;&#129;&reg;&atilde;&#131;&#134;&atilde;&#131;&frac14;&atilde;&#131;&#150;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aring;&#137;&#138;&eacute;&#153;&curren;&atilde;&#129;&laquo;&atilde;&#129;&ordf;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                  
               </p>
               <p><code class="literal">INSERT</code> &aelig;&#150;&#135;&atilde;&#129;&reg;&ccedil;&#150;&#145;&auml;&frac14;&frac14;&aelig;&sect;&#139;&aelig;&#150;&#135;&atilde;&#129;&macr;&iuml;&frac14;&#154; <code class="literal">INSERT INTO &atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&aring;&#144;&#141; &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136; select&aelig;&#150;&#135;</code> &atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; &aelig;&sup3;&uml;&aelig;&#132;&#143;&atilde;&#129;&#153;&atilde;&#129;&sup1;&atilde;&#129;&#141;&ccedil;&#130;&sup1;&atilde;&#129;&#140;&atilde;&#129;&#132;&atilde;&#129;&#143;&atilde;&#129;&curren;&atilde;&#129;&#139;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&iuml;&frac14;&#154; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>INSERT INTO ... SELECT ... &atilde;&#129;&reg;&aring;&frac12;&cent;&aring;&frac14;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#145;&atilde;&#129;&#140;&atilde;&#130;&micro;&atilde;&#131;&#157;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; INSERT INTO ... VALUES ... &atilde;&#129;&reg;&aring;&frac12;&cent;&aring;&frac14;&#143;&atilde;&#129;&macr;&atilde;&#130;&micro;&atilde;&#131;&#157;&atilde;&#131;&frac14;&atilde;&#131;&#136;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                           
                        </p>
                        <p>&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&macr;&atilde;&#128;&#129;SQL&atilde;&#129;&reg; <code class="literal">INSERT</code> &aelig;&#150;&#135;&atilde;&#129;&laquo;&atilde;&#129;&#138;&atilde;&#129;&#145;&atilde;&#130;&#139; <code class="literal">&atilde;&#130;&laquo;&atilde;&#131;&copy;&atilde;&#131;&nbsp;&atilde;&#129;&reg;&auml;&raquo;&#149;&aelig;&sect;&#152;</code> &atilde;&#129;&laquo;&eacute;&iexcl;&#158;&auml;&frac14;&frac14;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &ccedil;&para;&#153;&aelig;&#137;&iquest;&atilde;&#129;&reg;&atilde;&#131;&#158;&atilde;&#131;&#131;&atilde;&#131;&#148;&atilde;&#131;&sup3;&atilde;&#130;&deg;&atilde;&#129;&laquo;&aring;&#144;&laquo;&atilde;&#129;&frac34;&atilde;&#130;&#140;&atilde;&#130;&#139;&atilde;&#130;&uml;&atilde;&#131;&sup3;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&laquo;&aring;&macr;&frac34;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129; &atilde;&#130;&macr;&atilde;&#131;&copy;&atilde;&#130;&sup1;&atilde;&#131;&not;&atilde;&#131;&#153;&atilde;&#131;&laquo;&atilde;&#129;&sect;&ccedil;&#155;&acute;&aelig;&#142;&yen;&aring;&reg;&#154;&ccedil;&frac34;&copy;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&nbsp;&atilde;&#129;&#145;&atilde;&#129;&#140;&atilde;&#128;&#129;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&laquo;&auml;&frac12;&iquest;&atilde;&#129;&#136;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           &atilde;&#130;&sup1;&atilde;&#131;&frac14;&atilde;&#131;&#145;&atilde;&#131;&frac14;&atilde;&#130;&macr;&atilde;&#131;&copy;&atilde;&#130;&sup1;&atilde;&#129;&reg;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&macr;&egrave;&ordf;&#141;&atilde;&#130;&#129;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&#154;&atilde;&#128;&#129;&atilde;&#130;&micro;&atilde;&#131;&#150;&atilde;&#130;&macr;&atilde;&#131;&copy;&atilde;&#130;&sup1;&atilde;&#129;&reg;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&macr;&aring;&#138;&sup1;&aelig;&#158;&#156;&atilde;&#129;&#140;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                           &egrave;&uml;&#128;&atilde;&#129;&#132;&aelig;&#143;&#155;&atilde;&#129;&#136;&atilde;&#130;&#139;&atilde;&#129;&uml; <code class="literal">INSERT</code> &aelig;&#150;&#135;&atilde;&#129;&macr;&atilde;&#128;&#129;&aelig;&#156;&not;&egrave;&sup3;&ordf;&ccedil;&#154;&#132;&atilde;&#129;&laquo;&atilde;&#131;&#157;&atilde;&#131;&ordf;&atilde;&#131;&cent;&atilde;&#131;&frac14;&atilde;&#131;&#149;&atilde;&#130;&pound;&atilde;&#131;&#131;&atilde;&#130;&macr;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130; 
                        </p>
                     </li>
                     <li>
                        <p>select&aelig;&#150;&#135;&atilde;&#129;&reg;&egrave;&iquest;&#148;&atilde;&#130;&#138;&aring;&#128;&curren;&atilde;&#129;&reg;&aring;&#158;&#139;&atilde;&#129;&#140;insert&aelig;&#150;&#135;&atilde;&#129;&#140;&aelig;&#156;&#159;&aring;&frac34;&#133;&atilde;&#129;&#153;&atilde;&#130;&#139;&aring;&#158;&#139;&atilde;&#129;&uml;&atilde;&#131;&#158;&atilde;&#131;&#131;&atilde;&#131;&#129;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#130;&#140;&atilde;&#129;&deg;&atilde;&#128;&#129; &atilde;&#129;&#157;&atilde;&#129;&reg;select&aelig;&#150;&#135;&atilde;&#129;&macr;&aring;&brvbar;&yen;&aring;&frac12;&#147;&atilde;&#129;&ordf;HQL select&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#129;&uml;&atilde;&#129;&ordf;&atilde;&#130;&#138;&atilde;&#129;&#136;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           &ccedil;&#143;&frac34;&aring;&#156;&uml;&atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#131;&#129;&atilde;&#130;&sect;&atilde;&#131;&#131;&atilde;&#130;&macr;&atilde;&#130;&#146;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&atilde;&#129;&cedil;&auml;&raquo;&raquo;&atilde;&#129;&#155;&atilde;&#130;&#139;&atilde;&#129;&reg;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#129;&ordf;&atilde;&#129;&#143;&atilde;&#128;&#129;&atilde;&#130;&macr;&atilde;&#130;&uml;&atilde;&#131;&ordf;&atilde;&#129;&reg;&atilde;&#130;&sup3;&atilde;&#131;&sup3;&atilde;&#131;&#145;&atilde;&#130;&curren;&atilde;&#131;&laquo;&aelig;&#153;&#130;&atilde;&#129;&laquo;&atilde;&#131;&#129;&atilde;&#130;&sect;&atilde;&#131;&#131;&atilde;&#130;&macr;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           &atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&macr;&atilde;&#128;&#129;<span class="emphasis"><em>equal</em></span>&atilde;&#129;&uml;&atilde;&#129;&macr;&eacute;&#129;&#149;&atilde;&#129;&#132;&atilde;&#128;&#129; Hibernate&atilde;&#129;&reg; <code class="literal">Type</code> &eacute;&#150;&#147;&atilde;&#129;&reg; <span class="emphasis"><em>equivalent</em></span> &atilde;&#129;&laquo;&eacute;&#150;&cent;&atilde;&#129;&#153;&atilde;&#130;&#139; &aring;&#149;&#143;&eacute;&iexcl;&#140;&atilde;&#130;&#146;&aring;&frac14;&#149;&atilde;&#129;&#141;&egrave;&micro;&middot;&atilde;&#129;&#147;&atilde;&#129;&#153;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&laquo;&aelig;&sup3;&uml;&aelig;&#132;&#143;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#129;&#143;&atilde;&#129;&nbsp;&atilde;&#129;&#149;&atilde;&#129;&#132;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#130;&#140;&atilde;&#129;&macr; <code class="literal">org.hibernate.type.DataType</code> &atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&aring;&reg;&#154;&ccedil;&frac34;&copy;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&uml;&atilde;&#128;&#129; <code class="literal">org.hibernate.type.TimestampType</code> &atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&aring;&reg;&#154;&ccedil;&frac34;&copy;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&reg;&eacute;&#150;&#147;&atilde;&#129;&reg;&atilde;&#131;&#159;&atilde;&#130;&sup1;&atilde;&#131;&#158;&atilde;&#131;&#131;&atilde;&#131;&#129;&atilde;&#129;&reg;&aring;&#149;&#143;&eacute;&iexcl;&#140;&atilde;&#130;&#146;&aring;&frac14;&#149;&atilde;&#129;&#141;&egrave;&micro;&middot;&atilde;&#129;&#147;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&atilde;&#129;&#140;&atilde;&#129;&#157;&atilde;&#130;&#140;&atilde;&#130;&#137;&atilde;&#130;&#146;&aring;&#140;&ordm;&aring;&#136;&yen;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&ordf;&atilde;&#129;&#143;&atilde;&#129;&brvbar;&atilde;&#130;&#130;&atilde;&#128;&#129;&aring;&curren;&#137;&aelig;&#143;&#155;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&#140;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&brvbar;&atilde;&#130;&#130;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#129;&reg;&aring;&#149;&#143;&eacute;&iexcl;&#140;&atilde;&#129;&macr;&ccedil;&#153;&ordm;&ccedil;&#148;&#159;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           
                        </p>
                     </li>
                     <li>
                        <p>id&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&laquo;&aring;&macr;&frac34;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129;insert&aelig;&#150;&#135;&atilde;&#129;&laquo;&atilde;&#129;&macr;&auml;&ordm;&#140;&atilde;&#129;&curren;&atilde;&#129;&reg;&eacute;&#129;&cedil;&aelig;&#138;&#158;&egrave;&#130;&cent;&atilde;&#129;&#140;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&sect;&aelig;&#152;&#142;&ccedil;&curren;&ordm;&ccedil;&#154;&#132;&atilde;&#129;&laquo;id&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#130;&#146;&aelig;&#140;&#135;&aring;&reg;&#154;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#139;
                           &iuml;&frac14;&#136;&atilde;&#129;&#147;&atilde;&#129;&reg;&aring;&nbsp;&acute;&aring;&#144;&#136;&atilde;&#128;&#129;&aring;&macr;&frac34;&aring;&iquest;&#156;&atilde;&#129;&#153;&atilde;&#130;&#139;select&aring;&frac14;&#143;&atilde;&#129;&#139;&atilde;&#130;&#137;&aring;&#128;&curren;&atilde;&#129;&#140;&aring;&#143;&#150;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&iuml;&frac14;&#137;&atilde;&#128;&#129; &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&#139;&atilde;&#130;&#137;&eacute;&#153;&curren;&aring;&curren;&#150;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#139; &iuml;&frac14;&#136;&atilde;&#129;&#147;&atilde;&#129;&reg;&aring;&nbsp;&acute;&aring;&#144;&#136;&atilde;&#128;&#129;&ccedil;&#148;&#159;&aelig;&#136;&#144;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#130;&#139;&aring;&#128;&curren;&atilde;&#129;&#140;&auml;&frac12;&iquest;&atilde;&#130;&#143;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&iuml;&frac14;&#137;&atilde;&#129;&reg;&atilde;&#129;&#132;&atilde;&#129;&#154;&atilde;&#130;&#140;&atilde;&#129;&#139;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           &aring;&frac34;&#140;&egrave;&#128;&#133;&atilde;&#129;&reg;&eacute;&#129;&cedil;&aelig;&#138;&#158;&egrave;&#130;&cent;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&aring;&#134;&#133;&atilde;&#130;&#146;&aelig;&#147;&#141;&auml;&frac12;&#156;&atilde;&#129;&#153;&atilde;&#130;&#139;id&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#131;&#141;&atilde;&#131;&not;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&#134;&atilde;&#129;&uml;&atilde;&#129;&#141;&atilde;&#129;&reg;&atilde;&#129;&iquest;&atilde;&#128;&#129;&aring;&#136;&copy;&ccedil;&#148;&uml;&aring;&#143;&macr;&egrave;&#131;&frac12;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           &atilde;&#129;&#147;&atilde;&#129;&reg;&eacute;&#129;&cedil;&aelig;&#138;&#158;&egrave;&#130;&cent;&atilde;&#130;&#146;&aelig;&#142;&iexcl;&atilde;&#130;&#139;&aring;&nbsp;&acute;&aring;&#144;&#136;&atilde;&#128;&#129;&atilde;&#128;&#140;&atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#131;&iexcl;&atilde;&#131;&cent;&atilde;&#131;&ordf;&atilde;&#128;&#141;&aring;&#158;&#139;&atilde;&#129;&reg;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#131;&#141;&atilde;&#131;&not;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&#134;&atilde;&#129;&uml;&atilde;&#128;&#129;&aelig;&sect;&#139;&aelig;&#150;&#135;&egrave;&sect;&pound;&aelig;&#158;&#144;&aelig;&#153;&#130;&atilde;&#129;&laquo;&auml;&frac34;&#139;&aring;&curren;&#150;&atilde;&#129;&#140;&ccedil;&#153;&ordm;&ccedil;&#148;&#159;&atilde;&#129;&#151;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130;
                           &atilde;&#129;&#147;&atilde;&#129;&reg;&egrave;&shy;&deg;&egrave;&laquo;&#150;&atilde;&#129;&sect;&atilde;&#129;&macr;&atilde;&#128;&#129;&atilde;&#130;&curren;&atilde;&#131;&sup3;&atilde;&#131;&#135;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#131;&#153;&atilde;&#131;&frac14;&atilde;&#130;&sup1;&aring;&#158;&#139;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#131;&#141;&atilde;&#131;&not;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#129;&macr; <code class="literal">org.hibernate.id.SequenceGenerator</code> &iuml;&frac14;&#136;&atilde;&#129;&uml;&atilde;&#129;&#157;&atilde;&#129;&reg;&atilde;&#130;&micro;&atilde;&#131;&#150;&atilde;&#130;&macr;&atilde;&#131;&copy;&atilde;&#130;&sup1;&iuml;&frac14;&#137;&atilde;&#129;&uml;&atilde;&#128;&#129;<code class="literal">org.hibernate.id.PostInsertIdentifierGenerator</code> &atilde;&#129;&reg;&aring;&reg;&#159;&egrave;&pound;&#133;&atilde;&#129;&sect;&atilde;&#129;&#130;&atilde;&#130;&#139;&atilde;&#129;&uml;&egrave;&#128;&#131;&atilde;&#129;&#136;&atilde;&#129;&brvbar;&atilde;&#129;&#132;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#129;&#147;&atilde;&#129;&#147;&atilde;&#129;&sect;&aelig;&#156;&#128;&atilde;&#130;&#130;&aelig;&sup3;&uml;&aelig;&#132;&#143;&atilde;&#129;&#153;&atilde;&#129;&sup1;&atilde;&#129;&#141;&auml;&frac34;&#139;&aring;&curren;&#150;&atilde;&#129;&macr;&atilde;&#128;&#129;<code class="literal">org.hibernate.id.TableHiLoGenerator</code> &atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; &aring;&#128;&curren;&atilde;&#130;&#146;&aring;&#143;&#150;&aring;&frac34;&#151;&atilde;&#129;&#153;&atilde;&#130;&#139;&eacute;&#129;&cedil;&aelig;&#138;&#158;&aring;&#143;&macr;&egrave;&#131;&frac12;&atilde;&#129;&ordf;&aelig;&#150;&sup1;&aelig;&sup3;&#149;&atilde;&#129;&#140;&atilde;&#129;&ordf;&atilde;&#129;&#132;&atilde;&#129;&#159;&atilde;&#130;&#129;&atilde;&#128;&#129;&atilde;&#129;&#147;&atilde;&#129;&reg;&atilde;&#130;&cedil;&atilde;&#130;&sect;&atilde;&#131;&#141;&atilde;&#131;&not;&atilde;&#131;&frac14;&atilde;&#130;&iquest;&atilde;&#130;&#146;&auml;&frac12;&iquest;&atilde;&#129;&#134;&atilde;&#129;&#147;&atilde;&#129;&uml;&atilde;&#129;&macr;&atilde;&#129;&sect;&atilde;&#129;&#141;&atilde;&#129;&frac34;&atilde;&#129;&#155;&atilde;&#130;&#147;&atilde;&#128;&#130;
                           
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">version</code> &atilde;&#130;&#132; <code class="literal">timestamp</code> &atilde;&#129;&uml;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#131;&#158;&atilde;&#131;&#131;&atilde;&#131;&#148;&atilde;&#131;&sup3;&atilde;&#130;&deg;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#130;&#139;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#129;&laquo;&aring;&macr;&frac34;&atilde;&#129;&#151;&atilde;&#129;&brvbar;&atilde;&#128;&#129; insert&aelig;&#150;&#135;&atilde;&#129;&laquo;&atilde;&#129;&macr;&auml;&ordm;&#140;&atilde;&#129;&curren;&atilde;&#129;&reg;&eacute;&#129;&cedil;&aelig;&#138;&#158;&egrave;&#130;&cent;&atilde;&#129;&#140;&atilde;&#129;&#130;&atilde;&#130;&#138;&atilde;&#129;&frac34;&atilde;&#129;&#153;&atilde;&#128;&#130; &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&sect;&aelig;&#152;&#142;&ccedil;&curren;&ordm;&ccedil;&#154;&#132;&atilde;&#129;&laquo;&atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#130;&#146;&aelig;&#140;&#135;&aring;&reg;&#154;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#139;
                           &iuml;&frac14;&#136;&atilde;&#129;&#147;&atilde;&#129;&reg;&aring;&nbsp;&acute;&aring;&#144;&#136;&atilde;&#128;&#129;&aring;&macr;&frac34;&aring;&iquest;&#156;&atilde;&#129;&#153;&atilde;&#130;&#139;select&aring;&frac14;&#143;&atilde;&#129;&#139;&atilde;&#130;&#137;&aring;&#128;&curren;&atilde;&#129;&#140;&aring;&#143;&#150;&atilde;&#130;&#137;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&iuml;&frac14;&#137;&atilde;&#128;&#129; &atilde;&#131;&#151;&atilde;&#131;&shy;&atilde;&#131;&#145;&atilde;&#131;&#134;&atilde;&#130;&pound;&atilde;&#131;&ordf;&atilde;&#130;&sup1;&atilde;&#131;&#136;&atilde;&#129;&#139;&atilde;&#130;&#137;&eacute;&#153;&curren;&aring;&curren;&#150;&atilde;&#129;&#153;&atilde;&#130;&#139;&atilde;&#129;&#139; &iuml;&frac14;&#136;&atilde;&#129;&#147;&atilde;&#129;&reg;&aring;&nbsp;&acute;&aring;&#144;&#136;&atilde;&#128;&#129;<code class="literal">org.hibernate.type.VersionType</code> &atilde;&#129;&sect;&aring;&reg;&#154;&ccedil;&frac34;&copy;&atilde;&#129;&#149;&atilde;&#130;&#140;&atilde;&#129;&#159; <code class="literal">&atilde;&#130;&middot;&atilde;&#131;&frac14;&atilde;&#131;&#137;&aring;&#128;&curren;</code> &atilde;&#129;&#140;&auml;&frac12;&iquest;&atilde;&#130;&#143;&atilde;&#130;&#140;&atilde;&#129;&frac34;&atilde;&#129;&#153;&iuml;&frac14;&#137;&atilde;&#129;&reg;&atilde;&#129;&#132;&atilde;&#129;&#154;&atilde;&#130;&#140;&atilde;&#129;&#139;&atilde;&#129;&sect;&atilde;&#129;&#153;&atilde;&#128;&#130; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>HQL&atilde;&#129;&reg; <code class="literal">INSERT</code> &aelig;&#150;&#135;&atilde;&#129;&reg;&aring;&reg;&#159;&egrave;&iexcl;&#140;&auml;&frac34;&#139;&atilde;&#129;&sect;&atilde;&#129;&#153;&iuml;&frac14;&#154; 
               </p><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

String hqlInsert = "insert into DelinquentAccount (id, name) select c.id, c.name from Customer c where ...";
int createdEntities = s.createQuery( hqlInsert )
        .executeUpdate();
tx.commit();
session.close();</pre></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="queryhql"></a>&#31532;14&#31456; HQL: The Hibernate Query Language
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&#12399;SQL&#12395;&#38750;&#24120;&#12395;&#12424;&#12367;&#20284;&#12383;(&#24847;&#22259;&#30340;&#12395;&#20284;&#12379;&#12383;)&#24375;&#21147;&#12394;&#21839;&#12356;&#21512;&#12431;&#12379;&#35328;&#35486;&#12434;&#20633;&#12360;&#12390;&#12356;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;SQL&#12395;&#20284;&#12383;&#27083;&#25991;&#12395;&#24785;&#12431;&#12373;&#12428;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290;HQL&#12399;&#23436;&#20840;&#12395;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#25351;&#21521;&#12391;&#12354;&#12426;&#12289; &#32153;&#25215;&#12289;&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12289;&#38306;&#36899;&#12392;&#12356;&#12387;&#12383;&#27010;&#24565;&#12434;&#29702;&#35299;&#12375;&#12414;&#12377;&#12290; </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-casesensitivity"></a>14.1. &#22823;&#25991;&#23383;&#12392;&#23567;&#25991;&#23383;&#12398;&#21306;&#21029;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12463;&#12456;&#12522;&#12399;Java&#12398;&#12463;&#12521;&#12473;&#21517;&#12392;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12434;&#38500;&#12356;&#12390;&#22823;&#25991;&#23383;&#12289;&#23567;&#25991;&#23383;&#12434;&#21306;&#21029;&#12375;&#12414;&#12379;&#12435;&#12290; &#24467;&#12387;&#12390; <code class="literal">SeLeCT</code> &#12399; <code class="literal">sELEct</code> &#12392;&#21516;&#12376;&#12391;&#12289;&#12363;&#12388; <code class="literal">SELECT</code> &#12392;&#12418;&#21516;&#12376;&#12391;&#12377;&#12364; <code class="literal">net.sf.hibernate.eg.FOO</code> &#12399; <code class="literal">net.sf.hibernate.eg.Foo</code> &#12392;&#12399;&#36949;&#12356;&#12289;&#12363;&#12388; <code class="literal">foo.barSet</code> &#12399; <code class="literal">foo.BARSET</code> &#12392;&#12418;&#36949;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12371;&#12398;&#12510;&#12491;&#12517;&#12450;&#12523;&#12391;&#12399;&#23567;&#25991;&#23383;&#12398;HQL&#12461;&#12540;&#12527;&#12540;&#12489;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; &#22823;&#25991;&#23383;&#12398;&#12461;&#12540;&#12527;&#12540;&#12489;&#12398;&#12463;&#12456;&#12522;&#12398;&#26041;&#12364;&#35501;&#12415;&#12420;&#12377;&#12356;&#12392;&#24863;&#12376;&#12427;&#12518;&#12540;&#12470;&#12540;&#12418;&#12356;&#12427;&#12392;&#24605;&#12356;&#12414;&#12377;&#12290; &#12391;&#12377;&#12364;&#12289;Java&#12467;&#12540;&#12489;&#20869;&#12395;&#22475;&#12417;&#36796;&#12414;&#12428;&#12383;&#12392;&#12365;&#12395;&#12399;&#35211;&#12389;&#12425;&#12356;&#12392;&#24605;&#12356;&#12414;&#12377;&#12290; </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-from"></a>14.2. from&#31680;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12418;&#12387;&#12392;&#12418;&#21336;&#32020;&#12394;Hibernate&#12463;&#12456;&#12522;&#12399;&#27425;&#12398;&#24418;&#24335;&#12391;&#12377;&#12290; </p><pre class="programlisting">from eg.Cat</pre><p>&#12371;&#12428;&#12399;&#21336;&#32020;&#12395;&#12288;<code class="literal">eg.Cat</code>&#12288;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12377;&#12409;&#12390;&#36820;&#12375;&#12414;&#12377;&#12290; &#24517;&#12378;&#12375;&#12418;&#12463;&#12521;&#12473;&#21517;&#12434;&#20462;&#39166;&#12377;&#12427;&#65288;&#12463;&#12521;&#12473;&#12395;&#12497;&#12483;&#12465;&#12540;&#12472;&#21517;&#12434;&#20184;&#12369;&#12427;&#65289;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12392;&#12356;&#12358;&#12398;&#12418;&#12289;<code class="literal">auto-import</code> &#12364;&#12487;&#12501;&#12457;&#12523;&#12488;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#12289;&#12371;&#12398;&#12424;&#12358;&#12395;&#26360;&#12367;&#12384;&#12369;&#12391;&#21313;&#20998;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat</pre><p>&#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#12463;&#12456;&#12522;&#12398;&#12411;&#12363;&#12398;&#37096;&#20998;&#12391;&#12288;<code class="literal">Cat</code>&#12288;&#12434;&#21442;&#29031;&#12377;&#12427;&#12398;&#12391;&#12289;&#21029;&#21517;&#12434;&#21106;&#12426;&#24403;&#12390;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
               </p><pre class="programlisting">from Cat as cat</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12391;&#12399; <code class="literal">Cat</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395; <code class="literal">cat</code> &#12392;&#12356;&#12358;&#21029;&#21517;&#12434;&#20184;&#12369;&#12390;&#12356;&#12414;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12289;&#24460;&#12391;&#12371;&#12398;&#12463;&#12456;&#12522;&#20869;&#12391;&#12289;&#12371;&#12398;&#21029;&#21517;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">as</code> &#12461;&#12540;&#12527;&#12540;&#12489;&#12399;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12377;&#12290;&#12388;&#12414;&#12426;&#12371;&#12398;&#12424;&#12358;&#12395;&#26360;&#12367;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#65306; 
               </p><pre class="programlisting">from Cat cat</pre><p>&#30452;&#31309;&#12289;&#12354;&#12427;&#12356;&#12399;&#12463;&#12525;&#12473;&#32080;&#21512;&#12395;&#12424;&#12387;&#12390;&#22810;&#25968;&#12398;&#12463;&#12521;&#12473;&#12364;&#20986;&#29694;&#12377;&#12427;&#12371;&#12392;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; </p><pre class="programlisting">from Formula, Parameter</pre><pre class="programlisting">from Formula as form, Parameter as param</pre><p>&#12525;&#12540;&#12459;&#12523;&#22793;&#25968;&#12398;Java&#12398;&#12493;&#12540;&#12511;&#12531;&#12464;&#22522;&#28310;&#12392;&#19968;&#33268;&#12375;&#12383;&#12289; &#38957;&#25991;&#23383;&#12395;&#23567;&#25991;&#23383;&#12434;&#20351;&#12387;&#12383;&#12463;&#12456;&#12522;&#12398;&#21029;&#21517;&#12434;&#20184;&#12369;&#12427;&#12371;&#12392;&#12399;&#12356;&#12356;&#32722;&#24931;&#12391;&#12377;(&#20363;&#12360;&#12400; <code class="literal">domesticCat</code> )&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-joins"></a>14.3. &#38306;&#36899;&#12392;&#32080;&#21512;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12354;&#12427;&#12356;&#12399;&#20516;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12395;&#12418;&#12289;<code class="literal">&#32080;&#21512;</code> &#12434;&#20351;&#12387;&#12390;&#21029;&#21517;&#12434;&#21106;&#12426;&#24403;&#12390;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat as cat
    inner join cat.mate as mate
    left outer join cat.kittens as kitten</pre><pre class="programlisting">from Cat as cat left join cat.mate.kittens as kittens</pre><pre class="programlisting">from Formula form full join form.parameter param</pre><p>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#32080;&#21512;&#12398;&#12479;&#12452;&#12503;&#12399;ANSI SQL&#12392;&#21516;&#12376;&#12391;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>
                           <code class="literal">inner join</code>
                           
                        </p>
                     </li>
                     <li>
                        <p>
                           <code class="literal">left outer join</code>
                           
                        </p>
                     </li>
                     <li>
                        <p>
                           <code class="literal">right outer join</code>
                           
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">full join</code> (&#12383;&#12356;&#12390;&#12356;&#12398;&#22580;&#21512;&#20351;&#12356;&#12389;&#12425;&#12356;) 
                        </p>
                     </li>
                  </ul>
               </div>
               <p><code class="literal">inner join</code>&#12289;<code class="literal">left outer join</code>&#12289;<code class="literal">right outer join</code>&#12395;&#12399;&#30465;&#30053;&#24418;&#12434;&#20351;&#12358;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat as cat
    join cat.mate as mate
    left join cat.kittens as kitten</pre><p>HQL&#12398; <code class="literal">with</code> &#12461;&#12540;&#12527;&#12540;&#12489;&#12434;&#20351;&#12358;&#12392;&#12289;&#32080;&#21512;&#26465;&#20214;&#12434;&#20184;&#12369;&#21152;&#12360;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat as cat
    left join cat.kittens as kitten
        with kitten.bodyWeight &gt; 10.0</pre><p>&#21152;&#12360;&#12390;&#12289;&#12300;&#12501;&#12455;&#12483;&#12481;&#12301;&#32080;&#21512;&#12399;&#38306;&#36899;&#12420;&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#35242;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#19968;&#32210;&#12395;1&#24230;&#12398;select&#21477;&#12391;&#21021;&#26399;&#21270;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#29305;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#22580;&#21512;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290;&#12371;&#12428;&#12399;&#23455;&#36074;&#19978;&#12289;&#38306;&#36899;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#23550;&#12377;&#12427;&#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12501;&#12449;&#12452;&#12523;&#12398;&#22806;&#37096;&#32080;&#21512;&#12392;lazy&#21021;&#26399;&#21270;&#12398;&#23450;&#32681;&#12434;&#19978;&#26360;&#12365;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;
                  <a href="#performance-fetching" title="19.1. &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;">&#38917;19.1. &#12300;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12301;</a> &#12395;&#12424;&#12426;&#22810;&#12367;&#12398;&#24773;&#22577;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat as cat
    inner join fetch cat.mate
    left join fetch cat.kittens</pre><p>&#32080;&#21512;&#12395;&#12424;&#12427;&#12501;&#12455;&#12483;&#12481;&#12399;&#38306;&#36899;&#12377;&#12427;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364; <code class="literal">where</code> &#31680;(&#12414;&#12383;&#12399;&#20182;&#12398;&#12393;&#12435;&#12394;&#31680;&#12391;&#12418;) &#12391;&#20351;&#12431;&#12428;&#12390;&#12399;&#12394;&#12425;&#12394;&#12356;&#12398;&#12391;&#12289;&#36890;&#24120;&#21029;&#21517;&#12434;&#21106;&#12426;&#24403;&#12390;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12414;&#12383;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#21839;&#12356;&#21512;&#12431;&#12379;&#32080;&#26524;&#12392;&#12375;&#12390; &#30452;&#25509;&#36820;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290;&#20195;&#12431;&#12426;&#12395;&#35242;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#36890;&#12375;&#12390;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12414;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20877;&#24112;&#30340;&#12395;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#22580;&#21512;&#12398;&#12415;&#12289;&#21029;&#21517;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;
                  
               </p><pre class="programlisting">from Cat as cat
    inner join fetch cat.mate
    left join fetch cat.kittens child
    left join fetch child.kittens</pre><p><code class="literal">fetch</code> &#27083;&#25991;&#12399; <code class="literal">iterate()</code> &#12434;&#20351;&#12387;&#12383;&#12463;&#12456;&#12522;&#21628;&#12403;&#20986;&#12375;&#12391;&#20351;&#29992;&#12391;&#12365;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356; &#65288;&#19968;&#26041;&#12391; <code class="literal">scroll()</code> &#12399;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#65289;&#12290; &#12414;&#12383;&#12289;&#12371;&#12428;&#12425;&#12398;&#25805;&#20316;&#12399;&#32080;&#26524;&#12398;&#34892;&#12395;&#22522;&#12389;&#12356;&#12390;&#12356;&#12427;&#12383;&#12417;&#12289; <code class="literal">fetch</code> &#12399; <code class="literal">setMaxResults()</code> &#12420; <code class="literal">setFirstResult()</code> &#12392;&#19968;&#32210;&#12395;&#20351;&#29992;&#12377;&#12409;&#12365;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#36890;&#24120;eager&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12501;&#12455;&#12483;&#12481;&#12434;&#12377;&#12427;&#12392;&#37325;&#35079;&#12364;&#20986;&#12390;&#12375;&#12414;&#12358;&#12383;&#12417;&#12289;&#12354;&#12394;&#12383;&#12364;&#26399;&#24453;&#12377;&#12427;&#12424;&#12358;&#12394;&#34892;&#25968;&#12395;&#12399;&#12394;&#12425;&#12394;&#12356;&#12398;&#12391;&#12377;&#12290; &#12381;&#12375;&#12390;&#12414;&#12383; <code class="literal">fetch</code> &#12399;&#12289;&#12450;&#12489;&#12507;&#12483;&#12463;&#12394; <code class="literal">with</code> &#26465;&#20214;&#12434; &#19968;&#32210;&#12395;&#20351;&#12358;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#19968;&#12388;&#12398;&#12463;&#12456;&#12522;&#12391;&#35079;&#25968;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;&#30452;&#31309;&#12434;&#20316;&#25104;&#12391;&#12365;&#12427;&#12398;&#12391;&#12289;&#12371;&#12398;&#22580;&#21512;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12414;&#12383;&#12289;&#35079;&#25968;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#23550;&#12377;&#12427;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12399;bag&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#23550;&#12375;&#12390;&#20104;&#26399;&#12379;&#12396;&#32080;&#26524;&#12434;&#12418;&#12383;&#12425;&#12377;&#12371;&#12392;&#12364;&#12354;&#12427;&#12398;&#12391;&#12289;
                  &#12371;&#12398;&#22580;&#21512;&#12398;&#12463;&#12456;&#12522;&#12398;&#20316;&#25104;&#12395;&#12399;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#26368;&#24460;&#12395; <code class="literal">&#20840;&#22806;&#37096;&#32080;&#21512;&#12395;&#12424;&#12427;&#12501;&#12455;&#12483;&#12481;</code> &#12392; <code class="literal">&#21491;&#22806;&#37096;&#32080;&#21512;&#12395;&#12424;&#12427;&#12501;&#12455;&#12483;&#12481;</code> &#12399;&#26377;&#29992;&#12391;&#12399;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#12418;&#12375;&#12503;&#12525;&#12497;&#12486;&#12451;&#12524;&#12505;&#12523;&#12398;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#20351;&#12358;&#22580;&#21512;&#65288;&#20869;&#37096;&#30340;&#12395;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#20966;&#29702;&#12434;&#12377;&#12427;&#22580;&#21512;&#65289;&#12289; <code class="literal">fetch all properties</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12391; Hibernate&#12395;&#36933;&#24310;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36895;&#12420;&#12363;&#12395;&#65288;&#26368;&#21021;&#12398;&#12463;&#12456;&#12522;&#12391;&#65289;&#12501;&#12455;&#12483;&#12481;&#12373;&#12379;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Document fetch all properties order by name</pre><pre class="programlisting">from Document doc fetch all properties where lower(doc.name) like '%cats%'</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-joins-forms"></a>14.4. &#32080;&#21512;&#27083;&#25991;&#12398;&#24418;&#24335;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>HQL&#12399;&#65298;&#12388;&#12398;&#38306;&#36899;&#32080;&#21512;&#24418;&#24335;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#65306;<code class="literal">&#26263;&#40665;&#30340;</code> &#12392; <code class="literal">&#26126;&#31034;&#30340;</code>&#12290; 
               </p>
               <p>&#12371;&#12428;&#12414;&#12391;&#12398;&#12475;&#12463;&#12471;&#12519;&#12531;&#12391;&#12362;&#35211;&#12379;&#12375;&#12383;&#20351;&#12356;&#26041;&#12399;&#12377;&#12409;&#12390; <code class="literal">&#26126;&#31034;&#30340;&#12394;</code> &#24418;&#24335;&#12391;&#12289; from&#31680;&#12391;&#26126;&#31034;&#30340;&#12395;join&#12461;&#12540;&#12527;&#12540;&#12489;&#12434;&#20351;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#24418;&#24335;&#12434;&#12362;&#12377;&#12377;&#12417;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p><code class="literal">&#26263;&#40665;&#30340;</code> &#12501;&#12457;&#12540;&#12512;&#12399;&#12289;join&#12461;&#12540;&#12527;&#12540;&#12489;&#12434;&#20351;&#12356;&#12414;&#12379;&#12435;&#12290;&#20195;&#12431;&#12426;&#12395;&#12289;&#21442;&#29031;&#12377;&#12427;&#38306;&#36899;&#12395; &#12489;&#12483;&#12488;&#34920;&#35352;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290;<code class="literal">&#26263;&#40665;&#30340;</code> &#32080;&#21512;&#12399;&#12289;&#12373;&#12414;&#12374;&#12414;&#12394;HQL&#12395;&#20986;&#12390;&#12365;&#12414;&#12377;&#12290; <code class="literal">&#26263;&#40665;&#30340;</code> &#32080;&#21512;&#12398;&#32080;&#26524;&#12399;&#12289;SQL&#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#12398;&#20869;&#37096;&#32080;&#21512;&#32080;&#26524;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat as cat where cat.mate.name like '%s%'</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-identifier-property"></a>14.5. Refering to identifier property
                        </h2>
                     </div>
                  </div>
               </div>
               <p>There are, generally speaking, 2 ways to refer to an entity's identifier property: </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>The special property (lowercase) <code class="literal">id</code> may be used to reference the identifier property of an entity <span class="emphasis"><em>provided that entity does not define a non-identifier property named id</em></span>. 
                        </p>
                     </li>
                     <li>
                        <p>If the entity defines a named identifier property, you may use that property name. </p>
                     </li>
                  </ul>
               </div>
               <p>References to composite identifier properties follow the same naming rules. If the entity has a non-identifier property named
                  id, the composite identifier property can only be referenced by its defined named; otherwise, the special <code class="literal">id</code> property can be used to rerference the identifier property. 
               </p>
               <p>Note: this has changed significantly starting in version 3.2.2. In previous versions, <code class="literal">id</code> <span class="emphasis"><em>always</em></span> referred to the identifier property no matter what its actual name. A ramification of that decision was that non-identifier
                  properties named <code class="literal">id</code> could never be referenced in Hibernate queries. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-select"></a>14.6. Select&#31680;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">select</code> &#31680;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12393;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#23646;&#24615;&#12434;&#12463;&#12456;&#12522;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12395;&#36820;&#12377;&#12363;&#12434;&#36984;&#25246;&#12375;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">select mate
from Cat as cat
    inner join cat.mate as mate</pre><p>&#19978;&#35352;&#12398;&#12463;&#12456;&#12522;&#12399;&#20182;&#12398; <code class="literal">Cat</code> &#12398; <code class="literal">mate</code> &#12434;&#36984;&#25246;&#12375;&#12414;&#12377;&#12290; &#23455;&#38555;&#12395;&#12399;&#27425;&#12398;&#12424;&#12358;&#12395;&#12289;&#12424;&#12426;&#31777;&#28500;&#12395;&#34920;&#29694;&#12391;&#12365;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">select cat.mate from Cat cat</pre><p>&#12463;&#12456;&#12522;&#12399;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#21547;&#12416;&#12289;&#12354;&#12425;&#12422;&#12427;&#20516;&#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#36820;&#12379;&#12414;&#12377;&#12290;: </p><pre class="programlisting">select cat.name from DomesticCat cat
where cat.name like 'fri%'</pre><pre class="programlisting">select cust.name.firstName from Customer as cust</pre><p>&#12463;&#12456;&#12522;&#12399;&#35079;&#25968;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;(&#12414;&#12383;&#12399;)&#12503;&#12525;&#12497;&#12486;&#12451;&#12434; <code class="literal">Object[]</code> &#22411;&#12398;&#37197;&#21015;&#12392;&#12375;&#12390;&#36820;&#12379;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select mother, offspr, mate.name
from DomesticCat as mother
    inner join mother.mate as mate
    left outer join mother.kittens as offspr</pre><p>&#12418;&#12375;&#12367;&#12399; <code class="literal">List</code> &#12392;&#12375;&#12390;&#12289; 
               </p><pre class="programlisting">select new list(mother, offspr, mate.name)
from DomesticCat as mother
    inner join mother.mate as mate
    left outer join mother.kittens as offspr</pre><p>&#12414;&#12383;&#12399;&#12289;&#12479;&#12452;&#12503;&#12475;&#12540;&#12501;&#12394;Java&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#36820;&#12379;&#12414;&#12377;&#12290; </p><pre class="programlisting">select new Family(mother, mate, offspr)
from DomesticCat as mother
    join mother.mate as mate
    left join mother.kittens as offspr</pre><p>&#12354;&#12427;&#12356;&#12399; <code class="literal">Family</code> &#12463;&#12521;&#12473;&#12364;&#36969;&#20999;&#12394;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#25345;&#12387;&#12390;&#12356;&#12427;&#12392;&#12377;&#12427;&#12394;&#12425;&#12400;&#12289; 
               </p>
               <p>select&#31680;&#12395; <code class="literal">as</code> &#12434;&#20351;&#12387;&#12390;&#21029;&#21517;&#12434;&#12388;&#12369;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select max(bodyWeight) as max, min(bodyWeight) as min, count(*) as n
from Cat cat</pre><p><code class="literal">select new map</code> &#12392;&#19968;&#32210;&#12395;&#20351;&#12358;&#12392;&#12365;&#12395;&#26368;&#12418;&#24441;&#31435;&#12385;&#12414;&#12377;&#65306; 
               </p><pre class="programlisting">select new map( max(bodyWeight) as max, min(bodyWeight) as min, count(*) as n )
from Cat cat</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12399;&#21029;&#21517;&#12363;&#12425;select&#12375;&#12383;&#20516;&#12408; <code class="literal">Map</code> &#12434;&#36820;&#12375;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-aggregation"></a>14.7. &#38598;&#32004;&#38306;&#25968;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>HQL&#12398;&#12463;&#12456;&#12522;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#38598;&#32004;&#38306;&#25968;&#12398;&#32080;&#26524;&#12418;&#36820;&#12379;&#12414;&#12377;&#65306; </p><pre class="programlisting">select avg(cat.weight), sum(cat.weight), max(cat.weight), count(cat)
from Cat cat</pre><p>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#38598;&#32004;&#38306;&#25968;&#12399;&#20197;&#19979;&#12398;&#12418;&#12398;&#12391;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>
                           <code class="literal">avg(...), sum(...), min(...), max(...)</code>
                           
                        </p>
                     </li>
                     <li>
                        <p>
                           <code class="literal">count(*)</code>
                           
                        </p>
                     </li>
                     <li>
                        <p>
                           <code class="literal">count(...), count(distinct ...), count(all...)</code>
                           
                        </p>
                     </li>
                  </ul>
               </div>
               <p>select&#31680;&#12395;&#12362;&#12356;&#12390;&#31639;&#34899;&#25805;&#20316;&#12289;&#36899;&#32080;&#12392;&#25215;&#35469;&#12373;&#12428;&#12383;SQL&#38306;&#25968;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">select cat.weight + sum(kitten.weight)
from Cat cat
    join cat.kittens kitten
group by cat.id, cat.weight</pre><pre class="programlisting">select firstName||' '||initial||' '||upper(lastName) from Person</pre><p>SQL&#12392;&#21516;&#12376;&#24847;&#21619;&#12434;&#25345;&#12388; <code class="literal">distinct</code> &#12392; <code class="literal">all</code> &#12461;&#12540;&#12527;&#12540;&#12489;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select distinct cat.name from Cat cat

select count(distinct cat.name), count(cat) from Cat cat</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-polymorphism"></a>14.8. &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#12463;&#12456;&#12522;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27425;&#12398;&#12424;&#12358;&#12394;&#12463;&#12456;&#12522;&#65306; </p><pre class="programlisting">from Cat as cat</pre><p><code class="literal">Cat</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12384;&#12369;&#12391;&#12399;&#12394;&#12367;&#12289;<code class="literal">DomesticCat</code> &#12398;&#12424;&#12358;&#12394;&#12469;&#12502;&#12463;&#12521;&#12473;&#12418;&#36820;&#12373;&#12428;&#12414;&#12377;&#12290;Hibernate&#12463;&#12456;&#12522;&#12399; <span class="emphasis"><em>&#12393;&#12435;&#12394;</em></span> Java&#12463;&#12521;&#12473;&#12420;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12418; <code class="literal">from</code> &#31680;&#12395;&#20837;&#12428;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12463;&#12456;&#12522;&#12399;&#12381;&#12398;&#12463;&#12521;&#12473;&#12434;&#25313;&#24373;&#12375;&#12383;&#12289;&#12418;&#12375;&#12367;&#12399;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12375;&#12383;&#20840;&#12390;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; &#27425;&#12398;&#12463;&#12456;&#12522;&#12399;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12377;&#12409;&#12390;&#36820;&#12375;&#12414;&#12377;: 
               </p><pre class="programlisting">from java.lang.Object o</pre><p><code class="literal">Named</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12399;&#27096;&#12293;&#12394;&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#12424;&#12387;&#12390;&#23455;&#35013;&#12373;&#12428;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">from Named n, Named m where n.name = m.name</pre><p>&#26368;&#24460;&#12398;&#20108;&#12388;&#12398;&#12463;&#12456;&#12522;&#12399;&#12289;&#20108;&#12388;&#20197;&#19978;&#12398;SQL <code class="literal">SELECT</code> &#12434;&#35201;&#27714;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12398;&#12371;&#12392;&#12399; <code class="literal">order by</code> &#31680;&#12364;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#20840;&#20307;&#12434;&#27491;&#30906;&#12395;&#12399;&#25972;&#21015;&#12375;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377; (&#12373;&#12425;&#12395;&#12381;&#12428;&#12399;&#12289;<code class="literal">Query.scroll()</code> &#12434;&#20351;&#29992;&#12375;&#12390;&#12371;&#12428;&#12425;&#12398;&#12463;&#12456;&#12522;&#12434;&#21628;&#12406;&#12371;&#12392;&#12364;&#12391;&#12365;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290;)&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-where"></a>14.9. where&#31680;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">where</code> &#31680;&#12399;&#36820;&#12373;&#12428;&#12427;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12522;&#12473;&#12488;&#12434;&#32094;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12418;&#12375;&#21029;&#21517;&#12364;&#12394;&#12356;&#22580;&#21512;&#12289;&#21517;&#21069;&#12391;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#21442;&#29031;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat where name='Fritz'</pre><p>&#12418;&#12375;&#21029;&#21517;&#12364;&#12354;&#12427;&#22580;&#21512;&#12289;&#20462;&#39166;&#21517;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p><pre class="programlisting">from Cat as cat where cat.name='Fritz'</pre><p>&#21517;&#21069;&#12364;'Fritz'&#12392;&#12356;&#12358; <code class="literal">Cat</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select foo
from Foo foo, Bar bar
where foo.startDate = bar.date</pre><p>&#19978;&#12398;HQL&#12399;&#12289;<code class="literal">Foo</code> &#12398; <code class="literal">startDate</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#31561;&#12375;&#12356; <code class="literal">date</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25345;&#12387;&#12383; <code class="literal">bar</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#23384;&#22312;&#12377;&#12427;&#12289; &#12377;&#12409;&#12390;&#12398; <code class="literal">Foo</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; &#12467;&#12531;&#12497;&#12454;&#12531;&#12489;&#12497;&#12473;&#24335;&#65288;&#20363;&#12360;&#12400;&#12300;cat.mate.name&#12301;&#65289;&#12399; <code class="literal">where</code> &#31680;&#12434;&#38750;&#24120;&#12395;&#24375;&#21147;&#12395;&#12375;&#12414;&#12377;&#12290;&#27880;&#30446;&#65306; 
               </p><pre class="programlisting">from Cat cat where cat.mate.name is not null</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12399;&#12486;&#12540;&#12502;&#12523;&#32080;&#21512;&#65288;&#20869;&#37096;&#32080;&#21512;&#65289;&#12434;&#25345;&#12388;SQL&#12463;&#12456;&#12522;&#12395;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; &#12381;&#12398;&#20195;&#12431;&#12426;&#12395;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#26360;&#12367;&#12392;&#12289; </p><pre class="programlisting">from Foo foo
where foo.bar.baz.customer.address.city is not null</pre><p>&#12418;&#12375;&#19978;&#12398;&#12463;&#12456;&#12522;&#12434;&#35352;&#36848;&#12375;&#12383;&#12425;&#12463;&#12456;&#12522;&#20869;&#12395;4&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#32080;&#21512;&#12434;&#24517;&#35201;&#12392;&#12377;&#12427;SQL&#12463;&#12456;&#12522;&#12395;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
               <p><code class="literal">=</code> &#28436;&#31639;&#23376;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289;&#12503;&#12525;&#12497;&#12486;&#12451;&#12384;&#12369;&#12391;&#12394;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#27604;&#36611;&#12377;&#12427;&#12383;&#12417;&#12395;&#12418;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290;&#65306; 
               </p><pre class="programlisting">from Cat cat, Cat rival where cat.mate = rival.mate</pre><pre class="programlisting">select cat, mate
from Cat cat, Cat mate
where cat.mate = mate</pre><p><code class="literal">id</code> (&#23567;&#25991;&#23383;)&#12399;&#29305;&#21029;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12354;&#12426;&#12289; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12518;&#12491;&#12540;&#12463;&#12394;&#35672;&#21029;&#23376;&#12434;&#21442;&#29031;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;(&#12373;&#12425;&#12395;&#12289;&#12381;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;) 
               </p><pre class="programlisting">from Cat as cat where cat.id = 123

from Cat as cat where cat.mate.id = 69</pre><p>2&#30058;&#30446;&#12398;&#12463;&#12456;&#12522;&#12399;&#21177;&#29575;&#30340;&#12391;&#12377;&#12290;&#12486;&#12540;&#12502;&#12523;&#32080;&#21512;&#12364;&#24517;&#35201;&#12354;&#12426;&#12414;&#12379;&#12435;&#65281; </p>
               <p>&#12414;&#12383;&#35079;&#21512;&#35672;&#21029;&#23376;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;&#12371;&#12371;&#12391; <code class="literal">Person</code> &#12364; <code class="literal">country</code> &#12392; <code class="literal">medicareNumber</code> &#12363;&#12425;&#12394;&#12427;&#35079;&#21512;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#12392;&#20206;&#23450;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from bank.Person person
where person.id.country = 'AU'
    and person.id.medicareNumber = 123456</pre><pre class="programlisting">from bank.Account account
where account.owner.id.country = 'AU'
    and account.owner.id.medicareNumber = 123456</pre><p>&#12418;&#12358;&#19968;&#24230;&#35328;&#12356;&#12414;&#12377;&#12364;&#12289;2&#30058;&#30446;&#12398;&#12463;&#12456;&#12522;&#12395;&#12399;&#12486;&#12540;&#12502;&#12523;&#32080;&#21512;&#12364;&#24517;&#35201;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; </p>
               <p>&#21516;&#27096;&#12395; <code class="literal">class</code> &#12399;&#29305;&#21029;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12354;&#12426;&#12289; &#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12483;&#12463;&#12394;&#27704;&#32154;&#21270;&#12395;&#12362;&#12369;&#12427;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;discriminator&#20516;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12414;&#12377;&#12290; where&#31680;&#12395;&#22475;&#12417;&#36796;&#12414;&#12428;&#12383;Java&#12398;&#12463;&#12521;&#12473;&#21517;&#12399;&#12381;&#12398;discriminator&#20516;&#12395;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Cat cat where cat.class = DomesticCat</pre><p>&#12414;&#12383;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12420;&#35079;&#21512;&#12518;&#12540;&#12470;&#22411;(&#12414;&#12383;&#12381;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12394;&#12393;)&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#27770;&#12375;&#12390;&#65288;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12399;&#12394;&#12367;&#65289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#22411;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#32066;&#20102;&#12377;&#12427;&#12497;&#12473;&#24335;&#12434;&#20351;&#12431;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290; &#20363;&#12360;&#12400;&#12418;&#12375; <code class="literal">store.owner</code> &#12364; <code class="literal">address</code> &#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#25345;&#12388;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12394;&#12425;&#12400;&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#32080;&#26524;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>"any"&#22411;&#12399;&#29305;&#21029;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12354;&#12427; <code class="literal">id</code> &#12392; <code class="literal">class</code> &#12434;&#25345;&#12385;&#12289; &#20197;&#19979;&#12398;&#26041;&#27861;&#12391;&#32080;&#21512;&#12434;&#34920;&#29694;&#12377;&#12427;&#12371;&#12392;&#12434;&#21487;&#33021;&#12395;&#12375;&#12414;&#12377;(<code class="literal">AuditLog.item</code> &#12399; <code class="literal">&lt;any&gt;</code> &#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12391;&#12377;)&#12290; 
               </p><pre class="programlisting">from AuditLog log, Payment payment
where log.item.class = 'Payment' and log.item.id = payment.id</pre><p><code class="literal">log.item.class</code> &#12392; <code class="literal">payment.class</code> &#12364; &#19978;&#35352;&#12398;&#12463;&#12456;&#12522;&#20013;&#12391;&#20840;&#12367;&#30064;&#12394;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12459;&#12521;&#12512;&#12398;&#20516;&#12434;&#21442;&#29031;&#12377;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-expressions"></a>14.10. Expressions &#24335;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>SQL&#12398; <code class="literal">where</code> &#31680;&#12391;&#35352;&#36848;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12427;&#24335;&#12398;&#12411;&#12392;&#12435;&#12393;&#12434;HQL&#12391;&#12418;&#35352;&#36848;&#12391;&#12365;&#12414;&#12377;&#12290;: 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p>&#31639;&#34899;&#28436;&#31639;&#23376;&#65306;<code class="literal">+, -, *, /</code> 
                        </p>
                     </li>
                     <li>
                        <p>2&#38917;&#27604;&#36611;&#28436;&#31639;&#23376;&#65306;<code class="literal">=, &gt;=, &lt;=, &lt;&gt;, !=, like</code> 
                        </p>
                     </li>
                     <li>
                        <p>&#35542;&#29702;&#28436;&#31639;&#23376;&#65306;<code class="literal">and, or, not</code> 
                        </p>
                     </li>
                     <li>
                        <p>&#12464;&#12523;&#12540;&#12503;&#20998;&#12369;&#12434;&#34920;&#12377;&#25324;&#24359;&#65306;<code class="literal">( )</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">in</code>, <code class="literal">not in</code>, <code class="literal">between</code>, <code class="literal">is null</code>, <code class="literal">is not null</code>, <code class="literal">is empty</code>, <code class="literal">is not empty</code>, <code class="literal">member of</code> and <code class="literal">not member of</code> 
                        </p>
                     </li>
                     <li>
                        <p>"&#12471;&#12531;&#12503;&#12523;"&#12394;case <code class="literal">case ... when ... then ... else ... end</code>&#12289; "&#25506;&#32034;&#30340;"&#12394;case <code class="literal">case when ... then ... else ... end</code> 
                        </p>
                     </li>
                     <li>
                        <p>&#12473;&#12488;&#12522;&#12531;&#12464;&#12398;&#36899;&#32080; <code class="literal">...||...</code> &#12414;&#12383;&#12399; <code class="literal">concat(...,...)</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">current_date()</code>, <code class="literal">current_time()</code>, <code class="literal">current_timestamp()</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">second(...)</code>, <code class="literal">minute(...)</code>, <code class="literal">hour(...)</code>, <code class="literal">day(...)</code>, <code class="literal">month(...)</code>, <code class="literal">year(...)</code>, 
                        </p>
                     </li>
                     <li>
                        <p>EJB-QL 3.0&#12391;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12427;&#38306;&#25968;&#12420;&#28436;&#31639;&#23376;: <code class="literal">substring(), trim(), lower(), upper(), length(), locate(), abs(), sqrt(), bit_length()</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">coalesce()</code> &#12392; <code class="literal">nullif()</code> 
                        </p>
                     </li>
                     <li>
                        <p>&#25968;&#23383;&#12420;&#26178;&#38291;&#12398;&#20516;&#12434;String&#12395;&#12467;&#12531;&#12496;&#12540;&#12488;&#12377;&#12427; <code class="literal">str()</code>&#65289; 
                        </p>
                     </li>
                     <li>
                        <p>2&#30058;&#30446;&#12398;&#24341;&#25968;&#12364;Hibernate&#22411;&#12398;&#21517;&#21069;&#12391;&#12354;&#12427; <code class="literal">cast(... as ...)</code> &#12392; <code class="literal">extract(... from ...)</code>&#12290; &#12383;&#12384;&#12375;&#20351;&#29992;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;ANSI <code class="literal">cast()</code> &#12392; <code class="literal">extract()</code> &#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#22580;&#21512;&#12395;&#38480;&#12426;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#32080;&#21512;&#12375;&#12383;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#21029;&#21517;&#12395;&#36969;&#29992;&#12373;&#12428;&#12427;HQL&#12398; <code class="literal">index()</code> &#38306;&#25968;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20516;&#12398;&#12497;&#12473;&#24335;&#12434;&#21462;&#12427;HQL&#38306;&#25968;&#65306; <code class="literal">size(), minelement(), maxelement(), minindex(), maxindex()</code> &#12290; <code class="literal">some, all, exists, any, in</code> &#12434;&#20351;&#12387;&#12390;&#20462;&#39166;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12427;&#29305;&#21029;&#12394; <code class="literal">elements()</code> &#12392; <code class="literal">indices</code> &#38306;&#25968;&#12392;&#19968;&#32210;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">sign()</code>, <code class="literal">trunc()</code>, <code class="literal">rtrim()</code>, <code class="literal">sin()</code> &#12398;&#12424;&#12358;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;SQL&#12473;&#12459;&#12521;&#38306;&#25968;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p>JDBC&#12473;&#12479;&#12452;&#12523;&#12398;&#20301;&#32622;&#12497;&#12521;&#12513;&#12540;&#12479; <code class="literal">?</code> 
                        </p>
                     </li>
                     <li>
                        <p>&#21517;&#21069;&#20184;&#12365;&#12497;&#12521;&#12513;&#12540;&#12479;: <code class="literal">:name</code>, <code class="literal">:start_date</code>, <code class="literal">:x1</code> 
                        </p>
                     </li>
                     <li>
                        <p>SQL&#12522;&#12486;&#12521;&#12523;&#65306;<code class="literal">'foo'</code>, <code class="literal">69</code>, <code class="literal">6.66E+2</code>, <code class="literal">'1970-01-01 10:00:01.0'</code> 
                        </p>
                     </li>
                     <li>
                        <p>Java&#12398; <code class="literal">public static final</code> &#23450;&#25968;&#65306;<code class="literal">eg.Color.TABBY</code> 
                        </p>
                     </li>
                  </ul>
               </div>
               <p><code class="literal">in</code> &#12392; <code class="literal">between</code> &#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">from DomesticCat cat where cat.name between 'A' and 'B'</pre><pre class="programlisting">from DomesticCat cat where cat.name in ( 'Foo', 'Bar', 'Baz' )</pre><p>&#12414;&#12383;&#12289;&#21542;&#23450;&#24418;&#12391;&#35352;&#36848;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">from DomesticCat cat where cat.name not between 'A' and 'B'</pre><pre class="programlisting">from DomesticCat cat where cat.name not in ( 'Foo', 'Bar', 'Baz' )</pre><p>&#21516;&#27096;&#12395; <code class="literal">is null</code> &#12420; <code class="literal">is not null</code> &#12399;null&#20516;&#12434;&#12486;&#12473;&#12488;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p>
               <p>Hibernate&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;&#12391;HQL query substitutions&#12434;&#23450;&#32681;&#12377;&#12428;&#12400;&#12289;boolean&#20516;&#12434;&#24335;&#12398;&#20013;&#12391;&#31777;&#21336;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12290;&#65306; </p><pre class="programlisting">&lt;property name="hibernate.query.substitutions"&gt;true 1, false 0&lt;/property&gt;</pre><p>&#12371;&#12358;&#12377;&#12427;&#12371;&#12392;&#12391;&#19979;&#35352;&#12398;HQL&#12434;SQL&#12395;&#22793;&#25563;&#12377;&#12427;&#12392;&#12365;&#12395; <code class="literal">true</code> , <code class="literal">false</code> &#12461;&#12540;&#12527;&#12540;&#12489;&#12399; <code class="literal">1</code> , <code class="literal">0</code> &#12395;&#32622;&#12365;&#25563;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">from Cat cat where cat.alive = true</pre><p>&#29305;&#21029;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451; <code class="literal">size</code>&#12289;&#12414;&#12383;&#12399;&#29305;&#21029;&#12394;&#38306;&#25968; <code class="literal">size()</code> &#12434;&#20351;&#12387;&#12390;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12469;&#12452;&#12474;&#12434;&#12486;&#12473;&#12488;&#12391;&#12365;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">from Cat cat where cat.kittens.size &gt; 0</pre><pre class="programlisting">from Cat cat where size(cat.kittens) &gt; 0</pre><p>&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;<code class="literal">minindex</code> &#12392; <code class="literal">maxindex</code> &#38306;&#25968;&#12434;&#20351;&#12387;&#12390;&#12289;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12398;&#26368;&#23567;&#20516;&#12392;&#26368;&#22823;&#20516;&#12434;&#21442;&#29031;&#12391;&#12365;&#12414;&#12377;&#12290; &#21516;&#27096;&#12395;&#12289;<code class="literal">minelement</code> &#12392; <code class="literal">maxelement</code> &#12434;&#20351;&#12387;&#12390;&#12289; &#22522;&#26412;&#22411;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#35201;&#32032;&#12398;&#26368;&#23567;&#20516;&#12392;&#26368;&#22823;&#20516;&#12434;&#21442;&#29031;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">from Calendar cal where maxelement(cal.holidays) &gt; current_date</pre><pre class="programlisting">from Order order where maxindex(order.items) &gt; 100</pre><pre class="programlisting">from Order order where minelement(order.items) &gt; 10000</pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12420;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12398;&#12475;&#12483;&#12488;&#65288;<code class="literal">elements</code> &#12392; <code class="literal">indices</code> &#38306;&#25968;&#65289;&#12289;&#12414;&#12383;&#12399;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#65288;&#24460;&#36848;&#65289;&#12398;&#32080;&#26524;&#12364;&#21463;&#12369;&#21462;&#12428;&#12427;&#12392;&#12365;&#12399;&#12289; SQL&#38306;&#25968; <code class="literal">any, some, all, exists, in</code> &#12364;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select mother from Cat as mother, Cat as kit
where kit in elements(foo.kittens)</pre><pre class="programlisting">select p from NameList list, Person p
where p.name = some elements(list.names)</pre><pre class="programlisting">from Cat cat where exists elements(cat.kittens)</pre><pre class="programlisting">from Player p where 3 &gt; all elements(p.scores)</pre><pre class="programlisting">from Show show where 'fizard' in indices(show.acts)</pre><p><code class="literal">size</code>, <code class="literal">elements</code>, <code class="literal">indices</code>, <code class="literal">minindex</code>, <code class="literal">maxindex</code>, <code class="literal">minelement</code>, <code class="literal">maxelement</code> &#12399;Hibernate3&#12398;where&#31680;&#12384;&#12369;&#12391;&#21033;&#29992;&#21487;&#33021;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65288;arrays, lists, maps&#65289;&#12398;&#35201;&#32032;&#12399;&#12289; &#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12391;&#21442;&#29031;&#12391;&#12365;&#12414;&#12377;&#65288;where&#31680;&#20869;&#12391;&#12398;&#12415;&#65289;&#12290; </p><pre class="programlisting">from Order order where order.items[0].id = 1234</pre><pre class="programlisting">select person from Person person, Calendar calendar
where calendar.holidays['national day'] = person.birthDay
    and person.nationality.calendar = calendar</pre><pre class="programlisting">select item from Item item, Order order
where order.items[ order.deliveredItemIndices[0] ] = item and order.id = 11</pre><pre class="programlisting">select item from Item item, Order order
where order.items[ maxindex(order.items) ] = item and order.id = 11</pre><p><code class="literal">[]</code> &#20869;&#37096;&#12398;&#24335;&#12399;&#12289;&#31639;&#34899;&#24335;&#12391;&#12418;&#27083;&#12356;&#12414;&#12379;&#12435;&#12290; 
               </p><pre class="programlisting">select item from Item item, Order order
where order.items[ size(order.items) - 1 ] = item</pre><p>&#19968;&#23550;&#22810;&#38306;&#36899;&#12420;&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12395;&#23550;&#12375;&#12390;&#12399;&#12289;HQL&#12399;&#32068;&#12415;&#36796;&#12415;&#12398; <code class="literal">index()</code> &#38306;&#25968;&#12418;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select item, index(item) from Order order
    join order.items item
where index(item) &lt; 5</pre><p>&#12505;&#12540;&#12473;&#12392;&#12394;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#12473;&#12459;&#12521;&#12540;SQL&#38306;&#25968;&#12364;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377; </p><pre class="programlisting">from DomesticCat cat where upper(cat.name) like 'FRI%'</pre><p>&#12418;&#12375;&#12414;&#12384;&#20840;&#12390;&#12434;&#29702;&#35299;&#12375;&#12390;&#12356;&#12394;&#12356;&#12394;&#12425;&#12289;&#19979;&#12398;&#12463;&#12456;&#12522;&#12434;SQL&#12391;&#12393;&#12428;&#12384;&#12369;&#38263;&#12367;&#12289;&#35501;&#12415;&#12389;&#12425;&#12367;&#20986;&#26469;&#12427;&#12363;&#32771;&#12360;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;: </p><pre class="programlisting">select cust
from Product prod,
    Store store
    inner join store.customers cust
where prod.name = 'widget'
    and store.location.name in ( 'Melbourne', 'Sydney' )
    and prod = all elements(cust.currentOrder.lineItems)</pre><p><span class="emphasis"><em>&#12498;&#12531;&#12488;:</em></span> &#20363;&#12360;&#12400;&#12371;&#12398;&#12424;&#12358;&#12395;&#20986;&#26469;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">SELECT cust.name, cust.address, cust.phone, cust.id, cust.current_order
FROM customers cust,
    stores store,
    locations loc,
    store_customers sc,
    product prod
WHERE prod.name = 'widget'
    AND store.loc_id = loc.id
    AND loc.name IN ( 'Melbourne', 'Sydney' )
    AND sc.store_id = store.id
    AND sc.cust_id = cust.id
    AND prod.id = ALL(
        SELECT item.prod_id
        FROM line_items item, orders o
        WHERE item.order_id = o.id
            AND cust.current_order = o.id
    )</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-ordering"></a>14.11. order by&#31680;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12463;&#12456;&#12522;&#12364;&#36820;&#12377;list&#12399;&#12289;&#36820;&#12373;&#12428;&#12427;&#12463;&#12521;&#12473;&#12420;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#20219;&#24847;&#12398;&#23646;&#24615;&#12395;&#12424;&#12387;&#12390;&#20006;&#12409;&#26367;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290;&#65306; </p><pre class="programlisting">from DomesticCat cat
order by cat.name asc, cat.weight desc, cat.birthdate</pre><p>&#12458;&#12503;&#12471;&#12519;&#12531;&#12398; <code class="literal">asc</code> &#12392; <code class="literal">desc</code> &#12399;&#12381;&#12428;&#12382;&#12428;&#26119;&#38918;&#12363;&#38477;&#38918;&#12398;&#25972;&#21015;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-grouping"></a>14.12. group by&#31680;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#38598;&#32004;&#20516;&#12434;&#36820;&#12377;&#12463;&#12456;&#12522;&#12399;&#12289;&#36820;&#12373;&#12428;&#12427;&#12463;&#12521;&#12473;&#12420;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12398;&#20219;&#24847;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12395;&#12424;&#12387;&#12390;&#12464;&#12523;&#12540;&#12503;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290;: </p><pre class="programlisting">select cat.color, sum(cat.weight), count(cat)
from Cat cat
group by cat.color</pre><pre class="programlisting">select foo.id, avg(name), max(name)
from Foo foo join foo.names name
group by foo.id</pre><p><code class="literal">having</code> &#31680;&#12418;&#20351;&#12360;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select cat.color, sum(cat.weight), count(cat)
from Cat cat
group by cat.color
having cat.color in (eg.Color.TABBY, eg.Color.BLACK)</pre><p>&#12418;&#12375;&#20351;&#29992;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12427;&#12394;&#12425;&#12289; <code class="literal">having</code> &#12392; <code class="literal">order by</code> &#31680;&#12391;SQL&#38306;&#25968;&#12392;&#38598;&#32004;&#38306;&#25968;&#12364;&#20351;&#12360;&#12414;&#12377; &#65288;&#20363;&#12360;&#12400;MySQL&#12395;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#65289;&#12290; 
               </p><pre class="programlisting">select cat
from Cat cat
    join cat.kittens kitten
group by cat.id, cat.name, cat.other, cat.properties
having avg(kitten.weight) &gt; 100
order by count(kitten) asc, sum(kitten.weight) desc</pre><p>Note that neither the <code class="literal">group by</code> clause nor the <code class="literal">order by</code> clause may contain arithmetic expressions. Also note that Hibernate currently does not expand a grouped entity, so you can't
                  write <code class="literal">group by cat</code> if all properties of <code class="literal">cat</code> are non-aggregated. You have to list all non-aggregated properties explicitly. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-subqueries"></a>14.13. &#21103;&#21839;&#12356;&#21512;&#12431;&#12379;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12383;&#12417;&#12289;Hibernate&#12399;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12399;&#25324;&#24359;&#12391;&#22258;&#12414;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#65288;SQL&#12398;&#38598;&#32004;&#38306;&#25968;&#21628;&#12403;&#20986;&#12375;&#12395;&#12424;&#12427;&#20107;&#12364;&#22810;&#12356;&#12391;&#12377;&#65289;&#12290; &#38306;&#36899;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;(&#22806;&#37096;&#12463;&#12456;&#12522;&#20013;&#12398;&#21029;&#21517;&#12434;&#21442;&#29031;&#12377;&#12427;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12398;&#12371;&#12392;)&#12373;&#12360;&#35377;&#21487;&#12373;&#12428;&#12414;&#12377;&#12290;
                  
               </p><pre class="programlisting">from Cat as fatcat
where fatcat.weight &gt; (
    select avg(cat.weight) from DomesticCat cat
)</pre><pre class="programlisting">from DomesticCat as cat
where cat.name = some (
    select name.nickName from Name as name
)</pre><pre class="programlisting">from Cat as cat
where not exists (
    from Cat as mate where mate.mate = cat
)</pre><pre class="programlisting">from DomesticCat as cat
where cat.name not in (
    select name.nickName from Name as name
)</pre><pre class="programlisting">select cat.id, (select max(kit.weight) from cat.kitten kit)
from Cat as cat</pre><p>HQL&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12399;&#12289;select&#12414;&#12383;&#12399;where&#31680;&#12384;&#12369;&#12391;&#20351;&#12431;&#12428;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               <p>Note that subqueries can also utilize <code class="literal">row value constructor</code> syntax. See <a href="#queryhql-tuple" title="14.18. Row value constructor syntax">&#38917;14.18. &#12300;Row value constructor syntax&#12301;</a> for more details. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-examples"></a>14.14. HQL&#12398;&#20363;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12463;&#12456;&#12522;&#12399;&#38750;&#24120;&#12395;&#24375;&#21147;&#12391;&#35079;&#38609;&#12395;&#12391;&#12365;&#12414;&#12377;&#12290;&#23455;&#38555;&#12289;&#12463;&#12456;&#12522;&#35328;&#35486;&#12398;&#23041;&#21147;&#12399;Hibernate&#12398;&#20027;&#35201;&#12394;&#12475;&#12540;&#12523;&#12473;&#12509;&#12452;&#12531;&#12488;&#12398;&#19968;&#12388;&#12391;&#12377;&#12290; &#12371;&#12371;&#12395;&#26368;&#36817;&#12398;&#12503;&#12525;&#12472;&#12455;&#12463;&#12488;&#12391;&#20351;&#29992;&#12375;&#12383;&#12463;&#12456;&#12522;&#12392;&#38750;&#24120;&#12395;&#12424;&#12367;&#20284;&#12383;&#20363;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#12463;&#12456;&#12522;&#12399;&#12371;&#12428;&#12425;&#12398;&#20363;&#12424;&#12426;&#31777;&#21336;&#12395;&#35352;&#36848;&#12391;&#12365;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;!
                  
               </p>
               <p>&#20197;&#19979;&#12398;&#12463;&#12456;&#12522;&#12399;&#29305;&#23450;&#12398;&#39015;&#23458;&#12392;&#19982;&#12360;&#12425;&#12428;&#12383;&#26368;&#23567;&#12398;&#21512;&#35336;&#20516;&#12395;&#23550;&#12377;&#12427;&#26410;&#25173;&#12356;&#27880;&#25991;&#12398;&#27880;&#25991;ID&#12289; &#21830;&#21697;&#12398;&#25968;&#12289;&#27880;&#25991;&#12398;&#21512;&#35336;&#12434;&#21512;&#35336;&#20516;&#12391;&#25972;&#21015;&#12375;&#12390;&#36820;&#12375;&#12414;&#12377;&#12290; &#20385;&#26684;&#12434;&#27770;&#23450;&#12377;&#12427;&#38555;&#12289;&#29694;&#22312;&#12398;&#12459;&#12479;&#12525;&#12464;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290;&#32080;&#26524;&#12392;&#12375;&#12390;&#36820;&#12373;&#12428;&#12427;SQL&#12463;&#12456;&#12522;&#12399; <code class="literal">ORDER</code>, <code class="literal">ORDER_LINE</code>, <code class="literal">PRODUCT</code>, <code class="literal">CATALOG</code> &#12362;&#12424;&#12403; <code class="literal">PRICE</code> &#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12375;4&#12388;&#12398;&#20869;&#37096;&#32080;&#21512;&#12392; (&#38306;&#36899;&#12375;&#12394;&#12356;)&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select order.id, sum(price.amount), count(item)
from Order as order
    join order.lineItems as item
    join item.product as product,
    Catalog as catalog
    join catalog.prices as price
where order.paid = false
    and order.customer = :customer
    and price.product = product
    and catalog.effectiveDate &lt; sysdate
    and catalog.effectiveDate &gt;= all (
        select cat.effectiveDate
        from Catalog as cat
        where cat.effectiveDate &lt; sysdate
    )
group by order
having sum(price.amount) &gt; :minAmount
order by sum(price.amount) desc</pre><p>&#20309;&#12390;&#24040;&#22823;&#12394;&#12463;&#12456;&#12522;&#12394;&#12398;&#12391;&#12375;&#12423;&#12358;! &#26222;&#27573;&#31169;&#12399;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12434;&#12354;&#12414;&#12426;&#20351;&#12356;&#12414;&#12379;&#12435;&#12290;&#12375;&#12383;&#12364;&#12387;&#12390;&#31169;&#12398;&#12463;&#12456;&#12522;&#12399;&#23455;&#38555;&#12395;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;: </p><pre class="programlisting">select order.id, sum(price.amount), count(item)
from Order as order
    join order.lineItems as item
    join item.product as product,
    Catalog as catalog
    join catalog.prices as price
where order.paid = false
    and order.customer = :customer
    and price.product = product
    and catalog = :currentCatalog
group by order
having sum(price.amount) &gt; :minAmount
order by sum(price.amount) desc</pre><p>&#27425;&#12398;&#12463;&#12456;&#12522;&#12399;&#21508;&#12473;&#12486;&#12540;&#12479;&#12473;&#12398;&#25903;&#25173;&#12356;&#25968;&#12434;&#25968;&#12360;&#12414;&#12377;&#12290;&#12383;&#12384;&#12375;&#12377;&#12409;&#12390;&#12398;&#25903;&#25173;&#12356;&#12364;&#29694;&#22312;&#12398;&#21033;&#29992;&#32773;&#12395;&#12424;&#12427; &#26368;&#26032;&#12398;&#12473;&#12486;&#12540;&#12479;&#12473;&#22793;&#26356;&#12391;&#12354;&#12427; <code class="literal">AWAITING_APPROVAL</code> &#12391;&#12354;&#12427;&#22580;&#21512;&#12434;&#38500;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#12463;&#12456;&#12522;&#12399;2&#12388;&#12398;&#20869;&#37096;&#32080;&#21512;&#12392; <code class="literal">PAYMENT</code>, <code class="literal">PAYMENT_STATUS</code> &#12362;&#12424;&#12403; <code class="literal">PAYMENT_STATUS_CHANGE</code> &#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12377;&#12427;&#38306;&#36899;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12434;&#20633;&#12360;&#12383;SQL&#12463;&#12456;&#12522;&#12395;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select count(payment), status.name
from Payment as payment
    join payment.currentStatus as status
    join payment.statusChanges as statusChange
where payment.status.name &lt;&gt; PaymentStatus.AWAITING_APPROVAL
    or (
        statusChange.timeStamp = (
            select max(change.timeStamp)
            from PaymentStatusChange change
            where change.payment = payment
        )
        and statusChange.user &lt;&gt; :currentUser
    )
group by status.name, status.sortOrder
order by status.sortOrder</pre><p>&#12418;&#12375;&#31169;&#12364;set&#12398;&#20195;&#12431;&#12426;&#12395;list&#12392;&#12375;&#12390; <code class="literal">statusChanges</code> &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434; &#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#12394;&#12425;&#12400;&#12289;&#12399;&#12427;&#12363;&#12395;&#31777;&#21336;&#12395;&#12463;&#12456;&#12522;&#12434;&#35352;&#36848;&#12391;&#12365;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
               </p><pre class="programlisting">select count(payment), status.name
from Payment as payment
    join payment.currentStatus as status
where payment.status.name &lt;&gt; PaymentStatus.AWAITING_APPROVAL
    or payment.statusChanges[ maxIndex(payment.statusChanges) ].user &lt;&gt; :currentUser
group by status.name, status.sortOrder
order by status.sortOrder</pre><p>&#27425;&#12398;&#12463;&#12456;&#12522;&#12399;&#29694;&#22312;&#12398;&#12518;&#12540;&#12470;&#12364;&#25152;&#23646;&#12377;&#12427;&#32068;&#32340;&#12395;&#23550;&#12377;&#12427;&#12450;&#12459;&#12454;&#12531;&#12488;&#12362;&#12424;&#12403;&#26410;&#25173;&#12356;&#12398;&#25903;&#25173;&#12356;&#12434; &#12377;&#12409;&#12390;&#36820;&#12377;MS SQL Server &#12398; <code class="literal">isNull()</code> &#38306;&#25968;&#12434;&#20351;&#29992;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#12463;&#12456;&#12522;&#12399;3&#12388;&#12398;&#20869;&#37096;&#32080;&#21512;&#12392;1&#12388;&#12398;&#22806;&#37096;&#32080;&#21512; &#12289; &#12381;&#12375;&#12390; <code class="literal">ACCOUNT</code>, <code class="literal">PAYMENT</code>, <code class="literal">PAYMENT_STATUS</code>, <code class="literal">ACCOUNT_TYPE</code>, <code class="literal">ORGANIZATION</code> &#12362;&#12424;&#12403; <code class="literal">ORG_USER</code> &#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12377;&#12427;&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#25345;&#12387;&#12383;SQL&#12395;&#22793;&#25563;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select account, payment
from Account as account
    left outer join account.payments as payment
where :currentUser in elements(account.holder.users)
    and PaymentStatus.UNPAID = isNull(payment.currentStatus.name, PaymentStatus.UNPAID)
order by account.type.sortOrder, account.accountNumber, payment.dueDate</pre><p>&#12356;&#12367;&#12388;&#12363;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12388;&#12356;&#12390;&#12399;&#12289;(&#38306;&#36899;&#12373;&#12379;&#12425;&#12428;&#12383;)&#21103;&#21839;&#12356;&#21512;&#12431;&#12379;&#12398;&#20351;&#29992;&#12434;&#36991;&#12369;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; </p><pre class="programlisting">select account, payment
from Account as account
    join account.holder.users as user
    left outer join account.payments as payment
where :currentUser = user
    and PaymentStatus.UNPAID = isNull(payment.currentStatus.name, PaymentStatus.UNPAID)
order by account.type.sortOrder, account.accountNumber, payment.dueDate</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-bulk"></a>14.15. &#22823;&#37327;&#12398;UPDATE&#12392;DELETE
                        </h2>
                     </div>
                  </div>
               </div>
               <p>HQL&#12399;&#20170;&#12399; <code class="literal">update</code> &#12392; <code class="literal">delete</code>&#12289;<code class="literal">insert ... select ...</code> &#12473;&#12486;&#12540;&#12488;&#12513;&#12531;&#12488;&#12434;HQL&#12395;&#20837;&#12428;&#12427;&#12371;&#12392;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; <a href="#batch-direct" title="13.4. DML&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#130;&curren;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aelig;&#147;&#141;&auml;&frac12;&#156;">&#38917;13.4. &#12300;DML&atilde;&#130;&sup1;&atilde;&#130;&iquest;&atilde;&#130;&curren;&atilde;&#131;&laquo;&atilde;&#129;&reg;&aelig;&#147;&#141;&auml;&frac12;&#156;&#12301;</a> &#12395;&#35443;&#32048;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-tipstricks"></a>14.16. Tips &amp; Tricks
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#23455;&#38555;&#12395;&#32080;&#26524;&#12434;&#36820;&#12373;&#12394;&#12367;&#12390;&#12418;&#12463;&#12456;&#12522;&#12398;&#32080;&#26524;&#25968;&#12434;&#25968;&#12360;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;: </p><pre class="programlisting">( (Integer) session.createQuery("select count(*) from ....").iterate().next() ).intValue()</pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12469;&#12452;&#12474;&#12395;&#12424;&#12426;&#32080;&#26524;&#12434;&#20006;&#12409;&#26367;&#12360;&#12427;&#12383;&#12417;&#12395;&#12399;&#20197;&#19979;&#12398;&#12463;&#12456;&#12522;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290;: </p><pre class="programlisting">select usr.id, usr.name
from User as usr
    left join usr.messages as msg
group by usr.id, usr.name
order by count(msg)</pre><p>&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12434;&#12469;&#12509;&#12540;&#12488;&#12377;&#12427;&#22580;&#21512;&#12289;&#12463;&#12456;&#12522;&#12398;where&#31680;&#12391;&#12469;&#12452;&#12474;&#12395;&#12424;&#12427;&#36984;&#25246;&#26465;&#20214;&#12434;&#35373;&#23450;&#12391;&#12365;&#12414;&#12377;: </p><pre class="programlisting">from User usr where size(usr.messages) &gt;= 1</pre><p>&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12364;&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12394;&#12356;&#22580;&#21512;&#12399;&#12289;&#27425;&#12398;&#12463;&#12456;&#12522;&#12434;&#20351;&#29992;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;: </p><pre class="programlisting">select usr.id, usr.name
from User usr.name
    join usr.messages msg
group by usr.id, usr.name
having count(msg) &gt;= 1</pre><p>&#20869;&#37096;&#32080;&#21512;&#12434;&#12375;&#12390;&#12356;&#12427;&#12379;&#12356;&#12391;&#19978;&#12398;&#35299;&#27770;&#27861;&#12364;message&#12398;&#20214;&#25968;&#12364; &#12476;&#12525;&#12398; <code class="literal">User</code> &#12434;&#36820;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12394;&#12356;&#12394;&#12425;&#12400;&#12289;&#20197;&#19979;&#12398;&#24418;&#24335;&#12364;&#20351;&#12360;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">select usr.id, usr.name
from User as usr
    left join usr.messages as msg
group by usr.id, usr.name
having count(msg) = 0</pre><p>JavaBean&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12289;&#21517;&#21069;&#20184;&#12365;&#12398;&#12463;&#12456;&#12522;&#12497;&#12521;&#12513;&#12540;&#12479;&#12395;&#32080;&#12403;&#12388;&#12369;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290;&#65306; </p><pre class="programlisting">Query q = s.createQuery("from foo Foo as foo where foo.name=:name and foo.size=:size");
q.setProperties(fooBean); // fooBean has getName() and getSize()
List foos = q.list();</pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#12501;&#12451;&#12523;&#12479;&#20184;&#12365; <code class="literal">Query</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#20351;&#29992;&#12377;&#12427;&#12371;&#12392;&#12391;&#12506;&#12540;&#12472;&#12434;&#12388;&#12369;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;: 
               </p><pre class="programlisting">Query q = s.createFilter( collection, "" ); // the trivial filter
q.setMaxResults(PAGE_SIZE);
q.setFirstResult(PAGE_SIZE * pageNumber);
List page = q.list();</pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12399;&#12463;&#12456;&#12522;&#12501;&#12451;&#12523;&#12479;&#12434;&#20351;&#12387;&#12390;&#12289;&#20006;&#12409;&#26367;&#12360;&#12420;&#12464;&#12523;&#12540;&#12503;&#20998;&#12369;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290;: </p><pre class="programlisting">Collection orderedCollection = s.filter( collection, "order by this.amount" );
Collection counts = s.filter( collection, "select this.type, count(this) group by this.type" );</pre><p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21021;&#26399;&#21270;&#12379;&#12378;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12469;&#12452;&#12474;&#12434;&#24471;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;: </p><pre class="programlisting">( (Integer) session.createQuery("select count(*) from ....").iterate().next() ).intValue();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-components"></a>14.17. translator-credits
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Components might be used in just about every way that simple value types can be used in HQL queries. They can appear in the
                  <code class="literal">select</code> clause: 
               </p><pre class="programlisting">select p.name from Person p</pre><pre class="programlisting">select p.name.first from Person p</pre><p>where the Person's name property is a component. Components can also be used in the <code class="literal">where</code> clause: 
               </p><pre class="programlisting">from Person p where p.name = :name</pre><pre class="programlisting">from Person p where p.name.first = :firstName</pre><p>Components can also be used in the <code class="literal">order by</code> clause: 
               </p><pre class="programlisting">from Person p order by p.name</pre><pre class="programlisting">from Person p order by p.name.first</pre><p>Another common use of components is in <a href="#queryhql-tuple" title="14.18. Row value constructor syntax">row value constructors</a>. 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="queryhql-tuple"></a>14.18. Row value constructor syntax
                        </h2>
                     </div>
                  </div>
               </div>
               <p>HQL supports the use of ANSI SQL <code class="literal">row value constructor</code> syntax (sometimes called <code class="literal">tuple</code> syntax), even though the underlying database may not support that notion. Here we are generally referring to multi-valued
                  comparisons, typically associated with components. Consider an entity Person which defines a name component: 
               </p><pre class="programlisting">from Person p where p.name.first='John' and p.name.last='Jingleheimer-Schmidt'</pre><p>That's valid syntax, although a little verbose. It be nice to make this a bit more concise and use <code class="literal">row value constructor</code> syntax: 
               </p><pre class="programlisting">from Person p where p.name=('John', 'Jingleheimer-Schmidt')</pre><p>It can also be useful to specify this in the <code class="literal">select</code> clause: 
               </p><pre class="programlisting">select p.name from Person p</pre><p>Another time using <code class="literal">row value constructor</code> syntax can be beneficial is when using subqueries needing to compare against multiple values: 
               </p><pre class="programlisting">from Cat as cat
where not ( cat.name, cat.color ) in (
    select cat.name, cat.color from DomesticCat cat
)</pre><p>One thing to consider when deciding if you want to use this syntax is that the query will be dependent upon the ordering of
                  the component sub-properties in the metadata. 
               </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="querycriteria"></a>&#31532;15&#31456; Criteria&#12463;&#12456;&#12522;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&#12395;&#12399;&#12289;&#30452;&#24863;&#30340;&#12391;&#25313;&#24373;&#21487;&#33021;&#12394;criteria&#12463;&#12456;&#12522;API&#12364;&#29992;&#24847;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-creating"></a>15.1. <code class="literal">Criteria</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#20316;&#25104;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">org.hibernate.Criteria</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12399;&#29305;&#23450;&#12398;&#27704;&#32154;&#24615;&#12463;&#12521;&#12473;&#12395;&#23550;&#12377;&#12427;&#12463;&#12456;&#12522;&#12434;&#34920;&#29694;&#12375;&#12414;&#12377;&#12290; <code class="literal">Session</code> &#12399; <code class="literal">Criteria</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">Criteria crit = sess.createCriteria(Cat.class);
crit.setMaxResults(50);
List cats = crit.list();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-narrowing"></a>15.2. &#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12398;&#32094;&#36796;&#12415;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">org.hibernate.criterion.Criterion</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; &#20491;&#21029;&#12398;&#12463;&#12456;&#12522;&#12463;&#12521;&#12452;&#12486;&#12522;&#12458;&#12531;&#65288;&#21839;&#12356;&#21512;&#12431;&#12379;&#12398;&#21028;&#23450;&#22522;&#28310;&#65289;&#12434;&#34920;&#12375;&#12414;&#12377;&#12290; <code class="literal">org.hibernate.criterion.Restrictions</code> &#12463;&#12521;&#12473;&#12399;&#12289;&#12354;&#12427;&#32068;&#12415;&#36796;&#12415;&#12398; <code class="literal">Criterion</code> &#22411;&#12434;&#21462;&#24471;&#12377;&#12427;&#12383;&#12417;&#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12513;&#12477;&#12483;&#12489;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like("name", "Fritz%") )
    .add( Restrictions.between("weight", minWeight, maxWeight) )
    .list();</pre><p>Restriction&#65288;&#38480;&#23450;&#65289;&#12399;&#12289;&#35542;&#29702;&#30340;&#12395;&#12464;&#12523;&#12540;&#12503;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like("name", "Fritz%") )
    .add( Restrictions.or(
        Restrictions.eq( "age", new Integer(0) ),
        Restrictions.isNull("age")
    ) )
    .list();</pre><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.in( "name", new String[] { "Fritz", "Izi", "Pk" } ) )
    .add( Restrictions.disjunction()
        .add( Restrictions.isNull("age") )
        .add( Restrictions.eq("age", new Integer(0) ) )
        .add( Restrictions.eq("age", new Integer(1) ) )
        .add( Restrictions.eq("age", new Integer(2) ) )
    ) )
    .list();</pre><p>&#20803;&#12293;&#12354;&#12427;Criterion&#22411;&#65288;<code class="literal">Restrictions</code> &#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#65289; &#12399;&#12363;&#12394;&#12426;&#12398;&#31684;&#22258;&#12395;&#21450;&#12403;&#12414;&#12377;&#12364;&#12289;&#29305;&#12395;&#26377;&#29992;&#12394;&#12398;&#12399;SQL&#12434;&#30452;&#25509;&#25351;&#23450;&#12391;&#12365;&#12427;&#12418;&#12398;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.sqlRestriction("lower({alias}.name) like lower(?)", "Fritz%", Hibernate.STRING) )
    .list();</pre><p><code class="literal">{alias}</code> &#12392;&#12356;&#12358;&#12503;&#12524;&#12540;&#12473;&#12507;&#12523;&#12480;&#12399;&#12289; &#21839;&#12356;&#21512;&#12431;&#12379;&#12434;&#21463;&#12369;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#34892;&#12398;&#21029;&#21517;&#12395;&#12424;&#12387;&#12390;&#32622;&#12365;&#25563;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>criterion&#12434;&#24471;&#12427;&#21029;&#12398;&#25163;&#27573;&#12399;&#12289; <code class="literal">Property</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12363;&#12425;&#21462;&#24471;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; <code class="literal">Property.forName()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#12289; <code class="literal">Property</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20316;&#25104;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">
Property age = Property.forName("age");
List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.disjunction()
        .add( age.isNull() )
        .add( age.eq( new Integer(0) ) )
        .add( age.eq( new Integer(1) ) )
        .add( age.eq( new Integer(2) ) )
    ) )
    .add( Property.forName("name").in( new String[] { "Fritz", "Izi", "Pk" } ) )
    .list();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-ordering"></a>15.3. &#32080;&#26524;&#12398;&#25972;&#21015;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">org.hibernate.criterion.Order</code> &#12434;&#20351;&#12387;&#12390;&#32080;&#26524;&#12434;&#20006;&#12403;&#26367;&#12360;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like("name", "F%")
    .addOrder( Order.asc("name") )
    .addOrder( Order.desc("age") )
    .setMaxResults(50)
    .list();</pre><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Property.forName("name").like("F%") )
    .addOrder( Property.forName("name").asc() )
    .addOrder( Property.forName("age").desc() )
    .setMaxResults(50)
    .list();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-associations"></a>15.4. &#38306;&#36899;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">createCriteria()</code> &#12434;&#20351;&#12356;&#12289;&#38306;&#36899;&#12434;&#12490;&#12499;&#12466;&#12540;&#12488;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#23481;&#26131;&#12395;&#38306;&#20418;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#21046;&#32004;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like("name", "F%") )
    .createCriteria("kittens")
        .add( Restrictions.like("name", "F%") )
    .list();</pre><p>2&#30058;&#30446;&#12398; <code class="literal">createCriteria()</code> &#12399;&#12289;<code class="literal">kittens</code> &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12434;&#21442;&#29031;&#12377;&#12427;&#26032;&#12375;&#12356; <code class="literal">Criteria</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36820;&#12377;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#26041;&#27861;&#12418;&#12289;&#29366;&#27841;&#12395;&#12424;&#12426;&#26377;&#29992;&#12391;&#12377;&#12290; </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .createAlias("kittens", "kt")
    .createAlias("mate", "mt")
    .add( Restrictions.eqProperty("kt.name", "mt.name") )
    .list();</pre><p>&#65288;<code class="literal">createAlias()</code> &#12399;&#26032;&#12375;&#12356; <code class="literal">Criteria</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20316;&#25104;&#12375;&#12414;&#12379;&#12435;&#12290;&#65289; 
               </p>
               <p>&#21069;&#12398;2&#12388;&#12398;&#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#36820;&#12373;&#12428;&#12427; <code class="literal">Cat</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12395;&#12424;&#12387;&#12390;&#20445;&#25345;&#12373;&#12428;&#12427;kittens&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#12289; criteria&#12395;&#12424;&#12387;&#12390;&#20107;&#21069;&#12395;&#12501;&#12451;&#12523;&#12479;&#12522;&#12531;&#12464; <span class="emphasis"><em>&#12373;&#12428;&#12394;&#12356;</em></span> &#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12418;&#12375;criteria&#12395;&#36969;&#21512;&#12377;&#12427;kitten&#12434;&#21462;&#24471;&#12375;&#12383;&#12356;&#12394;&#12425;&#12289; <code class="literal">ResultTransformer</code> &#12434;&#20351;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .createCriteria("kittens", "kt")
        .add( Restrictions.eq("name", "F%") )
    .setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP)
    .list();
Iterator iter = cats.iterator();
while ( iter.hasNext() ) {
    Map map = (Map) iter.next();
    Cat cat = (Cat) map.get(Criteria.ROOT_ALIAS);
    Cat kitten = (Cat) map.get("kt");
}</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-dynamicfetching"></a>15.5. &#38306;&#36899;&#12398;&#21205;&#30340;&#12501;&#12455;&#12483;&#12481;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">setFetchMode()</code> &#12434;&#20351;&#12356;&#12289; &#23455;&#34892;&#26178;&#12395;&#38306;&#36899;&#12398;&#24489;&#20803;&#26041;&#27861;&#12434;&#25351;&#23450;&#12375;&#12390;&#12418;&#12424;&#12356;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">List cats = sess.createCriteria(Cat.class)
    .add( Restrictions.like("name", "Fritz%") )
    .setFetchMode("mate", FetchMode.EAGER)
    .setFetchMode("kittens", FetchMode.EAGER)
    .list();</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12399;&#22806;&#37096;&#32080;&#21512;&#12395;&#12424;&#12426; <code class="literal">mate</code> &#12392; <code class="literal">kittens</code> &#12398;&#20001;&#26041;&#12434;&#12501;&#12455;&#12483;&#12481;&#12375;&#12414;&#12377;&#12290; &#12424;&#12426;&#22810;&#12367;&#12398;&#24773;&#22577;&#12399; <a href="#performance-fetching" title="19.1. &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;">&#38917;19.1. &#12300;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12301;</a> &#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-examples"></a>15.6. &#12463;&#12456;&#12522;&#12398;&#20363;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">org.hibernate.criterion.Example</code> &#12463;&#12521;&#12473;&#12399;&#12289; &#19982;&#12360;&#12425;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12363;&#12425;&#12463;&#12456;&#12522;&#12463;&#12521;&#12452;&#12486;&#12522;&#12458;&#12531;&#12434;&#27083;&#31689;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Cat cat = new Cat();
cat.setSex('F');
cat.setColor(Color.BLACK);
List results = session.createCriteria(Cat.class)
    .add( Example.create(cat) )
    .list();</pre><p>&#12496;&#12540;&#12472;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;&#12289;&#35672;&#21029;&#23376;&#12289;&#38306;&#36899;&#12399;&#28961;&#35222;&#12373;&#12428;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;null&#20516;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#38500;&#22806;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
               <p>&#12393;&#12398;&#12424;&#12358;&#12395; <code class="literal">Example</code> &#12434;&#36969;&#29992;&#12377;&#12427;&#12363; &#35519;&#25972;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Example example = Example.create(cat)
    .excludeZeroes()           //exclude zero valued properties
    .excludeProperty("color")  //exclude the property named "color"
    .ignoreCase()              //perform case insensitive string comparisons
    .enableLike();             //use like for string comparisons
List results = session.createCriteria(Cat.class)
    .add(example)
    .list();</pre><p>&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12395;criteria&#12434;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;Example&#12434;&#20351;&#12358;&#12371;&#12392;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; </p><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .add( Example.create(cat) )
    .createCriteria("mate")
        .add( Example.create( cat.getMate() ) )
    .list();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-projection"></a>15.7. &#23556;&#24433;&#12289;&#38598;&#32004;&#12289;&#12464;&#12523;&#12540;&#12503;&#21270;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">org.hibernate.criterion.Projections</code> &#12463;&#12521;&#12473;&#12399; <code class="literal">Projection</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12501;&#12449;&#12463;&#12488;&#12522;&#12391;&#12377;&#12290; <code class="literal">setProjection()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12391;&#12289; &#12463;&#12456;&#12522;&#12395;&#23556;&#24433;&#12434;&#36969;&#29992;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Projections.rowCount() )
    .add( Restrictions.eq("color", Color.BLACK) )
    .list();</pre><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Projections.projectionList()
        .add( Projections.rowCount() )
        .add( Projections.avg("weight") )
        .add( Projections.max("weight") )
        .add( Projections.groupProperty("color") )
    )
    .list();</pre><p>&#24517;&#35201;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289;criteria&#12463;&#12456;&#12522;&#12395;&#12300;group by&#12301;&#12434;&#26126;&#31034;&#12377;&#12427;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12354;&#12427;&#31278;&#12398;Projection&#22411;&#12399; <span class="emphasis"><em>&#12464;&#12523;&#12540;&#12503;&#21270;&#23556;&#24433;</em></span> &#12392;&#12375;&#12390;&#23450;&#32681;&#12373;&#12428;&#12289; SQL&#12398; <code class="literal">group by</code> &#31680;&#12395;&#12418;&#29694;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>&#20219;&#24847;&#12391;&#23556;&#24433;&#12395;&#21029;&#21517;&#12434;&#20184;&#12369;&#12425;&#12428;&#12427;&#12383;&#12417;&#12289;&#23556;&#24433;&#12373;&#12428;&#12427;&#20516;&#12399;restriction&#12420;ordering&#20869;&#12363;&#12425;&#21442;&#29031;&#12391;&#12365;&#12414;&#12377;&#12290; &#21029;&#21517;&#12434;&#12388;&#12369;&#12427;&#65298;&#12388;&#12398;&#30064;&#12394;&#12427;&#26041;&#27861;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290; </p><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Projections.alias( Projections.groupProperty("color"), "colr" ) )
    .addOrder( Order.asc("colr") )
    .list();</pre><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Projections.groupProperty("color").as("colr") )
    .addOrder( Order.asc("colr") )
    .list();</pre><p><code class="literal">alias()</code> &#12392; <code class="literal">as()</code> &#12513;&#12477;&#12483;&#12489;&#12399;&#12289; Projection&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#21029;&#12398;&#21517;&#21069;&#12398; <code class="literal">Projection</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12391; &#12521;&#12483;&#12503;&#12377;&#12427;&#12384;&#12369;&#12391;&#12377;&#12290; &#12471;&#12519;&#12540;&#12488;&#12459;&#12483;&#12488;&#12392;&#12375;&#12390;&#12289;&#23556;&#24433;&#12434;&#23556;&#24433;&#12522;&#12473;&#12488;&#12395;&#36861;&#21152;&#12377;&#12427;&#38555;&#12395;&#12289;&#21029;&#21517;&#12434;&#12388;&#12369;&#12425;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Projections.projectionList()
        .add( Projections.rowCount(), "catCountByColor" )
        .add( Projections.avg("weight"), "avgWeight" )
        .add( Projections.max("weight"), "maxWeight" )
        .add( Projections.groupProperty("color"), "color" )
    )
    .addOrder( Order.desc("catCountByColor") )
    .addOrder( Order.desc("avgWeight") )
    .list();</pre><pre class="programlisting">List results = session.createCriteria(Domestic.class, "cat")
    .createAlias("kittens", "kit")
    .setProjection( Projections.projectionList()
        .add( Projections.property("cat.name"), "catName" )
        .add( Projections.property("kit.name"), "kitName" )
    )
    .addOrder( Order.asc("catName") )
    .addOrder( Order.asc("kitName") )
    .list();</pre><p>&#23556;&#24433;&#12398;&#24335;&#12395; <code class="literal">Property.forName()</code> &#12418;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Property.forName("name") )
    .add( Property.forName("color").eq(Color.BLACK) )
    .list();</pre><pre class="programlisting">List results = session.createCriteria(Cat.class)
    .setProjection( Projections.projectionList()
        .add( Projections.rowCount().as("catCountByColor") )
        .add( Property.forName("weight").avg().as("avgWeight") )
        .add( Property.forName("weight").max().as("maxWeight") )
        .add( Property.forName("color").group().as("color" )
    )
    .addOrder( Order.desc("catCountByColor") )
    .addOrder( Order.desc("avgWeight") )
    .list();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querycriteria-detachedqueries"></a>15.8. &#12463;&#12456;&#12522;&#12362;&#12424;&#12403;&#12469;&#12502;&#12463;&#12456;&#12522;&#12398;&#20998;&#38626;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">DetachedCriteria</code> &#12463;&#12521;&#12473;&#12395;&#12424;&#12426;&#12289; &#12475;&#12483;&#12471;&#12519;&#12531;&#12473;&#12467;&#12540;&#12503;&#22806;&#12395;&#12463;&#12456;&#12522;&#12434;&#20316;&#25104;&#12391;&#12365;&#12414;&#12377;&#12290; &#24460;&#12391;&#12289;&#20219;&#24847;&#12398; <code class="literal">Session</code> &#12434;&#20351;&#12387;&#12390;&#12289;&#23455;&#34892;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">DetachedCriteria query = DetachedCriteria.forClass(Cat.class)
    .add( Property.forName("sex").eq('F') );
    
Session session = ....;
Transaction txn = session.beginTransaction();
List results = query.getExecutableCriteria(session).setMaxResults(100).list();
txn.commit();
session.close();</pre><p><code class="literal">DetachedCriteria</code> &#12399;&#12289;&#12469;&#12502;&#12463;&#12456;&#12522;&#12434;&#34920;&#29694;&#12377;&#12427;&#12383;&#12417;&#12395;&#12418;&#20351;&#12360;&#12414;&#12377;&#12290; &#12469;&#12502;&#12463;&#12456;&#12522;&#12434;&#20276;&#12358;Criterion&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#12289; <code class="literal">Subqueries</code> &#12418;&#12375;&#12367;&#12399; <code class="literal">Property</code> &#12363;&#12425;&#24471;&#12425;&#12428;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">DetachedCriteria avgWeight = DetachedCriteria.forClass(Cat.class)
    .setProjection( Property.forName("weight").avg() );
session.createCriteria(Cat.class)
    .add( Property.forName("weight").gt(avgWeight) )
    .list();</pre><pre class="programlisting">DetachedCriteria weights = DetachedCriteria.forClass(Cat.class)
    .setProjection( Property.forName("weight") );
session.createCriteria(Cat.class)
    .add( Subqueries.geAll("weight", weights) )
    .list();</pre><p>&#30456;&#20114;&#38306;&#20418;&#12364;&#12354;&#12427;&#12469;&#12502;&#12463;&#12456;&#12522;&#12391;&#12373;&#12360;&#12418;&#21487;&#33021;&#12391;&#12377;&#12290; </p><pre class="programlisting">DetachedCriteria avgWeightForSex = DetachedCriteria.forClass(Cat.class, "cat2")
    .setProjection( Property.forName("weight").avg() )
    .add( Property.forName("cat2.sex").eqProperty("cat.sex") );
session.createCriteria(Cat.class, "cat")
    .add( Property.forName("weight").gt(avgWeightForSex) )
    .list();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="query-criteria-naturalid"></a>15.9. &#33258;&#28982;&#35672;&#21029;&#23376;&#12395;&#12424;&#12427;&#12463;&#12456;&#12522;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>criteria&#12463;&#12456;&#12522;&#12434;&#21547;&#12416;&#12383;&#12356;&#12390;&#12356;&#12398;&#12463;&#12456;&#12522;&#12395;&#12392;&#12387;&#12390;&#12289; &#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12399;&#12354;&#12414;&#12426;&#21177;&#29575;&#12364;&#12424;&#12367;&#12394;&#12356;&#12391;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12364;&#38971;&#32321;&#12395;&#28961;&#21177;&#12395;&#12394;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12394;&#12364;&#12425;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#28961;&#21177;&#12395;&#12377;&#12427;&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12434;&#26368;&#36969;&#21270;&#12391;&#12365;&#12427; &#29305;&#21029;&#12394;&#12463;&#12456;&#12522;&#12398;&#31278;&#39006;&#12364;&#65297;&#12388;&#12354;&#12426;&#12414;&#12377;&#12290;
                  &#26356;&#26032;&#12373;&#12428;&#12394;&#12356;&#33258;&#28982;&#12461;&#12540;&#12395;&#12424;&#12427;&#26908;&#32034;&#12391;&#12377;&#12290; &#12356;&#12367;&#12388;&#12363;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;&#12371;&#12398;&#31278;&#39006;&#12398;&#12463;&#12456;&#12522;&#12364;&#38971;&#32321;&#12395;&#29694;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#12424;&#12358;&#12394;&#20351;&#12431;&#12428;&#26041;&#12398;&#12383;&#12417;&#12395;&#12289;criteria API&#12399;&#29305;&#21029;&#12394;&#23550;&#31574;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p>&#26368;&#21021;&#12395;&#12289;<code class="literal">&lt;natural-id&gt;</code> &#12434;&#20351;&#12387;&#12390;&#12289; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#33258;&#28982;&#12461;&#12540;&#12434;&#12510;&#12483;&#12503;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12375;&#12390;&#12289;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#26377;&#21177;&#12395;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;class name="User"&gt;
    &lt;cache usage="read-write"/&gt;
    &lt;id name="id"&gt;
        &lt;generator class="increment"/&gt;
    &lt;/id&gt;
    &lt;natural-id&gt;
        &lt;property name="name"/&gt;
        &lt;property name="org"/&gt;
    &lt;/natural-id&gt;
    &lt;property name="password"/&gt;
&lt;/class&gt;</pre><p>&#27880;&#24847;&#65306; <span class="emphasis"><em>&#22793;&#26356;&#12373;&#12428;&#12427;</em></span> &#33258;&#28982;&#12461;&#12540;&#12434;&#25345;&#12388;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395; &#12371;&#12398;&#27231;&#33021;&#12434;&#20351;&#12358;&#12398;&#12399;&#12289;&#24847;&#22259;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#20351;&#12356;&#26041;&#12391;&#12377;&#12290; 
               </p>
               <p>&#27425;&#12395;&#12289;Hibernate&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#26377;&#21177;&#12395;&#12375;&#12414;&#12377;&#12290; </p>
               <p>&#12371;&#12428;&#12391;&#12289;<code class="literal">Restrictions.naturalId()</code> &#12395;&#12424;&#12426;&#12289; &#12424;&#12426;&#21177;&#29575;&#30340;&#12394;&#12461;&#12515;&#12483;&#12471;&#12517;&#12450;&#12523;&#12468;&#12522;&#12474;&#12512;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">session.createCriteria(User.class)
    .add( Restrictions.naturalId()
        .set("name", "gavin")
        .set("org", "hb") 
    ).setCacheable(true)
    .uniqueResult();</pre></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="querysql"></a>&#31532;16&#31456; &#12493;&#12452;&#12486;&#12451;&#12502;SQL
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12493;&#12452;&#12486;&#12451;&#12502;SQL&#26041;&#35328;&#12434;&#20351;&#12387;&#12390;&#12463;&#12456;&#12522;&#12434;&#34920;&#29694;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#12463;&#12456;&#12522;&#12498;&#12531;&#12488;&#12420;Oracle&#12398; <code class="literal">CONNECT</code> &#12461;&#12540;&#12527;&#12540;&#12489;&#12398;&#12424;&#12358;&#12395;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#29420;&#33258;&#12398;&#27231;&#33021;&#12434;&#21033;&#29992;&#12375;&#12383;&#12356;&#12392;&#12365;&#12395;&#20351;&#12360;&#12414;&#12377;&#12290; SQL/JDBC&#12434;&#30452;&#25509;&#20351;&#29992;&#12375;&#12390;&#12356;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12363;&#12425;Hibernate&#12408;&#12398;&#31227;&#34892;&#12418;&#23481;&#26131;&#12395;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;
            </p>
            <p>Hibernate3&#12391;&#12399;&#12289;&#29983;&#25104;&#12289;&#26356;&#26032;&#12289;&#21066;&#38500;&#12289;&#35501;&#12415;&#36796;&#12415;&#20966;&#29702;&#12398;&#12424;&#12358;&#12394;&#12377;&#12409;&#12390;&#12398; SQL&#65288;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#21547;&#12416;&#65289;&#12434;&#25163;&#26360;&#12365;&#12391;&#12365;&#12414;&#12377;&#12290;</p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querysql-creating"></a>16.1. <code class="literal">SQLQuery</code> &#12398;&#20351;&#29992;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12493;&#12452;&#12486;&#12451;&#12502;&#12394;SQL&#12463;&#12456;&#12522;&#12398;&#23455;&#34892;&#12399; <code class="literal">SQLQuery</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#36890;&#12375;&#12390;&#21046;&#24481;&#12375;&#12414;&#12377;&#12290; <code class="literal">SQLQuery</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12399; <code class="literal">Session.createSQLQuery()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#21462;&#24471;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;API&#12434;&#20351;&#12387;&#12390;&#21839;&#12356;&#21512;&#12431;&#12379;&#12377;&#12427;&#26041;&#27861;&#12434;&#20197;&#19979;&#12391;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290;
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13065"></a>16.1.1. &#12473;&#12459;&#12521;&#12540;&#12398;&#12463;&#12456;&#12522;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26368;&#12418;&#22522;&#26412;&#30340;&#12394;SQL&#12463;&#12456;&#12522;&#12399;&#12473;&#12459;&#12521;&#12540;&#65288;&#20516;&#65289;&#12398;&#12522;&#12473;&#12488;&#12434;&#24471;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290;</p><pre class="programlisting">sess.createSQLQuery("SELECT * FROM CATS").list();
sess.createSQLQuery("SELECT ID, NAME, BIRTHDATE FROM CATS").list();
</pre><p>&#12371;&#12428;&#12425;&#12399;&#12393;&#12385;&#12425;&#12418;&#12289;CATS&#12486;&#12540;&#12502;&#12523;&#12398;&#21508;&#12459;&#12521;&#12512;&#12398;&#12473;&#12459;&#12521;&#12540;&#20516;&#12434;&#21547;&#12416; Object&#37197;&#21015;&#65288;Object[]&#65289;&#12398;&#12522;&#12473;&#12488;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; &#36820;&#12377;&#12473;&#12459;&#12521;&#12540;&#20516;&#12398;&#23455;&#38555;&#12398;&#38918;&#30058;&#12392;&#22411;&#12434;&#25512;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; Hibernate&#12399;ResultSetMetadata&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290;</p>
                  <p><code class="literal">ResultSetMetadata</code> &#12434;&#20351;&#29992;&#12377;&#12427;&#12458;&#12540;&#12496;&#12540;&#12504;&#12483;&#12489;&#12434;&#36991;&#12369;&#12427;&#12383;&#12417;&#12289; &#12418;&#12375;&#12367;&#12399;&#21336;&#12395;&#20309;&#12364;&#36820;&#12373;&#12428;&#12427;&#12363;&#26126;&#30906;&#12395;&#12377;&#12427;&#12383;&#12417;&#12289;<code class="literal">addScalar()</code> &#12434;&#20351;&#12360;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">sess.createSQLQuery("SELECT * FROM CATS")
 .addScalar("ID", Hibernate.LONG)
 .addScalar("NAME", Hibernate.STRING)
 .addScalar("BIRTHDATE", Hibernate.DATE)
</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12391;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;&#12418;&#12398;&#12434;&#19979;&#35352;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290;</p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>SQL&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;</p>
                        </li>
                        <li>
                           <p>&#36820;&#12373;&#12428;&#12427;&#12459;&#12521;&#12512;&#12392;&#22411;</p>
                        </li>
                     </ul>
                  </div>
                  <p>This will still return Object arrays, but now it will not use <code class="literal">ResultSetMetadata</code> but will instead explicitly get the ID, NAME and BIRTHDATE column as respectively a Long, String and a Short from the underlying
                     resultset. This also means that only these three columns will be returned, even though the query is using <code class="literal">*</code> and could return more than the three listed columns.
                  </p>
                  <p>&#12473;&#12459;&#12521;&#12540;&#12398;&#22411;&#24773;&#22577;&#12434;&#30465;&#12367;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre class="programlisting">sess.createSQLQuery("SELECT * FROM CATS")
 .addScalar("ID", Hibernate.LONG)
 .addScalar("NAME")
 .addScalar("BIRTHDATE")
</pre><p>&#12371;&#12428;&#12399;&#26412;&#36074;&#30340;&#12395;&#21069;&#12392;&#21516;&#12376;&#12463;&#12456;&#12522;&#12391;&#12377;&#12364;&#12289;&#12289; NAME &#12392; BIRTHDATE &#12398;&#22411;&#12434;&#27770;&#12417;&#12427;&#12383;&#12417;&#12395; <code class="literal">ResultSetMetaData</code> &#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290;&#19968;&#26041;&#12289;ID &#12398;&#22411;&#12399;&#26126;&#31034;&#30340;&#12395;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290;
                  </p>
                  <p>ResultSetMetaData &#12363;&#12425;&#36820;&#12373;&#12428;&#12427; java.sql.Types &#12434; Hibernate &#12398;&#22411;&#12395; &#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12399;&#12289;Dialect &#12364;&#21046;&#24481;&#12375;&#12414;&#12377;&#12290; &#26126;&#31034;&#12373;&#12428;&#12383;&#22411;&#12364;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12363;&#12289;&#32080;&#26524;&#12398;&#22411;&#12364;&#26399;&#24453;&#12375;&#12383;&#12418;&#12398;&#12392;&#30064;&#12394;&#12427;&#22580;&#21512;&#12289;
                     Dialect &#12398; <code class="literal">registerHibernateType</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12289; &#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12391;&#12365;&#12414;&#12377;&#12290;
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13114"></a>16.1.2. &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12463;&#12456;&#12522;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12371;&#12414;&#12391;&#12398;&#12463;&#12456;&#12522;&#12399;&#12289;&#12377;&#12409;&#12390;&#12473;&#12459;&#12521;&#12540;&#20516;&#12434;&#36820;&#12377;&#12418;&#12398;&#12391;&#12375;&#12383;&#12290; &#22522;&#26412;&#30340;&#12395;&#12289;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12363;&#12425;&#12300;&#26410;&#21152;&#24037;&#12301;&#12398;&#20516;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; &#20197;&#38477;&#12391;&#12399;&#12289;<code class="literal">addEntity()</code> &#12395;&#12424;&#12426;&#12289;&#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12463;&#12456;&#12522;&#12363;&#12425; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21462;&#24471;&#12377;&#12427;&#26041;&#27861;&#12434;&#31034;&#12375;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">sess.createSQLQuery("SELECT * FROM CATS").addEntity(Cat.class);
sess.createSQLQuery("SELECT ID, NAME, BIRTHDATE FROM CATS").addEntity(Cat.class);
</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12391;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;&#12418;&#12398;&#12434;&#19979;&#35352;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290;</p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>SQL&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;</p>
                        </li>
                        <li>
                           <p>&#12463;&#12456;&#12522;&#12364;&#36820;&#12377;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12392;SQL&#12486;&#12540;&#12502;&#12523;&#12398;&#21029;&#21517;</p>
                        </li>
                     </ul>
                  </div>
                  <p>Cat&#12364;ID, NAME, BIRTHDATE&#12398;&#12459;&#12521;&#12512;&#12434;&#20351;&#12387;&#12390;&#12463;&#12521;&#12473;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12427;&#22580;&#21512;&#12289; &#19978;&#35352;&#12398;&#12463;&#12456;&#12522;&#12399;&#12393;&#12385;&#12425;&#12418;&#12289;&#35201;&#32032;&#12364;Cat&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12391;&#12354;&#12427;&#12522;&#12473;&#12488;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290;</p>
                  <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#21029;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395; <code class="literal">&#22810;&#23550;&#19968;</code> &#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12390;&#12356;&#12427;&#22580;&#21512;&#12399;&#12289; &#12493;&#12452;&#12486;&#12451;&#12502;&#12463;&#12456;&#12522;&#12434;&#23455;&#34892;&#12377;&#12427;&#38555;&#12395;&#12289;&#12371;&#12398;&#21029;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#36820;&#12377;&#12371;&#12392;&#12418;&#35201;&#27714;&#12375;&#12414;&#12377;&#12290; &#12373;&#12418;&#12394;&#12369;&#12428;&#12400;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#22266;&#26377;&#12398;&#12300;column not found(&#12459;&#12521;&#12512;&#12364;&#35211;&#12388;&#12363;&#12426;&#12414;&#12379;&#12435;)&#12301;&#12456;&#12521;&#12540;&#12364;&#30330;&#29983;&#12375;&#12414;&#12377;&#12290; * &#34920;&#35352;&#12434;&#20351;&#29992;&#12375;&#12383;&#38555;&#12399;&#12289;&#36861;&#21152;&#12398;&#12459;&#12521;&#12512;&#12364;&#33258;&#21205;&#30340;&#12395;&#36820;&#12373;&#12428;&#12414;&#12377;&#12364;&#12289;
                     &#27425;&#12398;&#20363;&#12398;&#12424;&#12358;&#12395;&#12289;<code class="literal">Dog</code> &#12395; <code class="literal">&#22810;&#23550;&#19968;</code> &#12391;&#12354;&#12427;&#12371;&#12392;&#12434; &#26126;&#31034;&#12377;&#12427;&#12371;&#12392;&#12434;&#31169;&#12383;&#12385;&#12399;&#22909;&#12415;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">sess.createSQLQuery("SELECT ID, NAME, BIRTHDATE, DOG_ID FROM CATS").addEntity(Cat.class);
</pre><p>&#12371;&#12428;&#12395;&#12424;&#12426; cat.getDog() &#12364;&#27491;&#12375;&#12367;&#27231;&#33021;&#12375;&#12414;&#12377;&#12290;</p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13150"></a>16.1.3. &#38306;&#36899;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#25805;&#20316;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12503;&#12525;&#12461;&#12471;&#12434;&#21021;&#26399;&#21270;&#12377;&#12427;&#12383;&#12417;&#12398;&#20313;&#20998;&#12394;&#20966;&#29702;&#12434;&#36991;&#12369;&#12427;&#12383;&#12417;&#12289; <code class="literal">Dog</code> &#12398;&#20013;&#12391;&#21363;&#26178;&#32080;&#21512;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399; <code class="literal">addJoin()</code> &#12513;&#12477;&#12483;&#12489;&#12395;&#12424;&#12426;&#34892;&#12356;&#12414;&#12377;&#12290; &#38306;&#36899;&#12418;&#12375;&#12367;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#32080;&#21512;&#12391;&#12365;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">sess.createSQLQuery("SELECT c.ID, NAME, BIRTHDATE, DOG_ID, D_ID, D_NAME FROM CATS c, DOGS d WHERE c.DOG_ID = d.D_ID")
 .addEntity("cat", Cat.class)
 .addJoin("cat.dog");
</pre><p>&#12371;&#12398;&#20363;&#12398;&#20013;&#12391;&#12289;&#36820;&#12373;&#12428;&#12427; <code class="literal">Cat</code> &#12399;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12408;&#12398;&#20313;&#20998;&#20966;&#29702;&#12394;&#12375;&#12391;&#12289; &#23436;&#20840;&#12395;&#21021;&#26399;&#21270;&#12373;&#12428;&#12383; <code class="literal">dog</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#32080;&#21512;&#23550;&#35937;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12408;&#12398;&#12497;&#12473;&#12434;&#25351;&#23450;&#12391;&#12365;&#12427;&#12424;&#12358;&#12395;&#12289; &#21029;&#21517;&#65288;&#12300;cat&#12301;&#65289;&#12434;&#36861;&#21152;&#12375;&#12383;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#21363;&#26178;&#32080;&#21512;&#12418;&#21516;&#12376;&#12424;&#12358;&#12395;&#12391;&#12365;&#12414;&#12377;&#12290; &#12383;&#12392;&#12360;&#12400;&#12289;<code class="literal">Cat</code> &#12364;&#19968;&#23550;&#22810;&#12391; <code class="literal">Dog</code> &#12434;&#25345;&#12387;&#12390;&#12356;&#12383;&#22580;&#21512;&#12289;&#27425;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">sess.createSQLQuery("SELECT ID, NAME, BIRTHDATE, D_ID, D_NAME, CAT_ID FROM CATS c, DOGS d WHERE c.ID = d.CAT_ID")
 .addEntity("cat", Cat.class)
 .addJoin("cat.dogs");
</pre><p>&#29694;&#22312;&#12398;&#12392;&#12371;&#12429;&#12289; Hibernate&#12391;&#20351;&#12356;&#12420;&#12377;&#12367;&#12377;&#12427;&#12383;&#12417;&#12398;SQL&#12463;&#12456;&#12522;&#12398;&#25313;&#24373;&#12394;&#12375;&#12395;&#12289; &#12493;&#12452;&#12486;&#12451;&#12502;&#12463;&#12456;&#12522;&#12391;&#20309;&#12363;&#12434;&#21487;&#33021;&#12395;&#12377;&#12427;&#38480;&#30028;&#12395;&#26469;&#12390;&#12356;&#12414;&#12377;&#12290; &#21516;&#12376;&#22411;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#35079;&#25968;&#36820;&#12377;&#38555;&#12420;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#21029;&#21517;&#12420;&#21015;&#21517;&#12391;&#21313;&#20998;&#12391;&#12399;&#12394;&#12356;&#22580;&#21512;&#12395;&#12289; &#21839;&#38988;&#12399;&#36215;&#12371;&#12426;&#22987;&#12417;&#12414;&#12377;&#12290;
                     
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13181"></a>16.1.4. &#35079;&#25968;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21462;&#24471;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12371;&#12414;&#12391;&#12399;&#12289;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12398;&#12459;&#12521;&#12512;&#21517;&#12399;&#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#25351;&#23450;&#12373;&#12428;&#12383;&#12459;&#12521;&#12512;&#21517;&#12392;&#21516;&#12376;&#12391;&#12354;&#12427;&#12392;&#20206;&#23450;&#12375;&#12390;&#12356;&#12414;&#12375;&#12383;&#12290; &#35079;&#25968;&#12398;&#12486;&#12540;&#12502;&#12523;&#12364;&#21516;&#12376;&#12459;&#12521;&#12512;&#21517;&#12434;&#25345;&#12388;&#22580;&#21512;&#12364;&#12354;&#12427;&#12383;&#12417;&#12289; &#35079;&#25968;&#12486;&#12540;&#12502;&#12523;&#12434;&#32080;&#21512;&#12377;&#12427;SQL&#12463;&#12456;&#12522;&#12391;&#21839;&#38988;&#12392;&#12394;&#12427;&#22580;&#21512;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;</p>
                  <p>&#19979;&#35352;&#12398;&#12424;&#12358;&#12394;&#65288;&#22833;&#25943;&#12375;&#12381;&#12358;&#12394;&#65289;&#12463;&#12456;&#12522;&#12391;&#12399;&#12289; &#12459;&#12521;&#12512;&#21029;&#21517;&#12452;&#12531;&#12472;&#12455;&#12463;&#12471;&#12519;&#12531;&#65288;column alias injection&#65289;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290;</p><pre class="programlisting">sess.createSQLQuery("SELECT c.*, m.*  FROM CATS c, CATS m WHERE c.MOTHER_ID = c.ID")
 .addEntity("cat", Cat.class)
 .addEntity("mother", Cat.class)
</pre><p>The intention for this query is to return two Cat instances per row, a cat and its mother. This will fail since there is a
                     conflict of names since they are mapped to the same column names and on some databases the returned column aliases will most
                     likely be on the form "c.ID", "c.NAME", etc. which are not equal to the columns specified in the mappings ("ID" and "NAME").
                  </p>
                  <p>&#19979;&#35352;&#12398;&#24418;&#24335;&#12399;&#12289;&#12459;&#12521;&#12512;&#21517;&#12364;&#37325;&#35079;&#12375;&#12390;&#12418;&#22823;&#19976;&#22827;&#12391;&#12377;&#12290;</p><pre class="programlisting">sess.createSQLQuery("SELECT {cat.*}, {mother.*}  FROM CATS c, CATS m WHERE c.MOTHER_ID = c.ID")
 .addEntity("cat", Cat.class)
 .addEntity("mother", Cat.class)
</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12391;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;&#12418;&#12398;&#12434;&#19979;&#35352;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290;</p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>SQL&#12463;&#12456;&#12522;&#25991;&#23383;&#21015; &#65288;Hibernate&#12364;&#12459;&#12521;&#12512;&#12398;&#21029;&#21517;&#12434;&#25407;&#20837;&#12377;&#12427;&#12383;&#12417;&#12398;&#12503;&#12524;&#12540;&#12473;&#12507;&#12523;&#12480;&#12434;&#21547;&#12416;&#65289;</p>
                        </li>
                        <li>
                           <p>&#12463;&#12456;&#12522;&#12395;&#12424;&#12387;&#12390;&#36820;&#12373;&#12428;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;</p>
                        </li>
                     </ul>
                  </div>
                  <p>The {cat.*} and {mother.*} notation used above is a shorthand for "all properties". Alternatively, you may list the columns
                     explicitly, but even in this case we let Hibernate inject the SQL column aliases for each property. The placeholder for a
                     column alias is just the property name qualified by the table alias. In the following example, we retrieve Cats and their
                     mothers from a different table (cat_log) to the one declared in the mapping metadata. Notice that we may even use the property
                     aliases in the where clause if we like.
                  </p><pre class="programlisting">String sql = "SELECT ID as {c.id}, NAME as {c.name}, " + 
         "BIRTHDATE as {c.birthDate}, MOTHER_ID as {c.mother}, {mother.*} " +
         "FROM CAT_LOG c, CAT_LOG m WHERE {c.mother} = c.ID";

List loggedCats = sess.createSQLQuery(sql)
        .addEntity("cat", Cat.class)
        .addEntity("mother", Cat.class).list()
</pre><div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="querysql-aliasreferences"></a>16.1.4.1. &#21029;&#21517;&#12392;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12522;&#12501;&#12449;&#12524;&#12531;&#12473;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>&#22810;&#12367;&#12398;&#22580;&#21512;&#12289;&#19978;&#35352;&#12398;&#12424;&#12358;&#12394;&#21029;&#21517;&#12452;&#12531;&#12472;&#12455;&#12463;&#12471;&#12519;&#12531;&#12364;&#24517;&#35201;&#12391;&#12377;&#12290; &#12383;&#12384;&#12375;&#12289;&#35079;&#21512;&#12503;&#12525;&#12497;&#12486;&#12451;&#12289;&#32153;&#25215;&#35672;&#21029;&#23376;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12394;&#12393;&#12398;&#12424;&#12358;&#12394; &#12424;&#12426;&#35079;&#38609;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12392;&#38306;&#36899;&#12377;&#12427;&#12463;&#12456;&#12522;&#12364;&#12394;&#12369;&#12428;&#12400;&#12391;&#12377;&#12290; &#12354;&#12427;&#29305;&#23450;&#12398;&#21029;&#21517;&#12434;&#20351;&#29992;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;&#12289;Hibernate&#12399;&#36969;&#20999;&#12394;&#21029;&#21517;&#12434;&#25407;&#20837;&#12391;&#12365;&#12414;&#12377;&#12290;</p>
                     <p>&#21029;&#21517;&#12452;&#12531;&#12472;&#12455;&#12463;&#12471;&#12519;&#12531;&#12392;&#12375;&#12390;&#20351;&#29992;&#12391;&#12365;&#12427;&#12418;&#12398;&#12434;&#19979;&#34920;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290; &#27880;&#24847;&#65306;&#19979;&#34920;&#12398;&#21029;&#21517;&#12399;&#19968;&#20363;&#12391;&#12377;&#12290; &#12381;&#12428;&#12382;&#12428;&#12398;&#21029;&#21517;&#12399;&#19968;&#24847;&#12391;&#12354;&#12426;&#12289;&#20351;&#29992;&#12377;&#12427;&#38555;&#12395;&#12399;&#12362;&#12381;&#12425;&#12367;&#30064;&#12394;&#12427;&#21517;&#21069;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290;</p>
                     <div class="table"><a name="aliasinjection-summary"></a><p class="title"><b>&#34920; 16.1. &#21029;&#21517;&#12395;&#25407;&#20837;&#12377;&#12427;&#21517;&#21069;</b></p>
                        <div class="table-contents">
                           <table summary="&#21029;&#21517;&#12395;&#25407;&#20837;&#12377;&#12427;&#21517;&#21069;" border="1">
                              <colgroup>
                                 <col>
                                 <col>
                                 <col>
                              </colgroup>
                              <thead>
                                 <tr>
                                    <th>&#35500;&#26126;</th>
                                    <th>&#27083;&#25991;</th>
                                    <th>&#20363;</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr>
                                    <td>&#21336;&#32020;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;</td>
                                    <td><code class="literal">{[aliasname].[propertyname]}</code></td>
                                    <td><code class="literal">A_NAME as {item.name}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#35079;&#21512;&#12503;&#12525;&#12497;&#12486;&#12451;</td>
                                    <td><code class="literal">{[aliasname].[componentname].[propertyname]}</code></td>
                                    <td><code class="literal">CURRENCY as {item.amount.currency}, VALUE as {item.amount.value}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12463;&#12521;&#12473;&#12434;&#35672;&#21029;&#12377;&#12427;&#20516;</td>
                                    <td><code class="literal">{[aliasname].class}</code></td>
                                    <td><code class="literal">DISC as {item.class}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#20840;&#12503;&#12525;&#12497;&#12486;&#12451;</td>
                                    <td><code class="literal">{[aliasname].*}</code></td>
                                    <td><code class="literal">{item.*}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12461;&#12540;</td>
                                    <td><code class="literal">{[aliasname].key}</code></td>
                                    <td><code class="literal">ORGID as {coll.key}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;ID</td>
                                    <td><code class="literal">{[aliasname].id}</code></td>
                                    <td><code class="literal">EMPID as {coll.id}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;</td>
                                    <td><code class="literal">{[aliasname].element}</code></td>
                                    <td><code class="literal">XID as {coll.element}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;</td>
                                    <td><code class="literal">{[aliasname].element.[propertyname]}</code></td>
                                    <td><code class="literal">NAME as {coll.element.name}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12398;&#20840;&#12503;&#12525;&#12497;&#12486;&#12451;</td>
                                    <td><code class="literal">{[aliasname].element.*}</code></td>
                                    <td><code class="literal">{coll.element.*}</code></td>
                                 </tr>
                                 <tr>
                                    <td>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#20840;&#12503;&#12525;&#12497;&#12486;&#12451;</td>
                                    <td><code class="literal">{[aliasname].*}</code></td>
                                    <td><code class="literal">{coll.*}</code></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div><br class="table-break"></div>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13322"></a>16.1.5. &#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#21462;&#24471;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12463;&#12456;&#12522;&#12395; ResultTransformer &#12434;&#36969;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#19979;&#35352;&#12398;&#12424;&#12358;&#12395;&#12289;&#20363;&#12360;&#12400;&#12289;&#31649;&#29702;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290;</p><pre class="programlisting">sess.createSQLQuery("SELECT NAME, BIRTHDATE FROM CATS")
        .setResultTransformer(Transformers.aliasToBean(CatDTO.class))</pre><p>&#12371;&#12398;&#12463;&#12456;&#12522;&#12391;&#25351;&#23450;&#12373;&#12428;&#12390;&#12356;&#12427;&#12418;&#12398;&#12434;&#19979;&#35352;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290;</p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>SQL&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;</p>
                        </li>
                        <li>
                           <p>&#32080;&#26524;&#12434;&#22793;&#25563;&#12375;&#12383;&#12418;&#12398;</p>
                        </li>
                     </ul>
                  </div>
                  <p>&#19978;&#35352;&#12398;&#12463;&#12456;&#12522;&#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12375;&#12289;NAME &#12392; BIRTHDATE &#12398;&#20516;&#12434; &#23550;&#24540;&#12377;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#12375;&#12367;&#12399;&#12501;&#12451;&#12540;&#12523;&#12489;&#12395;&#25407;&#20837;&#12375;&#12383; <code class="literal">CatDTO</code> &#12398;&#12522;&#12473;&#12488;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13343"></a>16.1.6. &#32153;&#25215;&#12398;&#21046;&#24481;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#32153;&#25215;&#12398;&#19968;&#37096;&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12383;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#21839;&#12356;&#21512;&#12431;&#12379;&#12427;&#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12463;&#12456;&#12522;&#12399;&#12289; &#12505;&#12540;&#12473;&#12398;&#12463;&#12521;&#12473;&#12392;&#12381;&#12398;&#12377;&#12409;&#12390;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12377;&#12409;&#12390;&#12434;&#21547;&#12414;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;</p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="d0e13348"></a>16.1.7. &#12497;&#12521;&#12513;&#12540;&#12479;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12493;&#12452;&#12486;&#12451;&#12502;SQL&#12463;&#12456;&#12522;&#12399;&#12289;&#20197;&#19979;&#12398;&#12424;&#12358;&#12395;&#12289; &#21517;&#21069;&#20184;&#12365;&#12497;&#12521;&#12513;&#12540;&#12479;&#65288;:name&#65289;&#12392;&#21516;&#27096;&#12395;&#20301;&#32622;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290;</p><pre class="programlisting">Query query = sess.createSQLQuery("SELECT * FROM CATS WHERE NAME like ?").addEntity(Cat.class);
List pusList = query.setString(0, "Pus%").list();
     
query = sess.createSQLQuery("SELECT * FROM CATS WHERE NAME like :name").addEntity(Cat.class);
List pusList = query.setString("name", "Pus%").list();          </pre></div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querysql-namedqueries"></a>16.2. &#21517;&#21069;&#20184;&#12365;SQL&#12463;&#12456;&#12522;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#21517;&#21069;&#20184;&#12365;SQL&#12463;&#12456;&#12522;&#12399;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12391;&#23450;&#32681;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12289; &#21517;&#21069;&#20184;&#12365;HQL&#12463;&#12456;&#12522;&#12392;&#20840;&#12367;&#21516;&#12376;&#26041;&#27861;&#12391;&#21628;&#12406;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12398;&#22580;&#21512;&#12289;<code class="literal">addEntity()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#24517;&#35201;&#12399; <span class="emphasis"><em>&#12394;&#12356;</em></span> &#12391;&#12377;&#12290;
               </p><pre class="programlisting">&lt;sql-query name="persons"&gt;
    &lt;return alias="person" class="eg.Person"/&gt;
    SELECT person.NAME AS {person.name},
           person.AGE AS {person.age},
           person.SEX AS {person.sex}
    FROM PERSON person
    WHERE person.NAME LIKE :namePattern
&lt;/sql-query&gt;</pre><pre class="programlisting">List people = sess.getNamedQuery("persons")
    .setString("namePattern", namePattern)
    .setMaxResults(50)
    .list();</pre><p>&#38306;&#36899;&#12434;&#32080;&#21512;&#12377;&#12427;&#12383;&#12417;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21021;&#26399;&#21270;&#12377;&#12427;&#12463;&#12456;&#12522;&#12434;&#23450;&#32681;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12381;&#12428;&#12382;&#12428; <code class="literal">&lt;return-join&gt;</code> &#12392; <code class="literal">&lt;load-collection&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290;
               </p><pre class="programlisting">&lt;sql-query name="personsWith"&gt;
    &lt;return alias="person" class="eg.Person"/&gt;
    &lt;return-join alias="address" property="person.mailingAddress"/&gt;
    SELECT person.NAME AS {person.name},
           person.AGE AS {person.age},
           person.SEX AS {person.sex},
           address.STREET AS {address.street},
           address.CITY AS {address.city},
           address.STATE AS {address.state},
           address.ZIP AS {address.zip}
    FROM PERSON person
    JOIN ADDRESS address
        ON person.ID = address.PERSON_ID AND address.TYPE='MAILING'
    WHERE person.NAME LIKE :namePattern
&lt;/sql-query&gt;</pre><p>&#21517;&#21069;&#20184;&#12365;SQL&#12463;&#12456;&#12522;&#12399;&#12473;&#12459;&#12521;&#20516;&#12434;&#36820;&#12377;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">&lt;return-scalar&gt;</code> &#35201;&#32032;&#12434;&#20351;&#12387;&#12390;&#12289; &#21015;&#12398;&#21029;&#21517;&#12392;Hibernate&#12398;&#22411;&#12434;&#23459;&#35328;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;
               </p><pre class="programlisting">&lt;sql-query name="mySqlQuery"&gt;
    &lt;return-scalar column="name" type="string"/&gt;
    &lt;return-scalar column="age" type="long"/&gt;
    SELECT p.NAME AS name,
           p.AGE AS age,
    FROM PERSON p WHERE p.NAME LIKE 'Hiber%'
&lt;/sql-query&gt;</pre><p>You can externalize the resultset mapping informations in a <code class="literal">&lt;resultset&gt;</code> element to either reuse them across several named queries or through the <code class="literal">setResultSetMapping()</code> API.
               </p><pre class="programlisting">&lt;resultset name="personAddress"&gt;
    &lt;return alias="person" class="eg.Person"/&gt;
    &lt;return-join alias="address" property="person.mailingAddress"/&gt;
&lt;/resultset&gt;

&lt;sql-query name="personsWith" resultset-ref="personAddress"&gt;
    SELECT person.NAME AS {person.name},
           person.AGE AS {person.age},
           person.SEX AS {person.sex},
           address.STREET AS {address.street},
           address.CITY AS {address.city},
           address.STATE AS {address.state},
           address.ZIP AS {address.zip}
    FROM PERSON person
    JOIN ADDRESS address
        ON person.ID = address.PERSON_ID AND address.TYPE='MAILING'
    WHERE person.NAME LIKE :namePattern
&lt;/sql-query&gt;</pre><p>&#20195;&#12431;&#12426;&#12395;&#12289;hbm&#12501;&#12449;&#12452;&#12523;&#20869;&#12398;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#24773;&#22577;&#12434; &#30452;&#25509;Java&#12467;&#12540;&#12489;&#12398;&#20013;&#12391;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre class="programlisting">List cats = sess.createSQLQuery(
        "select {cat.*}, {kitten.*} from cats cat, cats kitten where kitten.mother = cat.id"
    )
    .setResultSetMapping("catAndKitten")
    .list();</pre><div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="propertyresults"></a>16.2.1. &#21015;&#12392;&#21015;&#12398;&#21029;&#21517;&#12434;&#26126;&#31034;&#30340;&#12395;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395; return-property &#12434;&#20351;&#12358;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#21029;&#21517;&#12434;&#25407;&#20837;&#12377;&#12427;&#12383;&#12417;&#12395; <code class="literal">{}</code> &#27083;&#25991;&#12434;&#20351;&#12358;&#20195;&#12431;&#12426;&#12395;&#12289; <code class="literal">&lt;return-property&gt;</code> &#12434;&#20351;&#12356;&#12289; &#12393;&#12398;&#21015;&#12398;&#21029;&#21517;&#12434;&#20351;&#12358;&#12398;&#12363;&#12434;&#26126;&#31034;&#12391;&#12365;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">&lt;sql-query name="mySqlQuery"&gt;
    &lt;return alias="person" class="eg.Person"&gt;
        &lt;return-property name="name" column="myName"/&gt;
        &lt;return-property name="age" column="myAge"/&gt;
        &lt;return-property name="sex" column="mySex"/&gt;
    &lt;/return&gt;
    SELECT person.NAME AS myName,
           person.AGE AS myAge,
           person.SEX AS mySex,
    FROM PERSON person WHERE person.NAME LIKE :name
&lt;/sql-query&gt;
</pre><p><code class="literal">&lt;return-property&gt;</code> &#12399;&#35079;&#25968;&#12398;&#21015;&#12418;&#25201;&#12360;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#12289;&#35079;&#25968;&#21015;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12365;&#12417;&#32048;&#12363;&#12367;&#21046;&#24481;&#12391;&#12365;&#12394;&#12356;&#12392;&#12356;&#12358;&#12289; <code class="literal">{}</code> &#27083;&#25991;&#12398;&#21046;&#38480;&#12434;&#35299;&#27770;&#12375;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">&lt;sql-query name="organizationCurrentEmployments"&gt;
    &lt;return alias="emp" class="Employment"&gt;
        &lt;return-property name="salary"&gt;
            &lt;return-column name="VALUE"/&gt;
            &lt;return-column name="CURRENCY"/&gt;
        &lt;/return-property&gt;
        &lt;return-property name="endDate" column="myEndDate"/&gt;
    &lt;/return&gt;
        SELECT EMPLOYEE AS {emp.employee}, EMPLOYER AS {emp.employer},
        STARTDATE AS {emp.startDate}, ENDDATE AS {emp.endDate},
        REGIONCODE as {emp.regionCode}, EID AS {emp.id}, VALUE, CURRENCY
        FROM EMPLOYMENT
        WHERE EMPLOYER = :id AND ENDDATE IS NULL
        ORDER BY STARTDATE ASC
&lt;/sql-query&gt;</pre><p>&#12371;&#12398;&#20363;&#12391;&#12399;&#12289;&#25407;&#20837;&#12398;&#12383;&#12417;&#12398; <code class="literal">{}</code> &#27083;&#25991;&#12392;&#12356;&#12387;&#12375;&#12423;&#12395;&#12289; <code class="literal">&lt;return-property&gt;</code> &#12434;&#20351;&#12387;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#21015;&#12392;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#12393;&#12398;&#12424;&#12358;&#12395;&#21442;&#29031;&#12377;&#12427;&#12363;&#12434;&#36984;&#12409;&#12414;&#12377;&#12290;
                  </p>
                  <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12395; discriminator &#12364;&#21547;&#12414;&#12428;&#12390;&#12356;&#12427;&#22580;&#21512;&#12289; discriminator &#12398;&#21015;&#12434;&#25351;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&lt;return-discriminator&gt; &#12434;&#20351;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;</p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="sp_query"></a>16.2.2. &#21839;&#12356;&#21512;&#12431;&#12379;&#12377;&#12427;&#12383;&#12417;&#12395;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#12358;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12399;&#12496;&#12540;&#12472;&#12519;&#12531;3&#12363;&#12425;&#12289;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12392;&#12473;&#12488;&#12450;&#12489;&#38306;&#25968;&#32076;&#30001;&#12398;&#21839;&#12356;&#21512;&#12431;&#12379;&#12364; &#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12414;&#12375;&#12383;&#12290; &#20197;&#38477;&#12398;&#25991;&#26360;&#12398;&#22810;&#12367;&#12399;&#12289;&#20001;&#26041;&#12395;&#24403;&#12390;&#12399;&#12414;&#12426;&#12414;&#12377;&#12290; &#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12420;&#12473;&#12488;&#12450;&#12489;&#38306;&#25968;&#12434;Hibernate&#12391;&#20351;&#12358;&#12383;&#12417;&#12395;&#12399;&#12289; 1&#30058;&#30446;&#12398;&#20986;&#21147;&#12497;&#12521;&#12513;&#12540;&#12479;&#12392;&#12375;&#12390;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12434;&#36820;&#12373;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;
                     Oracle 9&#65288;&#12418;&#12375;&#12367;&#12399;&#12381;&#12428;&#20197;&#19978;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#65289;&#12398;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12398;&#20363;&#12434;&#20197;&#19979;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290;
                  </p><pre class="programlisting">CREATE OR REPLACE FUNCTION selectAllEmployments
    RETURN SYS_REFCURSOR
AS
    st_cursor SYS_REFCURSOR;
BEGIN
    OPEN st_cursor FOR
 SELECT EMPLOYEE, EMPLOYER,
 STARTDATE, ENDDATE,
 REGIONCODE, EID, VALUE, CURRENCY
 FROM EMPLOYMENT;
      RETURN  st_cursor;
 END;</pre><p>Hibernate&#12391;&#12371;&#12398;&#12463;&#12456;&#12522;&#12434;&#20351;&#12358;&#12383;&#12417;&#12395;&#12399;&#12289; &#21517;&#21069;&#20184;&#12365;&#12463;&#12456;&#12522;&#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;</p><pre class="programlisting">&lt;sql-query name="selectAllEmployees_SP" callable="true"&gt;
    &lt;return alias="emp" class="Employment"&gt;
        &lt;return-property name="employee" column="EMPLOYEE"/&gt;
        &lt;return-property name="employer" column="EMPLOYER"/&gt;
        &lt;return-property name="startDate" column="STARTDATE"/&gt;
        &lt;return-property name="endDate" column="ENDDATE"/&gt;
        &lt;return-property name="regionCode" column="REGIONCODE"/&gt;
        &lt;return-property name="id" column="EID"/&gt;
        &lt;return-property name="salary"&gt;
            &lt;return-column name="VALUE"/&gt;
            &lt;return-column name="CURRENCY"/&gt;
        &lt;/return-property&gt;
    &lt;/return&gt;
    { ? = call selectAllEmployments() }
&lt;/sql-query&gt;</pre><p>&#27880;&#24847;&#65306;&#20170;&#12398;&#12392;&#12371;&#12429;&#12289;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12399;&#12473;&#12459;&#12521;&#12392;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#36820;&#12377;&#12398;&#12415;&#12391;&#12377;&#12290; <code class="literal">&lt;return-join&gt;</code> &#12392; <code class="literal">&lt;load-collection&gt;</code> &#12399;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290;
                  </p>
                  <div class="sect3" lang="ja-JP">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title"><a name="querysql-limits-storedprocedures"></a>16.2.2.1. &#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#12358;&#19978;&#12391;&#12398;&#12523;&#12540;&#12523;&#12392;&#21046;&#38480;
                              </h4>
                           </div>
                        </div>
                     </div>
                     <p>Hibernate&#12391;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12420;&#38306;&#25968;&#12434;&#20351;&#12358;&#12383;&#12417;&#12395;&#12399;&#12289; &#12381;&#12398;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#12523;&#12540;&#12523;&#12395;&#28310;&#25312;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12523;&#12540;&#12523;&#12395;&#28310;&#25312;&#12375;&#12390;&#12356;&#12394;&#12356;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12399;&#12289;Hibernate&#12391;&#20351;&#12358;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#12381;&#12428;&#12391;&#12418;&#12289;&#28310;&#25312;&#12375;&#12390;&#12356;&#12394;&#12356;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#12356;&#12383;&#12356;&#12398;&#12391;&#12354;&#12428;&#12400;&#12289;
                        <code class="literal">session.connection()</code> &#12434;&#36890;&#12376;&#12390;&#23455;&#34892;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12523;&#12540;&#12523;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12372;&#12392;&#12395;&#30064;&#12394;&#12426;&#12414;&#12377;&#12290; &#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12483;&#12463;&#12473;&#12392;&#12471;&#12531;&#12479;&#12483;&#12463;&#12473;&#12399;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12505;&#12531;&#12480;&#12372;&#12392;&#12395;&#30064;&#12394;&#12427;&#12383;&#12417;&#12391;&#12377;&#12290;
                     </p>
                     <p><code class="literal">setFirstResult()/setMaxResults()</code> &#12434;&#20351;&#12387;&#12390;&#12289; &#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12463;&#12456;&#12522;&#12434;&#12506;&#12540;&#12472;&#20998;&#12369;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290;
                     </p>
                     <p>&#25512;&#22888;&#12377;&#12427;&#21628;&#12403;&#20986;&#12375;&#26041;&#12399;&#12289;&#27161;&#28310;&#12391;&#12354;&#12427;SQL92&#12395;&#24467;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; <code class="literal">{ ? = call functionName(&lt;parameters&gt;) }</code> &#12420; <code class="literal">{ ? = call procedureName(&lt;parameters&gt;) }</code> &#12391;&#12377;&#12290; &#12493;&#12452;&#12486;&#12451;&#12502;&#12394;&#21628;&#12403;&#20986;&#12375;&#27083;&#25991;&#12399;&#12469;&#12509;&#12540;&#12488;&#12373;&#12428;&#12390;&#12356;&#12414;&#12379;&#12435;&#12290;
                     </p>
                     <p>Oracle&#12395;&#12399;&#19979;&#35352;&#12398;&#12523;&#12540;&#12523;&#12364;&#36969;&#29992;&#12373;&#12428;&#12414;&#12377;&#12290;</p>
                     <div class="itemizedlist">
                        <ul type="disc" compact>
                           <li>
                              <p>&#38306;&#25968;&#12399;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12434;&#36820;&#12373;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12398;&#31532;&#19968;&#24341;&#25968;&#12399;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12434;&#36820;&#12377;&#12383;&#12417;&#12289; <code class="literal">OUT</code> &#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; Oracle 9&#12392;10&#12391;&#12399;&#12289;<code class="literal">SYS_REFCURSOR</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12391;&#12365;&#12414;&#12377;&#12290; Oracle&#12391;&#12399; <code class="literal">REF CURSOR</code> &#22411;&#12434;&#23450;&#32681;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Oracle&#12398;&#25991;&#29486;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>Sybase&#12392;MS SQL&#12469;&#12540;&#12496;&#12540;&#12395;&#36969;&#29992;&#12373;&#12428;&#12427;&#12523;&#12540;&#12523;&#12434;&#19979;&#35352;&#12395;&#31034;&#12375;&#12414;&#12377;&#12290;</p>
                     <div class="itemizedlist">
                        <ul type="disc" compact>
                           <li>
                              <p>&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12399;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12434;&#36820;&#12373;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12469;&#12540;&#12496;&#12540;&#12399;&#35079;&#25968;&#12398;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12392;&#26356;&#26032;&#12459;&#12454;&#12531;&#12488;&#12434;&#36820;&#12375;&#12414;&#12377;&#12364;&#12289; Hibernate&#12399;1&#12388;&#30446;&#12398;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12384;&#12369;&#12434;&#36820;&#12377;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12398;&#20182;&#12399;&#12377;&#12409;&#12390;&#25448;&#12390;&#12425;&#12428;&#12414;&#12377;&#12290;</p>
                           </li>
                           <li>
                              <p>&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12398;&#20013;&#12391; <code class="literal">SET NOCOUNT ON</code> &#12434;&#26377;&#21177;&#12395;&#12391;&#12365;&#12428;&#12400;&#12289; &#12362;&#12381;&#12425;&#12367;&#21177;&#29575;&#12364;&#12424;&#12367;&#12394;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; &#12375;&#12363;&#12375;&#12289;&#12371;&#12428;&#12399;&#24517;&#35201;&#26465;&#20214;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querysql-cud"></a>16.3. &#20316;&#25104;&#12289;&#26356;&#26032;&#12289;&#21066;&#38500;&#12398;&#12383;&#12417;&#12398;&#12459;&#12473;&#12479;&#12512;SQL
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate3&#12399;&#20316;&#25104;&#12289;&#26356;&#26032;&#12289;&#21066;&#38500;&#20966;&#29702;&#12398;&#12383;&#12417;&#12398;&#12459;&#12473;&#12479;&#12512;SQL&#25991;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#12463;&#12521;&#12473;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#27704;&#32154;&#21270;&#27231;&#27083;&#12399;&#12289;&#12467;&#12531;&#12501;&#12451;&#12464;&#12524;&#12540;&#12471;&#12519;&#12531;&#26178;&#12395;&#29983;&#25104;&#12373;&#12428;&#12383;&#25991;&#23383;&#21015; &#65288;insertsql&#12289;deletesql&#12289;updatesql&#12394;&#12393;&#65289;&#12398;&#12475;&#12483;&#12488;&#12434;&#12377;&#12391;&#12395;&#20445;&#25345;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;
                  &#12371;&#12428;&#12425;&#12398;&#25991;&#23383;&#21015;&#12424;&#12426;&#12289; <code class="literal">&lt;sql-insert&gt;</code>&#12289; <code class="literal">&lt;sql-delete&gt;</code>&#12289; <code class="literal">&lt;sql-update&gt;</code> &#12392;&#12356;&#12358;&#12510;&#12483;&#12500;&#12531;&#12464;&#12479;&#12464;&#12364;&#20778;&#20808;&#12373;&#12428;&#12414;&#12377;&#12290;
               </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id"&gt;
        &lt;generator class="increment"/&gt;
    &lt;/id&gt;
    &lt;property name="name" not-null="true"/&gt;
    &lt;sql-insert&gt;INSERT INTO PERSON (NAME, ID) VALUES ( UPPER(?), ? )&lt;/sql-insert&gt;
    &lt;sql-update&gt;UPDATE PERSON SET NAME=UPPER(?) WHERE ID=?&lt;/sql-update&gt;
    &lt;sql-delete&gt;DELETE FROM PERSON WHERE ID=?&lt;/sql-delete&gt;
&lt;/class&gt;</pre><p>SQL&#12434;&#30452;&#25509;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12391;&#23455;&#34892;&#12377;&#12427;&#12383;&#12417;&#12289;&#22909;&#12415;&#12398;&#26041;&#35328;&#12434;&#33258;&#30001;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#29420;&#33258;&#12398;SQL&#12434;&#20351;&#12360;&#12400;&#12289;&#24403;&#28982;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12509;&#12540;&#12479;&#12499;&#12522;&#12486;&#12451;&#12364;&#19979;&#12364;&#12426;&#12414;&#12377;&#12290;</p>
               <p><code class="literal">callable</code> &#23646;&#24615;&#12434;&#12475;&#12483;&#12488;&#12377;&#12428;&#12400;&#12289; &#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12434;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;
               </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id"&gt;
        &lt;generator class="increment"/&gt;
    &lt;/id&gt;
    &lt;property name="name" not-null="true"/&gt;
    &lt;sql-insert callable="true"&gt;{call createPerson (?, ?)}&lt;/sql-insert&gt;
    &lt;sql-delete callable="true"&gt;{? = call deletePerson (?)}&lt;/sql-delete&gt;
    &lt;sql-update callable="true"&gt;{? = call updatePerson (?, ?)}&lt;/sql-update&gt;
&lt;/class&gt;</pre><p>&#20170;&#12398;&#12392;&#12371;&#12429;&#12289;&#20301;&#32622;&#12497;&#12521;&#12513;&#12540;&#12479;&#12398;&#38918;&#30058;&#12399;&#12392;&#12390;&#12418;&#37325;&#35201;&#12391;&#12377;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;Hibernate&#12364;&#26399;&#24453;&#12377;&#12427;&#38918;&#24207;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;</p>
               <p><code class="literal">org.hiberante.persister.entity</code> &#12524;&#12505;&#12523;&#12398;&#12487;&#12496;&#12483;&#12464;&#12525;&#12464;&#12434; &#26377;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12387;&#12390;&#12289;&#26399;&#24453;&#12373;&#12428;&#12427;&#38918;&#30058;&#12434;&#30906;&#12363;&#12417;&#12425;&#12428;&#12414;&#12377;&#12290; &#12371;&#12398;&#12524;&#12505;&#12523;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12395;&#12424;&#12426;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#20316;&#25104;&#12289;&#26356;&#26032;&#12289;&#21066;&#38500;&#12394;&#12393;&#12391; &#20351;&#29992;&#12373;&#12428;&#12427;&#38745;&#30340;&#12394;SQL&#12364;&#20986;&#21147;&#12373;&#12428;&#12414;&#12377;&#12290; &#65288;&#26399;&#24453;&#12373;&#12428;&#12427;&#38918;&#24207;&#12434;&#30906;&#35469;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289;Hibernate&#12364;&#29983;&#25104;&#12377;&#12427;&#38745;&#30340;&#12394;SQL&#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12377;&#12427;
                  &#12459;&#12473;&#12479;&#12512;SQL&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12395;&#21547;&#12417;&#12394;&#12356;&#12371;&#12392;&#12434;&#24536;&#12428;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290;&#65289;
               </p>
               <p>&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12399;&#25407;&#20837;/&#26356;&#26032;/&#21066;&#38500;&#12373;&#12428;&#12383;&#34892;&#25968;&#12434;&#36820;&#12377;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377; &#65288;&#35501;&#12415;&#36796;&#12415;&#12398;&#22580;&#21512;&#12399;&#12289;&#36820;&#12373;&#12394;&#12356;&#12424;&#12426;&#12399;&#36820;&#12377;&#26041;&#12364;&#12424;&#12356;&#12391;&#12377;&#65289;&#12290; &#23455;&#34892;&#26178;&#12395;Hibernate&#12364;SQL&#25991;&#12398;&#25104;&#21151;&#12434;&#12481;&#12455;&#12483;&#12463;&#12377;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290; Hibernate&#12399;&#12289;CUD&#20966;&#29702;&#12398;&#12383;&#12417;&#12398;&#25968;&#20516;&#12398;&#20986;&#21147;&#12497;&#12521;&#12513;&#12540;&#12479;&#12392;&#12375;&#12390;&#12289;
                  SQL&#25991;&#12398;&#26368;&#21021;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#12356;&#12388;&#12418;&#35352;&#37682;&#12375;&#12414;&#12377;&#12290;
               </p><pre class="programlisting">CREATE OR REPLACE FUNCTION updatePerson (uid IN NUMBER, uname IN VARCHAR2)
    RETURN NUMBER IS
BEGIN

    update PERSON
    set
        NAME = uname,
    where
        ID = uid;

    return SQL%ROWCOUNT;

END updatePerson;</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="querysql-load"></a>16.4. &#12525;&#12540;&#12489;&#12398;&#12383;&#12417;&#12398;&#12459;&#12473;&#12479;&#12512;SQL
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#35501;&#12415;&#36796;&#12416;&#12383;&#12417;&#12398;&#29420;&#33258;&#12398;SQL&#65288;&#12418;&#12375;&#12367;&#12399;HQL&#65289;&#12463;&#12456;&#12522;&#12418;&#23459;&#35328;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre class="programlisting">&lt;sql-query name="person"&gt;
    &lt;return alias="pers" class="Person" lock-mode="upgrade"/&gt;
    SELECT NAME AS {pers.name}, ID AS {pers.id}
    FROM PERSON
    WHERE ID=?
    FOR UPDATE
&lt;/sql-query&gt;</pre><p>&#12371;&#12428;&#12399;&#12289;&#12414;&#12373;&#12395;&#65288;&#20197;&#21069;&#35696;&#35542;&#12375;&#12383;&#65289;&#21517;&#21069;&#20184;&#12365;&#12463;&#12456;&#12522;&#12398;&#23459;&#35328;&#12391;&#12377;&#12290; &#12371;&#12398;&#21517;&#21069;&#20184;&#12365;&#12463;&#12456;&#12522;&#12434;&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12363;&#12425;&#21442;&#29031;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="id"&gt;
        &lt;generator class="increment"/&gt;
    &lt;/id&gt;
    &lt;property name="name" not-null="true"/&gt;
    &lt;loader query-ref="person"/&gt;
&lt;/class&gt;</pre><p>&#12371;&#12428;&#12399;&#12473;&#12488;&#12450;&#12489;&#12503;&#12525;&#12471;&#12540;&#12472;&#12515;&#12391;&#12373;&#12360;&#12418;&#21205;&#20316;&#12375;&#12414;&#12377;&#12290;</p>
               <p>&#27425;&#12398;&#12424;&#12358;&#12395;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12383;&#12417;&#12398;&#12463;&#12456;&#12522;&#12373;&#12360;&#23450;&#32681;&#12375;&#12390;&#12424;&#12356;&#12391;&#12377;&#12290;</p><pre class="programlisting">&lt;set name="employments" inverse="true"&gt;
    &lt;key/&gt;
    &lt;one-to-many class="Employment"/&gt;
    &lt;loader query-ref="employments"/&gt;
&lt;/set&gt;</pre><pre class="programlisting">&lt;sql-query name="employments"&gt;
    &lt;load-collection alias="emp" role="Person.employments"/&gt;
    SELECT {emp.*}
    FROM EMPLOYMENT emp
    WHERE EMPLOYER = :id
    ORDER BY STARTDATE ASC, EMPLOYEE ASC
&lt;/sql-query&gt;</pre><p>&#27425;&#12398;&#12424;&#12358;&#12395;&#12289;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12395;&#12424;&#12426;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427; &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12525;&#12540;&#12480;&#12540;&#12434;&#23450;&#32681;&#12391;&#12365;&#12414;&#12377;&#12290;</p><pre class="programlisting">&lt;sql-query name="person"&gt;
    &lt;return alias="pers" class="Person"/&gt;
    &lt;return-join alias="emp" property="pers.employments"/&gt;
    SELECT NAME AS {pers.*}, {emp.*}
    FROM PERSON pers
    LEFT OUTER JOIN EMPLOYMENT emp
        ON pers.ID = emp.PERSON_ID
    WHERE ID=?
&lt;/sql-query&gt;</pre></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="filters"></a>&#31532;17&#31456; &#12487;&#12540;&#12479;&#12398;&#12501;&#12451;&#12523;&#12479;&#12522;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate3&#12391;&#12399;&#12300;&#21487;&#35222;&#24615;&#12301;&#12523;&#12540;&#12523;&#12395;&#22522;&#12389;&#12356;&#12390;&#12487;&#12540;&#12479;&#12434;&#25201;&#12358;&#12383;&#12417;&#12398;&#30011;&#26399;&#30340;&#12394;&#26041;&#27861;&#12434;&#29992;&#24847;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; <span class="emphasis"><em>Hibernate filter</em></span> &#12399;&#12464;&#12525;&#12540;&#12496;&#12523;&#12391;&#12289;&#21517;&#21069;&#20184;&#12365;&#12391;&#12289;&#12497;&#12521;&#12513;&#12540;&#12479;&#21270;&#12373;&#12428;&#12383;&#12501;&#12451;&#12523;&#12479;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;Hibernate&#12475;&#12483;&#12471;&#12519;&#12531;&#12372;&#12392;&#12395;&#26377;&#21177;&#28961;&#21177;&#12434;&#20999;&#12426;&#26367;&#12360;&#12425;&#12428;&#12414;&#12377;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="objectstate-filters"></a>17.1. Hibernate&#12398;&#12501;&#12451;&#12523;&#12479;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate3&#12399;&#12501;&#12451;&#12523;&#12479;&#12463;&#12521;&#12452;&#12486;&#12522;&#12450;&#12434;&#12354;&#12425;&#12363;&#12376;&#12417;&#23450;&#32681;&#12375;&#12289; &#12371;&#12428;&#12425;&#12398;&#12501;&#12451;&#12523;&#12479;&#12434;&#12463;&#12521;&#12473;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12524;&#12505;&#12523;&#12395;&#21152;&#12360;&#12427;&#27231;&#33021;&#12434;&#21152;&#12360;&#12414;&#12375;&#12383;&#12290; &#12501;&#12451;&#12523;&#12479;&#12463;&#12521;&#12452;&#12486;&#12522;&#12450;&#12399;&#21046;&#32004;&#31680;&#12434;&#23450;&#32681;&#12377;&#12427;&#27231;&#33021;&#12391;&#12377;&#12290; &#12371;&#12428;&#12425;&#12398;&#12501;&#12451;&#12523;&#12479;&#26465;&#20214;&#12399;&#12497;&#12521;&#12513;&#12540;&#12479;&#21270;&#12391;&#12365;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12434;&#38500;&#12365;&#12289;
                  &#12463;&#12521;&#12473;&#12420;&#12373;&#12414;&#12374;&#12414;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#35201;&#32032;&#12391;&#21033;&#29992;&#21487;&#33021;&#12394;&#65378;where&#65379;&#21477;&#12395;&#38750;&#24120;&#12395;&#12424;&#12367;&#20284;&#12390;&#12356;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;&#12289;&#19982;&#12360;&#12425;&#12428;&#12383;&#12501;&#12451;&#12523;&#12479;&#12434;&#21487;&#33021;&#12395;&#12377;&#12409;&#12365;&#12363;&#12289; &#12381;&#12375;&#12390;&#12381;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#20516;&#12434;&#20309;&#12395;&#12377;&#12409;&#12365;&#12363;&#12434;&#23455;&#34892;&#26178;&#12395;&#27770;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12501;&#12451;&#12523;&#12479;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12499;&#12517;&#12540;&#12398;&#12424;&#12358;&#12395;&#20351;&#29992;&#12373;&#12428;&#12414;&#12377;&#12364;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20869;&#12391;&#12399;&#12497;&#12521;&#12513;&#12540;&#12479;&#21270;&#12373;&#12428;&#12414;&#12377;&#12290;
                  
               </p>
               <p>&#12501;&#12451;&#12523;&#12479;&#12434;&#20351;&#12358;&#12383;&#12417;&#12395;&#12399;&#12414;&#12378;&#12289;&#36969;&#20999;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12395;&#23450;&#32681;&#12289;&#36861;&#21152;&#12375;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12501;&#12451;&#12523;&#12479;&#12434;&#23450;&#32681;&#12377;&#12427;&#12383;&#12417;&#12395;&#12399;&#12289; <code class="literal">&lt;hibernate-mapping/&gt;</code> &#35201;&#32032;&#20869;&#12391; <code class="literal">&lt;filter-def/&gt;</code> &#35201;&#32032;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290;&#65306; 
               </p><pre class="programlisting">&lt;filter-def name="myFilter"&gt;
    &lt;filter-param name="myFilterParam" type="string"/&gt;
&lt;/filter-def&gt;</pre><p>&#12381;&#12358;&#12375;&#12390;&#12501;&#12451;&#12523;&#12479;&#12399;&#12463;&#12521;&#12473;&#12408;&#12392;&#32080;&#12403;&#20184;&#12369;&#12425;&#12428;&#12414;&#12377;&#12290;&#65306; </p><pre class="programlisting">&lt;class name="myClass" ...&gt;
    ...
    &lt;filter name="myFilter" condition=":myFilterParam = MY_FILTERED_COLUMN"/&gt;
&lt;/class&gt;</pre><p>&#12414;&#12383;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#12399;&#27425;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;&#65306; </p><pre class="programlisting">&lt;set ...&gt;
    &lt;filter name="myFilter" condition=":myFilterParam = MY_FILTERED_COLUMN"/&gt;
&lt;/set&gt;</pre><p>&#12393;&#12385;&#12425;&#12395;&#23550;&#12375;&#12390;&#12418;(&#12414;&#12383;&#12289;&#12381;&#12428;&#12382;&#12428;&#12434;&#35079;&#25968;)&#21516;&#26178;&#12395;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
               <p>The methods on <code class="literal">Session</code> are: <code class="literal">enableFilter(String filterName)</code>, <code class="literal">getEnabledFilter(String filterName)</code>, and <code class="literal">disableFilter(String filterName)</code>. By default, filters are <span class="emphasis"><em>not</em></span> enabled for a given session; they must be explcitly enabled through use of the <code class="literal">Session.enableFilter()</code> method, which returns an instance of the <code class="literal">Filter</code> interface. Using the simple filter defined above, this would look like: 
               </p><pre class="programlisting">session.enableFilter("myFilter").setParameter("myFilterParam", "some-value");</pre><p>org.hibernate.Filter&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;&#12513;&#12477;&#12483;&#12489;&#12399;&#12289; Hibernate&#12398;&#22810;&#12367;&#12395;&#20849;&#36890;&#12375;&#12390;&#12356;&#12427;&#12513;&#12477;&#12483;&#12489;&#36899;&#37782;&#12434;&#35377;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               <p>&#26377;&#21177;&#12394;&#12524;&#12467;&#12540;&#12489;&#12487;&#12540;&#12479;&#12497;&#12479;&#12540;&#12531;&#12434;&#25345;&#12388;&#19968;&#26178;&#12487;&#12540;&#12479;&#12434;&#20351;&#12387;&#12383;&#23436;&#20840;&#12394;&#20363;&#12391;&#12377;&#65306; </p><pre class="programlisting">&lt;filter-def name="effectiveDate"&gt;
    &lt;filter-param name="asOfDate" type="date"/&gt;
&lt;/filter-def&gt;

&lt;class name="Employee" ...&gt;
...
    &lt;many-to-one name="department" column="dept_id" class="Department"/&gt;
    &lt;property name="effectiveStartDate" type="date" column="eff_start_dt"/&gt;
    &lt;property name="effectiveEndDate" type="date" column="eff_end_dt"/&gt;
...
    &lt;!--
        Note that this assumes non-terminal records have an eff_end_dt set to
        a max db date for simplicity-sake
    --&gt;
    &lt;filter name="effectiveDate"
            condition=":asOfDate BETWEEN eff_start_dt and eff_end_dt"/&gt;
&lt;/class&gt;

&lt;class name="Department" ...&gt;
...
    &lt;set name="employees" lazy="true"&gt;
        &lt;key column="dept_id"/&gt;
        &lt;one-to-many class="Employee"/&gt;
        &lt;filter name="effectiveDate"
                condition=":asOfDate BETWEEN eff_start_dt and eff_end_dt"/&gt;
    &lt;/set&gt;
&lt;/class&gt;</pre><p>&#24120;&#12395;&#29694;&#22312;&#12398;&#26377;&#21177;&#12524;&#12467;&#12540;&#12489;&#12434;&#36820;&#21364;&#12377;&#12427;&#12371;&#12392;&#12434;&#20445;&#35388;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; &#21336;&#32020;&#12395;&#12289;&#31038;&#21729;&#12487;&#12540;&#12479;&#12398;&#26908;&#32034;&#12424;&#12426;&#21069;&#12395;&#12475;&#12483;&#12471;&#12519;&#12531;&#19978;&#12398;&#12501;&#12451;&#12523;&#12479;&#12434;&#26377;&#21177;&#12395;&#12375;&#12414;&#12377;&#12290; </p><pre class="programlisting">Session session = ...;
session.enableFilter("effectiveDate").setParameter("asOfDate", new Date());
List results = session.createQuery("from Employee as e where e.salary &gt; :targetSalary")
         .setLong("targetSalary", new Long(1000000))
         .list();
</pre><p>&#19978;&#35352;&#12398;HQL&#12391;&#12399;&#12289;&#32080;&#26524;&#12398;&#32102;&#26009;&#12398;&#21046;&#32004;&#12395;&#12388;&#12356;&#12390;&#26126;&#31034;&#30340;&#12395;&#35302;&#12428;&#12383;&#12384;&#12369;&#12391;&#12377;&#12364;&#12289; &#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12501;&#12451;&#12523;&#12479;&#12398;&#12362;&#12363;&#12370;&#12391;&#12289;&#12371;&#12398;&#12463;&#12456;&#12522;&#12399;&#32102;&#26009;&#12364;100&#19975;&#12489;&#12523;&#20197;&#19978;&#12398;&#29694;&#24441;&#12398;&#31038;&#21729;&#12384;&#12369;&#12434;&#36820;&#12375;&#12414;&#12377;&#12290; </p>
               <p>(HQL&#12363;&#12525;&#12540;&#12489;&#12501;&#12455;&#12483;&#12481;&#12391;&#65289;&#22806;&#37096;&#32080;&#21512;&#12434;&#25345;&#12388;&#12501;&#12451;&#12523;&#12479;&#12434;&#20351;&#12358;&#12388;&#12418;&#12426;&#12394;&#12425;&#12289; &#26465;&#20214;&#24335;&#12398;&#26041;&#21521;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12371;&#12428;&#12399;&#24038;&#22806;&#37096;&#32080;&#21512;&#12398;&#12383;&#12417;&#12395;&#35373;&#23450;&#12377;&#12427;&#12398;&#12364;&#26368;&#12418;&#23433;&#20840;&#12391;&#12377;&#12290; &#19968;&#33324;&#30340;&#12395;&#12289;&#28436;&#31639;&#23376;&#12398;&#24460;&#12459;&#12521;&#12512;&#21517;&#12395;&#32154;&#12369;&#12390;&#26368;&#21021;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#37197;&#32622;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               <p>translator-credits </p><pre class="programlisting">&lt;filter-def name="myFilter" condition="abc &gt; xyz"&gt;...&lt;/filter-def&gt;
&lt;filter-def name="myOtherFilter"&gt;abc=xyz&lt;/filter-def&gt;</pre><p>This default condition will then be used whenever the filter is attached to something without specifying a condition. Note
                  that this means you can give a specific condition as part of the attachment of the filter which overrides the default condition
                  in that particular case. 
               </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="xml"></a>&#31532;18&#31456; XML&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <p><span class="emphasis"><em>XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;Hibernate3.0&#12391;&#12399;&#35430;&#39443;&#30340;&#12394;&#27231;&#33021;&#12391;&#12354;&#12426;&#12289;&#38750;&#24120;&#12395;&#27963;&#21205;&#30340;&#12395;&#38283;&#30330;&#20013;&#12391;&#12377;&#12290; </em></span></p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="xml-intro"></a>18.1. XML&#12487;&#12540;&#12479;&#12391;&#12398;&#20316;&#26989;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12391;&#12399;&#27704;&#32154;&#24615;&#12398;POJO&#12434;&#20351;&#12387;&#12390;&#20316;&#26989;&#12377;&#12427;&#12398;&#12392;&#12411;&#12412;&#21516;&#12376;&#12424;&#12358;&#12394;&#12420;&#12426;&#26041;&#12391;&#12289; &#27704;&#32154;&#24615;&#12398;XML&#12487;&#12540;&#12479;&#12434;&#20351;&#12387;&#12390;&#20316;&#26989;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
               <p>Hibernate&#12399;XML&#12484;&#12522;&#12540;&#12434;&#25805;&#20316;&#12377;&#12427;&#12383;&#12417;&#12398;API&#12392;&#12375;&#12390;dom4j&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;dom4j&#12398;&#12484;&#12522;&#12540;&#12434;&#24489;&#20803;&#12377;&#12427;&#12463;&#12456;&#12522;&#12434;&#26360;&#12367;&#12371;&#12392;&#12364;&#12391;&#12365;&#12289; &#12484;&#12522;&#12540;&#12395;&#23550;&#12375;&#12390;&#34892;&#12387;&#12383;&#20462;&#27491;&#12399;&#33258;&#21205;&#30340;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#21516;&#26399;&#12373;&#12428;&#12414;&#12377;&#12290; &#12414;&#12383;XML&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#21462;&#24471;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12289;dom4j&#12434;&#20351;&#12387;&#12390;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#12497;&#12540;&#12473;&#12375;&#12289;
                  Hibernate&#12398;&#20219;&#24847;&#12398;&#22522;&#26412;&#25805;&#20316;&#12434;&#20351;&#12387;&#12390;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12408;&#26360;&#12365;&#36796;&#12416;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;&#65306; &#12388;&#12414;&#12426;&#12289;<code class="literal">persist(), saveOrUpdate(), merge(), delete(), replicate()</code> &#25805;&#20316;&#12391;&#12377;(&#12510;&#12540;&#12472;&#12399;&#12414;&#12384;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;)&#12290; 
               </p>
               <p>&#12487;&#12540;&#12479;&#12398;&#12452;&#12531;&#12509;&#12540;&#12488;/&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12289; JMS&#12395;&#12424;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12487;&#12540;&#12479;&#12398;&#22806;&#37096;&#21270;&#12420;SOAP&#12289;XSLT&#12505;&#12540;&#12473;&#12398;&#12524;&#12509;&#12540;&#12488;&#12394;&#12393;&#12289; &#12371;&#12398;&#27231;&#33021;&#12395;&#12399;&#22810;&#12367;&#12398;&#29992;&#36884;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
               <p>&#21336;&#19968;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#12289;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12392;XML&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#12494;&#12540;&#12489;&#12434; &#21516;&#26178;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12414;&#12383;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12463;&#12521;&#12473;&#12364;&#12394;&#12369;&#12428;&#12400;&#12289; XML&#12384;&#12369;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="xml-intro-mapping"></a>18.1.1. XML&#12392;&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#21516;&#26178;&#12395;&#25351;&#23450;&#12377;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12428;&#12399;POJO&#12392;XML&#12434;&#21516;&#26178;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#20363;&#12391;&#12377;&#12290;&#65306; </p><pre class="programlisting">&lt;class name="Account" 
        table="ACCOUNTS" 
        node="account"&gt;
        
    &lt;id name="accountId" 
            column="ACCOUNT_ID" 
            node="@id"/&gt;
            
    &lt;many-to-one name="customer" 
            column="CUSTOMER_ID" 
            node="customer/@id" 
            embed-xml="false"/&gt;
            
    &lt;property name="balance" 
            column="BALANCE" 
            node="balance"/&gt;
            
    ...
    
&lt;/class&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="xml-onlyxml"></a>18.1.2. XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12384;&#12369;&#12434;&#25351;&#23450;&#12377;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12371;&#12428;&#12399;POJO&#12463;&#12521;&#12473;&#12364;&#12394;&#12356;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#20363;&#12391;&#12377;&#12290;&#65306; </p><pre class="programlisting">&lt;class entity-name="Account" 
        table="ACCOUNTS" 
        node="account"&gt;
        
    &lt;id name="id" 
            column="ACCOUNT_ID" 
            node="@id" 
            type="string"/&gt;
            
    &lt;many-to-one name="customerId" 
            column="CUSTOMER_ID" 
            node="customer/@id" 
            embed-xml="false" 
            entity-name="Customer"/&gt;
            
    &lt;property name="balance" 
            column="BALANCE" 
            node="balance" 
            type="big_decimal"/&gt;
            
    ...
    
&lt;/class&gt;</pre><p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12424;&#12426;&#12289;dom4j&#12484;&#12522;&#12540;&#12363;&#12289; &#12503;&#12525;&#12497;&#12486;&#12451;&#21517;/&#20516;&#12398;&#32068;&#12398;&#12464;&#12521;&#12501;&#65288;java&#12398; <code class="literal">Map</code>&#65289;&#12392;&#12375;&#12390; &#12487;&#12540;&#12479;&#12395;&#12450;&#12463;&#12475;&#12473;&#12391;&#12365;&#12414;&#12377;&#12290; &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21517;&#21069;&#12399;&#12289;HQL&#12463;&#12456;&#12522;&#12540;&#20869;&#12391;&#21442;&#29031;&#12391;&#12365;&#12427;&#32020;&#31883;&#12394;&#35542;&#29702;&#27083;&#36896;&#12391;&#12377;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="xml-mapping"></a>18.2. XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#22810;&#12367;&#12398;Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12399;&#12288;<code class="literal">node</code>&#12288;&#23646;&#24615;&#12364;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; &#12371;&#12428;&#12395;&#12424;&#12426;XML&#23646;&#24615;&#12398;&#21517;&#21069;&#12420;&#12503;&#12525;&#12497;&#12486;&#12451;&#12420;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12487;&#12540;&#12479;&#12434;&#20445;&#25345;&#12377;&#12427;&#35201;&#32032;&#12434;&#25351;&#23450;&#12391;&#12365;&#12414;&#12377;&#12290; <code class="literal">node</code>&#12288;&#23646;&#24615;&#12398;&#12501;&#12457;&#12540;&#12510;&#12483;&#12488;&#12399;&#20197;&#19979;&#12398;&#20013;&#12398;1&#12388;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;&#65306; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc" compact>
                     <li>
                        <p><code class="literal">"element-name"</code> - &#25351;&#23450;&#12375;&#12383;XML&#35201;&#32032;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">"@attribute-name"</code> - &#25351;&#23450;&#12375;&#12383;XML&#23646;&#24615;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">"."</code> -&#12288;&#35242;&#35201;&#32032;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377;
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">"element-name/@attribute-name"</code> - &#25351;&#23450;&#12375;&#12383;&#12456;&#12524;&#12513;&#12531;&#12488;&#12398;&#25351;&#23450;&#12375;&#12383;&#23646;&#24615;&#12408;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12377; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#21336;&#19968;&#12398;&#20516;&#12398;&#38306;&#36899;&#12395;&#23550;&#12375;&#12390;&#12289; &#12362;&#12414;&#12369;&#12398; <code class="literal">embed-xml</code> &#23646;&#24615;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12487;&#12501;&#12457;&#12523;&#12488;&#12398; <code class="literal">embed-xml="true"</code> &#12392;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289; &#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;(&#20516;&#22411;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;)&#12398;XML&#12484;&#12522;&#12540;&#12399;&#12289; &#30452;&#25509;&#38306;&#36899;&#12434;&#25152;&#26377;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;XML&#12484;&#12522;&#12540;&#20869;&#12395;&#22475;&#12417;&#36796;&#12414;&#12428;&#12414;&#12377;&#12290; &#21453;&#23550;&#12395;&#12289;<code class="literal">embed-xml="false"</code> &#12392;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289; &#21442;&#29031;&#12373;&#12428;&#12427;&#35672;&#21029;&#23376;&#12398;&#20516;&#12384;&#12369;&#12364;&#22810;&#37325;&#24230;&#65297;&#20596;&#12398;&#38306;&#36899;&#12395;&#23550;&#12377;&#12427;XML&#12395;&#29694;&#12428;&#12289; &#21336;&#32020;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#12414;&#12387;&#12383;&#12367;&#29694;&#12428;&#12394;&#12367;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12354;&#12414;&#12426;&#12395;&#22810;&#12367;&#12398;&#38306;&#36899;&#12395;&#23550;&#12375;&#12390; <code class="literal">embed-xml="true"</code> &#12392;&#12375;&#12383;&#12414;&#12414;&#12395;&#12377;&#12427;&#12398;&#12399;&#27880;&#24847;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290; XML&#12399;&#24490;&#29872;&#12434;&#12358;&#12414;&#12367;&#25201;&#12360;&#12414;&#12379;&#12435;&#12290; 
               </p><pre class="programlisting">&lt;class name="Customer" 
        table="CUSTOMER" 
        node="customer"&gt;
        
    &lt;id name="id" 
            column="CUST_ID" 
            node="@id"/&gt;
            
    &lt;map name="accounts" 
            node="." 
            embed-xml="true"&gt;
        &lt;key column="CUSTOMER_ID" 
                not-null="true"/&gt;
        &lt;map-key column="SHORT_DESC" 
                node="@short-desc" 
                type="string"/&gt;
        &lt;one-to-many entity-name="Account"
                embed-xml="false" 
                node="account"/&gt;
    &lt;/map&gt;
    
    &lt;component name="name" 
            node="name"&gt;
        &lt;property name="firstName" 
                node="first-name"/&gt;
        &lt;property name="initial" 
                node="initial"/&gt;
        &lt;property name="lastName" 
                node="last-name"/&gt;
    &lt;/component&gt;
    
    ...
    
&lt;/class&gt;</pre><p>&#12371;&#12398;&#20363;&#12391;&#12399;&#12289;&#23455;&#38555;&#12398;account&#12398;&#12487;&#12540;&#12479;&#12391;&#12399;&#12394;&#12367;&#12289; account&#12398;id&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#22475;&#12417;&#36796;&#12416;&#12371;&#12392;&#12395;&#12375;&#12414;&#12375;&#12383;&#12290; &#32154;&#12365;&#12398;HQL&#12463;&#12456;&#12522;&#12391;&#12377;&#65306; </p><pre class="programlisting">from Customer c left join fetch c.accounts where c.lastName like :lastName</pre><p>&#12371;&#12398;&#12424;&#12358;&#12394;&#12487;&#12540;&#12479;&#12475;&#12483;&#12488;&#12434;&#36820;&#12377;&#12391;&#12375;&#12423;&#12358; </p><pre class="programlisting">&lt;customer id="123456789"&gt;
    &lt;account short-desc="Savings"&gt;987632567&lt;/account&gt;
    &lt;account short-desc="Credit Card"&gt;985612323&lt;/account&gt;
    &lt;name&gt;
        &lt;first-name&gt;Gavin&lt;/first-name&gt;
        &lt;initial&gt;A&lt;/initial&gt;
        &lt;last-name&gt;King&lt;/last-name&gt;
    &lt;/name&gt;
    ...
&lt;/customer&gt;</pre><p><code class="literal">&lt;one-to-many&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12391; <code class="literal">embed-xml="true"</code> &#12392;&#35373;&#23450;&#12375;&#12383;&#22580;&#21512;&#12289; &#12487;&#12540;&#12479;&#12399;&#12371;&#12398;&#12424;&#12358;&#12395;&#12394;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
               </p><pre class="programlisting">&lt;customer id="123456789"&gt;
    &lt;account id="987632567" short-desc="Savings"&gt;
        &lt;customer id="123456789"/&gt;
        &lt;balance&gt;100.29&lt;/balance&gt;
    &lt;/account&gt;
    &lt;account id="985612323" short-desc="Credit Card"&gt;
        &lt;customer id="123456789"/&gt;
        &lt;balance&gt;-2370.34&lt;/balance&gt;
    &lt;/account&gt;
    &lt;name&gt;
        &lt;first-name&gt;Gavin&lt;/first-name&gt;
        &lt;initial&gt;A&lt;/initial&gt;
        &lt;last-name&gt;King&lt;/last-name&gt;
    &lt;/name&gt;
    ...
&lt;/customer&gt;</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="xml-manipulation"></a>18.3. XML&#12487;&#12540;&#12479;&#12434;&#25201;&#12358;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>XML&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#20869;&#12391;&#20877;&#35501;&#12415;&#36796;&#12415;&#12420;&#26356;&#26032;&#12434;&#12375;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#12290; &#20197;&#19979;&#12391;&#12399;dom4j&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#21462;&#24471;&#12377;&#12427;&#12371;&#12392;&#12391;&#34892;&#12356;&#12414;&#12377;&#12290;&#65306; </p><pre class="programlisting">Document doc = ....;
       
Session session = factory.openSession();
Session dom4jSession = session.getSession(EntityMode.DOM4J);
Transaction tx = session.beginTransaction();

List results = dom4jSession
    .createQuery("from Customer c left join fetch c.accounts where c.lastName like :lastName")
    .list();
for ( int i=0; i&lt;results.size(); i++ ) {
    //add the customer data to the XML document
    Element customer = (Element) results.get(i);
    doc.add(customer);
}

tx.commit();
session.close();</pre><pre class="programlisting">Session session = factory.openSession();
Session dom4jSession = session.getSession(EntityMode.DOM4J);
Transaction tx = session.beginTransaction();

Element cust = (Element) dom4jSession.get("Customer", customerId);
for ( int i=0; i&lt;results.size(); i++ ) {
    Element customer = (Element) results.get(i);
    //change the customer name in the XML and database
    Element name = customer.element("name");
    name.element("first-name").setText(firstName);
    name.element("initial").setText(initial);
    name.element("last-name").setText(lastName);
}

tx.commit();
session.close();</pre><p>XML&#12505;&#12540;&#12473;&#12398;&#12487;&#12540;&#12479;&#12398;&#12452;&#12531;&#12509;&#12540;&#12488;/&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12434;&#23455;&#35013;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; Hibernate&#12398; <code class="literal">replicate()</code> &#25805;&#20316;&#12434;&#12371;&#12398;&#27231;&#33021;&#12434;&#32080;&#12403;&#12388;&#12369;&#12427;&#12398;&#12399; &#26997;&#12417;&#12390;&#26377;&#21177;&#12391;&#12377;&#12290; 
               </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="performance"></a>&#31532;19&#31456; &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#25913;&#21892;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="performance-fetching"></a>19.1. &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><span class="emphasis"><em>&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;</em></span> &#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#38306;&#36899;&#12434;&#12490;&#12499;&#12466;&#12540;&#12488;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427; &#12392;&#12365;&#12395;&#12289;Hibernate&#12364;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#24489;&#20803;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12377;&#12427;&#25126;&#30053;&#12391;&#12377;&#12290;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12399;O/R&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; &#12513;&#12479;&#12487;&#12540;&#12479;&#12395;&#23459;&#35328;&#12377;&#12427;&#12363;&#12289;&#29305;&#23450;&#12398;HQL&#12289; <code class="literal">Criteria</code> &#12463;&#12456;&#12522;&#12391;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p>Hibernate3&#12399;&#27425;&#12395;&#31034;&#12377;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12434;&#23450;&#32681;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;</em></span> - Hibernate&#12399; <code class="literal">OUTER JOIN</code> &#12434;&#20351;&#12387;&#12390;&#12289; &#38306;&#36899;&#12377;&#12427;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#65297;&#12388;&#12398; <code class="literal">SELECT</code> &#12391;&#24489;&#20803;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;</em></span> - 2&#22238;&#30446;&#12398; <code class="literal">SELECT</code> &#12391;&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#24489;&#20803;&#12375;&#12414;&#12377;&#12290; <code class="literal">lazy="false"</code> &#12391;&#26126;&#31034;&#30340;&#12395;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#28961;&#21177;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12289;&#12371;&#12398;2&#22238;&#30446;&#12398;select&#12399;&#23455;&#38555;&#12395; &#38306;&#36899;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12392;&#12365;&#12398;&#12415;&#23455;&#34892;&#12373;&#12428;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;</em></span> - 2&#22238;&#30446;&#12398; <code class="literal">SELECT</code> &#12391;&#12289;&#30452;&#21069;&#12398;&#12463;&#12456;&#12522;&#12420;&#12501;&#12455;&#12483;&#12481;&#12391;&#24489;&#20803;&#12375;&#12383;&#12377;&#12409;&#12390;&#12398;&#35201;&#32032;&#12395;&#38306;&#36899;&#12377;&#12427;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434; &#24489;&#20803;&#12375;&#12414;&#12377;&#12290; <code class="literal">lazy="false"</code> &#12391;&#26126;&#31034;&#30340;&#12395;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#28961;&#21177;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12289;&#12371;&#12398;2&#22238;&#30446;&#12398;select&#12399;&#23455;&#38555;&#12395; &#38306;&#36899;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12392;&#12365;&#12398;&#12415;&#23455;&#34892;&#12373;&#12428;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;</em></span> - &#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#12398;&#12383;&#12417;&#12398;&#26368;&#36969;&#21270;&#12373;&#12428;&#12383;&#25126;&#30053; - Hibernate&#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#19968;&#32676;&#12434;1&#22238;&#12398; <code class="literal">SELECT</code> &#12391;&#24489;&#20803;&#12375;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#20027;&#12461;&#12540;&#12420;&#22806;&#37096;&#12461;&#12540;&#12398;&#12522;&#12473;&#12488;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12395; &#12395;&#12424;&#12426;&#34892;&#12356;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Hibernate&#12399;&#27425;&#12395;&#31034;&#12377;&#25126;&#30053;&#12392;&#12418;&#21306;&#21029;&#12434;&#12375;&#12414;&#12377;&#12290; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><span class="emphasis"><em>&#21363;&#26178;&#12501;&#12455;&#12483;&#12481;</em></span> - &#25152;&#26377;&#32773;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289; &#38306;&#36899;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#21363;&#26178;&#12395;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#36933;&#24310;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12501;&#12455;&#12483;&#12481;</em></span> - &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395; &#23550;&#12375;&#12390;&#25805;&#20316;&#12434;&#34892;&#12387;&#12383;&#12392;&#12365;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#12501;&#12455;&#12483;&#12481;&#12375;&#12414;&#12377;&#12290; (&#12371;&#12428;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#23550;&#12377;&#12427;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#21205;&#20316;&#12391;&#12377;) 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>"&#29305;&#21029;&#12394;&#36933;&#24310;"&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12501;&#12455;&#12483;&#12481;</em></span> - &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032; &#65297;&#12388;&#65297;&#12388;&#12364;&#29420;&#31435;&#12375;&#12390;&#12289;&#24517;&#35201;&#12394;&#12392;&#12365;&#12395;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#21462;&#24471;&#12373;&#12428;&#12414;&#12377;&#12290; Hibernate&#12399;&#24517;&#35201;&#12394;&#12356;&#12394;&#12425;&#12400;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20840;&#20307;&#12434;&#12513;&#12514;&#12522;&#12395;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12371;&#12392;&#12399; &#36991;&#12369;&#12414;&#12377;&#65288;&#12392;&#12390;&#12418;&#22823;&#12365;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36969;&#12375;&#12390;&#12356;&#12414;&#12377;&#65289;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#12503;&#12525;&#12461;&#12471;&#12501;&#12455;&#12483;&#12481;</em></span> - &#21336;&#19968;&#20516;&#38306;&#36899;&#12399;&#12289;&#35672;&#21029;&#23376;&#12398;getter&#20197;&#22806;&#12398; &#12513;&#12477;&#12483;&#12489;&#12364;&#38306;&#36899;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#21628;&#12403;&#20986;&#12373;&#12428;&#12427;&#12392;&#12365;&#12395;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>"&#12503;&#12525;&#12461;&#12471;&#12394;&#12375;"&#12501;&#12455;&#12483;&#12481;</em></span> - &#21336;&#19968;&#20516;&#38306;&#36899;&#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12395; &#12450;&#12463;&#12475;&#12473;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12414;&#12377;&#12290;&#12503;&#12525;&#12461;&#12471;&#12501;&#12455;&#12483;&#12481;&#12392;&#27604;&#36611;&#12377;&#12427;&#12392;&#12289;&#12371;&#12398;&#26041;&#27861;&#12399; &#36933;&#24310;&#12398;&#24230;&#21512;&#12356;&#12364;&#23569;&#12394;&#12356;&#65288;&#38306;&#36899;&#12399;&#35672;&#21029;&#23376;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383;&#12384;&#12369;&#12391;&#12418;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12414;&#12377;&#65289; &#12391;&#12377;&#12364;&#12289;&#12424;&#12426;&#36879;&#36942;&#30340;&#12391;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12503;&#12525;&#12461;&#12471;&#12364;&#23384;&#22312;&#12375;&#12394;&#12356;&#12424;&#12358;&#12395;&#35211;&#12379;&#12414;&#12377;&#12290;
                           &#12371;&#12398;&#26041;&#27861;&#12399;&#12499;&#12523;&#12489;&#26178;&#12398;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#32068;&#12415;&#36796;&#12415;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12289;&#20351;&#12358;&#22580;&#38754;&#12399;&#12414;&#12428;&#12391;&#12377;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><span class="emphasis"><em>&#36933;&#24310;&#23646;&#24615;&#12501;&#12455;&#12483;&#12481;</em></span> - &#23646;&#24615;&#12420;&#21336;&#19968;&#20516;&#38306;&#36899;&#12399;&#12289;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#22793;&#25968;&#12395;&#12450;&#12463;&#12475;&#12473;&#12375;&#12383; &#12392;&#12365;&#12395;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12414;&#12377;&#12290;&#12371;&#12398;&#26041;&#27861;&#12399;&#12499;&#12523;&#12489;&#26178;&#12398;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#32068;&#12415;&#36796;&#12415;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12289; &#20351;&#12358;&#22580;&#38754;&#12399;&#12414;&#12428;&#12391;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#20108;&#12388;&#12398;&#30452;&#34892;&#12377;&#12427;&#27010;&#24565;&#12364;&#12354;&#12426;&#12414;&#12377;: <span class="emphasis"><em>&#12356;&#12388;</em></span> &#38306;&#36899;&#12434;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12363;&#12289; &#12381;&#12375;&#12390;&#12289; <span class="emphasis"><em>&#12393;&#12358;&#12420;&#12387;&#12390;</em></span> &#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12363;&#65288;&#12393;&#12435;&#12394;SQL&#12434;&#20351;&#12387;&#12390;&#65289;&#12290; &#12371;&#12428;&#12425;&#12434;&#28151;&#21516;&#12375;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#65281; <code class="literal">fetch</code> &#12399;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290; <code class="literal">lazy</code> &#12399;&#12354;&#12427;&#12463;&#12521;&#12473;&#12398;&#20998;&#38626;&#12373;&#12428;&#12383;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12358;&#12385;&#12289;&#12393;&#12398;&#12487;&#12540;&#12479;&#12434;&#24120;&#12395; &#20351;&#29992;&#21487;&#33021;&#12395;&#12377;&#12427;&#12363;&#12398;&#21462;&#12426;&#27770;&#12417;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-lazy"></a>19.1.1. &#36933;&#24310;&#38306;&#36899;&#12398;&#20685;&#12365;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;Hibernate3&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#12399;&#36933;&#24310;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#12434;&#20351;&#12356;&#12289; &#21336;&#19968;&#20516;&#38306;&#36899;&#12395;&#12399;&#36933;&#24310;&#12503;&#12525;&#12461;&#12471;&#12501;&#12455;&#12483;&#12481;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290;&#12371;&#12428;&#12425;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#21205;&#20316;&#12399;&#12411;&#12412;&#12377;&#12409;&#12390;&#12398; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12411;&#12412;&#12377;&#12409;&#12390;&#12398;&#38306;&#36899;&#12391;&#24847;&#21619;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
                  <p><span class="emphasis"><em>&#27880;:</em></span><code class="literal">hibernate.default_batch_fetch_size</code> &#12434;&#12475;&#12483;&#12488;&#12375;&#12383;&#12392;&#12365;&#12399;&#12289;Hibernate&#12399; &#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12398;&#12383;&#12417;&#12398;&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#26368;&#36969;&#21270;&#12434;&#20351;&#12358;&#12391;&#12375;&#12423;&#12358; &#65288;&#12371;&#12398;&#26368;&#36969;&#21270;&#12399;&#12424;&#12426;&#32048;&#12363;&#12356;&#12524;&#12505;&#12523;&#12391;&#26377;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12418;&#20986;&#26469;&#12414;&#12377;&#65289;&#12290; 
                  </p>
                  <p>&#12375;&#12363;&#12375;&#12289;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12399;&#30693;&#12387;&#12390;&#12362;&#12363;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#19968;&#12388;&#12398;&#21839;&#38988;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12398;session&#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398;&#22806;&#12363;&#12425;&#36933;&#24310;&#38306;&#36899;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12392;&#12289; &#20363;&#22806;&#12364;&#30330;&#29983;&#12375;&#12414;&#12377;&#12290;&#20363;&#65306; </p><pre class="programlisting">s = sessions.openSession();
Transaction tx = s.beginTransaction();
            
User u = (User) s.createQuery("from User u where u.name=:userName")
    .setString("userName", userName).uniqueResult();
Map permissions = u.getPermissions();

tx.commit();
s.close();

Integer accessLevel = (Integer) permissions.get("accounts");  // Error!</pre><p><code class="literal">Session</code> &#12364;&#12463;&#12525;&#12540;&#12474;&#12373;&#12428;&#12383;&#12392;&#12365;&#12289;permissions&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399; &#21021;&#26399;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12383;&#12417;&#12289;&#12371;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#33258;&#36523;&#12398;&#29366;&#24907;&#12434;&#12525;&#12540;&#12489;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; <span class="emphasis"><em>Hibernate&#12399;&#20999;&#12426;&#38626;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#36933;&#24310;&#21021;&#26399;&#21270;&#12399;&#12469;&#12509;&#12540;&#12488; &#12375;&#12390;&#12356;&#12414;&#12379;&#12435;</em></span> &#12290;&#20462;&#27491;&#26041;&#27861;&#12392;&#12375;&#12390;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#35501;&#12415;&#36796;&#12415;&#12434;&#34892;&#12358;&#12467;&#12540;&#12489;&#12434; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12467;&#12511;&#12483;&#12488;&#12377;&#12427;&#30452;&#21069;&#12395;&#31227;&#21205;&#12373;&#12379;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#19968;&#26041;&#12391;&#12289; <code class="literal">lazy="false"</code> &#12434;&#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289; &#36933;&#24310;&#20966;&#29702;&#12434;&#12375;&#12394;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#38306;&#36899;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12394;&#12364;&#12425;&#12289;&#36933;&#24310;&#21021;&#26399;&#21270;&#12399;&#12411;&#12412;&#12377;&#12409;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#38306;&#36899;&#12391;&#20351;&#12431;&#12428;&#12427;&#12371;&#12392;&#12434; &#24847;&#22259;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#12418;&#12375;&#12354;&#12394;&#12383;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12514;&#12487;&#12523;&#12398;&#20013;&#12395;&#36933;&#24310;&#20966;&#29702;&#12434;&#12375;&#12394;&#12356;&#38306;&#36899;&#12434;
                     &#22810;&#12367;&#23450;&#32681;&#12375;&#12390;&#12375;&#12414;&#12358;&#12392;&#12289;Hibernate&#12399;&#26368;&#32066;&#30340;&#12395;&#12399;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#27598;&#12395; &#12411;&#12412;&#23436;&#20840;&#12394;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#12513;&#12514;&#12522;&#12398;&#20013;&#12395;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12427;&#12391;&#12375;&#12423;&#12358;&#65281; 
                  </p>
                  <p>&#20182;&#26041;&#12391;&#12399;&#12289;&#29305;&#23450;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12395;&#12362;&#12356;&#12390;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#12398;&#20195;&#12431;&#12426;&#12395; &#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#65288;&#24403;&#28982;&#12371;&#12428;&#12399;&#36933;&#24310;&#20966;&#29702;&#12391;&#12399;&#12394;&#12367;&#12394;&#12426;&#12414;&#12377;&#65289;&#12434;&#36984;&#25246;&#12375;&#12383;&#12356;&#12371;&#12392;&#12364; &#26178;&#12293;&#12354;&#12426;&#12414;&#12377;&#12290;&#12371;&#12428;&#12363;&#12425;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12434;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12377;&#12427;&#26041;&#27861;&#12434;&#12362;&#35211;&#12379;&#12375;&#12414;&#12377;&#12290; Hibernate3&#12391;&#12399;&#12289;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12434;&#36984;&#25246;&#12377;&#12427;&#20181;&#32068;&#12415;&#12399;&#21336;&#19968;&#20516;&#38306;&#36899;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12391;
                     &#22793;&#12431;&#12426;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-custom"></a>19.1.2. &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12398;&#12481;&#12517;&#12540;&#12491;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#65288;&#12487;&#12501;&#12457;&#12523;&#12488;&#65289;&#12399;N+1&#12475;&#12524;&#12463;&#12488;&#21839;&#38988;&#12392;&#12356;&#12358;&#22823;&#12365;&#12394;&#24369;&#28857;&#12364;&#12354;&#12427;&#12383;&#12417;&#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12391;&#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;set name="permissions" 
            fetch="join"&gt;
    &lt;key column="userId"/&gt;
    &lt;one-to-many class="Permission"/&gt;
&lt;/set</pre><pre class="programlisting">&lt;many-to-one name="mother" class="Cat" fetch="join"/&gt;</pre><p>&#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12391;&#23450;&#32681;&#12375;&#12383; <code class="literal">&#12501;&#12455;&#12483;&#12481;</code> &#25126;&#30053;&#12399;&#27425;&#12398;&#12418;&#12398;&#12395;&#24433;&#38911;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p><code class="literal">get()</code> &#12420; <code class="literal">load()</code> &#12395;&#12424;&#12427;&#24489;&#20803; 
                           </p>
                        </li>
                        <li>
                           <p>&#38306;&#36899;&#12395;&#12490;&#12499;&#12466;&#12540;&#12488;&#12375;&#12383;&#12392;&#12365;&#12395;&#30330;&#29983;&#12377;&#12427;&#26263;&#40665;&#30340;&#12394;&#24489;&#20803; </p>
                        </li>
                        <li>
                           <p><code class="literal">Criteria</code> &#12463;&#12456;&#12522; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;</code> &#12501;&#12455;&#12483;&#12481;&#12434;&#20351;&#12358;HQL&#12463;&#12456;&#12522; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#12383;&#12392;&#12360;&#12393;&#12435;&#12394;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12434;&#20351;&#12387;&#12383;&#12392;&#12375;&#12390;&#12418;&#12289;&#36933;&#24310;&#12391;&#12399;&#12394;&#12356;&#12464;&#12521;&#12501;&#12399;&#12513;&#12514;&#12522;&#12395;&#35501;&#12415;&#36796;&#12414;&#12428;&#12427;&#12371;&#12392;&#12364; &#20445;&#35388;&#12373;&#12428;&#12414;&#12377;&#12290;&#12388;&#12414;&#12426;&#12289;&#29305;&#23450;&#12398;HQL&#12463;&#12456;&#12522;&#12434;&#23455;&#34892;&#12377;&#12427;&#12383;&#12417;&#12395;&#12356;&#12367;&#12388;&#12363;&#12398;SELECT&#25991;&#12364;&#21363;&#26178;&#23455;&#34892;&#12373;&#12428;&#12427; &#12371;&#12392;&#12364;&#12354;&#12427;&#12398;&#12391;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
                  <p>&#36890;&#24120;&#12399;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#23450;&#32681;&#12391;&#12501;&#12455;&#12483;&#12481;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12399;&#34892;&#12356;&#12414;&#12379;&#12435;&#12290; &#20195;&#12431;&#12426;&#12395;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#21205;&#20316;&#12398;&#12414;&#12414;&#12395;&#12375;&#12390;&#12362;&#12356;&#12390;&#12289;HQL&#12391; <code class="literal">left join fetch</code> &#12434; &#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#29305;&#23450;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12391;&#21205;&#20316;&#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;Hibernate&#12395;&#21021;&#22238;&#12398;&#12475;&#12524;&#12463;&#12488;&#12391;&#22806;&#37096;&#32080;&#21512;&#12434;&#20351;&#12387;&#12390;&#38306;&#36899;&#12434;&#20808;&#12395;&#12501;&#12455;&#12483;&#12481;&#12377;&#12427;&#12424;&#12358;&#12395;&#25351;&#23450;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; <code class="literal">Criteria</code> &#12463;&#12456;&#12522;&#12398;API&#12391;&#12399;&#12289; <code class="literal">setFetchMode(FetchMode.JOIN)</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12418;&#12375; <code class="literal">get()</code> &#12420; <code class="literal">load()</code> &#12391;&#20351;&#12431;&#12428;&#12427; &#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12434;&#22793;&#12360;&#12383;&#12356;&#12392;&#24863;&#12376;&#12383;&#12392;&#12365;&#12395;&#12399;&#12289;&#21336;&#32020;&#12395; <code class="literal">Criteria</code> &#12463;&#12456;&#12522;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#20363;&#65306; 
                  </p><pre class="programlisting">User user = (User) session.createCriteria(User.class)
                .setFetchMode("permissions", FetchMode.JOIN)
                .add( Restrictions.idEq(userId) )
                .uniqueResult();</pre><p>&#65288;&#12371;&#12428;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;ORM&#12477;&#12522;&#12517;&#12540;&#12471;&#12519;&#12531;&#12364;"fetch plan"&#12392;&#21628;&#12435;&#12391;&#12356;&#12427;&#12418;&#12398;&#12392;&#21516;&#12376;&#12391;&#12377;&#12290;&#65289; </p>
                  <p>N+1&#12475;&#12524;&#12463;&#12488;&#21839;&#38988;&#12434;&#36991;&#12369;&#12427;&#12383;&#12417;&#12398;&#12414;&#12387;&#12383;&#12367;&#36949;&#12358;&#26041;&#27861;&#12399;&#12289;&#31532;2&#12524;&#12505;&#12523;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-proxies"></a>19.1.3. &#21336;&#19968;&#31471;&#38306;&#36899;&#12503;&#12525;&#12461;&#12471;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12399;&#12289;Hibernate&#33258;&#36523;&#12398;&#23455;&#35013;&#12395;&#12424;&#12427;&#27704;&#32154;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390; &#23455;&#29694;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#12375;&#12363;&#12375;&#12289;&#21336;&#19968;&#31471;&#38306;&#36899;&#12395;&#12362;&#12369;&#12427;&#36933;&#24310;&#20966;&#29702;&#12391;&#12399;&#12289;&#36949;&#12358;&#20181;&#32068;&#12415;&#12364; &#24517;&#35201;&#12391;&#12377;&#12290;&#23550;&#35937;&#12398;&#38306;&#36899;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#12503;&#12525;&#12461;&#12471;&#12391;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;Hibernate&#12399;
                     &#65288;&#12377;&#12400;&#12425;&#12375;&#12356;CGLIB&#12521;&#12452;&#12502;&#12521;&#12522;&#12395;&#12424;&#12427;&#65289;&#23455;&#34892;&#26178;&#12398;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#25313;&#24373;&#12434; &#20351;&#12387;&#12390;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#36933;&#24310;&#21021;&#26399;&#21270;&#12503;&#12525;&#12461;&#12471;&#12434;&#23455;&#29694;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;Hibernate3&#12399;&#65288;&#38283;&#22987;&#26178;&#12395;&#65289;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12461;&#12471;&#12434;&#29983;&#25104;&#12375;&#12289; &#12381;&#12428;&#12425;&#12434;&#20351;&#12387;&#12390;&#12289; <code class="literal">many-to-one</code> &#12420; <code class="literal">one-to-one</code> &#38306;&#36899;&#12398; &#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#21487;&#33021;&#12395;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391; <code class="literal">proxy</code> &#23646;&#24615;&#12395;&#12424;&#12387;&#12390;&#12289;&#12463;&#12521;&#12473;&#12398;&#12503;&#12525;&#12461;&#12471;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12392;&#12375;&#12390; &#20351;&#12358;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23459;&#35328;&#12391;&#12365;&#12414;&#12377;&#12290;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12289;Hibernate&#12399;&#12381;&#12398;&#12463;&#12521;&#12473;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; <span class="emphasis"><em>&#12503;&#12525;&#12461;&#12471;&#12463;&#12521;&#12473;&#12399;&#23569;&#12394;&#12367;&#12392;&#12418;&#12497;&#12483;&#12465;&#12540;&#12472;&#21487;&#35222;&#12391;&#12487;&#12501;&#12457;&#12523;&#12488;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400; &#12394;&#12425;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12377;&#12409;&#12390;&#12398;&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#12371;&#12398;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12434;&#25512;&#22888;&#12375;&#12414;&#12377;&#65281;</em></span> 
                  </p>
                  <p>&#12509;&#12522;&#12514;&#12540;&#12501;&#12451;&#12474;&#12512;&#12398;&#12463;&#12521;&#12473;&#12395;&#23550;&#12375;&#12390;&#12371;&#12398;&#26041;&#27861;&#12434;&#36969;&#29992;&#12377;&#12427;&#12392;&#12365;&#12395;&#12356;&#12367;&#12388;&#12363;&#32771;&#24942;&#12377;&#12427;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#20363;&#65306; </p><pre class="programlisting">&lt;class name="Cat" proxy="Cat"&gt;
    ......
    &lt;subclass name="DomesticCat"&gt;
        .....
    &lt;/subclass&gt;
&lt;/class&gt;</pre><p>&#31532;&#19968;&#12395;&#12289; <code class="literal">Cat</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399; <code class="literal">DomesticCat</code> &#12395;&#12461;&#12515;&#12473;&#12488;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290;&#12383;&#12392;&#12360;&#22522;&#12392;&#12394;&#12427;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364; <code class="literal">DomesticCat</code> &#12391;&#12354;&#12387;&#12383;&#12392;&#12375;&#12390;&#12418;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">Cat cat = (Cat) session.load(Cat.class, id);  // instantiate a proxy (does not hit the db)
if ( cat.isDomesticCat() ) {                  // hit the db to initialize the proxy
    DomesticCat dc = (DomesticCat) cat;       // Error!
    ....
}</pre><p>&#31532;&#20108;&#12395;&#12289;&#12503;&#12525;&#12461;&#12471;&#12398; <code class="literal">==</code> &#12399;&#25104;&#31435;&#12375;&#12394;&#12356;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">Cat cat = (Cat) session.load(Cat.class, id);            // instantiate a Cat proxy
DomesticCat dc = 
        (DomesticCat) session.load(DomesticCat.class, id);  // acquire new DomesticCat proxy!
System.out.println(cat==dc);                            // false</pre><p>&#12375;&#12363;&#12375;&#12289;&#12371;&#12428;&#12399;&#35211;&#12363;&#12369;&#12411;&#12393;&#24746;&#12356;&#29366;&#27841;&#12392;&#12356;&#12358;&#12431;&#12369;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12383;&#12392;&#12360;&#30064;&#12394;&#12387;&#12383;&#12503;&#12525;&#12461;&#12471;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12408;&#12398; &#20108;&#12388;&#12398;&#21442;&#29031;&#12364;&#12354;&#12387;&#12383;&#12392;&#12375;&#12390;&#12418;&#12289;&#22522;&#12392;&#12394;&#12427;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12399;&#21516;&#12376;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12391;&#12377;&#12290; </p><pre class="programlisting">cat.setWeight(11.0);  // hit the db to initialize the proxy
System.out.println( dc.getWeight() );  // 11.0</pre><p>&#31532;&#19977;&#12395;&#12289; <code class="literal">final</code> &#12463;&#12521;&#12473;&#12420; <code class="literal">final</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#25345;&#12388;&#12463;&#12521;&#12473;&#12395; CGLIB&#12503;&#12525;&#12461;&#12471;&#12434;&#20351;&#12360;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>&#26368;&#24460;&#12395;&#12289;&#12418;&#12375;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#26178;(&#20363;&#12360;&#12400;&#12289;&#21021;&#26399;&#21270;&#20966;&#29702;&#12420;&#12487;&#12501;&#12457;&#12523;&#12488;&#12467;&#12531;&#12473;&#12488;&#12521;&#12463;&#12479;&#12398;&#20013;&#12391;) &#12395;&#12394;&#12435;&#12425;&#12363;&#12398;&#12522;&#12477;&#12540;&#12473;&#12364;&#24517;&#35201;&#12392;&#12394;&#12427;&#12394;&#12425;&#12289;&#12381;&#12398;&#12522;&#12477;&#12540;&#12473;&#12418;&#12414;&#12383;&#12503;&#12525;&#12461;&#12471;&#12434;&#36890;&#12375;&#12390;&#21462;&#24471;&#12373;&#12428;&#12414;&#12377;&#12290; &#23455;&#38555;&#12395;&#12399;&#12289;&#12503;&#12525;&#12461;&#12471;&#12463;&#12521;&#12473;&#12399;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12469;&#12502;&#12463;&#12521;&#12473;&#12391;&#12377;&#12290;
                     
                  </p>
                  <p>&#12371;&#12428;&#12425;&#12398;&#21839;&#38988;&#12399;Java&#12398;&#21336;&#19968;&#32153;&#25215;&#12514;&#12487;&#12523;&#12398;&#21407;&#29702;&#19978;&#12398;&#21046;&#38480;&#12398;&#12383;&#12417;&#12391;&#12377;&#12290;&#12418;&#12375;&#12371;&#12428;&#12425;&#12398;&#21839;&#38988;&#12434;&#36991;&#12369;&#12383;&#12356;&#12398;&#12394;&#12425;&#12289; &#12499;&#12472;&#12493;&#12473;&#12513;&#12477;&#12483;&#12489;&#12434;&#23459;&#35328;&#12375;&#12383;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#12381;&#12428;&#12382;&#12428;&#27704;&#32154;&#12463;&#12521;&#12473;&#12391;&#23455;&#35013;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#12371;&#12428;&#12425;&#12398;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#25351;&#23450;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;&#20363;&#65306;
                     
                  </p><pre class="programlisting">&lt;class name="CatImpl" proxy="Cat"&gt;
    ......
    &lt;subclass name="DomesticCatImpl" proxy="DomesticCat"&gt;
        .....
    &lt;/subclass&gt;
&lt;/class&gt;</pre><p><code class="literal">CatImpl</code> &#12399; <code class="literal">Cat</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12434;&#23455;&#35013;&#12377;&#12427;&#12398;&#12395;&#23550;&#12375;&#12289; <code class="literal">DomesticCatImpl</code> &#12399; <code class="literal">DomesticCat</code> &#12434;&#23455;&#35013;&#12375;&#12414;&#12377;&#12290; &#12377;&#12427;&#12392;&#12289; <code class="literal">load()</code> &#12420; <code class="literal">iterate()</code> &#12399;&#12289; <code class="literal">Cat</code> &#12420; <code class="literal">DomesticCat</code> &#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12398;&#12503;&#12525;&#12461;&#12471;&#12434; &#36820;&#12375;&#12414;&#12377;&#12290;&#65288; <code class="literal">list()</code> &#12399;&#36890;&#24120;&#12399;&#12503;&#12525;&#12461;&#12471;&#12434;&#36820;&#12373;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#65289; 
                  </p><pre class="programlisting">Cat cat = (Cat) session.load(CatImpl.class, catid);
Iterator iter = session.createQuery("from CatImpl as cat where cat.name='fritz'").iterate();
Cat fritz = (Cat) iter.next();</pre><p>&#38306;&#36899;&#12418;&#36933;&#24310;&#21021;&#26399;&#21270;&#12373;&#12428;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434; <code class="literal">Cat</code> &#22411;&#12391;&#23459;&#35328;&#12375;&#12394;&#12369;&#12428;&#12400; &#12394;&#12425;&#12394;&#12356;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12414;&#12377;&#12290; <code class="literal">CatImpl</code> &#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>&#12503;&#12525;&#12461;&#12471;&#12398;&#21021;&#26399;&#21270;&#12434; <span class="emphasis"><em>&#24517;&#35201;&#12392;&#12375;&#12394;&#12356;</em></span> &#25805;&#20316;&#12418;&#23384;&#22312;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">equals()</code> &#65288;&#27704;&#32154;&#12463;&#12521;&#12473;&#12364; <code class="literal">equals()</code> &#12434; &#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12394;&#12356;&#12392;&#12365;&#65289; 
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">hashCode()</code> &#65288;&#27704;&#32154;&#12463;&#12521;&#12473;&#12364; <code class="literal">hashCode()</code> &#12434; &#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12394;&#12356;&#12392;&#12365;&#65289; 
                           </p>
                        </li>
                        <li>
                           <p>&#35672;&#21029;&#23376;&#12398;getter&#12513;&#12477;&#12483;&#12489; </p>
                        </li>
                     </ul>
                  </div>
                  <p>Hibernate&#12399; <code class="literal">equals()</code> &#12420; <code class="literal">hashCode()</code> &#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12375;&#12383; &#27704;&#32154;&#12463;&#12521;&#12473;&#12434;&#26908;&#20986;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12487;&#12501;&#12457;&#12523;&#12488;&#12398; <code class="literal">lazy="proxy"</code> &#12398;&#20195;&#12431;&#12426;&#12395;&#12289; <code class="literal">lazy="no-proxy"</code> &#12434; &#36984;&#12435;&#12384;&#12371;&#12392;&#12391;&#12289;&#22411;&#22793;&#25563;&#12395;&#38306;&#36899;&#12377;&#12427;&#21839;&#38988;&#12434;&#22238;&#36991;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#12499;&#12523;&#12489;&#26178;&#12398;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#32068;&#12415;&#36796;&#12415;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12289;&#12393;&#12398;&#12424;&#12358;&#12394;&#25805;&#20316;&#12391;&#12354;&#12387;&#12390;&#12418;&#12289; &#12383;&#12384;&#12385;&#12395;&#12503;&#12525;&#12461;&#12471;&#12398;&#21021;&#26399;&#21270;&#12434;&#34892;&#12358;&#12371;&#12392;&#12395;&#12394;&#12427;&#12391;&#12375;&#12423;&#12358;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-initialization"></a>19.1.4. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#12503;&#12525;&#12461;&#12471;&#12398;&#21021;&#26399;&#21270;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">LazyInitializationException</code> &#12399;&#12289; <code class="literal">Session</code> &#12398;&#12473;&#12467;&#12540;&#12503;&#22806;&#12363;&#12425; &#21021;&#26399;&#21270;&#12375;&#12390;&#12356;&#12394;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#12503;&#12525;&#12461;&#12471;&#12395;&#12450;&#12463;&#12475;&#12473;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289;Hibernate&#12395;&#12424;&#12387;&#12390;&#12473;&#12525;&#12540;&#12373;&#12428;&#12414;&#12377;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#12503;&#12525;&#12461;&#12471;&#12408;&#12398;&#21442;&#29031;&#12434;&#25345;&#12388;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#20998;&#38626;&#12373;&#12428;&#12383;&#29366;&#24907;&#12398;&#26178;&#12391;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">Session</code> &#12434;&#12463;&#12525;&#12540;&#12474;&#12377;&#12427;&#21069;&#12395;&#12503;&#12525;&#12461;&#12471;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#21021;&#26399;&#21270;&#12434;&#30906;&#23455;&#12395; &#34892;&#12356;&#12383;&#12356;&#12392;&#12365;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;&#12418;&#12385;&#12429;&#12435;&#12289; <code class="literal">cat.getSex()</code> &#12420; <code class="literal">cat.getKittens().size()</code> &#12394;&#12393;&#12434;&#24120;&#12395;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12391;&#21021;&#26399;&#21270;&#12434;&#24375;&#21046;&#12377;&#12427;&#12371;&#12392;&#12399;&#12391;&#12365;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12371;&#12428;&#12399;&#12467;&#12540;&#12489;&#12434;&#35501;&#12416;&#20154;&#12434;&#28151;&#20081;&#12373;&#12379;&#12289;&#27726;&#29992;&#30340;&#12394;&#12467;&#12540;&#12489;&#12392;&#12356;&#12358;&#28857;&#12363;&#12425;&#12418;&#19981;&#20415;&#12391;&#12377;&#12290; 
                  </p>
                  <p>static&#12513;&#12477;&#12483;&#12489;&#12398; <code class="literal">Hibernate.initialize()</code> &#12420; <code class="literal">Hibernate.isInitialized()</code> &#12399;&#36933;&#24310;&#21021;&#26399;&#21270;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#12503;&#12525;&#12461;&#12471;&#12434;&#25201;&#12358;&#12392;&#12365;&#12395;&#20415;&#21033;&#12394;&#26041;&#27861;&#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; <code class="literal">Hibernate.initialize(cat)</code> &#12399;&#12289; <code class="literal">Session</code> &#12364;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#38480;&#12426;&#12399; <code class="literal">cat</code> &#12503;&#12525;&#12461;&#12471;&#12434;&#24375;&#21046;&#30340;&#12395;&#21021;&#26399;&#21270;&#12375;&#12414;&#12377;&#12290; <code class="literal">Hibernate.initialize( cat.getKittens() )</code> &#12399;kittens&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#21516;&#27096;&#12398; &#21177;&#26524;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#21029;&#12398;&#36984;&#25246;&#32930;&#12392;&#12375;&#12390;&#12289;&#24517;&#35201;&#12394;&#12377;&#12409;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#12503;&#12525;&#12461;&#12471;&#12364;&#12525;&#12540;&#12489;&#12373;&#12428;&#12427;&#12414;&#12391; <code class="literal">Session</code> &#12434;&#12458;&#12540;&#12503;&#12531;&#12395;&#12375;&#12390;&#12362;&#12367;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;&#12356;&#12367;&#12388;&#12363;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398; &#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12391;&#12399;&#12289;&#29305;&#12395;Hibernate&#12395;&#12424;&#12427;&#12487;&#12540;&#12479;&#12450;&#12463;&#12475;&#12473;&#12434;&#34892;&#12358;&#12467;&#12540;&#12489;&#12392;&#12289;&#12381;&#12428;&#12434;&#20351;&#12358; &#12467;&#12540;&#12489;&#12364;&#30064;&#12394;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12524;&#12452;&#12516;&#12540;&#12420;&#12289;&#29289;&#29702;&#30340;&#12395;&#30064;&#12394;&#12427;&#12503;&#12525;&#12475;&#12483;&#12469;&#12398;&#12392;&#12365;&#12395;&#12399;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#21021;&#26399;&#21270;&#12373;&#12428;&#12427;&#12392;&#12365;&#12395;
                     <code class="literal">Session</code> &#12364;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434; &#20445;&#35388;&#12377;&#12427;&#21839;&#38988;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;&#12371;&#12398;&#21839;&#38988;&#12395;&#23550;&#12375;&#12390;&#12399;2&#12388;&#12398;&#22522;&#26412;&#30340;&#12394;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>Web&#12505;&#12540;&#12473;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289; &#12499;&#12517;&#12540;&#12398;&#12524;&#12531;&#12480;&#12522;&#12531;&#12464;&#12364;&#23436;&#20102;&#12375;&#12289;&#12522;&#12463;&#12456;&#12473;&#12488;&#12364;&#32066;&#12431;&#12427;&#19968;&#30058;&#26368;&#24460;&#12391; <code class="literal">Session</code> &#12434;&#12463;&#12525;&#12540;&#12474;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12469;&#12540;&#12502;&#12524;&#12483;&#12488;&#12501;&#12451;&#12523;&#12479;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65288; <span class="emphasis"><em>Open Session in View</em></span> &#12497;&#12479;&#12540;&#12531;&#12391;&#12377;&#65289;&#12290;&#12418;&#12385;&#12429;&#12435;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#22522;&#30436;&#12398;&#20363;&#22806;&#20966;&#29702;&#12398;&#27491;&#30906;&#24615;&#12364;&#38750;&#24120;&#12395;&#37325;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12499;&#12517;&#12540;&#12398;&#12524;&#12531;&#12480;&#12522;&#12531;&#12464;&#20013;&#12395;&#20363;&#22806;&#12364;&#30330;&#29983;&#12375;&#12383;&#12392;&#12365;&#12391;&#12373;&#12360;&#12289;&#12518;&#12540;&#12470;&#12395;&#20966;&#29702;&#12364;&#25147;&#12427;&#21069;&#12395; <code class="literal">Session</code> &#12398;&#12463;&#12525;&#12540;&#12474;&#12392;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#32066;&#20102;&#12434;&#34892;&#12358; &#12371;&#12392;&#12364;&#19981;&#21487;&#27424;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; Hibernate&#12398;Wiki&#12395;&#36617;&#12387;&#12390;&#12356;&#12427;"Open Session in View"&#12497;&#12479;&#12540;&#12531;&#12398;&#20363;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>&#12499;&#12472;&#12493;&#12473;&#23652;&#12364;&#20998;&#38626;&#12375;&#12390;&#12356;&#12427;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;&#12499;&#12472;&#12493;&#12473;&#12525;&#12472;&#12483;&#12463;&#12399; Web&#23652;&#12391;&#24517;&#35201;&#12395;&#12394;&#12427;&#12377;&#12409;&#12390;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20107;&#21069;&#12395;"&#28310;&#20633;"&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#29305;&#23450;&#12398;&#12518;&#12540;&#12473;&#12465;&#12540;&#12473;&#12391;&#24517;&#35201;&#12392;&#12394;&#12427;&#12503;&#12524;&#12476;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;/Web&#23652;&#12395;&#23550;&#12375;&#12289; &#12499;&#12472;&#12493;&#12473;&#23652;&#12364;&#12377;&#12409;&#12390;&#12398;&#12487;&#12540;&#12479;&#12434;&#12525;&#12540;&#12489;&#12375;&#12289;&#12377;&#12409;&#12390;&#12398;&#12487;&#12540;&#12479;&#12434;&#21021;&#26399;&#21270;&#12375;&#12390;&#36820;&#12377;&#12409;&#12365;&#12392;
                              &#12356;&#12358;&#12371;&#12392;&#12434;&#24847;&#21619;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#36890;&#24120;&#12399;&#12289;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12399;Web&#23652;&#12391;&#24517;&#35201;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531; &#12381;&#12428;&#12382;&#12428;&#12395;&#23550;&#12375;&#12390; <code class="literal">Hibernate.initialize()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12363; &#65288;&#12371;&#12398;&#21628;&#12403;&#20986;&#12375;&#12399;&#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#12463;&#12525;&#12540;&#12474;&#12377;&#12427;&#21069;&#12395;&#34892;&#12358;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#65289;&#12289; Hibernate&#12463;&#12456;&#12522;&#12398; <code class="literal">FETCH</code> &#31680;&#12420; <code class="literal">Criteria</code> &#12398; <code class="literal">FetchMode.JOIN</code> &#12434;&#20351;&#12387;&#12390;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20808;&#12395;&#24489;&#20803;&#12375;&#12414;&#12377;&#12290; &#26222;&#36890;&#12399; <span class="emphasis"><em>Session Facade</em></span> &#12497;&#12479;&#12540;&#12531;&#12398;&#20195;&#12431;&#12426;&#12395; <span class="emphasis"><em>Command</em></span> &#12497;&#12479;&#12540;&#12531;&#12434;&#25505;&#29992;&#12377;&#12427;&#12411;&#12358;&#12364;&#12424;&#12426;&#31777;&#21336;&#12391;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>&#21021;&#26399;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65288;&#12418;&#12375;&#12367;&#12399;&#20182;&#12398;&#12503;&#12525;&#12461;&#12471;&#65289;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#21069;&#12395;&#12289; <code class="literal">merge()</code> &#12420; <code class="literal">lock()</code> &#12434;&#20351;&#12387;&#12390;&#26032;&#12375;&#12356; <code class="literal">Session</code> &#12395;&#20197;&#21069;&#12395;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12418;&#20986;&#26469;&#12414;&#12377;&#12290; &#12450;&#12489;&#12507;&#12483;&#12463;&#12394;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#23566;&#20837;&#12375;&#12383;&#12398;&#12391;&#12289;Hibernate&#12399; &#12371;&#12428;&#12434;&#33258;&#21205;&#30340;&#12395;&#34892;&#12431;&#12378;&#12289; <span class="emphasis"><em>&#34892;&#12358;&#12409;&#12365;&#12391;&#12418;&#12354;&#12426;&#12414;&#12379;&#12435;</em></span> &#65281; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#22823;&#12365;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21021;&#26399;&#21270;&#12375;&#12383;&#12367;&#12399;&#12394;&#12356;&#12364;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12388;&#12356;&#12390;&#12398;&#12394;&#12435;&#12425;&#12363;&#12398;&#24773;&#22577;&#65288;&#12469;&#12452;&#12474;&#12398;&#12424;&#12358;&#12394;&#65289; &#12420;&#12487;&#12540;&#12479;&#12398;&#12469;&#12502;&#12475;&#12483;&#12488;&#12434;&#24517;&#35201;&#12392;&#12377;&#12427;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12501;&#12451;&#12523;&#12479;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289;&#21021;&#26399;&#21270;&#12379;&#12378;&#12395;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12469;&#12452;&#12474;&#12434;&#21462;&#24471;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; </p><pre class="programlisting">( (Integer) s.createFilter( collection, "select count(*)" ).list().get(0) ).intValue()</pre><p><code class="literal">createFilter()</code> &#12513;&#12477;&#12483;&#12489;&#12399;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20840;&#20307;&#12434;&#21021;&#26399;&#21270;&#12377;&#12427;&#24517;&#35201;&#12394;&#12375;&#12395;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398; &#12469;&#12502;&#12475;&#12483;&#12488;&#12434;&#24489;&#20803;&#12377;&#12427;&#12383;&#12417;&#12395;&#21177;&#26524;&#30340;&#12395;&#20351;&#12360;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">s.createFilter( lazyCollection, "").setFirstResult(0).setMaxResults(10).list();</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-batch"></a>19.1.5. &#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12398;&#20351;&#29992;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12399;&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12434;&#21177;&#29575;&#30340;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290;&#19968;&#12388;&#12398;&#12503;&#12525;&#12461;&#12471;&#65288;&#12418;&#12375;&#12367;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65289;&#12364;&#12450;&#12463;&#12475;&#12473; &#12373;&#12428;&#12427;&#12392;&#12289;Hibernate&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#21021;&#26399;&#21270;&#12375;&#12390;&#12356;&#12394;&#12356;&#12503;&#12525;&#12461;&#12471;&#12434;&#12525;&#12540;&#12489;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12399; &#36933;&#24310;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#25126;&#30053;&#12395;&#23550;&#12377;&#12427;&#26368;&#36969;&#21270;&#12391;&#12377;&#12290;&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12398;&#35519;&#25972;&#12395;&#12399;&#65298;&#12388;&#12398;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;
                     &#12463;&#12521;&#12473;&#12524;&#12505;&#12523;&#12392;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12524;&#12505;&#12523;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12463;&#12521;&#12473;&#12289;&#35201;&#32032;&#12398;&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12399;&#29702;&#35299;&#12364;&#31777;&#21336;&#12391;&#12377;&#12290;&#23455;&#34892;&#26178;&#12398;&#27425;&#12398;&#22580;&#38754;&#12434;&#24819;&#20687;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; <code class="literal">Session</code> &#12395;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;25&#20491;&#12398; <code class="literal">Cat</code> &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#23384;&#22312;&#12375;&#12289; &#12381;&#12428;&#12382;&#12428;&#12398; <code class="literal">Cat</code> &#12399; <code class="literal">owner</code> &#12391;&#12354;&#12427; <code class="literal">Person</code> &#12408;&#12398;&#38306;&#36899;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; <code class="literal">Person</code> &#12463;&#12521;&#12473;&#12399; <code class="literal">lazy="true"</code> &#12398;&#12503;&#12525;&#12461;&#12471;&#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12418;&#12375;&#20170;&#12377;&#12409;&#12390;&#12398;Cat&#12395;&#23550;&#12375;&#12390;&#32368;&#12426;&#36820;&#12375; <code class="literal">getOwner()</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12392;&#12289;Hibernate&#12399; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;25&#22238;&#12398; <code class="literal">SELECT</code> &#12434;&#23455;&#34892;&#12375;&#12289;owner&#12503;&#12525;&#12461;&#12471;&#12398;&#24489;&#20803;&#12434;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#25391;&#12427;&#33310;&#12356;&#12434; <code class="literal">Person</code> &#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; <code class="literal">batch-size</code> &#12398;&#25351;&#23450;&#12391;&#35519;&#25972;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Person" batch-size="10"&gt;...&lt;/class&gt;</pre><p>Hibernate&#12399;&#12463;&#12456;&#12522;&#12434;&#65299;&#22238;&#12384;&#12369;&#12434;&#23455;&#34892;&#12377;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;&#12497;&#12479;&#12540;&#12531;&#12399;10, 10, 5&#12391;&#12377;&#12290; </p>
                  <p>You may also enable batch fetching of collections. For example, if each <code class="literal">Person</code> has a lazy collection of <code class="literal">Cat</code>s, and 10 persons are currently loaded in the <code class="literal">Session</code>, iterating through all persons will generate 10 <code class="literal">SELECT</code>s, one for every call to <code class="literal">getCats()</code>. If you enable batch fetching for the <code class="literal">cats</code> collection in the mapping of <code class="literal">Person</code>, Hibernate can pre-fetch collections: 
                  </p><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;set name="cats" batch-size="3"&gt;
        ...
    &lt;/set&gt;
&lt;/class&gt;</pre><p><code class="literal">batch-size</code> &#12364;3&#12394;&#12398;&#12391;&#12289;Hibernate&#12399;4&#22238;&#12398; <code class="literal">SELECT</code> &#12391;3&#20491;&#12289;3&#20491;&#12289;3&#20491;&#12289;1&#20491;&#12434;&#12525;&#12540;&#12489;&#12375;&#12414;&#12377;&#12290;&#32368;&#12426;&#36820;&#12377;&#12392;&#12289;&#23646;&#24615;&#12398;&#20516;&#12399;&#29305;&#23450;&#12398; <code class="literal">Session</code> &#12398;&#20013;&#12398;&#21021;&#26399;&#21270;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#26399;&#24453;&#25968;&#12395;&#20381;&#23384;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12399;&#12450;&#12452;&#12486;&#12512;&#12398;&#12493;&#12473;&#12488;&#12375;&#12383;&#12484;&#12522;&#12540;&#12289; &#12377;&#12394;&#12431;&#12385;&#12289;&#20195;&#34920;&#30340;&#12394;&#37096;&#21697;&#34920;&#12398;&#12497;&#12479;&#12540;&#12531;&#12364; &#12354;&#12427;&#22580;&#21512;&#12395;&#29305;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290;&#65288;&#12375;&#12363;&#12375;&#12289;&#35501;&#12415;&#36796;&#12415;&#12364;&#22810;&#12356;&#12484;&#12522;&#12540;&#12391;&#12399; <span class="emphasis"><em>&#12493;&#12473;&#12488;&#12375;&#12383;set</em></span> &#12420; <span class="emphasis"><em>&#20855;&#20307;&#21270;&#12375;&#12383;&#12497;&#12473;</em></span> &#12364;&#12424;&#12426;&#12424;&#12356;&#36984;&#25246;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;&#65289; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-subselect"></a>19.1.6. &#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12501;&#12455;&#12483;&#12481;&#12398;&#20351;&#29992;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#19968;&#12388;&#12398;&#36933;&#24310;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12420;&#21336;&#19968;&#20516;&#12503;&#12525;&#12461;&#12471;&#12364;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12394;&#12369;&#12428;&#12400;&#12356;&#12369;&#12394;&#12356;&#12392;&#12365;&#12289;Hibernate&#12399; &#12381;&#12428;&#12425;&#12377;&#12409;&#12390;&#12434;&#12525;&#12540;&#12489;&#12375;&#12289;&#12469;&#12502;&#12475;&#12524;&#12463;&#12488;&#12398;&#12458;&#12522;&#12472;&#12490;&#12523;&#12463;&#12456;&#12522;&#12364;&#20877;&#24230;&#23455;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399; &#12496;&#12483;&#12481;&#12501;&#12455;&#12483;&#12481;&#12392;&#21516;&#12376;&#26041;&#27861;&#12391;&#21205;&#12365;&#12289;&#23569;&#12375;&#12378;&#12388;&#12398;&#12525;&#12540;&#12489;&#12399;&#34892;&#12356;&#12414;&#12379;&#12435;&#12290; </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-fetching-lazyproperties"></a>19.1.7. &#36933;&#24310;&#12503;&#12525;&#12497;&#12486;&#12451;&#12501;&#12455;&#12483;&#12481;&#12398;&#20351;&#29992;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate3&#12399;&#12503;&#12525;&#12497;&#12486;&#12451;&#12372;&#12392;&#12398;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;&#26368;&#36969;&#21270;&#25163;&#27861;&#12399; <span class="emphasis"><em>&#12464;&#12523;&#12540;&#12503;&#12398;&#12501;&#12455;&#12483;&#12481;</em></span> &#12392;&#12375;&#12390;&#12418;&#30693;&#12425;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#12411;&#12392;&#12435;&#12393; &#35201;&#26395;&#12363;&#12425;&#20986;&#12383;&#27231;&#33021;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#23455;&#38555;&#12395;&#12399;&#21015;&#35501;&#12415;&#36796;&#12415;&#12398;&#26368;&#36969;&#21270;&#12424;&#12426;&#12418;&#12289; &#34892;&#35501;&#12415;&#36796;&#12415;&#12398;&#26368;&#36969;&#21270;&#12364;&#38750;&#24120;&#12395;&#37325;&#35201;&#12391;&#12377;&#12290; &#12375;&#12363;&#12375;&#12289;&#12463;&#12521;&#12473;&#12398;&#12356;&#12367;&#12388;&#12363;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12384;&#12369;&#12434;&#35501;&#12415;&#36796;&#12416;&#12371;&#12392;&#12399;&#12289;&#26082;&#23384;&#12398;&#12486;&#12540;&#12502;&#12523;&#12364;&#20309;&#30334;&#12418;&#12398;&#21015;&#12434;&#25345;&#12385;&#12289;
                     &#12487;&#12540;&#12479;&#12514;&#12487;&#12523;&#12434;&#25913;&#21892;&#12391;&#12365;&#12394;&#12356;&#12394;&#12393;&#12398;&#26997;&#31471;&#12394;&#22580;&#21512;&#12395;&#12399;&#26377;&#29992;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#36933;&#24310;&#12503;&#12525;&#12497;&#12486;&#12451;&#35501;&#12415;&#36796;&#12415;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12395;&#12399;&#12289;&#23550;&#35937;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391; <code class="literal">lazy</code> &#23646;&#24615;&#12434;&#12475;&#12483;&#12488;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Document"&gt;
       &lt;id name="id"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    &lt;property name="name" not-null="true" length="50"/&gt;
    &lt;property name="summary" not-null="true" length="200" lazy="true"/&gt;
    &lt;property name="text" not-null="true" length="2000" lazy="true"/&gt;
&lt;/class&gt;</pre><p>&#36933;&#24310;&#12503;&#12525;&#12497;&#12486;&#12451;&#35501;&#12415;&#36796;&#12415;&#12399;&#12499;&#12523;&#12489;&#26178;&#12398;&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#32068;&#12415;&#36796;&#12415;&#12434;&#24517;&#35201;&#12392;&#12375;&#12414;&#12377;&#65281;&#12418;&#12375; &#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#32068;&#12415;&#36796;&#12415;&#12364;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12394;&#12425;&#12289;Hibernate&#12399;&#40665;&#12387;&#12390;&#36933;&#24310;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#35373;&#23450;&#12434;&#28961;&#35222;&#12375;&#12390;&#12289; &#21363;&#26178;&#12501;&#12455;&#12483;&#12481;&#12395;&#25147;&#12375;&#12414;&#12377;&#12290; </p>
                  <p>&#12496;&#12452;&#12488;&#12467;&#12540;&#12489;&#32068;&#12415;&#36796;&#12415;&#12399;&#20197;&#19979;&#12398;Ant&#12479;&#12473;&#12463;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p><pre class="programlisting">&lt;target name="instrument" depends="compile"&gt;
    &lt;taskdef name="instrument" classname="org.hibernate.tool.instrument.InstrumentTask"&gt;
        &lt;classpath path="${jar.path}"/&gt;
        &lt;classpath path="${classes.dir}"/&gt;
        &lt;classpath refid="lib.class.path"/&gt;
    &lt;/taskdef&gt;

    &lt;instrument verbose="true"&gt;
        &lt;fileset dir="${testclasses.dir}/org/hibernate/auction/model"&gt;
            &lt;include name="*.class"/&gt;
        &lt;/fileset&gt;
    &lt;/instrument&gt;
&lt;/target&gt;</pre><p>A different (better?) way to avoid unnecessary column reads, at least for read-only transactions is to use the projection
                     features of HQL or Criteria queries. This avoids the need for buildtime bytecode processing and is certainly a preferred solution.
                     
                  </p>
                  <p>HQL&#12391; <code class="literal">fetch all properties</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#12289;&#26222;&#36890;&#12393;&#12362;&#12426;&#12398; &#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#21363;&#26178;&#12501;&#12455;&#12483;&#12481;&#12531;&#12464;&#12434;&#24375;&#21046;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="performance-cache"></a>19.2. &#31532;2&#12524;&#12505;&#12523;&#12461;&#12515;&#12483;&#12471;&#12517;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12398; <code class="literal">Session</code> &#12399;&#27704;&#32154;&#12487;&#12540;&#12479;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12524;&#12505;&#12523;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12391;&#12377;&#12290; class-by-class&#12392;collection-by-collection&#12372;&#12392;&#12398;&#12289;&#12463;&#12521;&#12473;&#12479;&#12524;&#12505;&#12523;&#12420;JVM&#12524;&#12505;&#12523; &#65288; <code class="literal">SessionFactory</code> &#12524;&#12505;&#12523;&#65289;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; &#12463;&#12521;&#12473;&#12479;&#21270;&#12373;&#12428;&#12383;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#12388;&#12394;&#12368;&#12371;&#12392;&#12373;&#12360;&#20986;&#26469;&#12414;&#12377;&#12290;&#12375;&#12363;&#12375;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12461;&#12515;&#12483;&#12471;&#12517;&#12399;&#20182;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12427;&#27704;&#32154;&#23652;&#12398;&#22793;&#26356;&#12434; &#32771;&#24942;&#12375;&#12414;&#12379;&#12435;&#65288;&#12461;&#12515;&#12483;&#12471;&#12517;&#12487;&#12540;&#12479;&#12434;&#23450;&#26399;&#30340;&#12395;&#26399;&#38480;&#20999;&#12428;&#12395;&#12377;&#12427;&#35373;&#23450;&#12399;&#20986;&#26469;&#12414;&#12377;&#65289;&#12290;
                  
               </p>
               <p>Hibernate&#12364;&#20351;&#29992;&#12377;&#12427;&#12461;&#12515;&#12483;&#12471;&#12517;&#23455;&#35013;&#12399;&#12289;<code class="literal">hibernate.cache.provider_class</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12395; <code class="literal">org.hibernate.cache.CacheProvider</code> &#12434;&#23455;&#35013;&#12375;&#12383;&#12463;&#12521;&#12473;&#21517;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#22793;&#26356;&#12391;&#12365;&#12414;&#12377;&#12290; Hibernate&#12399;&#22810;&#12367;&#12398;&#12458;&#12540;&#12503;&#12531;&#12477;&#12540;&#12473;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12496;&#12452;&#12480;&#12434;&#12499;&#12523;&#12488;&#12452;&#12531;&#23455;&#35013;&#12391;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#65288;&#24460;&#12395;&#12522;&#12473;&#12488;&#12364;&#12354;&#12426;&#12414;&#12377;&#65289;&#12290; &#21152;&#12360;&#12390;&#12289;&#21069;&#12395;&#35500;&#26126;&#12375;&#12383;&#12424;&#12358;&#12395;&#12289;&#12354;&#12394;&#12383;&#33258;&#36523;&#12364;&#29420;&#33258;&#12398;&#23455;&#35013;&#12434;&#12375;&#12390;&#12289;&#12381;&#12428;&#12434;&#32068;&#12415;&#36796;&#12416;&#12371;&#12392;&#12418;&#20986;&#26469;&#12414;&#12377;&#12290;
                  &#12496;&#12540;&#12472;&#12519;&#12531;3.2&#12424;&#12426;&#21069;&#12391;&#12399;EhCache&#12364;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12496;&#12452;&#12480;&#12391;&#12354;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12496;&#12540;&#12472;&#12519;&#12531;3.2&#12391;&#12399;&#12371;&#12428;&#12399;&#24403;&#12390;&#12399;&#12414;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p>
               <div class="table"><a name="cacheproviders"></a><p class="title"><b>&#34920; 19.1. &#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12496;&#12452;&#12480;</b></p>
                  <div class="table-contents">
                     <table summary="&#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12496;&#12452;&#12480;" border="1">
                        <colgroup>
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                           <col align="left">
                        </colgroup>
                        <thead>
                           <tr>
                              <th align="left">&#12461;&#12515;&#12483;&#12471;&#12517;</th>
                              <th align="left">&#12503;&#12525;&#12496;&#12452;&#12480;&#12463;&#12521;&#12473;</th>
                              <th align="left">&#12479;&#12452;&#12503;</th>
                              <th align="left">&#12463;&#12521;&#12473;&#12479;&#12475;&#12540;&#12501;</th>
                              <th align="left">&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#12469;&#12509;&#12540;&#12488;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td align="left">Hashtable&#65288;&#35069;&#21697;&#29992;&#12392;&#12375;&#12390;&#24847;&#22259;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;&#65289;</td>
                              <td align="left"><code class="literal">org.hibernate.cache.HashtableCacheProvider</code></td>
                              <td align="left">&#12513;&#12514;&#12522;</td>
                              <td align="left">&nbsp;</td>
                              <td align="left">yes</td>
                           </tr>
                           <tr>
                              <td align="left">EHCache</td>
                              <td align="left"><code class="literal">org.hibernate.cache.EhCacheProvider</code></td>
                              <td align="left">&#12513;&#12514;&#12522;&#12289;&#12487;&#12451;&#12473;&#12463;</td>
                              <td align="left">&nbsp;</td>
                              <td align="left">yes</td>
                           </tr>
                           <tr>
                              <td align="left">OSCache</td>
                              <td align="left"><code class="literal">org.hibernate.cache.OSCacheProvider</code></td>
                              <td align="left">&#12513;&#12514;&#12522;&#12289;&#12487;&#12451;&#12473;&#12463;</td>
                              <td align="left">&nbsp;</td>
                              <td align="left">yes</td>
                           </tr>
                           <tr>
                              <td align="left">SwarmCache</td>
                              <td align="left"><code class="literal">org.hibernate.cache.SwarmCacheProvider</code></td>
                              <td align="left">&#12463;&#12521;&#12473;&#12479;&#65288;ip&#12510;&#12523;&#12481;&#12461;&#12515;&#12473;&#12488;&#65289;</td>
                              <td align="left">yes&#65288;&#12463;&#12521;&#12473;&#12479;&#28961;&#21177;&#21270;&#65289;</td>
                              <td align="left">&nbsp;</td>
                           </tr>
                           <tr>
                              <td align="left">JBoss Cache 1.x</td>
                              <td align="left"><code class="literal">org.hibernate.cache.TreeCacheProvider</code></td>
                              <td align="left">&#12463;&#12521;&#12473;&#12479;&#65288;ip&#12510;&#12523;&#12481;&#12461;&#12515;&#12473;&#12488;&#65289;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12490;&#12523;</td>
                              <td align="left">yes&#65288;&#35079;&#35069;&#65289;</td>
                              <td align="left">yes&#65288;&#26178;&#21051;&#21516;&#26399;&#12364;&#24517;&#35201;&#65289;</td>
                           </tr>
                           <tr>
                              <td align="left">JBoss Cache 2</td>
                              <td align="left"><code class="literal">org.hibernate.cache.jbc2.JBossCacheRegionFactory</code></td>
                              <td align="left">&#12463;&#12521;&#12473;&#12479;&#65288;ip&#12510;&#12523;&#12481;&#12461;&#12515;&#12473;&#12488;&#65289;&#12289;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12490;&#12523;</td>
                              <td align="left">yes (replication or invalidation)</td>
                              <td align="left">yes&#65288;&#26178;&#21051;&#21516;&#26399;&#12364;&#24517;&#35201;&#65289;</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-cache-mapping"></a>19.2.1. &#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12463;&#12521;&#12473;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398; <code class="literal">&lt;cache&gt;</code> &#35201;&#32032;&#12399;&#20197;&#19979;&#12398;&#24418;&#24335;&#12391;&#12377;&#12290; 
                  </p>
                  <div class="programlistingco"><pre class="programlisting">&lt;cache 
    usage="transactional|read-write|nonstrict-read-write|read-only"  <span class="co">(1)</span>
    region="RegionName"                                              <span class="co">(2)</span>
    include="all|non-lazy"                                           <span class="co">(3)</span>
/&gt;</pre><div class="calloutlist">
                        <table border="0" summary="Callout list">
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(1)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">usage</code> (required) specifies the caching strategy: <code class="literal">transactional</code>, <code class="literal">read-write</code>, <code class="literal">nonstrict-read-write</code> or <code class="literal">read-only</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(2)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">region</code> (optional, defaults to the class or collection role name) specifies the name of the second level cache region 
                                 </p>
                              </td>
                           </tr>
                           <tr>
                              <td width="5%" valign="top" align="left">
                                 <fo:inline xmlns:fo="http://www.w3.org/1999/XSL/Format" color="black" padding-top="0.1em" padding-bottom="0.1em" padding-start="0.2em" padding-end="0.2em" baseline-shift="0.1em" font-weight="bold" font-size="75%">(3)</fo:inline>
                              </td>
                              <td valign="top" align="left">
                                 <p><code class="literal">include</code> (optional, defaults to <code class="literal">all</code>) <code class="literal">non-lazy</code> specifies that properties of the entity mapped with <code class="literal">lazy="true"</code> may not be cached when attribute-level lazy fetching is enabled 
                                 </p>
                              </td>
                           </tr>
                        </table>
                     </div>
                  </div>
                  <p>Alternatively (preferably?), you may specify <code class="literal">&lt;class-cache&gt;</code> and <code class="literal">&lt;collection-cache&gt;</code> elements in <code class="literal">hibernate.cfg.xml</code>. 
                  </p>
                  <p><code class="literal">usage</code> &#23646;&#24615;&#12399; <span class="emphasis"><em>&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#20006;&#21015;&#24615;&#25126;&#30053;</em></span> &#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-cache-readonly"></a>19.2.2. read only&#25126;&#30053;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12418;&#12375;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#35501;&#12415;&#36796;&#12415;&#12398;&#12415;&#24517;&#35201;&#12391;&#12289;&#27704;&#32154;&#12463;&#12521;&#12473;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#22793;&#26356;&#12375;&#12394;&#12356;&#12394;&#12425;&#12289; <code class="literal">read-only</code> &#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#12418;&#12387;&#12392;&#12418;&#21336;&#32020;&#12391; &#12418;&#12387;&#12392;&#12418;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#33391;&#12356;&#25126;&#30053;&#12391;&#12377;&#12290;&#12463;&#12521;&#12473;&#12479;&#12391;&#12398;&#20351;&#29992;&#12418;&#23436;&#20840;&#12395;&#23433;&#20840;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="eg.Immutable" mutable="false"&gt;
    &lt;cache usage="read-only"/&gt;
    ....
&lt;/class&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-cache-readwrite"></a>19.2.3. read/write&#25126;&#30053;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12487;&#12540;&#12479;&#12434;&#26356;&#26032;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12394;&#12425;&#12289; <code class="literal">read-write</code> &#12461;&#12515;&#12483;&#12471;&#12517;&#12364;&#36969;&#24403;&#12363;&#12418; &#12375;&#12428;&#12414;&#12379;&#12435;&#12290;&#12371;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#25126;&#30053;&#12399;&#12289;&#12471;&#12522;&#12450;&#12521;&#12452;&#12470;&#12502;&#12523;&#12394;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#20998;&#38626;&#12524;&#12505;&#12523;&#12364;&#35201;&#27714;&#12373;&#12428;&#12427;&#12394;&#12425;&#12289; &#27770;&#12375;&#12390;&#20351;&#12358;&#12409;&#12365;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12418;&#12375;&#12461;&#12515;&#12483;&#12471;&#12517;&#12364;JTA&#29872;&#22659;&#12391;&#20351;&#12431;&#12428;&#12427;&#12394;&#12425;&#12289;JTA <code class="literal">TransactionManager</code> &#12434;&#21462;&#24471;&#12377;&#12427;&#12383;&#12417;&#12398;&#26041;&#27861;&#12434;&#31034;&#12377; <code class="literal">hibernate.transaction.manager_lookup_class</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;&#20182;&#12398;&#29872;&#22659;&#12391;&#12399;&#12289; <code class="literal">Session.close()</code> &#12420; <code class="literal">Session.disconnect()</code> &#12364;&#21628;&#12400;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289;&#30906;&#23455;&#12395;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#23436;&#20102; &#12375;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12418;&#12375;&#12463;&#12521;&#12473;&#12479;&#12391;&#12371;&#12398;&#25126;&#30053;&#12434;&#20351;&#12356;&#12383;&#12356;&#12394;&#12425;&#12289;&#22522;&#12392;&#12394;&#12427;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#23455;&#35013;&#12364;&#12525;&#12483;&#12463;&#12434;&#12469;&#12509;&#12540;&#12488; &#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;&#20445;&#35388;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#32068;&#12415;&#36796;&#12415;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12496;&#12452;&#12480;&#12399; <span class="emphasis"><em>&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;</em></span> &#12290; 
                  </p><pre class="programlisting">&lt;class name="eg.Cat" .... &gt;
    &lt;cache usage="read-write"/&gt;
    ....
    &lt;set name="kittens" ... &gt;
        &lt;cache usage="read-write"/&gt;
        ....
    &lt;/set&gt;
&lt;/class&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-cache-nonstrict"></a>19.2.4. &#21427;&#23494;&#12391;&#12399;&#12394;&#12356;read/write&#25126;&#30053;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12383;&#12414;&#12395;&#12375;&#12363;&#12487;&#12540;&#12479;&#12434;&#26356;&#26032;&#12377;&#12427;&#24517;&#35201;&#12399;&#12394;&#12367;&#65288;&#12377;&#12394;&#12431;&#12385;&#20108;&#12388;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364; &#21516;&#26178;&#12395;&#21516;&#12376;&#12450;&#12452;&#12486;&#12512;&#12434;&#26356;&#26032;&#12375;&#12424;&#12358;&#12392;&#12377;&#12427;&#12371;&#12392;&#12399;&#12411;&#12392;&#12435;&#12393;&#36215;&#12371;&#12425;&#12394;&#12356;&#65289;&#12289;&#21427;&#23494;&#12394;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#20998;&#38626;&#12364; &#35201;&#27714;&#12373;&#12428;&#12394;&#12356;&#12394;&#12425;&#12289; <code class="literal">nonstrict-read-write</code> &#12461;&#12515;&#12483;&#12471;&#12517;&#12364;&#36969;&#24403;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#12418;&#12375;&#12461;&#12515;&#12483;&#12471;&#12517;&#12364;JTA&#29872;&#22659;&#12391;&#20351;&#12431;&#12428;&#12427;&#12394;&#12425;&#12289; <code class="literal">hibernate.transaction.manager_lookup_class</code> &#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;&#20182;&#12398;&#29872;&#22659;&#12391;&#12399;&#12289; <code class="literal">Session.close()</code> &#12420; <code class="literal">Session.disconnect()</code> &#12364;&#21628;&#12400;&#12428;&#12383;&#12392;&#12365;&#12395;&#12289;&#30906;&#23455;&#12395;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12364;&#23436;&#20102; &#12375;&#12390;&#12356;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-cache-transactional"></a>19.2.5. transactional&#25126;&#30053;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">transactional</code> &#12461;&#12515;&#12483;&#12471;&#12517;&#25126;&#30053;&#12399;JBoss TreeCache&#12398;&#12424;&#12358;&#12394;&#23436;&#20840;&#12394;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12490;&#12523; &#12461;&#12515;&#12483;&#12471;&#12517;&#12503;&#12525;&#12496;&#12452;&#12480;&#12398;&#12469;&#12509;&#12540;&#12488;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12424;&#12358;&#12394;&#12461;&#12515;&#12483;&#12471;&#12517;&#12399;JTA&#29872;&#22659;&#12391;&#12398;&#12415;&#20351;&#29992;&#21487;&#33021;&#12391;&#12289; <code class="literal">hibernate.transaction.manager_lookup_class</code> &#12434;&#25351;&#23450;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-cache-compat-matrix"></a>19.2.6. Cache-provider/concurrency-strategy compatibility
                           </h3>
                        </div>
                     </div>
                  </div>
                  <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">&#37325;&#35201;&#38917;&#30446;</h3>
                     <p>None of the cache providers support all of the cache concurrency strategies. </p>
                  </div>
                  <p>The following table shows which providers are compatible with which concurrency strategies. </p>
                  <div class="table"><a name="d0e14577"></a><p class="title"><b>&#34920; 19.2. &#21516;&#26178;&#20006;&#34892;&#24615;&#12461;&#12515;&#12483;&#12471;&#12517;&#25126;&#30053;&#12398;&#12469;&#12509;&#12540;&#12488;</b></p>
                     <div class="table-contents">
                        <table summary="&#21516;&#26178;&#20006;&#34892;&#24615;&#12461;&#12515;&#12483;&#12471;&#12517;&#25126;&#30053;&#12398;&#12469;&#12509;&#12540;&#12488;" border="1">
                           <colgroup>
                              <col align="left">
                              <col align="left">
                              <col align="left">
                              <col align="left">
                              <col align="left">
                           </colgroup>
                           <thead>
                              <tr>
                                 <th align="left">&#12461;&#12515;&#12483;&#12471;&#12517;</th>
                                 <th align="left">read-only</th>
                                 <th align="left">&#21427;&#23494;&#12391;&#12399;&#12394;&#12356;read-write</th>
                                 <th align="left">read-write</th>
                                 <th align="left">transactional</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td align="left">Hashtable&#65288;&#35069;&#21697;&#29992;&#12392;&#12375;&#12390;&#24847;&#22259;&#12375;&#12390;&#12356;&#12414;&#12379;&#12435;&#65289;</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">&nbsp;</td>
                              </tr>
                              <tr>
                                 <td align="left">EHCache</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">&nbsp;</td>
                              </tr>
                              <tr>
                                 <td align="left">OSCache</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">&nbsp;</td>
                              </tr>
                              <tr>
                                 <td align="left">SwarmCache</td>
                                 <td align="left">yes</td>
                                 <td align="left">yes</td>
                                 <td align="left">&nbsp;</td>
                                 <td align="left">&nbsp;</td>
                              </tr>
                              <tr>
                                 <td align="left">JBoss Cache 1.x</td>
                                 <td align="left">yes</td>
                                 <td align="left">&nbsp;</td>
                                 <td align="left">&nbsp;</td>
                                 <td align="left">yes</td>
                              </tr>
                              <tr>
                                 <td align="left">JBoss Cache 2</td>
                                 <td align="left">yes</td>
                                 <td align="left">&nbsp;</td>
                                 <td align="left">&nbsp;</td>
                                 <td align="left">yes</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"></div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="performance-sessioncache"></a>19.3. &#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#31649;&#29702;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434; <code class="literal">save()</code> &#12289; <code class="literal">update()</code> &#12289; <code class="literal">saveOrUpdate()</code> &#12395;&#28193;&#12377;&#12392;&#12365;&#12289;&#12381;&#12375;&#12390; <code class="literal">load()</code> &#12289; <code class="literal">get()</code> &#12289; <code class="literal">list()</code> &#12289; <code class="literal">iterate()</code> &#12289; <code class="literal">scroll()</code> &#12434;&#20351;&#12387;&#12390;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#24489;&#20803;&#12377;&#12427;&#12392;&#12365;&#12395;&#12399;&#24120;&#12395;&#12289; &#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399; <code class="literal">Session</code> &#12398;&#20869;&#37096;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#36861;&#21152;&#12373;&#12428;&#12414;&#12377;&#12290; 
               </p>
               <p>&#27425;&#12395; <code class="literal">flush()</code> &#12364;&#21628;&#12400;&#12428;&#12427;&#12392;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#21516;&#26399;&#21270;&#12373;&#12428;&#12414;&#12377;&#12290; &#12418;&#12375;&#12371;&#12398;&#21516;&#26399;&#12364;&#36215;&#12371;&#12427;&#12371;&#12392;&#12434;&#26395;&#12414;&#12394;&#12356;&#12392;&#12365;&#12420;&#12289;&#33192;&#22823;&#12394;&#25968;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20966;&#29702;&#12375;&#12390;&#12356;&#12390;&#12513;&#12514;&#12522;&#12434;&#21177;&#29575;&#30340;&#12395; &#25201;&#12358;&#24517;&#35201;&#12364;&#12354;&#12427;&#12392;&#12365;&#12399;&#12289; <code class="literal">evict()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20351;&#12387;&#12390;&#19968;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12363;&#12425; &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#21066;&#38500;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">ScrollableResult cats = sess.createQuery("from Cat as cat").scroll(); //a huge result set
while ( cats.next() ) {
    Cat cat = (Cat) cats.get(0);
    doSomethingWithACat(cat);
    sess.evict(cat);
}</pre><p><code class="literal">Session</code> &#12399;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12475;&#12483;&#12471;&#12519;&#12531;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#21547;&#12414;&#12428;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#21028;&#26029;&#12377;&#12427;&#12383;&#12417;&#12398; <code class="literal">contains()</code> &#12513;&#12477;&#12483;&#12489;&#12418;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12377;&#12409;&#12390;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12475;&#12483;&#12471;&#12519;&#12531;&#12461;&#12515;&#12483;&#12471;&#12517;&#12363;&#12425;&#23436;&#20840;&#12395;&#21462;&#12426;&#38500;&#12367;&#12395;&#12399;&#12289;<code class="literal">Session.clear()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#12383;&#12417;&#12395;&#12289; <code class="literal">SessionFactory</code> &#12395;&#12399; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12289;&#12463;&#12521;&#12473;&#20840;&#20307;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20840;&#20307;&#12434;&#12461;&#12515;&#12483;&#12471;&#12517;&#12363;&#12425; &#21066;&#38500;&#12377;&#12427;&#12383;&#12417;&#12398;&#12513;&#12477;&#12483;&#12489;&#12364;&#12381;&#12428;&#12382;&#12428;&#23450;&#32681;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">sessionFactory.evict(Cat.class, catId); //evict a particular Cat
sessionFactory.evict(Cat.class);  //evict all Cats
sessionFactory.evictCollection("Cat.kittens", catId); //evict a particular collection of kittens
sessionFactory.evictCollection("Cat.kittens"); //evict all kitten collections</pre><p><code class="literal">CacheMode</code> &#12399;&#29305;&#23450;&#12398;&#12475;&#12483;&#12471;&#12519;&#12531;&#12364;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12392;&#12393;&#12398;&#12424;&#12358;&#12395;&#30456;&#20114;&#20316;&#29992;&#12377;&#12427;&#12363;&#12434; &#25351;&#23450;&#12375;&#12414;&#12377;&#12290; 
               </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><code class="literal">CacheMode.NORMAL</code> - &#12450;&#12452;&#12486;&#12512;&#12398;&#35501;&#12415;&#36796;&#12415;&#12392;&#26360;&#12365;&#36796;&#12415;&#12391;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12356;&#12414;&#12377; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">CacheMode.GET</code> - &#35501;&#12415;&#36796;&#12415;&#12399;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12363;&#12425;&#34892;&#12356;&#12414;&#12377;&#12364;&#12289;&#12487;&#12540;&#12479;&#12434; &#26356;&#26032;&#12375;&#12383;&#22580;&#21512;&#12434;&#38500;&#12356;&#12390;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#26360;&#12365;&#36796;&#12415;&#12434;&#12375;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">CacheMode.PUT</code> - &#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#12450;&#12452;&#12486;&#12512;&#12434;&#26360;&#12365;&#36796;&#12415;&#12414;&#12377;&#12364;&#12289;&#35501;&#12415;&#36796;&#12415;&#12395;&#12399; &#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12356;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                     <li>
                        <p><code class="literal">CacheMode.REFRESH</code> - &#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#12450;&#12452;&#12486;&#12512;&#12434;&#26360;&#12365;&#36796;&#12415;&#12414;&#12377;&#12364;&#12289;&#35501;&#12415;&#36796;&#12415;&#12395;&#12399; &#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12431;&#12378;&#12289; <code class="literal">hibernate.cache.use_minimal_puts</code> &#12398;&#24433;&#38911;&#12434;&#21463;&#12369;&#12378;&#12395;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#35501;&#12415;&#36796;&#12416;&#12377;&#12409;&#12390;&#12398;&#12450;&#12452;&#12486;&#12512;&#12398;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#24375;&#21046;&#30340;&#12395;&#12522;&#12501;&#12524;&#12483;&#12471;&#12517;&#12375;&#12414;&#12377;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#20869;&#23481;&#12420;&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12434;&#35211;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">Statistics</code> API&#12434; &#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p><pre class="programlisting">Map cacheEntries = sessionFactory.getStatistics()
        .getSecondLevelCacheStatistics(regionName)
        .getEntries();</pre><p>&#32113;&#35336;&#24773;&#22577;&#12434;&#26377;&#21177;&#12395;&#12375;&#12390;&#12289;&#12373;&#12425;&#12395;&#12458;&#12503;&#12471;&#12519;&#12531;&#12392;&#12375;&#12390;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#12456;&#12531;&#12488;&#12522;&#12434; &#20154;&#12364;&#12424;&#12426;&#29702;&#35299;&#21487;&#33021;&#12394;&#24418;&#24335;&#12391;&#20445;&#25345;&#12377;&#12427;&#12371;&#12392;&#12434;Hibernate&#12395;&#24375;&#21046;&#12375;&#12414;&#12377;&#12290; </p><pre class="programlisting">hibernate.generate_statistics true
hibernate.cache.use_structured_entries true</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="performance-querycache"></a>19.4. &#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12463;&#12456;&#12522;&#12398;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12418;&#12461;&#12515;&#12483;&#12471;&#12517;&#20986;&#26469;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#21516;&#12376;&#12497;&#12521;&#12513;&#12540;&#12479;&#12391;&#20309;&#24230;&#12418;&#23455;&#34892;&#12373;&#12428;&#12427; &#12463;&#12456;&#12522;&#12395;&#23550;&#12375;&#12390;&#12398;&#12415;&#26377;&#29992;&#12391;&#12377;&#12290;&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#20351;&#12358;&#12395;&#12399;&#12289;&#12414;&#12378;&#35373;&#23450;&#12391;&#26377;&#21177;&#12395;&#12375;&#12394;&#12367;&#12390;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; </p><pre class="programlisting">hibernate.cache.use_query_cache true</pre><p>&#12371;&#12398;&#35373;&#23450;&#12399;&#26032;&#12383;&#12395;&#20108;&#12388;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12398;&#20316;&#25104;&#12434;&#34892;&#12356;&#12414;&#12377;&#12290;&#19968;&#12388;&#12399;&#12463;&#12456;&#12522;&#12398;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12398; &#12461;&#12515;&#12483;&#12471;&#12517;&#65288; <code class="literal">org.hibernate.cache.StandardQueryCache</code> &#65289;&#12434;&#20445;&#25345;&#12375;&#12289; &#12418;&#12358;1&#12388;&#12399;&#12463;&#12456;&#12522;&#21487;&#33021;&#12394;&#12486;&#12540;&#12502;&#12523;&#12408;&#12398;&#26368;&#26032;&#12398;&#26356;&#26032;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503; &#65288; <code class="literal">org.hibernate.cache.UpdateTimestampsCache</code> &#65289;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; &#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12399;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12398;&#23455;&#38555;&#12398;&#35201;&#32032;&#12398;&#29366;&#24907;&#12399;&#12461;&#12515;&#12483;&#12471;&#12517;&#12375;&#12394;&#12356;&#12371;&#12392;&#12395; &#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12461;&#12515;&#12483;&#12471;&#12517;&#12377;&#12427;&#12398;&#12399;&#35672;&#21029;&#23376;&#12398;&#20516;&#12392;&#12289;&#20516;&#22411;&#12398;&#32080;&#26524;&#12398;&#12415;&#12391;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12289;&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12399;&#24120;&#12395;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12392;&#19968;&#32210;&#12395;&#20351;&#12358;&#12409;&#12365;&#12391;&#12377;&#12290; 
               </p>
               <p>&#12411;&#12392;&#12435;&#12393;&#12398;&#12463;&#12456;&#12522;&#12399;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#24681;&#24693;&#12434;&#21463;&#12369;&#12394;&#12356;&#12398;&#12391;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12463;&#12456;&#12522;&#12399;&#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290; &#12461;&#12515;&#12483;&#12471;&#12517;&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12395;&#12399;&#12289; <code class="literal">Query.setCacheable(true)</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12358;&#12377;&#12428;&#12400;&#12463;&#12456;&#12522;&#12364;&#26082;&#23384;&#12398;&#12461;&#12515;&#12483;&#12471;&#12517;&#32080;&#26524;&#12434;&#25506;&#12375;&#12289;&#12463;&#12456;&#12522;&#23455;&#34892;&#26178;&#12395;&#12381;&#12398;&#32080;&#26524;&#12434;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#36861;&#21152;&#12377;&#12427; &#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <p>&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#12398;&#30772;&#26820;&#12509;&#12522;&#12471;&#12540;&#12434;&#32048;&#12363;&#12367;&#21046;&#24481;&#12375;&#12383;&#12356;&#12392;&#12365;&#12399;&#12289; <code class="literal">Query.setCacheRegion()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12390;&#29305;&#23450;&#12398;&#12463;&#12456;&#12522;&#12395;&#23550;&#12377;&#12427;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">List blogs = sess.createQuery("from Blog blog where blog.blogger = :blogger")
    .setEntity("blogger", blogger)
    .setMaxResults(15)
    .setCacheable(true)
    .setCacheRegion("frontpages")
    .list();</pre><p>&#12463;&#12456;&#12522;&#12364;&#33258;&#36523;&#12398;&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12398;&#12522;&#12501;&#12524;&#12483;&#12471;&#12517;&#12434;&#24375;&#21046;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12394;&#12425;&#12289; <code class="literal">Query.setCacheMode(CacheMode.REFRESH)</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12409;&#12365;&#12391;&#12377;&#12290;&#12371;&#12428;&#12399; &#20803;&#12392;&#12394;&#12427;&#12487;&#12540;&#12479;&#12364;&#21029;&#12398;&#12503;&#12525;&#12475;&#12473;&#12395;&#12424;&#12387;&#12390;&#26356;&#26032;&#12373;&#12428;&#12383;&#12426;&#65288;&#12377;&#12394;&#12431;&#12385;Hibernate&#12434;&#36890;&#12376;&#12390;&#26356;&#26032;&#12373;&#12428;&#12394;&#12356;&#65289;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#29305;&#23450;&#12398;&#12463;&#12456;&#12522;&#12522;&#12470;&#12523;&#12488;&#12475;&#12483;&#12488;&#12434;&#36984;&#25246;&#12375;&#12390;&#12522;&#12501;&#12524;&#12483;&#12471;&#12517;&#12373;&#12379;&#12427;&#22580;&#21512;&#12395;&#29305;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290; &#12373;&#12425;&#12395;&#26377;&#29992;&#12394;&#12418;&#12358;&#19968;&#12388;&#12398;&#26041;&#27861;&#12399;&#12289;
                  <code class="literal">SessionFactory.evictQueries()</code> &#12395;&#12424;&#12387;&#12390;&#12463;&#12456;&#12522;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12434;&#28040;&#21435;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="performance-collections"></a>19.5. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#29702;&#35299;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35441;&#38988;&#12395;&#12399;&#12377;&#12391;&#12395;&#22810;&#12367;&#12398;&#26178;&#38291;&#12434;&#20351;&#12356;&#12414;&#12375;&#12383;&#12290;&#12371;&#12398;&#31680;&#12391;&#12399; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#23455;&#34892;&#26178;&#12395;&#12393;&#12398;&#12424;&#12358;&#12395;&#25391;&#33310;&#12358;&#12363;&#12395;&#12388;&#12356;&#12390;&#12398;&#35441;&#38988;&#12434;2&#12289;3&#21462;&#12426;&#19978;&#12370;&#12414;&#12377;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-collections-taxonomy"></a>19.5.1. &#20998;&#39006;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Hibernate&#12399;3&#12388;&#12398;&#22522;&#26412;&#30340;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#31278;&#39006;&#12434;&#23450;&#32681;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;</p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;</p>
                        </li>
                        <li>
                           <p>&#19968;&#23550;&#22810;&#38306;&#36899;</p>
                        </li>
                        <li>
                           <p>&#22810;&#23550;&#22810;&#38306;&#36899;</p>
                        </li>
                     </ul>
                  </div>
                  <p>&#12371;&#12398;&#20998;&#39006;&#12399;&#12373;&#12414;&#12374;&#12414;&#12394;&#12486;&#12540;&#12502;&#12523;&#12420;&#22806;&#37096;&#12461;&#12540;&#38306;&#36899;&#12434;&#21306;&#21029;&#12375;&#12414;&#12377;&#12364;&#12289;&#31169;&#12383;&#12385;&#12364;&#30693;&#12427;&#24517;&#35201;&#12398;&#12354;&#12427; &#38306;&#36899;&#12514;&#12487;&#12523;&#12395;&#12388;&#12356;&#12390;&#12411;&#12392;&#12435;&#12393;&#12394;&#12395;&#12418;&#25945;&#12360;&#12390;&#12367;&#12428;&#12414;&#12379;&#12435;&#12290;&#38306;&#36899;&#27083;&#36896;&#12420;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#29305;&#24500;&#12434; &#23436;&#20840;&#12395;&#29702;&#35299;&#12377;&#12427;&#12395;&#12399;&#12289;Hibernate&#12364;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#34892;&#12434;&#26356;&#26032;&#12289;&#21066;&#38500;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12358;&#20027;&#12461;&#12540;&#12398;
                     &#27083;&#36896;&#12418;&#12414;&#12383;&#32771;&#12360;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;&#12371;&#12428;&#12399;&#20197;&#19979;&#12398;&#20998;&#39006;&#12434;&#25552;&#31034;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;</p>
                        </li>
                        <li>
                           <p>set</p>
                        </li>
                        <li>
                           <p>bag</p>
                        </li>
                     </ul>
                  </div>
                  <p>&#12377;&#12409;&#12390;&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65288;map&#12289;list&#12289;&#37197;&#21015;&#65289;&#12399; <code class="literal">&lt;key&gt;</code> &#12392; <code class="literal">&lt;index&gt;</code> &#12459;&#12521;&#12512;&#12363;&#12425;&#12394;&#12427;&#20027;&#12461;&#12540;&#12434;&#25345;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;&#22580;&#21512;&#12399; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#26356;&#26032;&#12399;&#38750;&#24120;&#12395;&#21177;&#29575;&#30340;&#12391;&#12377;&#12290;&#20027;&#12461;&#12540;&#12399;&#26377;&#29992;&#12394;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12395;&#12394;&#12426;&#12289;Hibernate&#12364; &#29305;&#23450;&#12398;&#34892;&#12434;&#26356;&#26032;&#12414;&#12383;&#12399;&#21066;&#38500;&#12377;&#12427;&#12392;&#12365;&#12395;&#12289;&#12381;&#12398;&#34892;&#12434;&#21177;&#29575;&#30340;&#12395;&#35211;&#12388;&#12369;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p>
                  <p>Sets have a primary key consisting of <code class="literal">&lt;key&gt;</code> and element columns. This may be less efficient for some types of collection element, particularly composite elements or
                     large text or binary fields; the database may not be able to index a complex primary key as efficiently. On the other hand,
                     for one to many or many to many associations, particularly in the case of synthetic identifiers, it is likely to be just as
                     efficient. (Side-note: if you want <code class="literal">SchemaExport</code> to actually create the primary key of a <code class="literal">&lt;set&gt;</code> for you, you must declare all columns as <code class="literal">not-null="true"</code>.) 
                  </p>
                  <p><code class="literal">&lt;idbag&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#20195;&#29702;&#12461;&#12540;&#12434;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290;&#12381;&#12398;&#12383;&#12417; &#26356;&#26032;&#12399;&#24120;&#12395;&#38750;&#24120;&#12395;&#21177;&#29575;&#30340;&#12391;&#12377;&#12290;&#20107;&#23455;&#19978;&#12289;&#12371;&#12428;&#12399;&#26368;&#21892;&#12398;&#12465;&#12540;&#12473;&#12391;&#12377;&#12290; 
                  </p>
                  <p>bag&#12399;&#26368;&#24746;&#12398;&#12465;&#12540;&#12473;&#12391;&#12377;&#12290;bag&#12399;&#35201;&#32032;&#12398;&#20516;&#12398;&#37325;&#35079;&#12364;&#21487;&#33021;&#12391;&#12289;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12459;&#12521;&#12512;&#12434;&#25345;&#12383;&#12394;&#12356;&#12383;&#12417;&#12289; &#20027;&#12461;&#12540;&#12399;&#23450;&#32681;&#12373;&#12428;&#12394;&#12356;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;Hibernate&#12395;&#12399;&#37325;&#35079;&#12375;&#12383;&#34892;&#12434;&#21306;&#21029;&#12377;&#12427;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399;&#12371;&#12398;&#21839;&#38988;&#12398;&#35299;&#27770;&#12398;&#12383;&#12417;&#12395;&#12289;&#22793;&#26356;&#12364;&#12354;&#12387;&#12383;&#12392;&#12365;&#12395;&#12399;&#24120;&#12395;&#23436;&#20840;&#12394;&#21066;&#38500;
                     &#65288;&#19968;&#12388;&#12398; <code class="literal">DELETE</code> &#12395;&#12424;&#12427;&#65289;&#12434;&#34892;&#12356;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#20877;&#20316;&#25104;&#12434;&#34892;&#12356;&#12414;&#12377;&#12290; &#12371;&#12428;&#12399;&#38750;&#24120;&#12395;&#38750;&#21177;&#29575;&#30340;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>1&#23550;&#22810;&#38306;&#36899;&#12391;&#12399;&#12289;&#12300;&#20027;&#12461;&#12540;&#12301;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12486;&#12540;&#12502;&#12523;&#12398;&#29289;&#29702;&#30340;&#12394; &#20027;&#12461;&#12540;&#12391;&#12399;&#12394;&#12356;&#12363;&#12418;&#12375;&#12428;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12375;&#12363;&#12375;&#12371;&#12398;&#22580;&#21512;&#12391;&#12373;&#12360;&#12289;&#19978;&#35352;&#12398;&#20998;&#39006;&#12399;&#12414;&#12384;&#26377;&#29992;&#12391;&#12377;&#12290; &#65288;Hibernate&#12364;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#20491;&#12293;&#12398;&#34892;&#12434;&#12393;&#12358;&#12420;&#12387;&#12390;&#12300;&#35211;&#12388;&#12369;&#12427;&#12363;&#12301;&#12434;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#65289;
                     
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-collections-mostefficientupdate"></a>19.5.2. &#26356;&#26032;&#12395;&#12418;&#12387;&#12392;&#12418;&#21177;&#29575;&#30340;&#12394;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531; list&#12289;map&#12289;idbag&#12289;set
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#19978;&#12391;&#12398;&#35696;&#35542;&#12363;&#12425;&#12289;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12392;&#65288;&#26222;&#36890;&#12398;&#65289;set&#12399;&#35201;&#32032;&#12398;&#36861;&#21152;&#12289;&#21066;&#38500;&#12289; &#26356;&#26032;&#12391;&#12418;&#12387;&#12392;&#12418;&#21177;&#29575;&#30340;&#12394;&#25805;&#20316;&#12364;&#20986;&#26469;&#12427;&#12371;&#12392;&#12399;&#26126;&#12425;&#12363;&#12391;&#12377;&#12290; </p>
                  <p>&#12411;&#12412;&#38291;&#36949;&#12356;&#12394;&#12367;&#12289;&#22810;&#23550;&#22810;&#38306;&#36899;&#12420;&#20516;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12362;&#12356;&#12390;&#12289;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#20184;&#12365;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364; set&#12424;&#12426;&#12418;&#20778;&#12428;&#12390;&#12356;&#12427;&#28857;&#12364;&#19968;&#12388;&#20197;&#19978;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">Set</code> &#12399;&#12381;&#12398; &#27083;&#36896;&#12398;&#12383;&#12417;&#12395;&#12289;Hibernate&#12399;&#35201;&#32032;&#12364;&#12300;&#22793;&#26356;&#12301;&#12373;&#12428;&#12383;&#12392;&#12365;&#12395;&#34892;&#12434;&#27770;&#12375;&#12390; <code class="literal">UPDATE</code> &#12375;&#12414;&#12379;&#12435;&#12290; <code class="literal">Set</code> &#12408;&#12398;&#22793;&#26356;&#12399;&#24120;&#12395;&#65288;&#20491;&#12293;&#12398;&#34892;&#12398;&#65289;<code class="literal">INSERT</code> &#12392; <code class="literal">DELETE</code> &#12395;&#12424;&#12387;&#12390;&#34892;&#12356;&#12414;&#12377;&#12290;&#32368;&#12426;&#36820;&#12375;&#12414;&#12377;&#12364;&#12289;&#12371;&#12428;&#12399;&#19968;&#23550;&#22810;&#38306;&#36899;&#12395;&#12399; &#24403;&#12390;&#12399;&#12414;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
                  <p>&#37197;&#21015;&#12399;&#36933;&#24310;&#20966;&#29702;&#12364;&#12391;&#12365;&#12394;&#12356;&#12392;&#12356;&#12358;&#27770;&#12414;&#12426;&#12394;&#12398;&#12391;&#12289;&#32080;&#35542;&#12392;&#12375;&#12390;&#12289;list&#12289;map&#12289;idbag&#12364;&#12418;&#12387;&#12392;&#12418; &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#33391;&#12356;&#65288;inverse&#12391;&#12399;&#12394;&#12356;&#65289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12479;&#12452;&#12503;&#12392;&#12394;&#12426;&#12414;&#12377;&#12290;set&#12418; &#12381;&#12428;&#12411;&#12393;&#36949;&#12356;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;Hibernate&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;set&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12418;&#12387;&#12392;&#12418;
                     &#20849;&#36890;&#12398;&#31278;&#39006;&#12392;&#12375;&#12390;&#26399;&#24453;&#12373;&#12428;&#12414;&#12377;&#12290;set&#12398;&#34920;&#29694;&#12399;&#38306;&#36899;&#12514;&#12487;&#12523;&#12391;&#12399;&#12418;&#12387;&#12392;&#12418;&#33258;&#28982;&#12384;&#12363;&#12425;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12375;&#12363;&#12375;&#12289;&#12424;&#12367;&#12487;&#12470;&#12452;&#12531;&#12373;&#12428;&#12383;Hibernate&#12398;&#12489;&#12513;&#12452;&#12531;&#12514;&#12487;&#12523;&#12391;&#12399;&#12289;&#36890;&#24120;&#12418;&#12387;&#12392;&#12418;&#22810;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399; &#20107;&#23455;&#19978; <code class="literal">inverse="true"</code> &#12434;&#25351;&#23450;&#12375;&#12383;1&#23550;&#22810;&#38306;&#36899;&#12391;&#12377;&#12290;&#12371;&#12428;&#12425;&#12398;&#38306;&#36899;&#12391;&#12399;&#12289; &#26356;&#26032;&#12399;&#22810;&#23550;&#19968;&#12398;&#38306;&#36899;&#31471;&#12391;&#25201;&#12431;&#12428;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#26356;&#26032;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#21839;&#38988;&#12399;&#24403;&#12390;&#12399;&#12414;&#12426;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-collections-mostefficentinverse"></a>19.5.3. inverse&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12418;&#12387;&#12392;&#12418;&#26368;&#36969;&#12394;bag&#12392;list
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>bag&#12434;&#35211;&#25918;&#12375;&#12390;&#12375;&#12414;&#12358;&#21069;&#12395;&#12289;bag&#65288;&#12381;&#12375;&#12390;list&#12418;&#65289;&#12364;set&#12424;&#12426;&#12418;&#12378;&#12387;&#12392;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12364;&#33391;&#12356;&#29305;&#21029;&#12394;&#12465;&#12540;&#12473;&#12434; &#32057;&#20171;&#12375;&#12414;&#12377;&#12290; <code class="literal">inverse="true"</code> &#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65288;&#19968;&#33324;&#30340;&#12394;1&#23550;&#22810;&#38306;&#36899;&#12398;&#20351;&#12356;&#26041;&#12394;&#12393;&#65289;&#12391;&#12289; bag&#12398;&#35201;&#32032;&#12434;&#21021;&#26399;&#21270;&#65288;&#12501;&#12455;&#12483;&#12481;&#65289;&#12377;&#12427;&#24517;&#35201;&#12394;&#12367;bag&#12420;list&#12395;&#35201;&#32032;&#12434;&#36861;&#21152;&#12391;&#12365;&#12414;&#12377;&#65281; &#12371;&#12428;&#12399; <code class="literal">Collection.add()</code> &#12420; <code class="literal">Collection.addAll()</code> &#12399;bag&#12420; <code class="literal">List</code> &#12391;&#12399;&#24120;&#12395;true&#12434;&#36820;&#12373;&#12394;&#12369;&#12428;&#12400;&#12394;&#12425;&#12394;&#12356;&#12363;&#12425;&#12391;&#12377; &#65288; <code class="literal">Set</code> &#12392;&#12399;&#30064;&#12394;&#12426;&#12414;&#12377;&#65289;&#12290; &#12371;&#12428;&#12399;&#20197;&#19979;&#12398;&#20849;&#36890;&#20966;&#29702;&#12434;&#12424;&#12426;&#36895;&#12367;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">Parent p = (Parent) sess.load(Parent.class, id);
Child c = new Child();
c.setParent(p);
p.getChildren().add(c);  //no need to fetch the collection!
sess.flush();</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-collections-oneshotdelete"></a>19.5.4. &#19968;&#25324;&#21066;&#38500;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#26178;&#12293;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12434;&#19968;&#12388;&#19968;&#12388;&#21066;&#38500;&#12377;&#12427;&#12371;&#12392;&#12399;&#26997;&#12417;&#12390;&#38750;&#21177;&#29575;&#30340;&#12395;&#12394;&#12427;&#12371;&#12392;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12399;&#24858;&#12363;&#12391;&#12399;&#12394;&#12356;&#12398;&#12391;&#12289;&#26032;&#12375;&#12356;&#31354;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#22580;&#21512;&#65288; <code class="literal">list.clear()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12383;&#22580;&#21512;&#12394;&#12393;&#65289;&#12391;&#12399;&#12371;&#12428;&#12434;&#12377;&#12409;&#12365;&#12391;&#12394;&#12356;&#12371;&#12392;&#12434;&#30693;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290;&#12371;&#12398;&#22580;&#21512;&#12399;&#12289;Hibernate&#12399; <code class="literal">DELETE</code> &#12434;&#19968;&#22238;&#30330;&#34892;&#12375;&#12390;&#12289;&#12381;&#12428;&#12391;&#12377;&#12409;&#12390;&#32066;&#12431;&#12426;&#12414;&#12377;&#65281; 
                  </p>
                  <p>&#12469;&#12452;&#12474;20&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#19968;&#12388;&#12398;&#35201;&#32032;&#12434;&#36861;&#21152;&#12375;&#12289;&#12381;&#12428;&#12363;&#12425;&#20108;&#12388;&#12398;&#35201;&#32032;&#12434;&#21066;&#38500;&#12377;&#12427;&#12392;&#12375;&#12414;&#12377;&#12290; Hibernate&#12399;&#19968;&#12388;&#12398; <code class="literal">INSERT</code> &#25991;&#12392;&#20108;&#12388;&#12398; <code class="literal">DELETE</code> &#25991;&#12434;&#30330;&#34892;&#12375;&#12414;&#12377; &#65288;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;bag&#12391;&#12394;&#12369;&#12428;&#12400;&#65289;&#12290;&#12371;&#12428;&#12399;&#30906;&#12363;&#12395;&#26395;&#12414;&#12375;&#12356;&#21205;&#20316;&#12391;&#12377;&#12290; 
                  </p>
                  <p>&#12375;&#12363;&#12375;&#12289;18&#20491;&#12398;&#35201;&#32032;&#12434;&#21066;&#38500;&#12375;&#12390;2&#12388;&#12434;&#27531;&#12375;&#12289;&#12381;&#12428;&#12363;&#12425;3&#12388;&#26032;&#12375;&#12356;&#35201;&#32032;&#12434;&#36861;&#21152;&#12377;&#12427;&#12392;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12392;&#12365;&#20108;&#12388;&#12398;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>18&#34892;&#12434;&#19968;&#12388;&#19968;&#12388;&#21066;&#38500;&#12375;&#12390;&#12289;3&#34892;&#12434;&#36861;&#21152;&#12377;&#12427;</p>
                        </li>
                        <li>
                           <p>&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#20840;&#20307;&#12434;&#21066;&#38500;&#65288; <code class="literal">DELETE</code> &#12398;SQL&#12434;&#19968;&#22238;&#65289;&#12375;&#12289;&#12381;&#12375;&#12390;5&#12388;&#12398;&#35201;&#32032;&#12377;&#12409;&#12390;&#12434; &#65288;&#19968;&#12388;&#12378;&#12388;&#65289;&#36861;&#21152;&#12377;&#12427;
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>Hibernate&#12399;&#12371;&#12398;&#22580;&#21512;&#12395;2&#30058;&#30446;&#12398;&#26041;&#27861;&#12364;&#12424;&#12426;&#36895;&#12356;&#12384;&#12429;&#12358;&#12392;&#12431;&#12363;&#12427;&#12411;&#12393;&#36066;&#12367;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#65288;&#12381;&#12375;&#12390;Hibernate&#12364;&#12371;&#12398;&#12424;&#12358;&#12395;&#36066;&#12356;&#12371;&#12392;&#12418;&#26395;&#12414;&#12375;&#12367;&#12394;&#12356;&#12391;&#12375;&#12423;&#12358;&#12290;&#12371;&#12398;&#12424;&#12358;&#12394;&#25391;&#12427;&#33310;&#12356;&#12399; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12488;&#12522;&#12460;&#12394;&#12393;&#12434;&#28151;&#20081;&#12373;&#12379;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290;&#65289; </p>
                  <p>&#24184;&#12356;&#12395;&#12418;&#12289;&#20803;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#25448;&#12390;&#65288;&#12388;&#12414;&#12426;&#21442;&#29031;&#12434;&#12420;&#12417;&#12390;&#65289;&#12289;&#29694;&#22312;&#12398;&#35201;&#32032;&#12434;&#12377;&#12409;&#12390;&#25345;&#12388;&#26032;&#12375;&#12356;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398; &#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#36820;&#12377;&#12371;&#12392;&#12391;&#12289;&#12356;&#12388;&#12391;&#12418;&#12371;&#12398;&#25391;&#12427;&#33310;&#12356;&#65288;2&#30058;&#30446;&#12398;&#25126;&#30053;&#65289;&#12434;&#24375;&#21046;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; &#26178;&#12395;&#12371;&#12428;&#12399;&#12392;&#12390;&#12418;&#20415;&#21033;&#12391;&#24375;&#21147;&#12391;&#12377;&#12290; </p>
                  <p>&#12418;&#12385;&#12429;&#12435;&#12289;&#19968;&#25324;&#21066;&#38500;&#12399; <code class="literal">inverse="true"</code> &#12434;&#25351;&#23450;&#12375;&#12383;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#12399;&#34892;&#12356;&#12414;&#12379;&#12435;&#12290; 
                  </p>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="performance-monitoring"></a>19.6. &#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12398;&#12514;&#12491;&#12479;&#12522;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#26368;&#36969;&#21270;&#12399;&#12514;&#12491;&#12479;&#12522;&#12531;&#12464;&#12420;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12434;&#31034;&#12377;&#25968;&#20516;&#12364;&#12394;&#12369;&#12428;&#12400;&#21313;&#20998;&#12395;&#34892;&#12360;&#12414;&#12379;&#12435;&#12290; Hibernate&#12399;&#20869;&#37096;&#20966;&#29702;&#12398;&#12377;&#12409;&#12390;&#12398;&#31684;&#22258;&#12398;&#25968;&#20516;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; Hibernate&#12398;&#32113;&#35336;&#24773;&#22577;&#12399; <code class="literal">SessionFactory</code> &#21336;&#20301;&#12391;&#21462;&#24471;&#21487;&#33021;&#12391;&#12377;&#12290; 
               </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-monitoring-sf"></a>19.6.1. SessionFactory&#12398;&#12514;&#12491;&#12479;&#12522;&#12531;&#12464;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">SessionFactory</code> &#12398;&#12513;&#12488;&#12522;&#12463;&#12473;&#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12395;&#12399;2&#12388;&#12398;&#26041;&#27861;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#26368;&#21021;&#12398;&#26041;&#27861;&#12399;&#12289; <code class="literal">sessionFactory.getStatistics()</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12289; &#33258;&#20998;&#12391; <code class="literal">Statistics</code> &#12398;&#35501;&#12415;&#36796;&#12415;&#12420;&#34920;&#31034;&#12434;&#34892;&#12356;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">StatisticsService</code> MBean&#12434;&#26377;&#21177;&#12395;&#12375;&#12390;&#12356;&#12428;&#12400;&#12289;Hibernate&#12399;JMX&#12434;&#20351;&#12387;&#12390; &#12513;&#12488;&#12522;&#12463;&#12473;&#12434;&#30330;&#34892;&#12377;&#12427;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290;1&#12388;&#12398;MBean&#12434;&#12377;&#12409;&#12390;&#12398; <code class="literal">SessionFactory</code> &#12395;&#23550;&#12375;&#12390;&#26377;&#21177;&#12395;&#12377;&#12427;&#12363;&#12289;SessionFactory&#12372;&#12392;&#12395;&#19968;&#12388;&#12398;MBean&#12434;&#26377;&#21177;&#12395;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; &#26368;&#23567;&#38480;&#12398;&#35373;&#23450;&#20363;&#12391;&#12354;&#12427;&#20197;&#19979;&#12398;&#12467;&#12540;&#12489;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p><pre class="programlisting">// MBean service registration for a specific SessionFactory
Hashtable tb = new Hashtable();
tb.put("type", "statistics");
tb.put("sessionFactory", "myFinancialApp");
ObjectName on = new ObjectName("hibernate", tb); // MBean object name

StatisticsService stats = new StatisticsService(); // MBean implementation
stats.setSessionFactory(sessionFactory); // Bind the stats to a SessionFactory
server.registerMBean(stats, on); // Register the Mbean on the server</pre><pre class="programlisting">// MBean service registration for all SessionFactory's
Hashtable tb = new Hashtable();
tb.put("type", "statistics");
tb.put("sessionFactory", "all");
ObjectName on = new ObjectName("hibernate", tb); // MBean object name

StatisticsService stats = new StatisticsService(); // MBean implementation
server.registerMBean(stats, on); // Register the MBean on the server</pre><p>TODO: &#12371;&#12428;&#12399;&#24847;&#21619;&#12364;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#26368;&#21021;&#12398;&#12465;&#12540;&#12473;&#12399;&#12289;MBean&#12434;&#30452;&#25509;&#24489;&#20803;&#12375;&#12390;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290;2&#30058;&#30446;&#12398;&#12465;&#12540;&#12473;&#12399;&#12289; &#20351;&#12358;&#21069;&#12395;session factory&#12364;&#25345;&#12387;&#12390;&#12356;&#12427;JNDI&#21517;&#12434;&#28193;&#12373;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; <code class="literal">hibernateStatsBean.setSessionFactoryJNDIName("my/JNDI/Name")</code> &#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">SessionFactory</code> &#12395;&#23550;&#12375;&#12390;&#12514;&#12491;&#12479;&#12522;&#12531;&#12464;&#12398;&#38283;&#22987;&#65288;&#32066;&#20102;&#65289;&#12434;&#34892;&#12358;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#35373;&#23450;&#26178;&#12395;&#12399;&#12289; <code class="literal">hibernate.generate_statistics</code> &#12434; <code class="literal">false</code> &#12395;&#12375;&#12414;&#12377; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#23455;&#34892;&#26178;&#12395;&#12289; <code class="literal">sf.getStatistics().setStatisticsEnabled(true)</code> &#12414;&#12383;&#12399; <code class="literal">hibernateStatsBean.setStatisticsEnabled(true)</code> &#12434;&#21628;&#12403;&#20986;&#12375;&#12414;&#12377; 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>Statistics can be reset programmatically using the <code class="literal">clear()</code> method. A summary can be sent to a logger (info level) using the <code class="literal">logSummary()</code> method. 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="performance-monitoring-metrics"></a>19.6.2. &#12513;&#12488;&#12522;&#12463;&#12473;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#22810;&#12367;&#12398;&#12418;&#12398;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;&#12377;&#12409;&#12390;&#12398;&#20351;&#29992;&#21487;&#33021;&#12394;&#12459;&#12454;&#12531;&#12479;&#12399; <code class="literal">Statistics</code> &#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12398;API&#12395;&#26360;&#12363;&#12428;&#12390;&#12362;&#12426;&#12289;3&#12388;&#12398;&#20998;&#39006;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>&#12513;&#12488;&#12522;&#12463;&#12473;&#12399;&#19968;&#33324;&#30340;&#12394; <code class="literal">Session</code> &#12398;&#20351;&#12356;&#26041;&#12392;&#38306;&#20418;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12458;&#12540;&#12503;&#12531;&#12375;&#12383;&#12475;&#12483;&#12471;&#12519;&#12531;&#12398;&#25968;&#12364;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12392;&#38306;&#36899;&#12375;&#12390;&#12356;&#12427;&#12398;&#12392;&#21516;&#12376;&#12391;&#12377;&#12290; 
                           </p>
                        </li>
                        <li>
                           <p>&#12513;&#12488;&#12522;&#12463;&#12473;&#12399;&#35201;&#32032;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;&#12463;&#12456;&#12522;&#12420;&#12461;&#12515;&#12483;&#12471;&#12517;&#12394;&#12393;&#20840;&#20307;&#12395; &#38306;&#20418;&#12375;&#12390;&#12356;&#12414;&#12377;&#65288;&#21029;&#21517;&#12399;&#12464;&#12525;&#12540;&#12496;&#12523;&#12513;&#12488;&#12522;&#12463;&#12473;&#12391;&#12377;&#65289;&#12290; </p>
                        </li>
                        <li>
                           <p>&#12513;&#12488;&#12522;&#12463;&#12473;&#12398;&#35443;&#32048;&#12399;&#29305;&#23450;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;&#12463;&#12456;&#12522;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12395;&#38306;&#20418;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p>
                        </li>
                     </ul>
                  </div>
                  <p>For example, you can check the cache hit, miss, and put ratio of entities, collections and queries, and the average time a
                     query needs. Beware that the number of milliseconds is subject to approximation in Java. Hibernate is tied to the JVM precision,
                     on some platforms this might even only be accurate to 10 seconds. 
                  </p>
                  <p>&#21336;&#32020;&#12394;getter&#12399;&#12464;&#12525;&#12540;&#12496;&#12523;&#12513;&#12488;&#12522;&#12463;&#12473;&#65288;&#12377;&#12394;&#12431;&#12385;&#29305;&#23450;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12394;&#12393;&#12395;&#32283;&#12425;&#12428;&#12394;&#12356;&#65289; &#12395;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12356;&#12414;&#12377;&#12290;&#29305;&#23450;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12398;&#12513;&#12488;&#12522;&#12463;&#12473;&#12399;&#12289; &#12381;&#12428;&#12425;&#12398;&#21517;&#21069;&#12420;&#12289;&#12463;&#12456;&#12522;&#12398;HQL&#12289;SQL&#34920;&#29694;&#12395;&#12424;&#12387;&#12390;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290;&#12373;&#12425;&#12395;&#35443;&#12375;&#12356;&#24773;&#22577;&#12399;&#12289;
                     <code class="literal">Statistics</code> &#12289; <code class="literal">EntityStatistics</code> &#12289; <code class="literal">CollectionStatistics</code> &#12289; <code class="literal">SecondLevelCacheStatistics</code> &#12289; <code class="literal">QueryStatistics</code> API&#12398;javadoc&#12434; &#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#20197;&#19979;&#12398;&#12467;&#12540;&#12489;&#12399;&#31777;&#21336;&#12394;&#20363;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">Statistics stats = HibernateUtil.sessionFactory.getStatistics();

double queryCacheHitCount  = stats.getQueryCacheHitCount();
double queryCacheMissCount = stats.getQueryCacheMissCount();
double queryCacheHitRatio =
  queryCacheHitCount / (queryCacheHitCount + queryCacheMissCount);

log.info("Query Hit ratio:" + queryCacheHitRatio);

EntityStatistics entityStats =
  stats.getEntityStatistics( Cat.class.getName() );
long changes =
        entityStats.getInsertCount()
        + entityStats.getUpdateCount()
        + entityStats.getDeleteCount();
log.info(Cat.class.getName() + " changed " + changes + "times"  );</pre><p>&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12289;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12289;&#12463;&#12456;&#12522;&#12289;&#12461;&#12515;&#12483;&#12471;&#12517;&#38936;&#22495;&#12395;&#23550;&#12375;&#12390;&#34892;&#12358;&#22580;&#21512;&#12399;&#12289; <code class="literal">getQueries()</code> &#12289; <code class="literal">getEntityNames()</code>&#12289; <code class="literal">getCollectionRoleNames()</code> &#12289; <code class="literal">getSecondLevelCacheRegionNames()</code> &#12513;&#12477;&#12483;&#12489;&#12391; &#12381;&#12428;&#12382;&#12428;&#12398;&#21517;&#21069;&#12398;&#12522;&#12473;&#12488;&#12434;&#21462;&#24471;&#12377;&#12427;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;&#12290; 
                  </p>
               </div>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="toolsetguide"></a>&#31532;20&#31456; Toolset Guide &#12484;&#12540;&#12523;&#12475;&#12483;&#12488;&#12460;&#12452;&#12489;
                     </h2>
                  </div>
               </div>
            </div>
            <p>Hibernate&#12434;&#20351;&#12387;&#12383;&#12521;&#12454;&#12531;&#12489;&#12488;&#12522;&#12483;&#12503;&#12456;&#12531;&#12472;&#12491;&#12450;&#12522;&#12531;&#12464;&#12399;&#12289; Eclipse&#12503;&#12521;&#12464;&#12452;&#12531;&#12420;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12484;&#12540;&#12523;&#12289;&#12418;&#12385;&#12429;&#12435;Ant&#12479;&#12473;&#12463;&#12434;&#20351;&#12358;&#12371;&#12392;&#12391;&#21487;&#33021;&#12391;&#12377;&#12290; </p>
            <p><span class="emphasis"><em>Hibernate Tools</em></span> &#12399;&#29694;&#22312;&#12289;&#26082;&#23384;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12522;&#12496;&#12540;&#12473;&#12456;&#12531;&#12472;&#12491;&#12450;&#12522;&#12531;&#12464;&#12398;Ant&#12479;&#12473;&#12463;&#12395;&#21152;&#12360;&#12390;&#12289;EclipseIDE&#12398;&#12503;&#12521;&#12464;&#12452;&#12531;&#12434;&#21547;&#12415;&#12414;&#12377;&#12290; 
            </p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     <p><span class="emphasis"><em>&#12510;&#12483;&#12500;&#12531;&#12464;&#12456;&#12487;&#12451;&#12479;:</em></span> Hibernate&#12398;XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#29992;&#12398;&#12456;&#12487;&#12451;&#12479;&#12391;&#12289; &#33258;&#21205;&#35036;&#23436;&#12392;&#27083;&#25991;&#24375;&#35519;&#34920;&#31034;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290;&#12463;&#12521;&#12473;&#21517;&#12420;&#12503;&#12525;&#12497;&#12486;&#12451;/&#12501;&#12451;&#12540;&#12523;&#12489;&#21517;&#12395;&#23550;&#12377;&#12427;&#33258;&#21205;&#35036;&#23436;&#12418;&#12469;&#12509;&#12540;&#12488;&#12375;&#12289; &#36890;&#24120;&#12398;XML&#12456;&#12487;&#12451;&#12479;&#12424;&#12426;&#12418;&#24375;&#21147;&#12391;&#12377;&#12290; 
                     </p>
                  </li>
                  <li>
                     <p><span class="emphasis"><em>Console:</em></span> &#12467;&#12531;&#12477;&#12540;&#12523;&#12399;&#12456;&#12463;&#12522;&#12503;&#12473;&#12398;&#26032;&#12375;&#12356;&#12499;&#12517;&#12540;&#12391;&#12377;&#12290; &#12467;&#12531;&#12477;&#12540;&#12523;&#12467;&#12531;&#12501;&#12451;&#12462;&#12517;&#12524;&#12540;&#12471;&#12519;&#12531;&#12398;&#12484;&#12522;&#12540;&#12458;&#12540;&#12496;&#12540;&#12499;&#12517;&#12540;&#12395;&#21152;&#12360;&#12390;&#12289;&#27704;&#32154;&#12463;&#12521;&#12473;&#12392;&#12381;&#12398;&#38306;&#36899;&#12398;&#30456;&#20114;&#20316;&#29992;&#12499;&#12517;&#12540;&#12418;&#24471;&#12425;&#12428;&#12414;&#12377;&#12290; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;HQL&#12434;&#23455;&#34892;&#12375;&#12289;&#32080;&#26524;&#12434;&#30452;&#25509;&#12456;&#12463;&#12522;&#12503;&#12473;&#19978;&#12391;&#35211;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                     </p>
                  </li>
                  <li>
                     <p><span class="emphasis"><em>&#38283;&#30330;&#12454;&#12451;&#12470;&#12540;&#12489;</em></span> Hibernate&#12398;Eclipse&#12484;&#12540;&#12523;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#12454;&#12451;&#12470;&#12540;&#12489;&#12434;&#25552;&#20379;&#12375;&#12414;&#12377;&#12290; &#12454;&#12451;&#12470;&#12540;&#12489;&#12434;&#20351;&#12387;&#12390;Hibernate&#12398;&#35373;&#23450;&#12501;&#12449;&#12452;&#12523;(cfg.xml)&#12434;&#12377;&#12400;&#12420;&#12367;&#29983;&#25104;&#12375;&#12383;&#12426;&#12289; &#26082;&#23384;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12434;POJO&#12398;&#12477;&#12540;&#12473;&#12501;&#12449;&#12452;&#12523;&#12392;Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12408;&#12392;&#12289;
                        &#23436;&#20840;&#12395;&#12522;&#12496;&#12540;&#12473;&#12456;&#12531;&#12472;&#12491;&#12450;&#12522;&#12531;&#12464;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#12522;&#12496;&#12540;&#12473;&#12456;&#12531;&#12472;&#12491;&#12450;&#12522;&#12531;&#12464;&#12454;&#12451;&#12470;&#12540;&#12489;&#12399;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#21487;&#33021;&#12394;&#12486;&#12531;&#12503;&#12524;&#12540;&#12488;&#12434;&#12469;&#12509;&#12540;&#12488;&#12375;&#12414;&#12377;&#12290; 
                     </p>
                  </li>
                  <li>
                     <p>
                        <span class="emphasis"><em>Ant Tasks:</em></span>
                        
                     </p>
                  </li>
               </ul>
            </div>
            <p>&#12424;&#12426;&#35443;&#12375;&#12356;&#24773;&#22577;&#12399; <span class="emphasis"><em>Hibernate Tools</em></span> &#12497;&#12483;&#12465;&#12540;&#12472;&#12392;&#12381;&#12398;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#21442;&#29031;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
            </p>
            <p>&#12375;&#12363;&#12375;&#12289;Hibernate&#12398;&#12513;&#12452;&#12531;&#12497;&#12483;&#12465;&#12540;&#12472;&#12399; <span class="emphasis"><em>SchemaExport</em></span> &#12289; &#21029;&#21517; <code class="literal">hbm2ddl</code> &#12418;&#21547;&#12415;&#12414;&#12377;(Hibernate&#20869;&#12391;&#12458;&#12531;&#12470;&#12501;&#12521;&#12452;&#12391;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;)&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="toolsetguide-s1"></a>20.1. &#12473;&#12461;&#12540;&#12510;&#12398;&#33258;&#21205;&#29983;&#25104;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>DDL&#12399;Hibernate&#12518;&#12540;&#12486;&#12451;&#12522;&#12486;&#12451;&#12395;&#12424;&#12426;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12363;&#12425;&#29983;&#25104;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; &#29983;&#25104;&#12373;&#12428;&#12383;&#12473;&#12461;&#12540;&#12510;&#12399;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12420;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12486;&#12540;&#12502;&#12523;&#12395;&#23550;&#12377;&#12427;&#21442;&#29031;&#25972;&#21512;&#24615;&#21046;&#32004;(&#20027;&#12461;&#12540;&#12392;&#22806;&#37096;&#12461;&#12540;)&#12434;&#21547;&#12415;&#12414;&#12377;&#12290; &#12486;&#12540;&#12502;&#12523;&#12392;&#12471;&#12540;&#12465;&#12531;&#12473;&#12399;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#35672;&#21029;&#23376;&#12472;&#12455;&#12493;&#12524;&#12540;&#12479;&#12395;&#23550;&#12375;&#12390;&#29983;&#25104;&#12373;&#12428;&#12414;&#12377;&#12290;
                  
               </p>
               <p>DDL&#12399;&#12505;&#12531;&#12480;&#12540;&#20381;&#23384;&#12394;&#12398;&#12391;&#12289;&#12371;&#12398;&#12484;&#12540;&#12523;&#12434;&#20351;&#12358;&#12392;&#12365;&#12399;&#12289;<code class="literal">hibernate.dialect</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12391;SQL&#12398; <code class="literal">&#26041;&#35328;</code> &#12434;&#25351;&#23450; <span class="emphasis"><em>&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;</em></span> &#12290; 
               </p>
               <p>&#12414;&#12378;&#12289;&#29983;&#25104;&#12373;&#12428;&#12427;&#12473;&#12461;&#12540;&#12510;&#12434;&#25913;&#21892;&#12377;&#12427;&#12424;&#12358;&#12395;&#12289;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12434;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; </p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-2"></a>20.1.1. &#12473;&#12461;&#12540;&#12510;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#22810;&#12367;&#12398;Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12391;&#12399;&#12289;&#12458;&#12503;&#12471;&#12519;&#12531;&#12398; <code class="literal">length</code> &#12392;&#12356;&#12358;&#21517;&#12398;&#23646;&#24615;&#12434;&#23450;&#32681;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12371;&#12398;&#23646;&#24615;&#12391;&#12459;&#12521;&#12512;&#38263;&#12434;&#35373;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;(&#12414;&#12383;&#12399;NUMERIC/DECIMAL&#22411;&#12398;&#12487;&#12540;&#12479;&#12398;&#31934;&#24230;&#12434;&#35373;&#23450;&#12391;&#12365;&#12414;&#12377;)&#12290; 
                  </p><pre class="programlisting">&lt;property name="zip" length="5"/&gt;</pre><pre class="programlisting">&lt;property name="balance" precision="12" scale="2"/&gt;</pre><p><code class="literal">not-null</code> &#23646;&#24615;&#65288;&#12486;&#12540;&#12502;&#12523;&#12398;&#12459;&#12521;&#12512;&#12408; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12434;&#29983;&#25104;&#12377;&#12427;&#65289;&#12392; <code class="literal">unique</code> &#23646;&#24615;&#65288;&#12486;&#12540;&#12502;&#12523;&#12398;&#12459;&#12521;&#12512;&#12408; <code class="literal">UNIQUE</code> &#21046;&#32004;&#12434;&#29983;&#25104;&#12377;&#12427;&#65289;&#12364;&#35373;&#23450;&#12391;&#12365;&#12427;&#12479;&#12464;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;many-to-one name="bar" column="barId" not-null="true"/&gt;</pre><pre class="programlisting">&lt;element column="serialNumber" type="long" not-null="true" unique="true"/&gt;</pre><p><code class="literal">unique-key</code> &#23646;&#24615;&#12399;&#12459;&#12521;&#12512;&#12434;&#12464;&#12523;&#12540;&#12503;&#21270;&#12375;&#12390;&#19968;&#12388;&#12398;&#12461;&#12540;&#21046;&#32004;&#12395;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; &#29694;&#22312;&#12289;<code class="literal">unique-key</code> &#23646;&#24615;&#12391;&#25351;&#23450;&#12373;&#12428;&#12383;&#20516;&#12399;&#21046;&#32004;&#12398;&#25351;&#23450;&#12395;&#12399; <span class="emphasis"><em>&#20351;&#12431;&#12428;&#12378;</em></span> &#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12391;&#12459;&#12521;&#12512;&#12434;&#12464;&#12523;&#12540;&#12503;&#21270;&#12377;&#12427;&#12371;&#12392;&#12395;&#12398;&#12415;&#20351;&#12431;&#12428;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;many-to-one name="org" column="orgId" unique-key="OrgEmployeeId"/&gt;
&lt;property name="employeeId" unique-key="OrgEmployee"/&gt;</pre><p><code class="literal">index</code> &#23646;&#24615;&#12399;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12459;&#12521;&#12512;&#12434;&#20351;&#12387;&#12390;&#29983;&#25104;&#12375;&#12383;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12398;&#21517;&#21069;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;&#12290; &#35079;&#25968;&#12459;&#12521;&#12512;&#12434;&#65297;&#12388;&#12398;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12395;&#12464;&#12523;&#12540;&#12503;&#21270;&#12391;&#12365;&#12414;&#12377;&#12290;&#21336;&#12395;&#12289;&#21516;&#12376;&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21517;&#12434;&#25351;&#23450;&#12377;&#12427;&#12384;&#12369;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;property name="lastName" index="CustName"/&gt;
&lt;property name="firstName" index="CustName"/&gt;</pre><p><code class="literal">foreign-key</code> &#23646;&#24615;&#12399;&#12289;&#29983;&#25104;&#12373;&#12428;&#12383;&#22806;&#37096;&#12461;&#12540;&#21046;&#32004;&#12398;&#21517;&#21069;&#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12377;&#12427;&#12383;&#12417;&#12395;&#20351;&#29992;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;many-to-one name="bar" column="barId" foreign-key="FKFooBar"/&gt;</pre><p>&#22810;&#12367;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#35201;&#32032;&#12399;&#12289;&#23376; <code class="literal">&lt;column&gt;</code> &#35201;&#32032;&#12434;&#35352;&#36848;&#12391;&#12365;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#35079;&#25968;&#12459;&#12521;&#12512;&#22411;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;&#29305;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;property name="name" type="my.customtypes.Name"/&gt;
    &lt;column name="last" not-null="true" index="bar_idx" length="30"/&gt;
    &lt;column name="first" not-null="true" index="bar_idx" length="20"/&gt;
    &lt;column name="initial"/&gt;
&lt;/property&gt;</pre><p><code class="literal">default</code> &#23646;&#24615;&#12399;&#12459;&#12521;&#12512;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; (&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#12463;&#12521;&#12473;&#12398;&#26032;&#12375;&#12356;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#20445;&#23384;&#12377;&#12427;&#21069;&#12395;&#12289; &#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12408;&#21516;&#12376;&#20516;&#12434;&#20195;&#20837;&#12377;&#12409;&#12365;&#12391;&#12377;)&#12290; 
                  </p><pre class="programlisting">&lt;property name="credits" type="integer" insert="false"&gt;
    &lt;column name="credits" default="10"/&gt;
&lt;/property&gt;</pre><pre class="programlisting">&lt;version name="version" type="integer" insert="false"&gt;
    &lt;column name="version" default="0"/&gt;
&lt;/property&gt;</pre><p><code class="literal">sql-type</code> &#23646;&#24615;&#12391;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;Hibernate&#22411;&#12363;&#12425;SQL&#12398;&#12487;&#12540;&#12479;&#22411;&#12408;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12458;&#12540;&#12496;&#12540;&#12521;&#12452;&#12489;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;property name="balance" type="float"&gt;
    &lt;column name="balance" sql-type="decimal(13,3)"/&gt;
&lt;/property&gt;</pre><p><code class="literal">check</code> &#23646;&#24615;&#12391;&#12481;&#12455;&#12483;&#12463;&#21046;&#32004;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;property name="foo" type="integer"&gt;
    &lt;column name="foo" check="foo &gt; 10"/&gt;
&lt;/property&gt;</pre><pre class="programlisting">&lt;class name="Foo" table="foos" check="bar &lt; 100.0"&gt;
    ...
    &lt;property name="bar" type="float"/&gt;
&lt;/class&gt;</pre><div class="table"><a name="schemattributes-summary"></a><p class="title"><b>&#34920; 20.1. &#12414;&#12392;&#12417;</b></p>
                     <div class="table-contents">
                        <table summary="&#12414;&#12392;&#12417;" border="1">
                           <colgroup>
                              <col>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>&#23646;&#24615;</th>
                                 <th>&#20516;</th>
                                 <th>&#35500;&#26126;</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td><code class="literal">length</code></td>
                                 <td>&#25968;&#20516;</td>
                                 <td>&#12459;&#12521;&#12512;&#12398;&#38263;&#12373;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">precision</code></td>
                                 <td>&#25968;&#20516;</td>
                                 <td>&#12459;&#12521;&#12512;&#12398;DECIMAL&#22411;&#12398;&#31934;&#24230;&#65288;precision&#65289;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">scale</code></td>
                                 <td>&#25968;&#20516;</td>
                                 <td>&#12459;&#12521;&#12512;&#12398;DECIMAL&#22411;&#12398;&#12473;&#12465;&#12540;&#12523;&#65288;scale&#65289;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">not-null</code></td>
                                 <td><code class="literal">true|false</code></td>
                                 <td>&#12459;&#12521;&#12512;&#12364;null&#20516;&#12434;&#21462;&#12425;&#12394;&#12356;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">unique</code></td>
                                 <td><code class="literal">true|false</code></td>
                                 <td>&#12459;&#12521;&#12512;&#12364;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12434;&#25345;&#12388;&#12371;&#12392;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">index</code></td>
                                 <td><code class="literal">&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#21517;</code></td>
                                 <td>(&#35079;&#25968;&#12459;&#12521;&#12512;&#12398;)&#12452;&#12531;&#12487;&#12483;&#12463;&#12473;&#12398;&#21517;&#21069;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">unique-key</code></td>
                                 <td><code class="literal">&#12518;&#12491;&#12540;&#12463;&#12461;&#12540;&#21517;</code></td>
                                 <td>&#35079;&#25968;&#12459;&#12521;&#12512;&#12398;&#12518;&#12491;&#12540;&#12463;&#21046;&#32004;&#12398;&#21517;&#21069;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">foreign-key</code></td>
                                 <td><code class="literal">&#22806;&#37096;&#12461;&#12540;&#21517;</code></td>
                                 <td>specifies the name of the foreign key constraint generated for an association, for a <code class="literal">&lt;one-to-one&gt;</code>, <code class="literal">&lt;many-to-one&gt;</code>, <code class="literal">&lt;key&gt;</code>, or <code class="literal">&lt;many-to-many&gt;</code> mapping element. Note that <code class="literal">inverse="true"</code> sides will not be considered by <code class="literal">SchemaExport</code>. 
                                 </td>
                              </tr>
                              <tr>
                                 <td><code class="literal">sql-type</code></td>
                                 <td><code class="literal">SQL&#12398;&#12459;&#12521;&#12512;&#22411;</code></td>
                                 <td>overrides the default column type (attribute of <code class="literal">&lt;column&gt;</code> element only) 
                                 </td>
                              </tr>
                              <tr>
                                 <td><code class="literal">default</code></td>
                                 <td>SQL&#24335;</td>
                                 <td>&#12459;&#12521;&#12512;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#20516;&#12434;&#25351;&#23450;&#12375;&#12414;&#12377; </td>
                              </tr>
                              <tr>
                                 <td><code class="literal">check</code></td>
                                 <td>SQL&#24335;</td>
                                 <td>&#12459;&#12521;&#12512;&#12363;&#12486;&#12540;&#12502;&#12523;&#12395;SQL&#12398;&#12481;&#12455;&#12483;&#12463;&#21046;&#32004;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377; </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"><p><code class="literal">&lt;comment&gt;</code> &#35201;&#32032;&#12391;&#29983;&#25104;&#12377;&#12427;&#12473;&#12461;&#12540;&#12510;&#12395;&#12467;&#12513;&#12531;&#12488;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
                  </p><pre class="programlisting">&lt;class name="Customer" table="CurCust"&gt;
    &lt;comment&gt;Current customers only&lt;/comment&gt;
    ...
&lt;/class&gt;</pre><pre class="programlisting">&lt;property name="balance"&gt;
    &lt;column name="bal"&gt;
        &lt;comment&gt;Balance in USD&lt;/comment&gt;
    &lt;/column&gt;
&lt;/property&gt;</pre><p>&#12371;&#12428;&#12395;&#12424;&#12426;&#12289;&#29983;&#25104;&#12375;&#12383;DDL&#12395; <code class="literal">comment on table</code> &#12420; <code class="literal">comment on column</code> &#25991;&#12364;&#26360;&#12363;&#12428;&#12414;&#12377;&#12290; 
                  </p>
               </div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-3"></a>20.1.2. &#12484;&#12540;&#12523;&#12398;&#23455;&#34892;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">SchemaExport</code> &#12399;&#27161;&#28310;&#20986;&#21147;&#12395;&#23550;&#12375;&#12390;DDL&#12473;&#12463;&#12522;&#12503;&#12488;&#12434;&#26360;&#12365;&#20986;&#12375;&#12289;DDL&#25991;&#12434;&#23455;&#34892;&#12375;&#12383;&#12426;&#12418;&#12375;&#12414;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">java -cp </code><span class="emphasis"><em>hibernate_classpaths</em></span> <code class="literal">org.hibernate.tool.hbm2ddl.SchemaExport</code> <span class="emphasis"><em>options mapping_files</em></span> 
                  </p>
                  <div class="table"><a name="d0e15383"></a><p class="title"><b>&#34920; 20.2. <code class="literal">SchemaExport</code> Command Line Options <code class="literal">SchemaExport</code> &#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12458;&#12503;&#12471;&#12519;&#12531;</b></p>
                     <div class="table-contents">
                        <table summary="SchemaExport Command Line Options SchemaExport &#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12458;&#12503;&#12471;&#12519;&#12531;" border="1">
                           <colgroup>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>&#12458;&#12503;&#12471;&#12519;&#12531;</th>
                                 <th>&#35500;&#26126;</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td><code class="literal">--quiet</code></td>
                                 <td>don't output the script to stdout</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--drop</code></td>
                                 <td>&#12486;&#12540;&#12502;&#12523;&#12398;&#21066;&#38500;&#12384;&#12369;&#12434;&#34892;&#12356;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--create</code></td>
                                 <td>&#12486;&#12540;&#12502;&#12523;&#12398;&#29983;&#25104;&#12398;&#12415;&#12434;&#34892;&#12356;&#12414;&#12377;&#12290;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--text</code></td>
                                 <td>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12375;&#12414;&#12379;&#12435;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--output=my_schema.ddl</code></td>
                                 <td>DDL&#12473;&#12463;&#12522;&#12503;&#12488;&#12434;&#12501;&#12449;&#12452;&#12523;&#12395;&#20986;&#21147;&#12375;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--naming=eg.MyNamingStrategy</code></td>
                                 <td>select a <code class="literal">NamingStrategy</code></td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--config=hibernate.cfg.xml</code></td>
                                 <td>XML&#12501;&#12449;&#12452;&#12523;&#12363;&#12425;Hibernate&#12398;&#23450;&#32681;&#24773;&#22577;&#12434;&#35501;&#12415;&#36796;&#12415;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--properties=hibernate.properties</code></td>
                                 <td>read database properties from a file</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--format</code></td>
                                 <td>&#12473;&#12463;&#12522;&#12503;&#12488;&#20869;&#12395;&#29983;&#25104;&#12377;&#12427;SQL&#12434;&#35501;&#12415;&#12420;&#12377;&#12356;&#12424;&#12358;&#12395;&#12501;&#12457;&#12540;&#12510;&#12483;&#12488;&#12375;&#12414;&#12377;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--delimiter=x</code></td>
                                 <td>&#12473;&#12463;&#12522;&#12503;&#12488;&#12398;&#34892;&#21306;&#20999;&#12426;&#25991;&#23383;&#12434;&#35373;&#23450;&#12375;&#12414;&#12377;</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"><p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395; <code class="literal">SchemaExport</code> &#12434;&#32068;&#12415;&#36796;&#12416;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">Configuration cfg = ....;
new SchemaExport(cfg).create(false, true);</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-4"></a>20.1.3. &#12503;&#12525;&#12497;&#12486;&#12451;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>&#27425;&#12398;&#12424;&#12358;&#12395;&#12289;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; </p>
                  <div class="itemizedlist">
                     <ul type="disc" compact>
                        <li>
                           <p><code class="literal">-D</code><span class="emphasis"><em>&lt;property&gt;</em></span> &#12434;&#20351;&#12387;&#12390;&#12289;&#12471;&#12473;&#12486;&#12512;&#12503;&#12525;&#12497;&#12486;&#12451;&#12392;&#12375;&#12390;
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">hibernate.properties</code> &#12501;&#12449;&#12452;&#12523;&#20869;&#12391;
                           </p>
                        </li>
                        <li>
                           <p><code class="literal">--properties</code> &#12434;&#20351;&#12387;&#12390;&#25351;&#23450;&#12375;&#12383;&#12503;&#12525;&#12497;&#12486;&#12451;&#12501;&#12449;&#12452;&#12523;&#20869;&#12391;
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>&#24517;&#35201;&#12394;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#20197;&#19979;&#12398;&#12418;&#12398;&#12391;&#12377;&#65306; </p>
                  <div class="table"><a name="d0e15495"></a><p class="title"><b>&#34920; 20.3. SchemaExport&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;</b></p>
                     <div class="table-contents">
                        <table summary="SchemaExport&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12497;&#12486;&#12451;" border="1">
                           <colgroup>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>&#12503;&#12525;&#12497;&#12486;&#12451;&#21517;</th>
                                 <th>&#35500;&#26126;</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td><code class="literal">hibernate.connection.driver_class</code></td>
                                 <td>jdbc&#12398;&#12489;&#12521;&#12452;&#12496;&#12540;&#12463;&#12521;&#12473;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">hibernate.connection.url</code></td>
                                 <td>jdbc&#12398;url</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">hibernate.connection.username</code></td>
                                 <td>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#12518;&#12540;&#12470;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">hibernate.connection.password</code></td>
                                 <td>&#12518;&#12540;&#12470;&#12497;&#12473;&#12527;&#12540;&#12489;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">hibernate.dialect</code></td>
                                 <td>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#26041;&#35328;</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-5"></a>20.1.4. Ant&#12434;&#20351;&#29992;&#12377;&#12427;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Ant&#12398;&#12499;&#12523;&#12489;&#12473;&#12463;&#12522;&#12503;&#12488;&#12363;&#12425; <code class="literal">SchemaExport</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;: 
                  </p><pre class="programlisting">&lt;target name="schemaexport"&gt;
    &lt;taskdef name="schemaexport"
        classname="org.hibernate.tool.hbm2ddl.SchemaExportTask"
        classpathref="class.path"/&gt;
    
    &lt;schemaexport
        properties="hibernate.properties"
        quiet="no"
        text="no"
        drop="no"
        delimiter=";"
        output="schema-export.sql"&gt;
        &lt;fileset dir="src"&gt;
            &lt;include name="**/*.hbm.xml"/&gt;
        &lt;/fileset&gt;
    &lt;/schemaexport&gt;
&lt;/target&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-6"></a>20.1.5. &#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12479;&#12523;&#12394;&#12473;&#12461;&#12540;&#12510;&#26356;&#26032;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">SchemaUpdate</code> &#12484;&#12540;&#12523;&#12399;&#26082;&#23384;&#12398;&#12473;&#12461;&#12540;&#12510;&#12434;&#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12479;&#12523;&#12395;&#26356;&#26032;&#12375;&#12414;&#12377;&#12290; <code class="literal">SchemaUpdate</code> &#12399;JDBC&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;API&#12395;&#24375;&#12367;&#20381;&#23384;&#12375;&#12414;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12289;&#12377;&#12409;&#12390;&#12398;JDBC&#12489;&#12521;&#12452;&#12496;&#12391;&#12358;&#12414;&#12367;&#12356;&#12367;&#12392;&#12399;&#38480;&#12425;&#12394;&#12356;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                  </p>
                  <p><code class="literal">java -cp </code><span class="emphasis"><em>hibernate_classpaths</em></span> <code class="literal">org.hibernate.tool.hbm2ddl.SchemaUpdate</code> <span class="emphasis"><em>options mapping_files</em></span> 
                  </p>
                  <div class="table"><a name="d0e15570"></a><p class="title"><b>&#34920; 20.4. <code class="literal">SchemaUpdate</code> &#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#65381;&#12458;&#12503;&#12471;&#12519;&#12531;</b></p>
                     <div class="table-contents">
                        <table summary="SchemaUpdate &#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#65381;&#12458;&#12503;&#12471;&#12519;&#12531;" border="1">
                           <colgroup>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>&#12458;&#12503;&#12471;&#12519;&#12531;</th>
                                 <th>&#35500;&#26126;</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td><code class="literal">--quiet</code></td>
                                 <td>don't output the script to stdout</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--text</code></td>
                                 <td>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#12473;&#12463;&#12522;&#12503;&#12488;&#12434;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;&#12375;&#12414;&#12379;&#12435;</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--naming=eg.MyNamingStrategy</code></td>
                                 <td>select a <code class="literal">NamingStrategy</code></td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--properties=hibernate.properties</code></td>
                                 <td>read database properties from a file</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--config=hibernate.cfg.xml</code></td>
                                 <td>specify a <code class="literal">.cfg.xml</code> file
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"><p>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395; <code class="literal">SchemaUpdate</code> &#12434;&#32068;&#12415;&#36796;&#12416;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290;&#65306; 
                  </p><pre class="programlisting">Configuration cfg = ....;
new SchemaUpdate(cfg).execute(false);</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-7"></a>20.1.6. &#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12479;&#12523;&#12394;&#12473;&#12461;&#12540;&#12510;&#26356;&#26032;&#12395;&#23550;&#12377;&#12427;Ant&#12398;&#20351;&#29992;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Ant&#12473;&#12463;&#12522;&#12503;&#12488;&#12363;&#12425; <code class="literal">SchemaUpdate</code> &#12434;&#21628;&#12403;&#20986;&#12377;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#65306; 
                  </p><pre class="programlisting">&lt;target name="schemaupdate"&gt;
    &lt;taskdef name="schemaupdate"
        classname="org.hibernate.tool.hbm2ddl.SchemaUpdateTask"
        classpathref="class.path"/&gt;
    
    &lt;schemaupdate
        properties="hibernate.properties"
        quiet="no"&gt;
        &lt;fileset dir="src"&gt;
            &lt;include name="**/*.hbm.xml"/&gt;
        &lt;/fileset&gt;
    &lt;/schemaupdate&gt;
&lt;/target&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-8"></a>20.1.7. Schema validation
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p><code class="literal">SchemaValidator</code> &#12484;&#12540;&#12523;&#12399;&#12289;&#26082;&#23384;&#12398;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12473;&#12461;&#12540;&#12510;&#12392;&#20316;&#25104;&#12375;&#12383;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12364;"&#19968;&#33268;&#12377;&#12427;"&#12371;&#12392;&#12434;&#26908;&#35388;&#12375;&#12414;&#12377;&#12290; <code class="literal">SchemaValidator</code> &#12399;JDBC&#12398;&#12513;&#12479;&#12487;&#12540;&#12479;API&#12395;&#24375;&#12367;&#20381;&#23384;&#12377;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290;&#12381;&#12398;&#12383;&#12417;&#12289;&#12377;&#12409;&#12390;&#12398;JDBC&#12489;&#12521;&#12452;&#12496;&#12540;&#12391;&#20316;&#21205;&#12377;&#12427;&#12418;&#12398;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12371;&#12398;&#12484;&#12540;&#12523;&#12399;&#12486;&#12473;&#12488;&#26178;&#12395;&#38750;&#24120;&#12395;&#26377;&#29992;&#12391;&#12377;&#12290; 
                  </p>
                  <p><code class="literal">java -cp </code><span class="emphasis"><em>hibernate_classpaths</em></span> <code class="literal">org.hibernate.tool.hbm2ddl.SchemaValidator</code> <span class="emphasis"><em>options mapping_files</em></span> 
                  </p>
                  <div class="table"><a name="d0e15659"></a><p class="title"><b>&#34920; 20.5. <code class="literal">SchemaValidator</code> &#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12539;&#12458;&#12503;&#12471;&#12519;&#12531;</b></p>
                     <div class="table-contents">
                        <table summary="SchemaValidator &#12398;&#12467;&#12510;&#12531;&#12489;&#12521;&#12452;&#12531;&#12539;&#12458;&#12503;&#12471;&#12519;&#12531;" border="1">
                           <colgroup>
                              <col>
                              <col>
                           </colgroup>
                           <thead>
                              <tr>
                                 <th>&#12458;&#12503;&#12471;&#12519;&#12531;</th>
                                 <th>&#35500;&#26126;</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr>
                                 <td><code class="literal">--naming=eg.MyNamingStrategy</code></td>
                                 <td>select a <code class="literal">NamingStrategy</code></td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--properties=hibernate.properties</code></td>
                                 <td>read database properties from a file</td>
                              </tr>
                              <tr>
                                 <td><code class="literal">--config=hibernate.cfg.xml</code></td>
                                 <td>specify a <code class="literal">.cfg.xml</code> file
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div><br class="table-break"><p><code class="literal">SchemaValidator</code> &#12434;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#32068;&#12415;&#36796;&#12416;&#12371;&#12392;&#12364;&#20986;&#26469;&#12414;&#12377;: 
                  </p><pre class="programlisting">Configuration cfg = ....;
new SchemaValidator(cfg).validate();</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="toolsetguide-s1-9"></a>20.1.8. &#12473;&#12461;&#12540;&#12510;&#12398;&#12496;&#12522;&#12487;&#12540;&#12471;&#12519;&#12531;&#12395;Ant&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;
                           </h3>
                        </div>
                     </div>
                  </div>
                  <p>Ant&#12473;&#12463;&#12522;&#12503;&#12488;&#12363;&#12425; <code class="literal">SchemaValidator</code> &#12434;&#21628;&#12403;&#20986;&#12379;&#12414;&#12377;: 
                  </p><pre class="programlisting">&lt;target name="schemavalidate"&gt;
    &lt;taskdef name="schemavalidator"
        classname="org.hibernate.tool.hbm2ddl.SchemaValidatorTask"
        classpathref="class.path"/&gt;
    
    &lt;schemavalidator
        properties="hibernate.properties"&gt;
        &lt;fileset dir="src"&gt;
            &lt;include name="**/*.hbm.xml"/&gt;
        &lt;/fileset&gt;
    &lt;/schemavalidator&gt;
&lt;/target&gt;</pre></div>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="example-parentchild"></a>&#31532;21&#31456; &#20363;&#65306;&#35242;/&#23376;&#20379;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#26032;&#35215;&#12518;&#12540;&#12470;&#12364;Hibernate&#12434;&#20351;&#12387;&#12390;&#12414;&#12378;&#26368;&#21021;&#12395;&#25201;&#12358;&#12514;&#12487;&#12523;&#12398;&#19968;&#12388;&#12395;&#12289;&#35242;&#23376;&#22411;&#12398;&#12514;&#12487;&#12523;&#21270;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#12514;&#12487;&#12523;&#21270;&#12395;&#12399;&#20108;&#12388;&#12398;&#12450;&#12503;&#12525;&#12540;&#12481;&#12364;&#23384;&#22312;&#12375;&#12414;&#12377;&#12290;&#12392;&#12426;&#12431;&#12369;&#26032;&#35215;&#12518;&#12540;&#12470;&#12395;&#12392;&#12387;&#12390;&#12289; &#12373;&#12414;&#12374;&#12414;&#12394;&#29702;&#30001;&#12363;&#12425;&#26368;&#12418;&#20415;&#21033;&#12384;&#12392;&#24605;&#12431;&#12428;&#12427;&#12450;&#12503;&#12525;&#12540;&#12481;&#12399;&#12289;<code class="literal">&#35242;</code> &#12363;&#12425; <code class="literal">&#23376;&#20379;</code> &#12408;&#12398; <code class="literal">&lt;one-to-many&gt;</code> &#38306;&#36899;&#12395;&#12424;&#12426; <code class="literal">&#35242;</code> &#12392; <code class="literal">&#23376;&#20379;</code> &#12398;&#20001;&#26041;&#12434;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#12392;&#12375;&#12390;&#12514;&#12487;&#12522;&#12531;&#12464;&#12377;&#12427;&#26041;&#27861;&#12391;&#12377; &#65288;&#12418;&#12358;&#19968;&#12388;&#12398;&#26041;&#27861;&#12399;&#12289;<code class="literal">&#23376;&#20379;</code> &#12434; <code class="literal">&lt;composite-element&gt;</code> &#12392;&#12375;&#12390;&#23450;&#32681;&#12377;&#12427;&#12418;&#12398;&#12391;&#12377;&#65289;&#12290; &#12371;&#12428;&#12391;&#65288;Hibernate&#12395;&#12362;&#12369;&#12427;&#65289;&#19968;&#23550;&#22810;&#38306;&#36899;&#12398;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12364;&#12289;&#36890;&#24120;&#12398;&#35079;&#21512;&#35201;&#32032;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12424;&#12426;&#12418;&#12289; &#35242;&#23376;&#38306;&#20418;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12363;&#12425;&#36960;&#12356;&#12371;&#12392;&#12364;&#12431;&#12363;&#12426;&#12414;&#12377;&#12290; &#12381;&#12428;&#12391;&#12399;&#35242;&#23376;&#38306;&#20418;&#12434;&#21177;&#29575;&#30340;&#12363;&#12388;&#12456;&#12524;&#12460;&#12531;&#12488;&#12395;&#12514;&#12487;&#12522;&#12531;&#12464;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;
               <span class="emphasis"><em>&#12459;&#12473;&#12465;&#12540;&#12489;&#25805;&#20316;&#12434;&#20351;&#12387;&#12383;&#21452;&#26041;&#21521;&#19968;&#23550;&#22810;&#38306;&#36899;</em></span> &#12398;&#25201;&#12356;&#26041;&#12434;&#35500;&#26126;&#12375;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#12414;&#12387;&#12383;&#12367;&#38627;&#12375;&#12356;&#12418;&#12398;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; 
            </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-parentchild-collections"></a>21.1. &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#38306;&#12377;&#12427;&#27880;&#24847;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>Hibernate&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12399;&#33258;&#36523;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#35542;&#29702;&#30340;&#12394;&#37096;&#20998;&#12392;&#32771;&#12360;&#12425;&#12428;&#12289; &#27770;&#12375;&#12390;&#21253;&#21547;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#12418;&#12398;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290;&#12371;&#12428;&#12399;&#33268;&#21629;&#30340;&#12394;&#36949;&#12356;&#12391;&#12377;&#65281; &#12371;&#12428;&#12399;&#20197;&#19979;&#12398;&#12424;&#12358;&#12394;&#32080;&#26524;&#12395;&#12394;&#12426;&#12414;&#12377;&#65306; </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#21066;&#38500;&#12289;&#12414;&#12383;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36861;&#21152;&#12377;&#12427;&#12392;&#12365;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12458;&#12540;&#12490;&#12540;&#12398;&#12496;&#12540;&#12472;&#12519;&#12531;&#30058;&#21495;&#12399;&#12452;&#12531;&#12463;&#12522;&#12513;&#12531;&#12488;&#12373;&#12428;&#12414;&#12377;&#12290; </p>
                     </li>
                     <li>
                        <p>&#12418;&#12375;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#21066;&#38500;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12364;&#20516;&#22411;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473; &#65288;&#20363;&#12360;&#12400;&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#12456;&#12524;&#12513;&#12531;&#12488;)&#12384;&#12387;&#12383;&#12394;&#12425;&#12400;&#12289;&#12381;&#12398;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12399;&#27704;&#32154;&#30340;&#12391;&#12399;&#12394;&#12367;&#12394;&#12426;&#12289; &#12381;&#12398;&#29366;&#24907;&#12399;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#23436;&#20840;&#12395;&#21066;&#38500;&#12373;&#12428;&#12414;&#12377;&#12290; &#21516;&#12376;&#12424;&#12358;&#12395;&#12289;&#20516;&#22411;&#12398;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12434;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36861;&#21152;&#12377;&#12427;&#12392;&#12289;&#12381;&#12398;&#29366;&#24907;&#12399;&#12377;&#12368;&#12395;&#27704;&#32154;&#30340;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290;
                           
                        </p>
                     </li>
                     <li>
                        <p>&#19968;&#26041;&#12289;&#12418;&#12375;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#65288;&#19968;&#23550;&#22810;&#12414;&#12383;&#12399;&#22810;&#23550;&#22810;&#38306;&#36899;)&#12363;&#12425;&#21066;&#38500;&#12373;&#12428;&#12390;&#12418;&#12289; &#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12381;&#12428;&#12399;&#21066;&#38500;&#12373;&#12428;&#12414;&#12379;&#12435;&#12290;&#12371;&#12398;&#21205;&#20316;&#12399;&#23436;&#20840;&#12395;&#19968;&#36011;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12377;&#12394;&#12431;&#12385;&#12289;&#20182;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#20869;&#37096;&#29366;&#24907;&#12434;&#22793;&#26356;&#12375;&#12390;&#12418;&#12289;&#38306;&#36899;&#12377;&#12427;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#28040;&#28357;&#12377;&#12409;&#12365;&#12391;&#12399;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;&#12290;
                           &#21516;&#27096;&#12395;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36861;&#21152;&#12373;&#12428;&#12390;&#12418;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12391;&#12399;&#12381;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12399;&#27704;&#32154;&#30340;&#12395;&#12399;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12381;&#12398;&#20195;&#12431;&#12426;&#12395;&#12289;&#12487;&#12501;&#12457;&#12523;&#12488;&#12398;&#21205;&#20316;&#12391;&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36861;&#21152;&#12377;&#12427;&#12392;&#21336;&#12395;&#20108;&#12388;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#38291;&#12398;&#12522;&#12531;&#12463;&#12434;&#20316;&#25104;&#12375;&#12289; &#19968;&#26041;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12434;&#21066;&#38500;&#12377;&#12427;&#12392;&#12522;&#12531;&#12463;&#12418;&#21066;&#38500;&#12375;&#12414;&#12377;&#12290;&#12371;&#12428;&#12399;&#12377;&#12409;&#12390;&#12398;&#12465;&#12540;&#12473;&#12395;&#12362;&#12356;&#12390;&#38750;&#24120;&#12395;&#36969;&#20999;&#12391;&#12377;&#12290; &#12371;&#12428;&#12364;&#36969;&#20999;&#12391;&#12394;&#12356;&#12398;&#12399;&#35242;/&#23376;&#38306;&#20418;&#12398;&#22580;&#21512;&#12391;&#12377;&#12290;&#12371;&#12398;&#22580;&#21512;&#23376;&#20379;&#12398;&#29983;&#23384;&#12399;&#35242;&#12398;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12395;&#21046;&#38480;&#12373;&#12428;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290;
                  
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-parentchild-bidir"></a>21.2. &#21452;&#26041;&#21521;&#19968;&#23550;&#22810;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Parent</code> &#12363;&#12425; <code class="literal">Child</code> &#12408;&#12398;&#21336;&#32020;&#12394; <code class="literal">&lt;one-to-many&gt;</code> &#38306;&#36899;&#12363;&#12425;&#22987;&#12417;&#12427;&#12392;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;set name="children"&gt;
    &lt;key column="parent_id"/&gt;
    &lt;one-to-many class="Child"/&gt;
&lt;/set&gt;</pre><p>&#20197;&#19979;&#12398;&#12467;&#12540;&#12489;&#12434;&#23455;&#34892;&#12377;&#12427;&#12392;&#12289; </p><pre class="programlisting">Parent p = .....;
Child c = new Child();
p.getChildren().add(c);
session.save(c);
session.flush();</pre><p>Hibernate&#12399;&#20108;&#12388;&#12398;SQL&#25991;&#12434;&#30330;&#34892;&#12375;&#12414;&#12377;: </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><code class="literal">c</code>&#12395;&#23550;&#12377;&#12427;&#12524;&#12467;&#12540;&#12489;&#12434;&#29983;&#25104;&#12377;&#12427;<code class="literal">INSERT</code></p>
                     </li>
                     <li>
                        <p><code class="literal">p</code>&#12363;&#12425;<code class="literal">c</code>&#12408;&#12398;&#12522;&#12531;&#12463;&#12434;&#20316;&#25104;&#12377;&#12427;<code class="literal">UPDATE</code> 
                        </p>
                     </li>
                  </ul>
               </div>
               <p>&#12371;&#12428;&#12399;&#38750;&#21177;&#29575;&#30340;&#12394;&#12384;&#12369;&#12391;&#12399;&#12394;&#12367;&#12289;<code class="literal">parent_id</code> &#12459;&#12521;&#12512;&#12395;&#12362;&#12356;&#12390; <code class="literal">NOT NULL</code> &#21046;&#32004;&#12395;&#36949;&#21453;&#12375;&#12414;&#12377;&#12290; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391; <code class="literal">not-null="true"</code> &#12392;&#25351;&#23450;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;null&#21046;&#32004;&#36949;&#21453;&#12434;&#35299;&#27770;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;: 
               </p><pre class="programlisting">&lt;set name="children"&gt;
    &lt;key column="parent_id" not-null="true"/&gt;
    &lt;one-to-many class="Child"/&gt;
&lt;/set&gt;</pre><p>&#12375;&#12363;&#12375;&#12371;&#12398;&#35299;&#27770;&#31574;&#12399;&#25512;&#22888;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; </p>
               <p>&#12371;&#12398;&#21205;&#20316;&#12398;&#26681;&#26412;&#30340;&#12394;&#21407;&#22240;&#12399;&#12289;<code class="literal">p</code> &#12363;&#12425; <code class="literal">c</code> &#12408;&#12398;&#12522;&#12531;&#12463; &#65288;&#22806;&#37096;&#12461;&#12540; <code class="literal">parent_id</code>)&#12399; <code class="literal">Child</code> &#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29366;&#24907;&#12398;&#19968;&#37096;&#12392;&#12399;&#32771;&#12360;&#12425;&#12428;&#12378;&#12289; &#12381;&#12398;&#12383;&#12417; <code class="literal">INSERT</code> &#12395;&#12424;&#12387;&#12390;&#12522;&#12531;&#12463;&#12364;&#29983;&#25104;&#12373;&#12428;&#12394;&#12356;&#12371;&#12392;&#12391;&#12377;&#12290; &#12391;&#12377;&#12363;&#12425;&#12289;&#35299;&#27770;&#31574;&#12399;&#12522;&#12531;&#12463;&#12434;Child&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#19968;&#37096;&#12395;&#12377;&#12427;&#12371;&#12392;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;many-to-one name="parent" column="parent_id" not-null="true"/&gt;</pre><p>(&#12414;&#12383; <code class="literal">Child</code> &#12463;&#12521;&#12473;&#12395; <code class="literal">parent</code> &#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#36861;&#21152;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290;) 
               </p>
               <p>&#12381;&#12428;&#12391;&#12399; <code class="literal">Child</code> &#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12364;&#12522;&#12531;&#12463;&#12398;&#29366;&#24907;&#12434;&#21046;&#24481;&#12377;&#12427;&#12424;&#12358;&#12395;&#12394;&#12387;&#12383;&#12398;&#12391;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12364;&#12522;&#12531;&#12463;&#12434;&#26356;&#26032;&#12375;&#12394;&#12356;&#12424;&#12358;&#12395;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;&#12381;&#12428;&#12395;&#12399; <code class="literal">inverse</code> &#23646;&#24615;&#12434;&#20351;&#12356;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;set name="children" inverse="true"&gt;
    &lt;key column="parent_id"/&gt;
    &lt;one-to-many class="Child"/&gt;
&lt;/set&gt;</pre><p>&#20197;&#19979;&#12398;&#12467;&#12540;&#12489;&#12434;&#20351;&#12360;&#12400;&#12289;&#26032;&#12375;&#12356; <code class="literal">Child</code> &#12434;&#36861;&#21152;&#12377;&#12427;&#12371;&#12392;&#12364;&#12391;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Parent p = (Parent) session.load(Parent.class, pid);
Child c = new Child();
c.setParent(p);
p.getChildren().add(c);
session.save(c);
session.flush();</pre><p>&#12371;&#12428;&#12395;&#12424;&#12426;&#12289;SQL&#12398; <code class="literal">INSERT</code> &#25991;&#12364;&#19968;&#12388;&#12384;&#12369;&#12364;&#30330;&#34892;&#12373;&#12428;&#12427;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12375;&#12383;&#65281; 
               </p>
               <p>&#12418;&#12358;&#23569;&#12375;&#24375;&#21270;&#12377;&#12427;&#12395;&#12399;&#12289;<code class="literal">Parent</code> &#12398; <code class="literal">addChild()</code> &#12513;&#12477;&#12483;&#12489;&#12434;&#20316;&#25104;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">public void addChild(Child c) {
    c.setParent(this);
    children.add(c);
}</pre><p><code class="literal">Child</code> &#12434;&#36861;&#21152;&#12377;&#12427;&#12467;&#12540;&#12489;&#12399;&#12371;&#12398;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Parent p = (Parent) session.load(Parent.class, pid);
Child c = new Child();
p.addChild(c);
session.save(c);
session.flush();</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-parentchild-cascades"></a>21.3. &#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#12398;&#12459;&#12473;&#12465;&#12540;&#12489;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#26126;&#31034;&#30340;&#12395; <code class="literal">save()</code> &#12434;&#12467;&#12540;&#12523;&#12377;&#12427;&#12398;&#12399;&#12414;&#12384;&#29033;&#12431;&#12375;&#12356;&#12418;&#12398;&#12391;&#12377;&#12290;&#12371;&#12428;&#12434;&#12459;&#12473;&#12465;&#12540;&#12489;&#12434;&#20351;&#12387;&#12390;&#23550;&#20966;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">&lt;set name="children" inverse="true" cascade="all"&gt;
    &lt;key column="parent_id"/&gt;
    &lt;one-to-many class="Child"/&gt;
&lt;/set&gt;</pre><p>&#12371;&#12428;&#12395;&#12424;&#12426;&#20808;&#12411;&#12393;&#12398;&#12467;&#12540;&#12489;&#12434;&#12371;&#12398;&#12424;&#12358;&#12395;&#21336;&#32020;&#21270;&#12375;&#12414;&#12377; </p><pre class="programlisting">Parent p = (Parent) session.load(Parent.class, pid);
Child c = new Child();
p.addChild(c);
session.flush();</pre><p>&#21516;&#27096;&#12395; <code class="literal">Parent</code> &#12434;&#20445;&#23384;&#12414;&#12383;&#12399;&#21066;&#38500;&#12377;&#12427;&#12392;&#12365;&#12395;&#12289;&#23376;&#20379;&#12434;&#19968;&#12388;&#19968;&#12388;&#21462;&#12426;&#20986;&#12375;&#12390;&#25201;&#12358;&#24517;&#35201;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#20197;&#19979;&#12398;&#12467;&#12540;&#12489;&#12399; <code class="literal">p</code> &#12434;&#21066;&#38500;&#12375;&#12289;&#12381;&#12375;&#12390;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425;&#12381;&#12398;&#23376;&#20379;&#12434;&#12377;&#12409;&#12390;&#21066;&#38500;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Parent p = (Parent) session.load(Parent.class, pid);
session.delete(p);
session.flush();</pre><p>&#12375;&#12363;&#12375;&#12371;&#12398;&#12467;&#12540;&#12489;&#12399; </p><pre class="programlisting">Parent p = (Parent) session.load(Parent.class, pid);
Child c = (Child) p.getChildren().iterator().next();
p.getChildren().remove(c);
c.setParent(null);
session.flush();</pre><p>&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12363;&#12425; <code class="literal">c</code> &#12434;&#21066;&#38500;&#12375;&#12414;&#12379;&#12435;&#12290;<code class="literal">p</code> &#12408;&#12398;&#12522;&#12531;&#12463;&#12434;&#21066;&#38500;&#12377;&#12427; &#65288;&#12381;&#12375;&#12390;&#12371;&#12398;&#12465;&#12540;&#12473;&#12391;&#12399; <code class="literal">NOT NULL</code> &#21046;&#32004;&#36949;&#21453;&#12434;&#24341;&#12365;&#36215;&#12371;&#12377;&#65289;&#12384;&#12369;&#12391;&#12377;&#12290; <code class="literal">Child</code> &#12398; <code class="literal">delete()</code> &#12434;&#26126;&#31034;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">Parent p = (Parent) session.load(Parent.class, pid);
Child c = (Child) p.getChildren().iterator().next();
p.getChildren().remove(c);
session.delete(c);
session.flush();</pre><p>&#20170;&#12371;&#12398;&#12465;&#12540;&#12473;&#12391;&#12399;&#23455;&#38555;&#12395; <code class="literal">Child</code> &#12364;&#35242;&#12394;&#12375;&#12391;&#12399;&#23384;&#22312;&#12391;&#12365;&#12394;&#12356;&#12424;&#12358;&#12395;&#12394;&#12426;&#12414;&#12375;&#12383;&#12290; &#12381;&#12398;&#12383;&#12417;&#12289;&#12418;&#12375;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425; <code class="literal">Child</code> &#12434;&#21462;&#12426;&#38500;&#12367;&#22580;&#21512;&#12289;&#12371;&#12428;&#12418;&#21066;&#38500;&#12375;&#12383;&#12356;&#12391;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12395;&#12399; <code class="literal">cascade="all-delete-orphan"</code> &#12434;&#20351;&#12431;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; 
               </p><pre class="programlisting">&lt;set name="children" inverse="true" cascade="all-delete-orphan"&gt;
    &lt;key column="parent_id"/&gt;
    &lt;one-to-many class="Child"/&gt;
&lt;/set&gt;</pre><p>&#27880;&#24847;&#65306;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12391; <code class="literal">inverse="true"</code> &#12392;&#25351;&#23450;&#12375;&#12390;&#12418;&#12289; &#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12398;&#35201;&#32032;&#12398;&#12452;&#12486;&#12524;&#12540;&#12471;&#12519;&#12531;&#12395;&#12424;&#12387;&#12390;&#12289;&#20381;&#28982;&#12459;&#12473;&#12465;&#12540;&#12489;&#12364;&#23455;&#34892;&#12373;&#12428;&#12414;&#12377;&#12290; &#12381;&#12398;&#12383;&#12417;&#12418;&#12375;&#12459;&#12473;&#12465;&#12540;&#12489;&#12391;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12475;&#12540;&#12502;&#12289;&#21066;&#38500;&#12289;&#26356;&#26032;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12394;&#12425;&#12289; &#12381;&#12428;&#12434;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12395;&#36861;&#21152;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290;&#21336;&#12395; <code class="literal">setParent()</code> &#12434;&#21628;&#12406;&#12384;&#12369;&#12391;&#12399;&#19981;&#21313;&#20998;&#12391;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-parentchild-update"></a>21.4. &#12459;&#12473;&#12465;&#12540;&#12489;&#12392; <code class="literal">unsaved-value</code></h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Parent</code> &#12364;&#12289;&#12354;&#12427; <code class="literal">Session</code> &#12391;&#12525;&#12540;&#12489;&#12373;&#12428;&#12289;UI&#12398;&#12450;&#12463;&#12471;&#12519;&#12531;&#12391;&#22793;&#26356;&#12364;&#21152;&#12360;&#12425;&#12428;&#12289; <code class="literal">update()</code> &#12434;&#21628;&#12435;&#12391;&#12371;&#12398;&#22793;&#26356;&#12434;&#26032;&#12375;&#12356;&#12475;&#12483;&#12471;&#12519;&#12531;&#12391;&#27704;&#32154;&#21270;&#12375;&#12383;&#12356;&#12392;&#12375;&#12414;&#12377;&#12290; <code class="literal">Parent</code> &#12364;&#23376;&#20379;&#12398;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#25345;&#12385;&#12289;&#12459;&#12473;&#12465;&#12540;&#12489;&#26356;&#26032;&#12364;&#26377;&#21177;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12383;&#12417;&#12289; Hibernate&#12399;&#12393;&#12398;&#23376;&#20379;&#12364;&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12363;&#12289;&#12393;&#12428;&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12398;&#26082;&#23384;&#12398;&#34892;&#12395;&#30456;&#24403;&#12377;&#12427;&#12398;&#12363;&#12434;&#30693;&#12427;&#24517;&#35201;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">Parent</code> &#12392; <code class="literal">Child</code> &#12398;&#20001;&#26041;&#12364; <code class="literal">java.lang.Long</code> &#22411;&#12398;&#35672;&#21029;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#29983;&#25104;&#12375;&#12383;&#12392;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; Hibernate&#12399;&#12393;&#12398;&#23376;&#20379;&#12364;&#26032;&#12375;&#12356;&#12418;&#12398;&#12363;&#12434;&#27770;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#35672;&#21029;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#20516;&#12434;&#20351;&#12356;&#12414;&#12377;(version&#12420;timestamp&#12503;&#12525;&#12497;&#12486;&#12451;&#12418;&#20351;&#12360;&#12414;&#12377;&#12290; <a href="#">???</a> &#21442;&#29031;)&#12290;Hibernate3&#12395;&#12394;&#12387;&#12390;&#12289; &#26126;&#31034;&#30340;&#12395; <code class="literal">unsaved-value</code> &#12434;&#25351;&#23450;&#12377;&#12427;&#24517;&#35201;&#12399;&#12394;&#12367;&#12394;&#12426;&#12414;&#12375;&#12383;&#12290; 
               </p>
               <p>&#20197;&#19979;&#12398;&#12467;&#12540;&#12489;&#12399; <code class="literal">parent</code> &#12392; <code class="literal">child</code> &#12434;&#26356;&#26032;&#12375;&#12289;<code class="literal">newChild</code> &#12434;&#25407;&#20837;&#12375;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">//parent and child were both loaded in a previous session
parent.addChild(child);
Child newChild = new Child();
parent.addChild(newChild);
session.update(parent);
session.flush();</pre><p>&#12371;&#12428;&#12425;&#12399;&#29983;&#25104;&#12373;&#12428;&#12383;&#35672;&#21029;&#23376;&#12398;&#22580;&#21512;&#12395;&#12399;&#38750;&#24120;&#12395;&#33391;&#12356;&#12398;&#12391;&#12377;&#12364;&#12289;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12383;&#35672;&#21029;&#23376;&#12392;&#35079;&#21512;&#35672;&#21029;&#23376;&#12398;&#22580;&#21512;&#12399;&#12393;&#12358;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; &#12371;&#12428;&#12399;Hibernate&#12364;&#12289;&#65288;&#12518;&#12540;&#12470;&#12395;&#12424;&#12426;&#21106;&#12426;&#24403;&#12390;&#12425;&#12428;&#12383;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#65289;&#26032;&#12375;&#12367;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#21270;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#12289; &#20197;&#21069;&#12398;Session&#12391;&#12525;&#12540;&#12489;&#12373;&#12428;&#12383;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#21306;&#21029;&#12391;&#12365;&#12394;&#12356;&#12383;&#12417;&#12289;&#12424;&#12426;&#38627;&#12375;&#12356;&#12391;&#12377;&#12290;
                  &#12371;&#12398;&#22580;&#21512;&#12289;Hibernate&#12399;&#12479;&#12452;&#12512;&#12473;&#12479;&#12531;&#12503;&#12363;&#12496;&#12540;&#12472;&#12519;&#12531;&#12398;&#12503;&#12525;&#12497;&#12486;&#12451;&#12398;&#12393;&#12385;&#12425;&#12363;&#12434;&#20351;&#12358;&#12363;&#12289;&#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#21839;&#12356;&#21512;&#12431;&#12379;&#12414;&#12377;&#12290; &#26368;&#24746;&#12398;&#22580;&#21512;&#12289;&#34892;&#12364;&#23384;&#22312;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#35211;&#12414;&#12377;&#12290; 
               </p>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-parentchild-conclusion"></a>21.5. &#32080;&#35542;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12371;&#12371;&#12391;&#12399;&#12363;&#12394;&#12426;&#12398;&#37327;&#12434;&#35201;&#32004;&#12375;&#12383;&#12398;&#12391;&#12289;&#26368;&#21021;&#12398;&#38915;&#12399;&#28151;&#20081;&#12375;&#12390;&#12356;&#12427;&#12424;&#12358;&#12395;&#24605;&#12431;&#12428;&#12427;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#23455;&#38555;&#12399;&#12289;&#12377;&#12409;&#12390;&#38750;&#24120;&#12395;&#33391;&#12367;&#21205;&#20316;&#12375;&#12414;&#12377;&#12290;&#12411;&#12392;&#12435;&#12393;&#12398;Hibernate&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289;&#22810;&#12367;&#12398;&#22580;&#38754;&#12391;&#35242;&#23376;&#12497;&#12479;&#12540;&#12531;&#12434;&#20351;&#29992;&#12375;&#12414;&#12377;&#12290; </p>
               <p>&#26368;&#21021;&#12398;&#27573;&#33853;&#12391;&#20195;&#26367;&#26041;&#27861;&#12395;&#12388;&#12356;&#12390;&#35302;&#12428;&#12414;&#12375;&#12383;&#12290;&#19978;&#35352;&#12398;&#12424;&#12358;&#12394;&#21839;&#38988;&#12399; <code class="literal">&lt;composite-element&gt;</code> &#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#22580;&#21512;&#12399;&#23384;&#22312;&#12379;&#12378;&#12289; &#12395;&#12418;&#12363;&#12363;&#12431;&#12425;&#12378;&#12381;&#12428;&#12399;&#30906;&#12363;&#12395;&#35242;&#23376;&#38306;&#20418;&#12398;&#12475;&#12510;&#12531;&#12486;&#12451;&#12463;&#12473;&#12434;&#25345;&#12385;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#27531;&#24565;&#12394;&#12364;&#12425;&#12289;&#35079;&#21512;&#35201;&#32032;&#12463;&#12521;&#12473;&#12395;&#12399;&#20108;&#12388;&#12398;&#22823;&#12365;&#12394;&#21046;&#38480;&#12364;&#12354;&#12426;&#12414;&#12377;&#65306; 1&#12388;&#12399;&#35079;&#21512;&#35201;&#32032;&#12399;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#25345;&#12388;&#12371;&#12392;&#12364;&#12391;&#12365;&#12394;&#12356;&#12371;&#12392;&#12391;&#12377;&#12290;&#12418;&#12358;&#12402;&#12392;&#12388;&#12399;&#12289; &#12518;&#12491;&#12540;&#12463;&#12394;&#35242;&#12391;&#12399;&#12394;&#12356;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12398;&#23376;&#20379;&#12392;&#12394;&#12427;&#12409;&#12365;&#12391;&#12399;&#12394;&#12356;&#12392;&#12356;&#12358;&#12371;&#12392;&#12391;&#12377;
                  
               </p>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="example-weblog"></a>&#31532;22&#31456; &#20363;: Weblog&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-weblog-classes"></a>22.1. &#27704;&#32154;&#12463;&#12521;&#12473;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#27704;&#32154;&#12463;&#12521;&#12473;&#12364;&#12454;&#12455;&#12502;&#12525;&#12464;&#12392;&#12289;&#12454;&#12455;&#12502;&#12525;&#12464;&#12395;&#25522;&#31034;&#12373;&#12428;&#12383;&#38917;&#30446;&#12434;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#12381;&#12428;&#12425;&#12399;&#36890;&#24120;&#12398;&#35242;&#23376;&#38306;&#20418;&#12392;&#12375;&#12390;&#12514;&#12487;&#12522;&#12531;&#12464;&#12373;&#12428;&#12414;&#12377;&#12364;&#12289; set&#12391;&#12399;&#12394;&#12367;&#38918;&#24207;&#12434;&#25345;&#12387;&#12383;bag&#12434;&#20351;&#29992;&#12377;&#12427;&#12371;&#12392;&#12395;&#12375;&#12414;&#12377;&#12290; </p><pre class="programlisting">package eg;

import java.util.List;

public class Blog {
    private Long _id;
    private String _name;
    private List _items;

    public Long getId() {
        return _id;
    }
    public List getItems() {
        return _items;
    }
    public String getName() {
        return _name;
    }
    public void setId(Long long1) {
        _id = long1;
    }
    public void setItems(List list) {
        _items = list;
    }
    public void setName(String string) {
        _name = string;
    }
}</pre><pre class="programlisting">package eg;

import java.text.DateFormat;
import java.util.Calendar;

public class BlogItem {
    private Long _id;
    private Calendar _datetime;
    private String _text;
    private String _title;
    private Blog _blog;

    public Blog getBlog() {
        return _blog;
    }
    public Calendar getDatetime() {
        return _datetime;
    }
    public Long getId() {
        return _id;
    }
    public String getText() {
        return _text;
    }
    public String getTitle() {
        return _title;
    }
    public void setBlog(Blog blog) {
        _blog = blog;
    }
    public void setDatetime(Calendar calendar) {
        _datetime = calendar;
    }
    public void setId(Long long1) {
        _id = long1;
    }
    public void setText(String string) {
        _text = string;
    }
    public void setTitle(String string) {
        _title = string;
    }
}</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-weblog-mappings"></a>22.2. Hibernate&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>XML&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#12289;&#20170;&#12391;&#12399;&#12392;&#12390;&#12418;&#31777;&#21336;&#12394;&#12399;&#12378;&#12391;&#12377;&#12290; </p><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;

&lt;hibernate-mapping package="eg"&gt;

    &lt;class
        name="Blog"
        table="BLOGS"&gt;

        &lt;id
            name="id"
            column="BLOG_ID"&gt;

            &lt;generator class="native"/&gt;

        &lt;/id&gt;

        &lt;property
            name="name"
            column="NAME"
            not-null="true"
            unique="true"/&gt;

        &lt;bag
            name="items"
            inverse="true"
            order-by="DATE_TIME"
            cascade="all"&gt;

            &lt;key column="BLOG_ID"/&gt;
            &lt;one-to-many class="BlogItem"/&gt;

        &lt;/bag&gt;

    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"&gt;

&lt;hibernate-mapping package="eg"&gt;

    &lt;class
        name="BlogItem"
        table="BLOG_ITEMS"
        dynamic-update="true"&gt;

        &lt;id
            name="id"
            column="BLOG_ITEM_ID"&gt;

            &lt;generator class="native"/&gt;

        &lt;/id&gt;

        &lt;property
            name="title"
            column="TITLE"
            not-null="true"/&gt;

        &lt;property
            name="text"
            column="TEXT"
            not-null="true"/&gt;

        &lt;property
            name="datetime"
            column="DATE_TIME"
            not-null="true"/&gt;

        &lt;many-to-one
            name="blog"
            column="BLOG_ID"
            not-null="true"/&gt;

    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-weblog-code"></a>22.3. Hibernate&#12398;&#12467;&#12540;&#12489;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#20197;&#19979;&#12398;&#12463;&#12521;&#12473;&#12399;&#12289; Hibernate&#12391;&#12371;&#12428;&#12425;&#12398;&#12463;&#12521;&#12473;&#12434;&#20351;&#12387;&#12390;&#12391;&#12365;&#12427;&#12371;&#12392;&#12434;&#12356;&#12367;&#12388;&#12363;&#31034;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p><pre class="programlisting">package eg;

import java.util.ArrayList;
import java.util.Calendar;
import java.util.Iterator;
import java.util.List;

import org.hibernate.HibernateException;
import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;
import org.hibernate.tool.hbm2ddl.SchemaExport;

public class BlogMain {
    
    private SessionFactory _sessions;
    
    public void configure() throws HibernateException {
        _sessions = new Configuration()
            .addClass(Blog.class)
            .addClass(BlogItem.class)
            .buildSessionFactory();
    }
    
    public void exportTables() throws HibernateException {
        Configuration cfg = new Configuration()
            .addClass(Blog.class)
            .addClass(BlogItem.class);
        new SchemaExport(cfg).create(true, true);
    }
    
    public Blog createBlog(String name) throws HibernateException {
        
        Blog blog = new Blog();
        blog.setName(name);
        blog.setItems( new ArrayList() );
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        try {
            tx = session.beginTransaction();
            session.persist(blog);
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
        return blog;
    }
    
    public BlogItem createBlogItem(Blog blog, String title, String text)
                        throws HibernateException {
        
        BlogItem item = new BlogItem();
        item.setTitle(title);
        item.setText(text);
        item.setBlog(blog);
        item.setDatetime( Calendar.getInstance() );
        blog.getItems().add(item);
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        try {
            tx = session.beginTransaction();
            session.update(blog);
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
        return item;
    }
    
    public BlogItem createBlogItem(Long blogid, String title, String text)
                        throws HibernateException {
        
        BlogItem item = new BlogItem();
        item.setTitle(title);
        item.setText(text);
        item.setDatetime( Calendar.getInstance() );
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        try {
            tx = session.beginTransaction();
            Blog blog = (Blog) session.load(Blog.class, blogid);
            item.setBlog(blog);
            blog.getItems().add(item);
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
        return item;
    }
    
    public void updateBlogItem(BlogItem item, String text)
                    throws HibernateException {
        
        item.setText(text);
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        try {
            tx = session.beginTransaction();
            session.update(item);
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
    }
    
    public void updateBlogItem(Long itemid, String text)
                    throws HibernateException {
    
        Session session = _sessions.openSession();
        Transaction tx = null;
        try {
            tx = session.beginTransaction();
            BlogItem item = (BlogItem) session.load(BlogItem.class, itemid);
            item.setText(text);
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
    }
    
    public List listAllBlogNamesAndItemCounts(int max)
                    throws HibernateException {
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        List result = null;
        try {
            tx = session.beginTransaction();
            Query q = session.createQuery(
                "select blog.id, blog.name, count(blogItem) " +
                "from Blog as blog " +
                "left outer join blog.items as blogItem " +
                "group by blog.name, blog.id " +
                "order by max(blogItem.datetime)"
            );
            q.setMaxResults(max);
            result = q.list();
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
        return result;
    }
    
    public Blog getBlogAndAllItems(Long blogid)
                    throws HibernateException {
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        Blog blog = null;
        try {
            tx = session.beginTransaction();
            Query q = session.createQuery(
                "from Blog as blog " +
                "left outer join fetch blog.items " +
                "where blog.id = :blogid"
            );
            q.setParameter("blogid", blogid);
            blog  = (Blog) q.uniqueResult();
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
        return blog;
    }
    
    public List listBlogsAndRecentItems() throws HibernateException {
        
        Session session = _sessions.openSession();
        Transaction tx = null;
        List result = null;
        try {
            tx = session.beginTransaction();
            Query q = session.createQuery(
                "from Blog as blog " +
                "inner join blog.items as blogItem " +
                "where blogItem.datetime &gt; :minDate"
            );

            Calendar cal = Calendar.getInstance();
            cal.roll(Calendar.MONTH, false);
            q.setCalendar("minDate", cal);
            
            result = q.list();
            tx.commit();
        }
        catch (HibernateException he) {
            if (tx!=null) tx.rollback();
            throw he;
        }
        finally {
            session.close();
        }
        return result;
    }
}</pre></div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="example-mappings"></a>&#31532;23&#31456; &#20363;&#65306;&#12356;&#12429;&#12356;&#12429;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;
                     </h2>
                  </div>
               </div>
            </div>
            <p>&#12371;&#12398;&#31456;&#12391;&#12399;&#12289;&#12424;&#12426;&#35079;&#38609;&#12394;&#38306;&#36899;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12356;&#12367;&#12388;&#12363;&#32057;&#20171;&#12375;&#12414;&#12377;&#12290; </p>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-mappings-emp"></a>23.1. &#38599;&#29992;&#32773;/&#24467;&#26989;&#21729;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Employer</code> &#12392; <code class="literal">Employee</code> &#12398;&#38306;&#20418;&#12434;&#34920;&#12377;&#20197;&#19979;&#12398;&#12514;&#12487;&#12523;&#12399;&#12289; &#38306;&#36899;&#12398;&#34920;&#29694;&#12395;&#23455;&#38555;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12463;&#12521;&#12473;&#65288; <code class="literal">Employment</code> &#65289; &#12434;&#20351;&#12356;&#12414;&#12377;&#12290; &#12394;&#12380;&#12394;&#12425;&#12289;&#21516;&#12376;2&#12388;&#12398;&#12497;&#12540;&#12486;&#12451;&#12395;&#35079;&#25968;&#12398;&#26399;&#38291;&#38599;&#29992;&#12373;&#12428;&#12427;&#12392;&#12356;&#12358;&#12371;&#12392;&#12364;&#12354;&#12426;&#12360;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290; &#12362;&#37329;&#12398;&#20516;&#12392;&#24467;&#26989;&#21729;&#12398;&#21517;&#21069;&#12434;&#12514;&#12487;&#12523;&#21270;&#12377;&#12427;&#12383;&#12417;&#12395;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12434;&#20351;&#12387;&#12390;&#12356;&#12414;&#12377;&#12290; 
               </p>
               <div class="mediaobject" align="center"><img src="images/EmployerEmployee.png" align="middle"></div>
               <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12398;&#19968;&#20363;&#12391;&#12377;&#65306; </p><pre class="programlisting">&lt;hibernate-mapping&gt;
        
    &lt;class name="Employer" table="employers"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"&gt;
                &lt;param name="sequence"&gt;employer_id_seq&lt;/param&gt;
            &lt;/generator&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
    &lt;/class&gt;

    &lt;class name="Employment" table="employment_periods"&gt;

        &lt;id name="id"&gt;
            &lt;generator class="sequence"&gt;
                &lt;param name="sequence"&gt;employment_id_seq&lt;/param&gt;
            &lt;/generator&gt;
        &lt;/id&gt;
        &lt;property name="startDate" column="start_date"/&gt;
        &lt;property name="endDate" column="end_date"/&gt;

        &lt;component name="hourlyRate" class="MonetaryAmount"&gt;
            &lt;property name="amount"&gt;
                &lt;column name="hourly_rate" sql-type="NUMERIC(12, 2)"/&gt;
            &lt;/property&gt;
            &lt;property name="currency" length="12"/&gt;
        &lt;/component&gt;

        &lt;many-to-one name="employer" column="employer_id" not-null="true"/&gt;
        &lt;many-to-one name="employee" column="employee_id" not-null="true"/&gt;

    &lt;/class&gt;

    &lt;class name="Employee" table="employees"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="sequence"&gt;
                &lt;param name="sequence"&gt;employee_id_seq&lt;/param&gt;
            &lt;/generator&gt;
        &lt;/id&gt;
        &lt;property name="taxfileNumber"/&gt;
        &lt;component name="name" class="Name"&gt;
            &lt;property name="firstName"/&gt;
            &lt;property name="initial"/&gt;
            &lt;property name="lastName"/&gt;
        &lt;/component&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p><code class="literal">SchemaExport</code> &#12391;&#29983;&#25104;&#12375;&#12383;&#12486;&#12540;&#12502;&#12523;&#12473;&#12461;&#12540;&#12510;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">create table employers (
    id BIGINT not null, 
    name VARCHAR(255), 
    primary key (id)
)

create table employment_periods (
    id BIGINT not null,
    hourly_rate NUMERIC(12, 2),
    currency VARCHAR(12), 
    employee_id BIGINT not null, 
    employer_id BIGINT not null, 
    end_date TIMESTAMP, 
    start_date TIMESTAMP, 
    primary key (id)
)

create table employees (
    id BIGINT not null, 
    firstName VARCHAR(255), 
    initial CHAR(1), 
    lastName VARCHAR(255), 
    taxfileNumber VARCHAR(255), 
    primary key (id)
)

alter table employment_periods 
    add constraint employment_periodsFK0 foreign key (employer_id) references employers
alter table employment_periods 
    add constraint employment_periodsFK1 foreign key (employee_id) references employees
create sequence employee_id_seq
create sequence employment_id_seq
create sequence employer_id_seq</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-mappings-authorwork"></a>23.2. &#20316;&#32773;/&#20316;&#21697;
                        </h2>
                     </div>
                  </div>
               </div>
               <p><code class="literal">Work</code> , <code class="literal">Author</code> &#12381;&#12375;&#12390; <code class="literal">Person</code> &#12398;&#38306;&#20418;&#12434;&#34920;&#12377;&#20197;&#19979;&#12398;&#12514;&#12487;&#12523;&#12434;&#32771;&#12360;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; <code class="literal">Work</code> &#12392; <code class="literal">Author</code> &#12398;&#38306;&#20418;&#12434;&#22810;&#23550;&#22810;&#38306;&#36899;&#12391;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; <code class="literal">Author</code> &#12392; <code class="literal">Person</code> &#12398;&#38306;&#20418;&#12399;&#19968;&#23550;&#19968;&#38306;&#36899;&#12392;&#12375;&#12390;&#34920;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; &#20182;&#12395;&#12399; <code class="literal">Author</code> &#12364; <code class="literal">Person</code> &#12434;&#25313;&#24373;&#12377;&#12427;&#12392;&#12356;&#12358;&#26041;&#27861;&#12418;&#12354;&#12426;&#12414;&#12377;&#12290; 
               </p>
               <div class="mediaobject" align="center"><img src="images/AuthorWork.png" align="middle"></div>
               <p>&#20197;&#19979;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12399;&#12371;&#12398;&#12424;&#12358;&#12394;&#38306;&#20418;&#12434;&#27491;&#30906;&#12395;&#34920;&#29694;&#12375;&#12390;&#12356;&#12414;&#12377;&#12290; </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="Work" table="works" discriminator-value="W"&gt;

        &lt;id name="id" column="id"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;discriminator column="type" type="character"/&gt;

        &lt;property name="title"/&gt;
        &lt;set name="authors" table="author_work"&gt;
            &lt;key column name="work_id"/&gt;
            &lt;many-to-many class="Author" column name="author_id"/&gt;
        &lt;/set&gt;

        &lt;subclass name="Book" discriminator-value="B"&gt;
            &lt;property name="text"/&gt;
        &lt;/subclass&gt;

        &lt;subclass name="Song" discriminator-value="S"&gt;
            &lt;property name="tempo"/&gt;
            &lt;property name="genre"/&gt;
        &lt;/subclass&gt;

    &lt;/class&gt;

    &lt;class name="Author" table="authors"&gt;

        &lt;id name="id" column="id"&gt;
            &lt;!-- The Author must have the same identifier as the Person --&gt;
            &lt;generator class="assigned"/&gt; 
        &lt;/id&gt;

        &lt;property name="alias"/&gt;
        &lt;one-to-one name="person" constrained="true"/&gt;

        &lt;set name="works" table="author_work" inverse="true"&gt;
            &lt;key column="author_id"/&gt;
            &lt;many-to-many class="Work" column="work_id"/&gt;
        &lt;/set&gt;

    &lt;/class&gt;

    &lt;class name="Person" table="persons"&gt;
        &lt;id name="id" column="id"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p>&#12371;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12395;&#12399;4&#12388;&#12398;&#12486;&#12540;&#12502;&#12523;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; <code class="literal">works</code> , <code class="literal">authors</code> , <code class="literal">persons</code> &#12399;&#12381;&#12428;&#12382;&#12428;&#12289;&#20181;&#20107;&#12289;&#20316;&#32773;&#12289;&#20154;&#12398;&#12487;&#12540;&#12479;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; <code class="literal">author_work</code> &#12399;&#20316;&#32773;&#12392;&#20316;&#21697;&#12434;&#12522;&#12531;&#12463;&#12377;&#12427;&#38306;&#36899;&#12486;&#12540;&#12502;&#12523;&#12391;&#12377;&#12290; &#20197;&#19979;&#12399; <code class="literal">SchemaExport</code> &#12391;&#29983;&#25104;&#12375;&#12383;&#12486;&#12540;&#12502;&#12523;&#12473;&#12461;&#12540;&#12510;&#12391;&#12377;&#12290; 
               </p><pre class="programlisting">create table works (
    id BIGINT not null generated by default as identity, 
    tempo FLOAT, 
    genre VARCHAR(255), 
    text INTEGER, 
    title VARCHAR(255), 
    type CHAR(1) not null, 
    primary key (id)
)

create table author_work (
    author_id BIGINT not null, 
    work_id BIGINT not null, 
    primary key (work_id, author_id)
)

create table authors (
    id BIGINT not null generated by default as identity, 
    alias VARCHAR(255), 
    primary key (id)
)

create table persons (
    id BIGINT not null generated by default as identity, 
    name VARCHAR(255), 
    primary key (id)
)

alter table authors 
    add constraint authorsFK0 foreign key (id) references persons
alter table author_work 
    add constraint author_workFK0 foreign key (author_id) references authors
alter table author_work
    add constraint author_workFK1 foreign key (work_id) references works</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="example-mappings-customerorderproduct"></a>23.3. &#39015;&#23458;/&#27880;&#25991;/&#35069;&#21697;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12373;&#12390;&#12289; <code class="literal">Customer</code> , <code class="literal">Order</code> , <code class="literal">LineItem</code><code class="literal">Product</code> &#12398;&#38306;&#20418;&#12434;&#34920;&#12377;&#12514;&#12487;&#12523;&#12434;&#32771;&#12360;&#12390;&#12415;&#12414;&#12375;&#12423;&#12358;&#12290; <code class="literal">Customer</code> &#12392; <code class="literal">Order</code> &#12399;&#19968;&#23550;&#22810;&#12398;&#38306;&#36899;&#12391;&#12377;&#12364;&#12289; <code class="literal">Order</code> / <code class="literal">LineItem</code> / <code class="literal">Product</code> &#12399;&#12393;&#12398;&#12424;&#12358;&#12395;&#34920;&#29694;&#12377;&#12427;&#12409;&#12365;&#12391;&#12375;&#12423;&#12358;&#12363;&#65311; <code class="literal">LineItem</code> &#12434;&#12289;<code class="literal">Order</code> &#12392; <code class="literal">Product</code> &#12398;&#22810;&#23550;&#22810;&#38306;&#36899;&#12434;&#34920;&#29694;&#12377;&#12427;&#38306;&#36899;&#12463;&#12521;&#12473;&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12375;&#12383;&#12290; Hibernate&#12391;&#12399;&#12371;&#12428;&#12434;&#12467;&#12531;&#12509;&#12472;&#12483;&#12488;&#35201;&#32032;&#12392;&#21628;&#12403;&#12414;&#12377;&#12290; 
               </p>
               <div class="mediaobject" align="center"><img src="images/CustomerOrderProduct.png" align="middle"></div>
               <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#65306; </p><pre class="programlisting">&lt;hibernate-mapping&gt;

    &lt;class name="Customer" table="customers"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;property name="name"/&gt;
        &lt;set name="orders" inverse="true"&gt;
            &lt;key column="customer_id"/&gt;
            &lt;one-to-many class="Order"/&gt;
        &lt;/set&gt;
    &lt;/class&gt;

    &lt;class name="Order" table="orders"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;property name="date"/&gt;
        &lt;many-to-one name="customer" column="customer_id"/&gt;
        &lt;list name="lineItems" table="line_items"&gt;
            &lt;key column="order_id"/&gt;
            &lt;list-index column="line_number"/&gt;
            &lt;composite-element class="LineItem"&gt;
                &lt;property name="quantity"/&gt;
                &lt;many-to-one name="product" column="product_id"/&gt;
            &lt;/composite-element&gt;
        &lt;/list&gt;
    &lt;/class&gt;

    &lt;class name="Product" table="products"&gt;
        &lt;id name="id"&gt;
            &lt;generator class="native"/&gt;
        &lt;/id&gt;
        &lt;property name="serialNumber"/&gt;
    &lt;/class&gt;

&lt;/hibernate-mapping&gt;</pre><p><code class="literal">customers</code> , <code class="literal">orders</code> , <code class="literal">line_items</code> , <code class="literal">products</code> &#12399;&#12381;&#12428;&#12382;&#12428;&#12289;&#39015;&#23458;&#12289;&#27880;&#25991;&#12289;&#27880;&#25991;&#26126;&#32048;&#12289;&#35069;&#21697;&#12398;&#12487;&#12540;&#12479;&#12434;&#20445;&#25345;&#12375;&#12414;&#12377;&#12290; <code class="literal">line_items</code> &#12399;&#27880;&#25991;&#12392;&#35069;&#21697;&#12434;&#12522;&#12531;&#12463;&#12377;&#12427;&#38306;&#36899;&#12486;&#12540;&#12502;&#12523;&#12392;&#12375;&#12390;&#12418;&#20685;&#12365;&#12414;&#12377;&#12290; 
               </p><pre class="programlisting">create table customers (
    id BIGINT not null generated by default as identity, 
    name VARCHAR(255), 
    primary key (id)
)

create table orders (
    id BIGINT not null generated by default as identity, 
    customer_id BIGINT, 
    date TIMESTAMP, 
    primary key (id)
)

create table line_items (
    line_number INTEGER not null, 
    order_id BIGINT not null, 
    product_id BIGINT, 
    quantity INTEGER, 
    primary key (order_id, line_number)
)

create table products (
    id BIGINT not null generated by default as identity, 
    serialNumber VARCHAR(255), 
    primary key (id)
)

alter table orders 
    add constraint ordersFK0 foreign key (customer_id) references customers
alter table line_items
    add constraint line_itemsFK0 foreign key (product_id) references products
alter table line_items
    add constraint line_itemsFK1 foreign key (order_id) references orders</pre></div>
            <div class="sect1" lang="ja-JP">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both"><a name="misc"></a>23.4. &#31278;&#12293;&#38609;&#22810;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#20363;
                        </h2>
                     </div>
                  </div>
               </div>
               <p>&#12371;&#12371;&#12395;&#12354;&#12427;&#20363;&#12399;&#12377;&#12409;&#12390;Hibernate&#12398;&#12486;&#12473;&#12488;&#12473;&#12452;&#12540;&#12488;&#12363;&#12425;&#21462;&#12426;&#12414;&#12375;&#12383;&#12290; &#12381;&#12371;&#12395;&#12399;&#12289;&#20182;&#12395;&#12418;&#12383;&#12367;&#12373;&#12435;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12398;&#20363;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; Hibernate&#12487;&#12451;&#12473;&#12488;&#12522;&#12499;&#12517;&#12540;&#12471;&#12519;&#12531;&#12398; <code class="literal">test</code> &#12501;&#12457;&#12523;&#12480;&#12434;&#35211;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
               </p>
               <p>TODO: &#12371;&#12371;&#12395;&#25991;&#31456;&#12434;&#22475;&#12417;&#12427;</p>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="example-mappings-typed-onetone"></a>23.4.1. &#12300;&#22411;&#20184;&#12369;&#12373;&#12428;&#12383;&#12301;&#19968;&#23550;&#19968;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;class name="Person"&gt;
    &lt;id name="name"/&gt;
    &lt;one-to-one name="address" 
            cascade="all"&gt;
        &lt;formula&gt;name&lt;/formula&gt;
        &lt;formula&gt;'HOME'&lt;/formula&gt;
    &lt;/one-to-one&gt;
    &lt;one-to-one name="mailingAddress" 
            cascade="all"&gt;
        &lt;formula&gt;name&lt;/formula&gt;
        &lt;formula&gt;'MAILING'&lt;/formula&gt;
    &lt;/one-to-one&gt;
&lt;/class&gt;

&lt;class name="Address" batch-size="2" 
        check="addressType in ('MAILING', 'HOME', 'BUSINESS')"&gt;
    &lt;composite-id&gt;
        &lt;key-many-to-one name="person" 
                column="personName"/&gt;
        &lt;key-property name="type" 
                column="addressType"/&gt;
    &lt;/composite-id&gt;
    &lt;property name="street" type="text"/&gt;
    &lt;property name="state"/&gt;
    &lt;property name="zip"/&gt;
&lt;/class&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="example-mappings-composite-key"></a>23.4.2. &#35079;&#21512;&#12461;&#12540;&#12398;&#20363;
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;class name="Customer"&gt;

    &lt;id name="customerId"
        length="10"&gt;
        &lt;generator class="assigned"/&gt;
    &lt;/id&gt;

    &lt;property name="name" not-null="true" length="100"/&gt;
    &lt;property name="address" not-null="true" length="200"/&gt;

    &lt;list name="orders"
            inverse="true"
            cascade="save-update"&gt;
        &lt;key column="customerId"/&gt;
        &lt;index column="orderNumber"/&gt;
        &lt;one-to-many class="Order"/&gt;
    &lt;/list&gt;

&lt;/class&gt;

&lt;class name="Order" table="CustomerOrder" lazy="true"&gt;
    &lt;synchronize table="LineItem"/&gt;
    &lt;synchronize table="Product"/&gt;
    
    &lt;composite-id name="id" 
            class="Order$Id"&gt;
        &lt;key-property name="customerId" length="10"/&gt;
        &lt;key-property name="orderNumber"/&gt;
    &lt;/composite-id&gt;
    
    &lt;property name="orderDate" 
            type="calendar_date"
            not-null="true"/&gt;
    
    &lt;property name="total"&gt;
        &lt;formula&gt;
            ( select sum(li.quantity*p.price) 
            from LineItem li, Product p 
            where li.productId = p.productId 
                and li.customerId = customerId 
                and li.orderNumber = orderNumber )
        &lt;/formula&gt;
    &lt;/property&gt;
    
    &lt;many-to-one name="customer"
            column="customerId"
            insert="false"
            update="false" 
            not-null="true"/&gt;
        
    &lt;bag name="lineItems"
            fetch="join" 
            inverse="true"
            cascade="save-update"&gt;
        &lt;key&gt;
            &lt;column name="customerId"/&gt;
            &lt;column name="orderNumber"/&gt;
        &lt;/key&gt;
        &lt;one-to-many class="LineItem"/&gt;
    &lt;/bag&gt;
    
&lt;/class&gt;
    
&lt;class name="LineItem"&gt;
    
    &lt;composite-id name="id" 
            class="LineItem$Id"&gt;
        &lt;key-property name="customerId" length="10"/&gt;
        &lt;key-property name="orderNumber"/&gt;
        &lt;key-property name="productId" length="10"/&gt;
    &lt;/composite-id&gt;
    
    &lt;property name="quantity"/&gt;
    
    &lt;many-to-one name="order"
            insert="false"
            update="false" 
            not-null="true"&gt;
        &lt;column name="customerId"/&gt;
        &lt;column name="orderNumber"/&gt;
    &lt;/many-to-one&gt;
    
    &lt;many-to-one name="product"
            insert="false"
            update="false" 
            not-null="true"
            column="productId"/&gt;
        
&lt;/class&gt;

&lt;class name="Product"&gt;
    &lt;synchronize table="LineItem"/&gt;

    &lt;id name="productId"
        length="10"&gt;
        &lt;generator class="assigned"/&gt;
    &lt;/id&gt;
    
    &lt;property name="description" 
        not-null="true" 
        length="200"/&gt;
    &lt;property name="price" length="3"/&gt;
    &lt;property name="numberAvailable"/&gt;
    
    &lt;property name="numberOrdered"&gt;
        &lt;formula&gt;
            ( select sum(li.quantity) 
            from LineItem li 
            where li.productId = productId )
        &lt;/formula&gt;
    &lt;/property&gt;
    
&lt;/class&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="example-mappings-composite-key-manytomany"></a>23.4.3. &#35079;&#21512;&#12461;&#12540;&#23646;&#24615;&#12434;&#20849;&#26377;&#12377;&#12427;&#22810;&#23550;&#22810;
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;class name="User" table="`User`"&gt;
    &lt;composite-id&gt;
        &lt;key-property name="name"/&gt;
        &lt;key-property name="org"/&gt;
    &lt;/composite-id&gt;
    &lt;set name="groups" table="UserGroup"&gt;
        &lt;key&gt;
            &lt;column name="userName"/&gt;
            &lt;column name="org"/&gt;
        &lt;/key&gt;
        &lt;many-to-many class="Group"&gt;
            &lt;column name="groupName"/&gt;
            &lt;formula&gt;org&lt;/formula&gt;
        &lt;/many-to-many&gt;
    &lt;/set&gt;
&lt;/class&gt;
    
&lt;class name="Group" table="`Group`"&gt;
    &lt;composite-id&gt;
        &lt;key-property name="name"/&gt;
        &lt;key-property name="org"/&gt;
    &lt;/composite-id&gt;
    &lt;property name="description"/&gt;
    &lt;set name="users" table="UserGroup" inverse="true"&gt;
        &lt;key&gt;
            &lt;column name="groupName"/&gt;
            &lt;column name="org"/&gt;
        &lt;/key&gt;
        &lt;many-to-many class="User"&gt;
            &lt;column name="userName"/&gt;
            &lt;formula&gt;org&lt;/formula&gt;
        &lt;/many-to-many&gt;
    &lt;/set&gt;
&lt;/class&gt;
</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="example-mappings-content-discrimination"></a>23.4.4. discrimination&#12395;&#22522;&#12389;&#12367;&#20869;&#23481;
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;class name="Person"
    discriminator-value="P"&gt;
    
    &lt;id name="id" 
        column="person_id" 
        unsaved-value="0"&gt;
        &lt;generator class="native"/&gt;
    &lt;/id&gt;
    
            
    &lt;discriminator 
        type="character"&gt;
        &lt;formula&gt;
            case 
                when title is not null then 'E' 
                when salesperson is not null then 'C' 
                else 'P' 
            end
        &lt;/formula&gt;
    &lt;/discriminator&gt;

    &lt;property name="name" 
        not-null="true"
        length="80"/&gt;
        
    &lt;property name="sex" 
        not-null="true"
        update="false"/&gt;
    
    &lt;component name="address"&gt;
        &lt;property name="address"/&gt;
        &lt;property name="zip"/&gt;
        &lt;property name="country"/&gt;
    &lt;/component&gt;
    
    &lt;subclass name="Employee" 
        discriminator-value="E"&gt;
            &lt;property name="title"
                length="20"/&gt;
            &lt;property name="salary"/&gt;
            &lt;many-to-one name="manager"/&gt;
    &lt;/subclass&gt;
    
    &lt;subclass name="Customer" 
        discriminator-value="C"&gt;
            &lt;property name="comments"/&gt;
            &lt;many-to-one name="salesperson"/&gt;
    &lt;/subclass&gt;
    
&lt;/class&gt;</pre></div>
               <div class="sect2" lang="ja-JP">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title"><a name="example-mappings-association-alternatekeys"></a>23.4.5. &#20195;&#26367;&#12461;&#12540;&#12398;&#38306;&#36899;
                           </h3>
                        </div>
                     </div>
                  </div><pre class="programlisting">&lt;class name="Person"&gt;
    
    &lt;id name="id"&gt;
        &lt;generator class="hilo"/&gt;
    &lt;/id&gt;
    
    &lt;property name="name" length="100"/&gt;
    
    &lt;one-to-one name="address" 
        property-ref="person"
        cascade="all"
        fetch="join"/&gt;
    
    &lt;set name="accounts" 
        inverse="true"&gt;
        &lt;key column="userId"
            property-ref="userId"/&gt;
        &lt;one-to-many class="Account"/&gt;
    &lt;/set&gt;
    
    &lt;property name="userId" length="8"/&gt;

&lt;/class&gt;

&lt;class name="Address"&gt;

    &lt;id name="id"&gt;
        &lt;generator class="hilo"/&gt;
    &lt;/id&gt;

    &lt;property name="address" length="300"/&gt;
    &lt;property name="zip" length="5"/&gt;
    &lt;property name="country" length="25"/&gt;
    &lt;many-to-one name="person" unique="true" not-null="true"/&gt;

&lt;/class&gt;

&lt;class name="Account"&gt;
    &lt;id name="accountId" length="32"&gt;
        &lt;generator class="uuid"/&gt;
    &lt;/id&gt;
    
    &lt;many-to-one name="user"
        column="userId"
        property-ref="userId"/&gt;
    
    &lt;property name="type" not-null="true"/&gt;
    
&lt;/class&gt;</pre></div>
            </div>
         </div>
         <div class="chapter" lang="ja-JP">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title"><a name="best-practices"></a>&#31532;24&#31456; &#12505;&#12473;&#12488;&#12503;&#12521;&#12463;&#12486;&#12451;&#12473;
                     </h2>
                  </div>
               </div>
            </div>
            <div class="variablelist">
               <dl>
                  <dt><span class="term">&#12463;&#12521;&#12473;&#12399;&#32048;&#12363;&#12356;&#31890;&#24230;&#12391;&#26360;&#12365; <code class="literal">&lt;component&gt;</code> &#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p><code class="literal">street</code>&#65288;&#36890;&#12426;&#65289;, <code class="literal">suburb</code> &#65288;&#37117;&#24066;&#65289;, <code class="literal">state</code>&#65288;&#24030;&#65289;, <code class="literal">postcode</code> &#65288;&#37109;&#20415;&#30058;&#21495;&#65289;&#12434;&#12459;&#12503;&#12475;&#12523;&#21270;&#12377;&#12427; <code class="literal">Address</code>&#65288;&#20303;&#25152;&#65289;&#12463;&#12521;&#12473;&#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290; &#12381;&#12358;&#12377;&#12428;&#12400;&#12467;&#12540;&#12489;&#12364;&#20877;&#21033;&#29992;&#12375;&#12420;&#12377;&#12367;&#12394;&#12426;&#12289;&#12522;&#12501;&#12449;&#12463;&#12479;&#12522;&#12531;&#12464;&#12418;&#31777;&#21336;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#27704;&#32154;&#12463;&#12521;&#12473;&#12395;&#12399;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#23450;&#32681;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>Hibernate&#12391;&#12399;&#35672;&#21029;&#23376;&#12503;&#12525;&#12497;&#12486;&#12451;&#12399;&#12458;&#12503;&#12471;&#12519;&#12531;&#12391;&#12377;&#12364;&#12289; &#20351;&#29992;&#12377;&#12409;&#12365;&#29702;&#30001;&#12364;&#12383;&#12367;&#12373;&#12435;&#12354;&#12426;&#12414;&#12377;&#12290; &#35672;&#21029;&#23376;&#12399;&#12300;&#20154;&#24037;&#30340;&#12301;&#65288;&#29983;&#25104;&#12373;&#12428;&#12383;&#12289;&#26989;&#21209;&#30340;&#12394;&#24847;&#21619;&#12434;&#25345;&#12383;&#12394;&#12356;&#65289; &#12394;&#12418;&#12398;&#12395;&#12377;&#12427;&#12371;&#12392;&#12434;&#12362;&#12377;&#12377;&#12417;&#12375;&#12414;&#12377;&#12290; </p>
                  </dd>
                  <dt><span class="term">&#33258;&#28982;&#12461;&#12540;&#12434;&#35211;&#12388;&#12369;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12377;&#12409;&#12390;&#12398;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12395;&#23550;&#12375;&#12390;&#33258;&#28982;&#12461;&#12540;&#12434;&#35211;&#12388;&#12369;&#12390;&#12289; <code class="literal">&lt;natural-id&gt;</code> &#12391;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#33258;&#28982;&#12461;&#12540;&#12434;&#27083;&#25104;&#12377;&#12427;&#12503;&#12525;&#12497;&#12486;&#12451;&#12434;&#27604;&#36611;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">equals()</code> &#12392; <code class="literal">hashCode()</code> &#12434;&#23455;&#35013;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#12463;&#12521;&#12473;&#12398;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#12381;&#12428;&#12382;&#12428;&#12398;&#12463;&#12521;&#12473;&#23554;&#29992;&#12398;&#12501;&#12449;&#12452;&#12523;&#12395;&#26360;&#12365;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#21336;&#19968;&#12398;&#24040;&#22823;&#12394;&#12510;&#12483;&#12500;&#12531;&#12464;&#12489;&#12461;&#12517;&#12513;&#12531;&#12488;&#12434;&#20351;&#29992;&#12375;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290; <code class="literal">com.eg.Foo</code> &#12463;&#12521;&#12473;&#12394;&#12425; <code class="literal">com/eg/Foo.hbm.xml</code> &#12501;&#12449;&#12452;&#12523;&#12395;&#12510;&#12483;&#12500;&#12531;&#12464;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12371;&#12398;&#12371;&#12392;&#12399;&#12289;&#29305;&#12395;&#12481;&#12540;&#12512;&#12391;&#12398;&#38283;&#30330;&#12395;&#24847;&#21619;&#12364;&#12354;&#12426;&#12414;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#12522;&#12477;&#12540;&#12473;&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12525;&#12540;&#12489;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12510;&#12483;&#12500;&#12531;&#12464;&#12434;&#12289;&#12381;&#12428;&#12425;&#12364;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12377;&#12427;&#12463;&#12521;&#12473;&#12392;&#19968;&#32210;&#12395;&#37197;&#32622;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; </p>
                  </dd>
                  <dt><span class="term">&#12463;&#12456;&#12522;&#25991;&#23383;&#21015;&#12434;&#22806;&#37096;&#12395;&#32622;&#12367;&#12371;&#12392;&#12434;&#32771;&#12360;&#12414;&#12375;&#12423;&#12358;</span></dt>
                  <dd>
                     <p>&#12463;&#12456;&#12522;&#12364;ANSI&#27161;&#28310;&#12391;&#12394;&#12356;SQL&#38306;&#25968;&#12434;&#21628;&#12435;&#12391;&#12356;&#12427;&#12394;&#12425;&#12289;&#12371;&#12428;&#12399;&#12424;&#12356;&#12503;&#12521;&#12463;&#12486;&#12451;&#12473;&#12391;&#12377;&#12290; &#12463;&#12456;&#12522;&#25991;&#23383;&#21015;&#12434;&#12510;&#12483;&#12500;&#12531;&#12464;&#12501;&#12449;&#12452;&#12523;&#12408;&#22806;&#20986;&#12375;&#12377;&#12428;&#12400;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;&#12509;&#12540;&#12479;&#12502;&#12523;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; </p>
                  </dd>
                  <dt><span class="term">&#12496;&#12452;&#12531;&#12489;&#22793;&#25968;&#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>JDBC&#12398;&#22580;&#21512;&#12392;&#21516;&#12376;&#12424;&#12358;&#12395;&#12289;&#23450;&#25968;&#12391;&#12394;&#12356;&#20516;&#12399;&#24517;&#12378;"?"&#12391;&#32622;&#12365;&#25563;&#12360;&#12414;&#12375;&#12423;&#12358;&#12290; &#23450;&#25968;&#12391;&#12394;&#12356;&#20516;&#12434;&#12496;&#12452;&#12531;&#12489;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289;&#12463;&#12456;&#12522;&#12391;&#25991;&#23383;&#21015;&#25805;&#20316;&#12434;&#20351;&#12387;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290; &#21517;&#21069;&#20184;&#12365;&#12398;&#12497;&#12521;&#12513;&#12540;&#12479;&#12434;&#20351;&#12358;&#12424;&#12358;&#12395;&#12377;&#12427;&#12392;&#12373;&#12425;&#12395;&#33391;&#12356;&#12391;&#12377;&#12290; </p>
                  </dd>
                  <dt><span class="term">JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#31649;&#29702;&#12375;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290;</span></dt>
                  <dd>
                     <p>Hibernate&#12391;&#12399;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12364;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#31649;&#29702;&#12377;&#12427;&#12371;&#12392;&#12364;&#35377;&#12373;&#12428;&#12390;&#12356;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12371;&#12428;&#12399;&#26368;&#32066;&#25163;&#27573;&#12384;&#12392;&#24605;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#32068;&#12415;&#36796;&#12415;&#12398;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12496;&#12452;&#12480;&#12434;&#20351;&#12358;&#12371;&#12392;&#12364;&#12391;&#12365;&#12394;&#12369;&#12428;&#12400;&#12289; <code class="literal">org.hibernate.connection.ConnectionProvider</code> &#12434;&#23455;&#35013;&#12377;&#12427;&#12371;&#12392;&#12434;&#32771;&#12360;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#12459;&#12473;&#12479;&#12512;&#22411;&#12398;&#20351;&#29992;&#12434;&#32771;&#12360;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12354;&#12427;&#12521;&#12452;&#12502;&#12521;&#12522;&#12363;&#12425;&#25345;&#12387;&#12390;&#12365;&#12383;Java&#22411;&#12434;&#27704;&#32154;&#21270;&#12377;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;&#12392;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#12375;&#12363;&#12375;&#12381;&#12398;&#22411;&#12395;&#12399;&#12289;&#12467;&#12531;&#12509;&#12540;&#12493;&#12531;&#12488;&#12392;&#12375;&#12390;&#12510;&#12483;&#12500;&#12531;&#12464;&#12377;&#12427;&#12383;&#12417;&#12395;&#24517;&#35201;&#12394;&#12450;&#12463;&#12475;&#12469;&#12364;&#12394;&#12356;&#12392;&#12375;&#12414;&#12377;&#12290; &#12371;&#12398;&#12424;&#12358;&#12394;&#22580;&#21512;&#12399; <code class="literal">org.hibernate.UserType</code> &#12398;&#23455;&#35013;&#12434;&#32771;&#12360;&#12427;&#12409;&#12365;&#12391;&#12377;&#12290; &#12381;&#12358;&#12377;&#12428;&#12400;Hibernate&#22411;&#12392;&#12398;&#23455;&#35013;&#22793;&#25563;&#12434;&#24515;&#37197;&#12379;&#12378;&#12395;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12398;&#12467;&#12540;&#12489;&#12434;&#25201;&#12360;&#12414;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#12508;&#12488;&#12523;&#12493;&#12483;&#12463;&#12434;&#35299;&#28040;&#12377;&#12427;&#12395;&#12399;JDBC&#12434;&#12495;&#12531;&#12489;&#12467;&#12540;&#12489;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12471;&#12473;&#12486;&#12512;&#12398;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12463;&#12522;&#12486;&#12451;&#12459;&#12523;&#12394;&#38936;&#22495;&#12391;&#12399;&#12289; &#12354;&#12427;&#31278;&#12398;&#25805;&#20316;&#12395;JDBC&#12434;&#30452;&#25509;&#20351;&#12358;&#12392;&#33391;&#12356;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#20309;&#12364;&#12508;&#12488;&#12523;&#12493;&#12483;&#12463;&#12395;&#12394;&#12387;&#12390;&#12356;&#12427;&#12363; <span class="emphasis"><em>&#12399;&#12387;&#12365;&#12426;&#12377;&#12427;</em></span> &#12414;&#12391;&#12399;&#24453;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12414;&#12383;JDBC&#12434;&#30452;&#25509;&#20351;&#12358;&#12363;&#12425;&#12392;&#12356;&#12387;&#12390;&#12289;&#24517;&#12378;&#12375;&#12418;&#36895;&#12367;&#12394;&#12427;&#12392;&#12399;&#38480;&#12425;&#12394;&#12356;&#12371;&#12392;&#12418;&#29702;&#35299;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; JDBC&#12434;&#30452;&#25509;&#20351;&#12358;&#24517;&#35201;&#12364;&#12354;&#12428;&#12400;&#12289;Hibernate&#12398; <code class="literal">Session</code> &#12434;&#12458;&#12540;&#12503;&#12531;&#12375;&#12390;&#12289; JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12358;&#12392;&#33391;&#12356;&#12363;&#12418;&#12375;&#12428;&#12414;&#12379;&#12435;&#12290; &#20381;&#28982;&#12392;&#12375;&#12390;&#21516;&#12376;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#25126;&#30053;&#12392;&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12503;&#12525;&#12496;&#12452;&#12480;&#12364;&#20351;&#12360;&#12427;&#12363;&#12425;&#12391;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term"><code class="literal">Session</code> &#12398;&#12501;&#12521;&#12483;&#12471;&#12517;&#12434;&#29702;&#35299;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>Session&#12364;&#27704;&#32154;&#29366;&#24907;&#12434;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12392;&#21516;&#26399;&#12373;&#12379;&#12427;&#12371;&#12392;&#12364;&#12392;&#12365;&#12393;&#12365;&#12354;&#12426;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12371;&#12428;&#12364;&#12354;&#12414;&#12426;&#12395;&#38971;&#32321;&#12395;&#36215;&#12371;&#12427;&#12424;&#12358;&#12384;&#12392;&#12289;&#12497;&#12501;&#12457;&#12540;&#12510;&#12531;&#12473;&#12395;&#24433;&#38911;&#12364;&#20986;&#12390;&#12365;&#12414;&#12377;&#12290; &#33258;&#21205;&#12501;&#12521;&#12483;&#12471;&#12517;&#12434;&#28961;&#21177;&#12395;&#12375;&#12383;&#12426;&#12289;&#29305;&#23450;&#12398;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12463;&#12456;&#12522;&#12420;&#25805;&#20316;&#12398;&#38918;&#30058;&#12434;&#22793;&#26356;&#12377;&#12427;&#12371;&#12392;&#12391;&#12289;
                        &#19981;&#24517;&#35201;&#12394;&#12501;&#12521;&#12483;&#12471;&#12517;&#12434;&#26368;&#23567;&#38480;&#12395;&#12391;&#12365;&#12414;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">3&#23652;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12391;&#12399;&#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20351;&#29992;&#12434;&#32771;&#12360;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12469;&#12540;&#12502;&#12524;&#12483;&#12488; / &#12475;&#12483;&#12471;&#12519;&#12531;&#12499;&#12540;&#12531;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12434;&#20351;&#12358;&#12392;&#12365;&#12289; &#12469;&#12540;&#12502;&#12524;&#12483;&#12488;&#23652; / JSP&#23652;&#38291;&#12391;&#12475;&#12483;&#12471;&#12519;&#12531;&#12499;&#12540;&#12531;&#12391;&#12525;&#12540;&#12489;&#12375;&#12383;&#27704;&#32154;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#12420;&#12426;&#21462;&#12426;&#12391;&#12365;&#12414;&#12377;&#12290; &#12381;&#12398;&#38555;&#12522;&#12463;&#12456;&#12473;&#12488;&#12372;&#12392;&#12395;&#26032;&#12375;&#12356;Session&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12414;&#12383; <code class="literal">Session.merge()</code> &#12420; <code class="literal">Session.saveOrUpdate()</code> &#12434;&#20351;&#12387;&#12390;&#12289;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12392;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12434;&#21516;&#26399;&#12373;&#12379;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">2&#23652;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12391;&#12399;&#38263;&#12356;&#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#12398;&#20351;&#29992;&#12434;&#32771;&#12360;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#26368;&#39640;&#12398;&#12473;&#12465;&#12540;&#12521;&#12499;&#12522;&#12486;&#12451;&#12434;&#24471;&#12427;&#12395;&#12399;&#12289; &#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12434;&#12391;&#12365;&#12427;&#12384;&#12369;&#30701;&#12367;&#12375;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; &#12375;&#12363;&#12375;&#38263;&#12356;&#38291;&#23455;&#34892;&#12377;&#12427; <span class="emphasis"><em>&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;</em></span> &#12398;&#23455;&#35013;&#12364;&#24517;&#35201;&#12394;&#12371;&#12392;&#12399;&#12375;&#12400;&#12375;&#12400;&#12391;&#12377;&#12290; &#12371;&#12428;&#12399;&#12518;&#12540;&#12470;&#12398;&#35222;&#28857;&#12363;&#12425;&#12399;1&#20491;&#12398;&#20316;&#26989;&#21336;&#20301;&#65288;unit of work&#65289;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12399;&#12356;&#12367;&#12388;&#12363;&#12398;&#12463;&#12521;&#12452;&#12450;&#12531;&#12488;&#12398;&#12522;&#12463;&#12456;&#12473;&#12488;/&#12524;&#12473;&#12509;&#12531;&#12473;&#12469;&#12452;&#12463;&#12523;&#12395;&#12414;&#12383;&#12364;&#12426;&#12414;&#12377;&#12290; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#23455;&#35013;&#12395;&#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12434;&#20351;&#12358;&#12398;&#12399;&#19968;&#33324;&#30340;&#12391;&#12377;&#12290;
                        &#12381;&#12358;&#12391;&#12394;&#12369;&#12428;&#12400;&#12289;2&#23652;&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12398;&#22580;&#21512;&#12399;&#29305;&#12395;&#36969;&#20999;&#12394;&#12371;&#12392;&#12391;&#12377;&#12364;&#12289; &#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12398;&#12521;&#12452;&#12501;&#12469;&#12452;&#12463;&#12523;&#20840;&#20307;&#12395;&#23550;&#12375;&#12390; &#21336;&#19968;&#12398;&#12458;&#12540;&#12503;&#12531;&#12394;&#27704;&#32154;&#21270;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#65288;&#12475;&#12483;&#12471;&#12519;&#12531;&#65289;&#12434;&#32173;&#25345;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12375;&#12390;&#21336;&#32020;&#12395;&#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#26368;&#24460;&#12395;JDBC&#12467;&#12493;&#12463;&#12471;&#12519;&#12531;&#12363;&#12425;&#20999;&#26029;&#12375;&#12289;
                        &#27425;&#12398;&#12522;&#12463;&#12456;&#12473;&#12488;&#12398;&#26368;&#21021;&#12395;&#20877;&#25509;&#32154;&#12375;&#12414;&#12377;&#12290; &#27770;&#12375;&#12390;&#35079;&#25968;&#12398;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#12518;&#12540;&#12473;&#12465;&#12540;&#12473;&#12395;&#28193;&#12387;&#12390; 1&#20491;&#12398;Session&#12434;&#20351;&#12356;&#22238;&#12373;&#12394;&#12356;&#12391;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12358;&#12391;&#12394;&#12369;&#12428;&#12400;&#12289;&#21476;&#12356;&#12487;&#12540;&#12479;&#12391;&#20316;&#26989;&#12377;&#12427;&#12371;&#12392;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#20363;&#22806;&#12434;&#24489;&#24112;&#21487;&#33021;&#12394;&#12418;&#12398;&#12392;&#12375;&#12390;&#25201;&#12387;&#12390;&#12399;&#12356;&#12369;&#12414;&#12379;&#12435;&#12290;</span></dt>
                  <dd>
                     <p>&#12371;&#12428;&#12399;&#12300;&#12505;&#12473;&#12488;&#12301;&#12503;&#12521;&#12463;&#12486;&#12451;&#12473;&#20197;&#19978;&#12398;&#12289;&#24517;&#38920;&#12398;&#12503;&#12521;&#12463;&#12486;&#12451;&#12473;&#12391;&#12377;&#12290; &#20363;&#22806;&#12364;&#30330;&#29983;&#12375;&#12383;&#12392;&#12365;&#12399; <code class="literal">Transaction</code> &#12434;&#12525;&#12540;&#12523;&#12496;&#12483;&#12463;&#12375;&#12390;&#12289; <code class="literal">Session</code> &#12434;&#12463;&#12525;&#12540;&#12474;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12358;&#12375;&#12394;&#12356;&#12392;Hibernate&#12399;&#12513;&#12514;&#12522;&#12398;&#29366;&#24907;&#12364;&#27704;&#32154;&#29366;&#24907;&#12434;&#27491;&#30906;&#12395;&#34920;&#29694;&#12375;&#12390;&#12356;&#12427;&#12371;&#12392;&#12434;&#20445;&#35388;&#12391;&#12365;&#12414;&#12379;&#12435;&#12290; &#12371;&#12398;&#29305;&#21029;&#12394;&#22580;&#21512;&#12392;&#12375;&#12390;&#12289;&#19982;&#12360;&#12425;&#12428;&#12383;&#35672;&#21029;&#23376;&#12434;&#25345;&#12388;&#12452;&#12531;&#12473;&#12479;&#12531;&#12473;&#12364;&#12487;&#12540;&#12479;&#12505;&#12540;&#12473;&#12395;&#23384;&#22312;&#12377;&#12427;&#12363;&#12393;&#12358;&#12363;&#12434;&#21028;&#23450;&#12377;&#12427;&#12383;&#12417;&#12395;&#12289; <code class="literal">Session.load()</code> &#12434;&#20351;&#12358;&#12371;&#12392;&#12399;&#12420;&#12417;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12381;&#12398;&#20195;&#12431;&#12426;&#12395; <code class="literal">Session.get()</code> &#12363;&#12463;&#12456;&#12522;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#38306;&#36899;&#12395;&#12399;&#12394;&#12427;&#12409;&#12367;&#36933;&#24310;&#12501;&#12455;&#12483;&#12481;&#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#21363;&#26178;&#12501;&#12455;&#12483;&#12481;&#12399;&#25511;&#12360;&#12417;&#12395;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; &#20108;&#27425;&#12461;&#12515;&#12483;&#12471;&#12517;&#12395;&#12399;&#23436;&#20840;&#12395;&#20445;&#25345;&#12373;&#12428;&#12394;&#12356;&#12424;&#12358;&#12394;&#12463;&#12521;&#12473;&#12398;&#38306;&#36899;&#12395;&#12399;&#12289; &#12503;&#12525;&#12461;&#12471;&#12392;&#36933;&#24310;&#12467;&#12524;&#12463;&#12471;&#12519;&#12531;&#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#12461;&#12515;&#12483;&#12471;&#12517;&#12373;&#12428;&#12427;&#12463;&#12521;&#12473;&#12398;&#38306;&#36899;&#12289;&#12388;&#12414;&#12426;&#12461;&#12515;&#12483;&#12471;&#12517;&#12364;&#12498;&#12483;&#12488;&#12377;&#12427;&#21487;&#33021;&#24615;&#12364;&#38750;&#24120;&#12395;&#39640;&#12356;&#38306;&#36899;&#12399;&#12289; <code class="literal">lazy="false"</code> &#12391;&#31309;&#26997;&#30340;&#12394;&#12501;&#12455;&#12483;&#12481;&#12434;&#26126;&#31034;&#30340;&#12395;&#28961;&#21177;&#12395;&#12375;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; &#32080;&#21512;&#12501;&#12455;&#12483;&#12481;&#12364;&#36969;&#20999;&#12394;&#29305;&#23450;&#12398;&#12518;&#12540;&#12473;&#12465;&#12540;&#12473;&#12395;&#12399;&#12289; &#12463;&#12456;&#12522;&#12391; <code class="literal">left join fetch</code> &#12434;&#20351;&#12387;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12390;&#12356;&#12394;&#12356;&#12487;&#12540;&#12479;&#12395;&#38306;&#12431;&#12427;&#21839;&#38988;&#12434;&#36991;&#12369;&#12427;&#12383;&#12417;&#12395;&#12289; <span class="emphasis"><em>&#12499;&#12517;&#12540;&#12398;&#20013;&#12391;&#12458;&#12540;&#12503;&#12531;&#12475;&#12483;&#12471;&#12519;&#12531;&#12434;&#20351;&#12358;(open session in view)</em></span> &#12497;&#12479;&#12540;&#12531;&#12363;&#12289;&#32113;&#21046;&#12373;&#12428;&#12383; <span class="emphasis"><em>&#32068;&#12415;&#31435;&#12390;&#12501;&#12455;&#12540;&#12474;(assembly phase)</em></span> &#12434;&#20351;&#12356;&#12414;&#12375;&#12423;&#12358;&#12290; </span></dt>
                  <dd>
                     <p>Hibernate&#12399; <span class="emphasis"><em>Data Transfer Objects</em></span> (DTO)&#12434;&#26360;&#12367;&#36864;&#23624;&#12394;&#20316;&#26989;&#12363;&#12425;&#38283;&#30330;&#32773;&#12434;&#35299;&#25918;&#12375;&#12414;&#12377;&#12290; &#20253;&#32113;&#30340;&#12394;EJB&#12450;&#12540;&#12461;&#12486;&#12463;&#12481;&#12515;&#12391;&#12399;DTO&#12399;&#20108;&#12388;&#30446;&#30340;&#12364;&#12354;&#12426;&#12414;&#12377;&#65306; 1&#12388;&#30446;&#12399;&#12289;&#12456;&#12531;&#12486;&#12451;&#12486;&#12451;&#12499;&#12540;&#12531;&#12364;&#12471;&#12522;&#12450;&#12521;&#12452;&#12474;&#12373;&#12428;&#12394;&#12356;&#21839;&#38988;&#12408;&#12398;&#23550;&#31574;&#12391;&#12377;&#12290; 2&#12388;&#30446;&#12399;&#12289;&#12503;&#12524;&#12476;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;&#23652;&#12395;&#21046;&#24481;&#12364;&#25147;&#12427;&#21069;&#12395;&#12289; &#12499;&#12517;&#12540;&#12395;&#20351;&#12431;&#12428;&#12427;&#12377;&#12409;&#12390;&#12398;&#12487;&#12540;&#12479;&#12364;&#12501;&#12455;&#12483;&#12481;&#12373;&#12428;&#12390;&#12289;DTO&#12395;&#24489;&#20803;&#12373;&#12428;&#12427;&#12424;&#12358;&#12394;&#32068;&#12415;&#31435;&#12390;&#12501;&#12455;&#12540;&#12474;&#12434;&#26263;&#40665;&#30340;&#12395;&#23450;&#32681;&#12375;&#12414;&#12377;&#12290;
                        Hibernate&#12391;&#12399;1&#12388;&#30446;&#12398;&#30446;&#30340;&#12364;&#19981;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12375;&#12363;&#12375;&#12499;&#12517;&#12540;&#12398;&#12524;&#12531;&#12480;&#12522;&#12531;&#12464;&#20966;&#29702;&#12398;&#38291;&#12289;&#27704;&#32154;&#12467;&#12531;&#12486;&#12461;&#12473;&#12488;&#65288;&#12475;&#12483;&#12471;&#12519;&#12531;&#65289;&#12434;&#12458;&#12540;&#12503;&#12531;&#12395;&#12375;&#12383;&#12414;&#12414;&#12395;&#12375;&#12394;&#12369;&#12428;&#12400;&#12289; &#32068;&#12415;&#31435;&#12390;&#12501;&#12455;&#12540;&#12474;&#12399;&#12414;&#12384;&#24517;&#35201;&#12391;&#12377;&#65288;&#20998;&#38626;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#20013;&#12398;&#12393;&#12398;&#12487;&#12540;&#12479;&#12364;&#21033;&#29992;&#21487;&#33021;&#12363;&#12395;&#12388;&#12356;&#12390;&#12289;
                        &#12503;&#12524;&#12476;&#12531;&#12486;&#12540;&#12471;&#12519;&#12531;&#23652;&#12392;&#21427;&#23494;&#12394;&#21462;&#12426;&#27770;&#12417;&#12434;&#12375;&#12390;&#12356;&#12427;&#12499;&#12472;&#12493;&#12473;&#12513;&#12477;&#12483;&#12489;&#12434;&#32771;&#12360;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#65289;&#12290; &#12371;&#12428;&#12399;Hibernate&#20596;&#12398;&#21839;&#38988;&#12391;&#12399;&#12354;&#12426;&#12414;&#12379;&#12435;&#12290; &#12488;&#12521;&#12531;&#12470;&#12463;&#12471;&#12519;&#12531;&#20869;&#12391;&#23433;&#20840;&#12395;&#12487;&#12540;&#12479;&#12450;&#12463;&#12475;&#12473;&#12377;&#12427;&#12383;&#12417;&#12398;&#22522;&#26412;&#30340;&#12394;&#35201;&#20214;&#12391;&#12377;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">Hibernate&#12363;&#12425;&#12499;&#12472;&#12493;&#12473;&#12525;&#12472;&#12483;&#12463;&#12434;&#25277;&#35937;&#21270;&#12377;&#12427;&#12371;&#12392;&#12434;&#32771;&#12360;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12452;&#12473;&#12391;&#65288;Hibernate&#12398;&#65289;&#12487;&#12540;&#12479;&#12450;&#12463;&#12475;&#12473;&#12467;&#12540;&#12489;&#12434;&#38560;&#34109;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290; <span class="emphasis"><em>DAO</em></span> &#12392; <span class="emphasis"><em>Thread Local Session</em></span> &#12497;&#12479;&#12540;&#12531;&#12434;&#32068;&#12415;&#21512;&#12431;&#12379;&#12414;&#12375;&#12423;&#12358;&#12290; <code class="literal">UserType</code> &#12391;Hibernate&#12395;&#38306;&#36899;&#20184;&#12369;&#12427;&#12392;&#12289; &#12495;&#12531;&#12489;&#12467;&#12540;&#12489;&#12375;&#12383;JDBC&#12391;&#27704;&#32154;&#21270;&#12377;&#12427;&#12463;&#12521;&#12473;&#12434;&#25345;&#12388;&#12371;&#12392;&#12418;&#12391;&#12365;&#12414;&#12377;&#12290; &#65288;&#12371;&#12398;&#12450;&#12489;&#12496;&#12452;&#12473;&#12399;&#12300;&#21313;&#20998;&#22823;&#12365;&#12394;&#12301;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#23550;&#12375;&#12390;&#12398;&#12418;&#12398;&#12391;&#12377;&#12290; &#12486;&#12540;&#12502;&#12523;&#12364;5&#20491;&#12375;&#12363;&#12394;&#12356;&#12424;&#12358;&#12394;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12395;&#12399;&#24403;&#12390;&#12399;&#12414;&#12426;&#12414;&#12379;&#12435;&#12290;&#65289;
                        
                     </p>
                  </dd>
                  <dt><span class="term">&#29645;&#12375;&#12356;&#38306;&#36899;&#12510;&#12483;&#12500;&#12531;&#12464;&#12399;&#20351;&#12431;&#12394;&#12356;&#12424;&#12358;&#12395;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#12424;&#12356;&#12518;&#12540;&#12473;&#12465;&#12540;&#12473;&#12395;&#26412;&#24403;&#12398;&#22810;&#23550;&#22810;&#38306;&#36899;&#12364;&#12354;&#12427;&#12371;&#12392;&#12399;&#31232;&#65288;&#12414;&#12428;&#65289;&#12391;&#12377;&#12290; &#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#12300;&#12522;&#12531;&#12463;&#12486;&#12540;&#12502;&#12523;&#12301;&#12398;&#20184;&#21152;&#30340;&#12394;&#24773;&#22577;&#12364;&#24517;&#35201;&#12395;&#12394;&#12426;&#12414;&#12377;&#12290; &#12371;&#12398;&#22580;&#21512;&#12289;&#12522;&#12531;&#12463;&#12463;&#12521;&#12473;&#12395;2&#12388;&#12398;1&#23550;&#22810;&#38306;&#36899;&#12434;&#20351;&#12358;&#26041;&#12364;&#12378;&#12387;&#12392;&#33391;&#12356;&#12391;&#12377;&#12290; &#23455;&#38555;&#12411;&#12392;&#12435;&#12393;&#12398;&#22580;&#21512;&#38306;&#36899;&#12399;1&#23550;&#22810;&#12392;&#22810;&#23550;1&#12394;&#12398;&#12391;&#12289;
                        &#20182;&#12398;&#12473;&#12479;&#12452;&#12523;&#12398;&#38306;&#36899;&#12434;&#20351;&#12358;&#12392;&#12365;&#12399;&#26412;&#24403;&#12395;&#24517;&#35201;&#12363;&#12393;&#12358;&#12363;&#12434;&#32771;&#12360;&#12390;&#12415;&#12390;&#12367;&#12384;&#12373;&#12356;&#12290; 
                     </p>
                  </dd>
                  <dt><span class="term">&#12394;&#12427;&#12409;&#12367;&#21452;&#26041;&#21521;&#38306;&#36899;&#12395;&#12375;&#12414;&#12375;&#12423;&#12358;&#12290;</span></dt>
                  <dd>
                     <p>&#21336;&#26041;&#21521;&#38306;&#36899;&#12399;&#21452;&#26041;&#21521;&#12395;&#27604;&#12409;&#12390;&#26908;&#32034;&#12364;&#38627;&#12375;&#12367;&#12394;&#12426;&#12414;&#12377;&#12290; &#22823;&#12365;&#12394;&#12450;&#12503;&#12522;&#12465;&#12540;&#12471;&#12519;&#12531;&#12391;&#12399;&#12289; &#12411;&#12392;&#12435;&#12393;&#12377;&#12409;&#12390;&#12398;&#38306;&#36899;&#12364;&#21452;&#26041;&#21521;&#12395;&#12490;&#12499;&#12466;&#12540;&#12471;&#12519;&#12531;&#12391;&#12365;&#12394;&#12369;&#12428;&#12400;&#12394;&#12426;&#12414;&#12379;&#12435;&#12290; </p>
                  </dd>
               </dl>
            </div>
         </div>
      </div>
   </body>
</html>